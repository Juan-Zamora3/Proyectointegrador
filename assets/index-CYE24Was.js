var yp=Object.defineProperty;var wu=s=>{throw TypeError(s)};var bp=(s,e,d)=>e in s?yp(s,e,{enumerable:!0,configurable:!0,writable:!0,value:d}):s[e]=d;var lr=(s,e,d)=>bp(s,typeof e!="symbol"?e+"":e,d),Ml=(s,e,d)=>e.has(s)||wu("Cannot "+d);var Tt=(s,e,d)=>(Ml(s,e,"read from private field"),d?d.call(s):e.get(s)),Sn=(s,e,d)=>e.has(s)?wu("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,d),xn=(s,e,d,h)=>(Ml(s,e,"write to private field"),h?h.call(s,d):e.set(s,d),d),cn=(s,e,d)=>(Ml(s,e,"access private method"),d);var go=(s,e,d,h)=>({set _(g){xn(s,e,g,d)},get _(){return Tt(s,e,h)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))h(g);new MutationObserver(g=>{for(const _ of g)if(_.type==="childList")for(const j of _.addedNodes)j.tagName==="LINK"&&j.rel==="modulepreload"&&h(j)}).observe(document,{childList:!0,subtree:!0});function d(g){const _={};return g.integrity&&(_.integrity=g.integrity),g.referrerPolicy&&(_.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?_.credentials="include":g.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function h(g){if(g.ep)return;g.ep=!0;const _=d(g);fetch(g.href,_)}})();var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function getAugmentedNamespace(s){if(s.__esModule)return s;var e=s.default;if(typeof e=="function"){var d=function h(){return this instanceof h?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};d.prototype=e.prototype}else d={};return Object.defineProperty(d,"__esModule",{value:!0}),Object.keys(s).forEach(function(h){var g=Object.getOwnPropertyDescriptor(s,h);Object.defineProperty(d,h,g.get?g:{enumerable:!0,get:function(){return s[h]}})}),d}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$4=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(s){return s===null||typeof s!="object"?null:(s=z$1&&s[z$1]||s["@@iterator"],typeof s=="function"?s:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$1(s,e,d){this.props=s,this.context=e,this.refs=D$2,this.updater=d||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(s,e){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,e,"setState")};E$1.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(s,e,d){this.props=s,this.context=e,this.refs=D$2,this.updater=d||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$2(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(s,e,d){var h,g={},_=null,j=null;if(e!=null)for(h in e.ref!==void 0&&(j=e.ref),e.key!==void 0&&(_=""+e.key),e)J.call(e,h)&&!L$1.hasOwnProperty(h)&&(g[h]=e[h]);var $=arguments.length-2;if($===1)g.children=d;else if(1<$){for(var et=Array($),tt=0;tt<$;tt++)et[tt]=arguments[tt+2];g.children=et}if(s&&s.defaultProps)for(h in $=s.defaultProps,$)g[h]===void 0&&(g[h]=$[h]);return{$$typeof:l$1,type:s,key:_,ref:j,props:g,_owner:K$1.current}}function N$1(s,e){return{$$typeof:l$1,type:s.type,key:e,ref:s.ref,props:s.props,_owner:s._owner}}function O$1(s){return typeof s=="object"&&s!==null&&s.$$typeof===l$1}function escape$1(s){var e={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(d){return e[d]})}var P$1=/\/+/g;function Q$1(s,e){return typeof s=="object"&&s!==null&&s.key!=null?escape$1(""+s.key):e.toString(36)}function R$1(s,e,d,h,g){var _=typeof s;(_==="undefined"||_==="boolean")&&(s=null);var j=!1;if(s===null)j=!0;else switch(_){case"string":case"number":j=!0;break;case"object":switch(s.$$typeof){case l$1:case n$1:j=!0}}if(j)return j=s,g=g(j),s=h===""?"."+Q$1(j,0):h,I$1(g)?(d="",s!=null&&(d=s.replace(P$1,"$&/")+"/"),R$1(g,e,d,"",function(tt){return tt})):g!=null&&(O$1(g)&&(g=N$1(g,d+(!g.key||j&&j.key===g.key?"":(""+g.key).replace(P$1,"$&/")+"/")+s)),e.push(g)),1;if(j=0,h=h===""?".":h+":",I$1(s))for(var $=0;$<s.length;$++){_=s[$];var et=h+Q$1(_,$);j+=R$1(_,e,d,et,g)}else if(et=A$1(s),typeof et=="function")for(s=et.call(s),$=0;!(_=s.next()).done;)_=_.value,et=h+Q$1(_,$++),j+=R$1(_,e,d,et,g);else if(_==="object")throw e=String(s),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return j}function S$2(s,e,d){if(s==null)return s;var h=[],g=0;return R$1(s,h,"","",function(_){return e.call(d,_,g++)}),h}function T$1(s){if(s._status===-1){var e=s._result;e=e(),e.then(function(d){(s._status===0||s._status===-1)&&(s._status=1,s._result=d)},function(d){(s._status===0||s._status===-1)&&(s._status=2,s._result=d)}),s._status===-1&&(s._status=0,s._result=e)}if(s._status===1)return s._result.default;throw s._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(s,e,d){S$2(s,function(){e.apply(this,arguments)},d)},count:function(s){var e=0;return S$2(s,function(){e++}),e},toArray:function(s){return S$2(s,function(e){return e})||[]},only:function(s){if(!O$1(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$4;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(s,e,d){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var h=C$2({},s.props),g=s.key,_=s.ref,j=s._owner;if(e!=null){if(e.ref!==void 0&&(_=e.ref,j=K$1.current),e.key!==void 0&&(g=""+e.key),s.type&&s.type.defaultProps)var $=s.type.defaultProps;for(et in e)J.call(e,et)&&!L$1.hasOwnProperty(et)&&(h[et]=e[et]===void 0&&$!==void 0?$[et]:e[et])}var et=arguments.length-2;if(et===1)h.children=d;else if(1<et){$=Array(et);for(var tt=0;tt<et;tt++)$[tt]=arguments[tt+2];h.children=$}return{$$typeof:l$1,type:s.type,key:g,ref:_,props:h,_owner:j}};react_production_min.createContext=function(s){return s={$$typeof:u,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:t$2,_context:s},s.Consumer=s};react_production_min.createElement=M$1;react_production_min.createFactory=function(s){var e=M$1.bind(null,s);return e.type=s,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(s){return{$$typeof:v$2,render:s}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(s){return{$$typeof:y$1,_payload:{_status:-1,_result:s},_init:T$1}};react_production_min.memo=function(s,e){return{$$typeof:x,type:s,compare:e===void 0?null:e}};react_production_min.startTransition=function(s){var e=V$1.transition;V$1.transition={};try{s()}finally{V$1.transition=e}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(s,e){return U$1.current.useCallback(s,e)};react_production_min.useContext=function(s){return U$1.current.useContext(s)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(s){return U$1.current.useDeferredValue(s)};react_production_min.useEffect=function(s,e){return U$1.current.useEffect(s,e)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(s,e,d){return U$1.current.useImperativeHandle(s,e,d)};react_production_min.useInsertionEffect=function(s,e){return U$1.current.useInsertionEffect(s,e)};react_production_min.useLayoutEffect=function(s,e){return U$1.current.useLayoutEffect(s,e)};react_production_min.useMemo=function(s,e){return U$1.current.useMemo(s,e)};react_production_min.useReducer=function(s,e,d){return U$1.current.useReducer(s,e,d)};react_production_min.useRef=function(s){return U$1.current.useRef(s)};react_production_min.useState=function(s){return U$1.current.useState(s)};react_production_min.useSyncExternalStore=function(s,e,d){return U$1.current.useSyncExternalStore(s,e,d)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q$3(s,e,d){var h,g={},_=null,j=null;d!==void 0&&(_=""+d),e.key!==void 0&&(_=""+e.key),e.ref!==void 0&&(j=e.ref);for(h in e)m$2.call(e,h)&&!p$1.hasOwnProperty(h)&&(g[h]=e[h]);if(s&&s.defaultProps)for(h in e=s.defaultProps,e)g[h]===void 0&&(g[h]=e[h]);return{$$typeof:k,type:s,key:_,ref:j,props:g,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q$3;reactJsxRuntime_production_min.jsxs=q$3;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function e(Gt,Ft){var Wt=Gt.length;Gt.push(Ft);e:for(;0<Wt;){var tn=Wt-1>>>1,Lt=Gt[tn];if(0<g(Lt,Ft))Gt[tn]=Ft,Gt[Wt]=Lt,Wt=tn;else break e}}function d(Gt){return Gt.length===0?null:Gt[0]}function h(Gt){if(Gt.length===0)return null;var Ft=Gt[0],Wt=Gt.pop();if(Wt!==Ft){Gt[0]=Wt;e:for(var tn=0,Lt=Gt.length,Rt=Lt>>>1;tn<Rt;){var It=2*(tn+1)-1,Mt=Gt[It],Ht=It+1,qt=Gt[Ht];if(0>g(Mt,Wt))Ht<Lt&&0>g(qt,Mt)?(Gt[tn]=qt,Gt[Ht]=Wt,tn=Ht):(Gt[tn]=Mt,Gt[It]=Wt,tn=It);else if(Ht<Lt&&0>g(qt,Wt))Gt[tn]=qt,Gt[Ht]=Wt,tn=Ht;else break e}}return Ft}function g(Gt,Ft){var Wt=Gt.sortIndex-Ft.sortIndex;return Wt!==0?Wt:Gt.id-Ft.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _=performance;s.unstable_now=function(){return _.now()}}else{var j=Date,$=j.now();s.unstable_now=function(){return j.now()-$}}var et=[],tt=[],nt=1,rt=null,it=3,st=!1,ot=!1,lt=!1,dt=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function pt(Gt){for(var Ft=d(tt);Ft!==null;){if(Ft.callback===null)h(tt);else if(Ft.startTime<=Gt)h(tt),Ft.sortIndex=Ft.expirationTime,e(et,Ft);else break;Ft=d(tt)}}function vt(Gt){if(lt=!1,pt(Gt),!ot)if(d(et)!==null)ot=!0,Bt(ht);else{var Ft=d(tt);Ft!==null&&$t(vt,Ft.startTime-Gt)}}function ht(Gt,Ft){ot=!1,lt&&(lt=!1,at(ft),ft=-1),st=!0;var Wt=it;try{for(pt(Ft),rt=d(et);rt!==null&&(!(rt.expirationTime>Ft)||Gt&&!mt());){var tn=rt.callback;if(typeof tn=="function"){rt.callback=null,it=rt.priorityLevel;var Lt=tn(rt.expirationTime<=Ft);Ft=s.unstable_now(),typeof Lt=="function"?rt.callback=Lt:rt===d(et)&&h(et),pt(Ft)}else h(et);rt=d(et)}if(rt!==null)var Rt=!0;else{var It=d(tt);It!==null&&$t(vt,It.startTime-Ft),Rt=!1}return Rt}finally{rt=null,it=Wt,st=!1}}var yt=!1,gt=null,ft=-1,_t=5,Et=-1;function mt(){return!(s.unstable_now()-Et<_t)}function xt(){if(gt!==null){var Gt=s.unstable_now();Et=Gt;var Ft=!0;try{Ft=gt(!0,Gt)}finally{Ft?St():(yt=!1,gt=null)}}else yt=!1}var St;if(typeof ut=="function")St=function(){ut(xt)};else if(typeof MessageChannel<"u"){var Ut=new MessageChannel,kt=Ut.port2;Ut.port1.onmessage=xt,St=function(){kt.postMessage(null)}}else St=function(){dt(xt,0)};function Bt(Gt){gt=Gt,yt||(yt=!0,St())}function $t(Gt,Ft){ft=dt(function(){Gt(s.unstable_now())},Ft)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Gt){Gt.callback=null},s.unstable_continueExecution=function(){ot||st||(ot=!0,Bt(ht))},s.unstable_forceFrameRate=function(Gt){0>Gt||125<Gt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_t=0<Gt?Math.floor(1e3/Gt):5},s.unstable_getCurrentPriorityLevel=function(){return it},s.unstable_getFirstCallbackNode=function(){return d(et)},s.unstable_next=function(Gt){switch(it){case 1:case 2:case 3:var Ft=3;break;default:Ft=it}var Wt=it;it=Ft;try{return Gt()}finally{it=Wt}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Gt,Ft){switch(Gt){case 1:case 2:case 3:case 4:case 5:break;default:Gt=3}var Wt=it;it=Gt;try{return Ft()}finally{it=Wt}},s.unstable_scheduleCallback=function(Gt,Ft,Wt){var tn=s.unstable_now();switch(typeof Wt=="object"&&Wt!==null?(Wt=Wt.delay,Wt=typeof Wt=="number"&&0<Wt?tn+Wt:tn):Wt=tn,Gt){case 1:var Lt=-1;break;case 2:Lt=250;break;case 5:Lt=1073741823;break;case 4:Lt=1e4;break;default:Lt=5e3}return Lt=Wt+Lt,Gt={id:nt++,callback:Ft,priorityLevel:Gt,startTime:Wt,expirationTime:Lt,sortIndex:-1},Wt>tn?(Gt.sortIndex=Wt,e(tt,Gt),d(et)===null&&Gt===d(tt)&&(lt?(at(ft),ft=-1):lt=!0,$t(vt,Wt-tn))):(Gt.sortIndex=Lt,e(et,Gt),ot||st||(ot=!0,Bt(ht))),Gt},s.unstable_shouldYield=mt,s.unstable_wrapCallback=function(Gt){var Ft=it;return function(){var Wt=it;it=Ft;try{return Gt.apply(this,arguments)}finally{it=Wt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(s){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)e+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(s,e){ha(s,e),ha(s+"Capture",e)}function ha(s,e){for(ea[s]=e,s=0;s<e.length;s++)da.add(e[s])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(s){return ja.call(ma,s)?!0:ja.call(la,s)?!1:ka.test(s)?ma[s]=!0:(la[s]=!0,!1)}function pa(s,e,d,h){if(d!==null&&d.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return h?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function qa(s,e,d,h){if(e===null||typeof e>"u"||pa(s,e,d,h))return!0;if(h)return!1;if(d!==null)switch(d.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v$1(s,e,d,h,g,_,j){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=d,this.propertyName=s,this.type=e,this.sanitizeURL=_,this.removeEmptyString=j}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){z[s]=new v$1(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var e=s[0];z[e]=new v$1(e,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){z[s]=new v$1(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){z[s]=new v$1(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){z[s]=new v$1(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){z[s]=new v$1(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){z[s]=new v$1(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){z[s]=new v$1(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){z[s]=new v$1(s,5,!1,s.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var e=s.replace(ra,sa);z[e]=new v$1(e,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var e=s.replace(ra,sa);z[e]=new v$1(e,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var e=s.replace(ra,sa);z[e]=new v$1(e,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){z[s]=new v$1(s,1,!1,s.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){z[s]=new v$1(s,1,!1,s.toLowerCase(),null,!0,!0)});function ta(s,e,d,h){var g=z.hasOwnProperty(e)?z[e]:null;(g!==null?g.type!==0:h||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,d,g,h)&&(d=null),h||g===null?oa(e)&&(d===null?s.removeAttribute(e):s.setAttribute(e,""+d)):g.mustUseProperty?s[g.propertyName]=d===null?g.type===3?!1:"":d:(e=g.attributeName,h=g.attributeNamespace,d===null?s.removeAttribute(e):(g=g.type,d=g===3||g===4&&d===!0?"":""+d,h?s.setAttributeNS(h,e,d):s.setAttribute(e,d))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(s){return s===null||typeof s!="object"?null:(s=Ja&&s[Ja]||s["@@iterator"],typeof s=="function"?s:null)}var A=Object.assign,La;function Ma(s){if(La===void 0)try{throw Error()}catch(d){var e=d.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+s}var Na=!1;function Oa(s,e){if(!s||Na)return"";Na=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(tt){var h=tt}Reflect.construct(s,[],e)}else{try{e.call()}catch(tt){h=tt}s.call(e.prototype)}else{try{throw Error()}catch(tt){h=tt}s()}}catch(tt){if(tt&&h&&typeof tt.stack=="string"){for(var g=tt.stack.split(`
`),_=h.stack.split(`
`),j=g.length-1,$=_.length-1;1<=j&&0<=$&&g[j]!==_[$];)$--;for(;1<=j&&0<=$;j--,$--)if(g[j]!==_[$]){if(j!==1||$!==1)do if(j--,$--,0>$||g[j]!==_[$]){var et=`
`+g[j].replace(" at new "," at ");return s.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",s.displayName)),et}while(1<=j&&0<=$);break}}}finally{Na=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?Ma(s):""}function Pa(s){switch(s.tag){case 5:return Ma(s.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return s=Oa(s.type,!1),s;case 11:return s=Oa(s.type.render,!1),s;case 1:return s=Oa(s.type,!0),s;default:return""}}function Qa(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Ca:return(s.displayName||"Context")+".Consumer";case Ba:return(s._context.displayName||"Context")+".Provider";case Da:var e=s.render;return s=s.displayName,s||(s=e.displayName||e.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ga:return e=s.displayName||null,e!==null?e:Qa(s.type)||"Memo";case Ha:e=s._payload,s=s._init;try{return Qa(s(e))}catch{}}return null}function Ra(s){var e=s.type;switch(s.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=e.render,s=s.displayName||s.name||"",e.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ta(s){var e=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(s){var e=Ta(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,e),h=""+s[e];if(!s.hasOwnProperty(e)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,_=d.set;return Object.defineProperty(s,e,{configurable:!0,get:function(){return g.call(this)},set:function(j){h=""+j,_.call(this,j)}}),Object.defineProperty(s,e,{enumerable:d.enumerable}),{getValue:function(){return h},setValue:function(j){h=""+j},stopTracking:function(){s._valueTracker=null,delete s[e]}}}}function Va(s){s._valueTracker||(s._valueTracker=Ua(s))}function Wa(s){if(!s)return!1;var e=s._valueTracker;if(!e)return!0;var d=e.getValue(),h="";return s&&(h=Ta(s)?s.checked?"true":"false":s.value),s=h,s!==d?(e.setValue(s),!0):!1}function Xa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ya(s,e){var d=e.checked;return A({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function Za(s,e){var d=e.defaultValue==null?"":e.defaultValue,h=e.checked!=null?e.checked:e.defaultChecked;d=Sa(e.value!=null?e.value:d),s._wrapperState={initialChecked:h,initialValue:d,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(s,e){e=e.checked,e!=null&&ta(s,"checked",e,!1)}function bb(s,e){ab(s,e);var d=Sa(e.value),h=e.type;if(d!=null)h==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}e.hasOwnProperty("value")?cb(s,e.type,d):e.hasOwnProperty("defaultValue")&&cb(s,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(s.defaultChecked=!!e.defaultChecked)}function db$1(s,e,d){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var h=e.type;if(!(h!=="submit"&&h!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+s._wrapperState.initialValue,d||e===s.value||(s.value=e),s.defaultValue=e}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function cb(s,e,d){(e!=="number"||Xa(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var eb=Array.isArray;function fb(s,e,d,h){if(s=s.options,e){e={};for(var g=0;g<d.length;g++)e["$"+d[g]]=!0;for(d=0;d<s.length;d++)g=e.hasOwnProperty("$"+s[d].value),s[d].selected!==g&&(s[d].selected=g),g&&h&&(s[d].defaultSelected=!0)}else{for(d=""+Sa(d),e=null,g=0;g<s.length;g++){if(s[g].value===d){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}e!==null||s[g].disabled||(e=s[g])}e!==null&&(e.selected=!0)}}function gb(s,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},e,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function hb(s,e){var d=e.value;if(d==null){if(d=e.children,e=e.defaultValue,d!=null){if(e!=null)throw Error(p(92));if(eb(d)){if(1<d.length)throw Error(p(93));d=d[0]}e=d}e==null&&(e=""),d=e}s._wrapperState={initialValue:Sa(d)}}function ib(s,e){var d=Sa(e.value),h=Sa(e.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),e.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),h!=null&&(s.defaultValue=""+h)}function jb(s){var e=s.textContent;e===s._wrapperState.initialValue&&e!==""&&e!==null&&(s.value=e)}function kb(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(s,e){return s==null||s==="http://www.w3.org/1999/xhtml"?kb(e):s==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var mb,nb=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,d,h,g){MSApp.execUnsafeLocalFunction(function(){return s(e,d,h,g)})}:s}(function(s,e){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;e.firstChild;)s.appendChild(e.firstChild)}});function ob(s,e){if(e){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=e;return}}s.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(s){qb.forEach(function(e){e=e+s.charAt(0).toUpperCase()+s.substring(1),pb[e]=pb[s]})});function rb(s,e,d){return e==null||typeof e=="boolean"||e===""?"":d||typeof e!="number"||e===0||pb.hasOwnProperty(s)&&pb[s]?(""+e).trim():e+"px"}function sb(s,e){s=s.style;for(var d in e)if(e.hasOwnProperty(d)){var h=d.indexOf("--")===0,g=rb(d,e[d],h);d==="float"&&(d="cssFloat"),h?s.setProperty(d,g):s[d]=g}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(s,e){if(e){if(tb[s]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p(137,s));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p(62))}}function vb(s,e){if(s.indexOf("-")===-1)return typeof e.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var yb=null,zb=null,Ab=null;function Bb(s){if(s=Cb(s)){if(typeof yb!="function")throw Error(p(280));var e=s.stateNode;e&&(e=Db(e),yb(s.stateNode,s.type,e))}}function Eb(s){zb?Ab?Ab.push(s):Ab=[s]:zb=s}function Fb(){if(zb){var s=zb,e=Ab;if(Ab=zb=null,Bb(s),e)for(s=0;s<e.length;s++)Bb(e[s])}}function Gb(s,e){return s(e)}function Hb(){}var Ib=!1;function Jb(s,e,d){if(Ib)return s(e,d);Ib=!0;try{return Gb(s,e,d)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(s,e){var d=s.stateNode;if(d===null)return null;var h=Db(d);if(h===null)return null;d=h[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(p(231,e,typeof d));return d}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(s,e,d,h,g,_,j,$,et){var tt=Array.prototype.slice.call(arguments,3);try{e.apply(d,tt)}catch(nt){this.onError(nt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(s){Ob=!0,Pb=s}};function Tb(s,e,d,h,g,_,j,$,et){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(s,e,d,h,g,_,j,$,et){if(Tb.apply(this,arguments),Ob){if(Ob){var tt=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=tt)}}function Vb(s){var e=s,d=s;if(s.alternate)for(;e.return;)e=e.return;else{s=e;do e=s,e.flags&4098&&(d=e.return),s=e.return;while(s)}return e.tag===3?d:null}function Wb(s){if(s.tag===13){var e=s.memoizedState;if(e===null&&(s=s.alternate,s!==null&&(e=s.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(s){if(Vb(s)!==s)throw Error(p(188))}function Yb(s){var e=s.alternate;if(!e){if(e=Vb(s),e===null)throw Error(p(188));return e!==s?null:s}for(var d=s,h=e;;){var g=d.return;if(g===null)break;var _=g.alternate;if(_===null){if(h=g.return,h!==null){d=h;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===d)return Xb(g),s;if(_===h)return Xb(g),e;_=_.sibling}throw Error(p(188))}if(d.return!==h.return)d=g,h=_;else{for(var j=!1,$=g.child;$;){if($===d){j=!0,d=g,h=_;break}if($===h){j=!0,h=g,d=_;break}$=$.sibling}if(!j){for($=_.child;$;){if($===d){j=!0,d=_,h=g;break}if($===h){j=!0,h=_,d=g;break}$=$.sibling}if(!j)throw Error(p(189))}}if(d.alternate!==h)throw Error(p(190))}if(d.tag!==3)throw Error(p(188));return d.stateNode.current===d?s:e}function Zb(s){return s=Yb(s),s!==null?$b(s):null}function $b(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var e=$b(s);if(e!==null)return e;s=s.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(s){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,s,void 0,(s.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(s){return s>>>=0,s===0?32:31-(pc(s)/qc|0)|0}var rc=64,sc=4194304;function tc(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function uc(s,e){var d=s.pendingLanes;if(d===0)return 0;var h=0,g=s.suspendedLanes,_=s.pingedLanes,j=d&268435455;if(j!==0){var $=j&~g;$!==0?h=tc($):(_&=j,_!==0&&(h=tc(_)))}else j=d&~g,j!==0?h=tc(j):_!==0&&(h=tc(_));if(h===0)return 0;if(e!==0&&e!==h&&!(e&g)&&(g=h&-h,_=e&-e,g>=_||g===16&&(_&4194240)!==0))return e;if(h&4&&(h|=d&16),e=s.entangledLanes,e!==0)for(s=s.entanglements,e&=h;0<e;)d=31-oc(e),g=1<<d,h|=s[d],e&=~g;return h}function vc(s,e){switch(s){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(s,e){for(var d=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,_=s.pendingLanes;0<_;){var j=31-oc(_),$=1<<j,et=g[j];et===-1?(!($&d)||$&h)&&(g[j]=vc($,e)):et<=e&&(s.expiredLanes|=$),_&=~$}}function xc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function yc(){var s=rc;return rc<<=1,!(rc&4194240)&&(rc=64),s}function zc(s){for(var e=[],d=0;31>d;d++)e.push(s);return e}function Ac(s,e,d){s.pendingLanes|=e,e!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,e=31-oc(e),s[e]=d}function Bc(s,e){var d=s.pendingLanes&~e;s.pendingLanes=e,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=e,s.mutableReadLanes&=e,s.entangledLanes&=e,e=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<d;){var g=31-oc(d),_=1<<g;e[g]=0,h[g]=-1,s[g]=-1,d&=~_}}function Cc(s,e){var d=s.entangledLanes|=e;for(s=s.entanglements;d;){var h=31-oc(d),g=1<<h;g&e|s[h]&e&&(s[h]|=e),d&=~g}}var C$1=0;function Dc(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(s,e){switch(s){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(s,e,d,h,g,_){return s===null||s.nativeEvent!==_?(s={blockedOn:e,domEventName:d,eventSystemFlags:h,nativeEvent:_,targetContainers:[g]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),s):(s.eventSystemFlags|=h,e=s.targetContainers,g!==null&&e.indexOf(g)===-1&&e.push(g),s)}function Uc(s,e,d,h,g){switch(e){case"focusin":return Lc=Tc(Lc,s,e,d,h,g),!0;case"dragenter":return Mc=Tc(Mc,s,e,d,h,g),!0;case"mouseover":return Nc=Tc(Nc,s,e,d,h,g),!0;case"pointerover":var _=g.pointerId;return Oc.set(_,Tc(Oc.get(_)||null,s,e,d,h,g)),!0;case"gotpointercapture":return _=g.pointerId,Pc.set(_,Tc(Pc.get(_)||null,s,e,d,h,g)),!0}return!1}function Vc(s){var e=Wc(s.target);if(e!==null){var d=Vb(e);if(d!==null){if(e=d.tag,e===13){if(e=Wb(d),e!==null){s.blockedOn=e,Ic(s.priority,function(){Gc(d)});return}}else if(e===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xc(s){if(s.blockedOn!==null)return!1;for(var e=s.targetContainers;0<e.length;){var d=Yc(s.domEventName,s.eventSystemFlags,e[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var h=new d.constructor(d.type,d);wb=h,d.target.dispatchEvent(h),wb=null}else return e=Cb(d),e!==null&&Fc(e),s.blockedOn=d,!1;e.shift()}return!0}function Zc(s,e,d){Xc(s)&&d.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(s,e){s.blockedOn===e&&(s.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(s){function e(g){return ad(g,s)}if(0<Kc.length){ad(Kc[0],s);for(var d=1;d<Kc.length;d++){var h=Kc[d];h.blockedOn===s&&(h.blockedOn=null)}}for(Lc!==null&&ad(Lc,s),Mc!==null&&ad(Mc,s),Nc!==null&&ad(Nc,s),Oc.forEach(e),Pc.forEach(e),d=0;d<Qc.length;d++)h=Qc[d],h.blockedOn===s&&(h.blockedOn=null);for(;0<Qc.length&&(d=Qc[0],d.blockedOn===null);)Vc(d),d.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(s,e,d,h){var g=C$1,_=cd.transition;cd.transition=null;try{C$1=1,fd(s,e,d,h)}finally{C$1=g,cd.transition=_}}function gd(s,e,d,h){var g=C$1,_=cd.transition;cd.transition=null;try{C$1=4,fd(s,e,d,h)}finally{C$1=g,cd.transition=_}}function fd(s,e,d,h){if(dd){var g=Yc(s,e,d,h);if(g===null)hd(s,e,h,id,d),Sc(s,h);else if(Uc(g,s,e,d,h))h.stopPropagation();else if(Sc(s,h),e&4&&-1<Rc.indexOf(s)){for(;g!==null;){var _=Cb(g);if(_!==null&&Ec(_),_=Yc(s,e,d,h),_===null&&hd(s,e,h,id,d),_===g)break;g=_}g!==null&&h.stopPropagation()}else hd(s,e,h,null,d)}}var id=null;function Yc(s,e,d,h){if(id=null,s=xb(h),s=Wc(s),s!==null)if(e=Vb(s),e===null)s=null;else if(d=e.tag,d===13){if(s=Wb(e),s!==null)return s;s=null}else if(d===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;s=null}else e!==s&&(s=null);return id=s,null}function jd(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var s,e=ld,d=e.length,h,g="value"in kd?kd.value:kd.textContent,_=g.length;for(s=0;s<d&&e[s]===g[s];s++);var j=d-s;for(h=1;h<=j&&e[d-h]===g[_-h];h++);return md=g.slice(s,1<h?1-h:void 0)}function od(s){var e=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&e===13&&(s=13)):s=e,s===10&&(s=13),32<=s||s===13?s:0}function pd(){return!0}function qd(){return!1}function rd(s){function e(d,h,g,_,j){this._reactName=d,this._targetInst=g,this.type=h,this.nativeEvent=_,this.target=j,this.currentTarget=null;for(var $ in s)s.hasOwnProperty($)&&(d=s[$],this[$]=d?d(_):_[$]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yd&&(yd&&s.type==="mousemove"?(wd=s.screenX-yd.screenX,xd=s.screenY-yd.screenY):xd=wd=0,yd=s),wd)},movementY:function(s){return"movementY"in s?s.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(s){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(s):(s=Od[s])?!!e[s]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(s){if(s.key){var e=Md[s.key]||s.key;if(e!=="Unidentified")return e}return s.type==="keypress"?(s=od(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Nd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(s){return s.type==="keypress"?od(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?od(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee=" ",fe$1=!1;function ge$1(s,e){switch(s){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ie=!1;function je(s,e){switch(s){case"compositionend":return he$1(e);case"keypress":return e.which!==32?null:(fe$1=!0,ee);case"textInput":return s=e.data,s===ee&&fe$1?null:s;default:return null}}function ke(s,e){if(ie)return s==="compositionend"||!ae$1&&ge$1(s,e)?(s=nd(),md=ld=kd=null,ie=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de$1&&e.locale!=="ko"?null:e.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(s){var e=s&&s.nodeName&&s.nodeName.toLowerCase();return e==="input"?!!le$1[s.type]:e==="textarea"}function ne$1(s,e,d,h){Eb(h),e=oe$1(e,"onChange"),0<e.length&&(d=new td("onChange","change",null,d,h),s.push({event:d,listeners:e}))}var pe$1=null,qe=null;function re$1(s){se(s,0)}function te(s){var e=ue$1(s);if(Wa(e))return s}function ve(s,e){if(s==="change")return e}var we$1=!1;if(ia){var xe;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe=ye$1}else xe=!1;we$1=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe=pe$1=null)}function Be(s){if(s.propertyName==="value"&&te(qe)){var e=[];ne$1(e,qe,s,xb(s)),Jb(re$1,e)}}function Ce(s,e,d){s==="focusin"?(Ae(),pe$1=e,qe=d,pe$1.attachEvent("onpropertychange",Be)):s==="focusout"&&Ae()}function De$1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return te(qe)}function Ee$1(s,e){if(s==="click")return te(e)}function Fe(s,e){if(s==="input"||s==="change")return te(e)}function Ge(s,e){return s===e&&(s!==0||1/s===1/e)||s!==s&&e!==e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie$1(s,e){if(He(s,e))return!0;if(typeof s!="object"||s===null||typeof e!="object"||e===null)return!1;var d=Object.keys(s),h=Object.keys(e);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var g=d[h];if(!ja.call(e,g)||!He(s[g],e[g]))return!1}return!0}function Je(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ke(s,e){var d=Je(s);s=0;for(var h;d;){if(d.nodeType===3){if(h=s+d.textContent.length,s<=e&&h>=e)return{node:d,offset:e-s};s=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Je(d)}}function Le(s,e){return s&&e?s===e?!0:s&&s.nodeType===3?!1:e&&e.nodeType===3?Le(s,e.parentNode):"contains"in s?s.contains(e):s.compareDocumentPosition?!!(s.compareDocumentPosition(e)&16):!1:!1}function Me(){for(var s=window,e=Xa();e instanceof s.HTMLIFrameElement;){try{var d=typeof e.contentWindow.location.href=="string"}catch{d=!1}if(d)s=e.contentWindow;else break;e=Xa(s.document)}return e}function Ne(s){var e=s&&s.nodeName&&s.nodeName.toLowerCase();return e&&(e==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||e==="textarea"||s.contentEditable==="true")}function Oe(s){var e=Me(),d=s.focusedElem,h=s.selectionRange;if(e!==d&&d&&d.ownerDocument&&Le(d.ownerDocument.documentElement,d)){if(h!==null&&Ne(d)){if(e=h.start,s=h.end,s===void 0&&(s=e),"selectionStart"in d)d.selectionStart=e,d.selectionEnd=Math.min(s,d.value.length);else if(s=(e=d.ownerDocument||document)&&e.defaultView||window,s.getSelection){s=s.getSelection();var g=d.textContent.length,_=Math.min(h.start,g);h=h.end===void 0?_:Math.min(h.end,g),!s.extend&&_>h&&(g=h,h=_,_=g),g=Ke(d,_);var j=Ke(d,h);g&&j&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==j.node||s.focusOffset!==j.offset)&&(e=e.createRange(),e.setStart(g.node,g.offset),s.removeAllRanges(),_>h?(s.addRange(e),s.extend(j.node,j.offset)):(e.setEnd(j.node,j.offset),s.addRange(e)))}}for(e=[],s=d;s=s.parentNode;)s.nodeType===1&&e.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<e.length;d++)s=e[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te$1=!1;function Ue(s,e,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Te$1||Qe==null||Qe!==Xa(h)||(h=Qe,"selectionStart"in h&&Ne(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Se&&Ie$1(Se,h)||(Se=h,h=oe$1(Re,"onSelect"),0<h.length&&(e=new td("onSelect","select",null,e,d),s.push({event:e,listeners:h}),e.target=Qe)))}function Ve(s,e){var d={};return d[s.toLowerCase()]=e.toLowerCase(),d["Webkit"+s]="webkit"+e,d["Moz"+s]="moz"+e,d}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(s){if(Xe[s])return Xe[s];if(!We[s])return s;var e=We[s],d;for(d in e)if(e.hasOwnProperty(d)&&d in Ye)return Xe[s]=e[d];return s}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(s,e){df.set(s,e),fa(e,[s])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(s,e,d){var h=s.type||"unknown-event";s.currentTarget=d,Ub(h,e,void 0,s),s.currentTarget=null}function se(s,e){e=(e&4)!==0;for(var d=0;d<s.length;d++){var h=s[d],g=h.event;h=h.listeners;e:{var _=void 0;if(e)for(var j=h.length-1;0<=j;j--){var $=h[j],et=$.instance,tt=$.currentTarget;if($=$.listener,et!==_&&g.isPropagationStopped())break e;nf(g,$,tt),_=et}else for(j=0;j<h.length;j++){if($=h[j],et=$.instance,tt=$.currentTarget,$=$.listener,et!==_&&g.isPropagationStopped())break e;nf(g,$,tt),_=et}}}if(Qb)throw s=Rb,Qb=!1,Rb=null,s}function D$1(s,e){var d=e[of];d===void 0&&(d=e[of]=new Set);var h=s+"__bubble";d.has(h)||(pf(e,s,2,!1),d.add(h))}function qf(s,e,d){var h=0;e&&(h|=4),pf(d,s,h,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(s){if(!s[rf]){s[rf]=!0,da.forEach(function(d){d!=="selectionchange"&&(mf.has(d)||qf(d,!1,s),qf(d,!0,s))});var e=s.nodeType===9?s:s.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(s,e,d,h){switch(jd(e)){case 1:var g=ed;break;case 4:g=gd;break;default:g=fd}d=g.bind(null,e,d,s),g=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(e,d,{capture:!0,passive:g}):s.addEventListener(e,d,!0):g!==void 0?s.addEventListener(e,d,{passive:g}):s.addEventListener(e,d,!1)}function hd(s,e,d,h,g){var _=h;if(!(e&1)&&!(e&2)&&h!==null)e:for(;;){if(h===null)return;var j=h.tag;if(j===3||j===4){var $=h.stateNode.containerInfo;if($===g||$.nodeType===8&&$.parentNode===g)break;if(j===4)for(j=h.return;j!==null;){var et=j.tag;if((et===3||et===4)&&(et=j.stateNode.containerInfo,et===g||et.nodeType===8&&et.parentNode===g))return;j=j.return}for(;$!==null;){if(j=Wc($),j===null)return;if(et=j.tag,et===5||et===6){h=_=j;continue e}$=$.parentNode}}h=h.return}Jb(function(){var tt=_,nt=xb(d),rt=[];e:{var it=df.get(s);if(it!==void 0){var st=td,ot=s;switch(s){case"keypress":if(od(d)===0)break e;case"keydown":case"keyup":st=Rd;break;case"focusin":ot="focus",st=Fd;break;case"focusout":ot="blur",st=Fd;break;case"beforeblur":case"afterblur":st=Fd;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=Vd;break;case $e:case af:case bf:st=Hd;break;case cf:st=Xd;break;case"scroll":st=vd;break;case"wheel":st=Zd;break;case"copy":case"cut":case"paste":st=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Td}var lt=(e&4)!==0,dt=!lt&&s==="scroll",at=lt?it!==null?it+"Capture":null:it;lt=[];for(var ut=tt,pt;ut!==null;){pt=ut;var vt=pt.stateNode;if(pt.tag===5&&vt!==null&&(pt=vt,at!==null&&(vt=Kb(ut,at),vt!=null&&lt.push(tf(ut,vt,pt)))),dt)break;ut=ut.return}0<lt.length&&(it=new st(it,ot,null,d,nt),rt.push({event:it,listeners:lt}))}}if(!(e&7)){e:{if(it=s==="mouseover"||s==="pointerover",st=s==="mouseout"||s==="pointerout",it&&d!==wb&&(ot=d.relatedTarget||d.fromElement)&&(Wc(ot)||ot[uf]))break e;if((st||it)&&(it=nt.window===nt?nt:(it=nt.ownerDocument)?it.defaultView||it.parentWindow:window,st?(ot=d.relatedTarget||d.toElement,st=tt,ot=ot?Wc(ot):null,ot!==null&&(dt=Vb(ot),ot!==dt||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(st=null,ot=tt),st!==ot)){if(lt=Bd,vt="onMouseLeave",at="onMouseEnter",ut="mouse",(s==="pointerout"||s==="pointerover")&&(lt=Td,vt="onPointerLeave",at="onPointerEnter",ut="pointer"),dt=st==null?it:ue$1(st),pt=ot==null?it:ue$1(ot),it=new lt(vt,ut+"leave",st,d,nt),it.target=dt,it.relatedTarget=pt,vt=null,Wc(nt)===tt&&(lt=new lt(at,ut+"enter",ot,d,nt),lt.target=pt,lt.relatedTarget=dt,vt=lt),dt=vt,st&&ot)t:{for(lt=st,at=ot,ut=0,pt=lt;pt;pt=vf(pt))ut++;for(pt=0,vt=at;vt;vt=vf(vt))pt++;for(;0<ut-pt;)lt=vf(lt),ut--;for(;0<pt-ut;)at=vf(at),pt--;for(;ut--;){if(lt===at||at!==null&&lt===at.alternate)break t;lt=vf(lt),at=vf(at)}lt=null}else lt=null;st!==null&&wf(rt,it,st,lt,!1),ot!==null&&dt!==null&&wf(rt,dt,ot,lt,!0)}}e:{if(it=tt?ue$1(tt):window,st=it.nodeName&&it.nodeName.toLowerCase(),st==="select"||st==="input"&&it.type==="file")var ht=ve;else if(me$1(it))if(we$1)ht=Fe;else{ht=De$1;var yt=Ce}else(st=it.nodeName)&&st.toLowerCase()==="input"&&(it.type==="checkbox"||it.type==="radio")&&(ht=Ee$1);if(ht&&(ht=ht(s,tt))){ne$1(rt,ht,d,nt);break e}yt&&yt(s,it,tt),s==="focusout"&&(yt=it._wrapperState)&&yt.controlled&&it.type==="number"&&cb(it,"number",it.value)}switch(yt=tt?ue$1(tt):window,s){case"focusin":(me$1(yt)||yt.contentEditable==="true")&&(Qe=yt,Re=tt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(rt,d,nt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(rt,d,nt)}var gt;if(ae$1)e:{switch(s){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else ie?ge$1(s,d)&&(ft="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(ft="onCompositionStart");ft&&(de$1&&d.locale!=="ko"&&(ie||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&ie&&(gt=nd()):(kd=nt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),yt=oe$1(tt,ft),0<yt.length&&(ft=new Ld(ft,s,null,d,nt),rt.push({event:ft,listeners:yt}),gt?ft.data=gt:(gt=he$1(d),gt!==null&&(ft.data=gt)))),(gt=ce$1?je(s,d):ke(s,d))&&(tt=oe$1(tt,"onBeforeInput"),0<tt.length&&(nt=new Ld("onBeforeInput","beforeinput",null,d,nt),rt.push({event:nt,listeners:tt}),nt.data=gt))}se(rt,e)})}function tf(s,e,d){return{instance:s,listener:e,currentTarget:d}}function oe$1(s,e){for(var d=e+"Capture",h=[];s!==null;){var g=s,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=Kb(s,d),_!=null&&h.unshift(tf(s,_,g)),_=Kb(s,e),_!=null&&h.push(tf(s,_,g))),s=s.return}return h}function vf(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function wf(s,e,d,h,g){for(var _=e._reactName,j=[];d!==null&&d!==h;){var $=d,et=$.alternate,tt=$.stateNode;if(et!==null&&et===h)break;$.tag===5&&tt!==null&&($=tt,g?(et=Kb(d,_),et!=null&&j.unshift(tf(d,et,$))):g||(et=Kb(d,_),et!=null&&j.push(tf(d,et,$)))),d=d.return}j.length!==0&&s.push({event:e,listeners:j})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(s){return(typeof s=="string"?s:""+s).replace(xf,`
`).replace(yf,"")}function Af(s,e,d){if(e=zf(e),zf(s)!==e&&d)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(s,e){return s==="textarea"||s==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(s){return Hf.resolve(null).then(s).catch(If)}:Ff;function If(s){setTimeout(function(){throw s})}function Kf(s,e){var d=e,h=0;do{var g=d.nextSibling;if(s.removeChild(d),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(h===0){s.removeChild(g),bd(e);return}h--}else d!=="$"&&d!=="$?"&&d!=="$!"||h++;d=g}while(d);bd(e)}function Lf(s){for(;s!=null;s=s.nextSibling){var e=s.nodeType;if(e===1||e===3)break;if(e===8){if(e=s.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return s}function Mf(s){s=s.previousSibling;for(var e=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(e===0)return s;e--}else d==="/$"&&e++}s=s.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(s){var e=s[Of];if(e)return e;for(var d=s.parentNode;d;){if(e=d[uf]||d[Of]){if(d=e.alternate,e.child!==null||d!==null&&d.child!==null)for(s=Mf(s);s!==null;){if(d=s[Of])return d;s=Mf(s)}return e}s=d,d=s.parentNode}return null}function Cb(s){return s=s[Of]||s[uf],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ue$1(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(p(33))}function Db(s){return s[Pf]||null}var Sf=[],Tf=-1;function Uf(s){return{current:s}}function E(s){0>Tf||(s.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(s,e){Tf++,Sf[Tf]=s.current,s.current=e}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(s,e){var d=s.type.contextTypes;if(!d)return Vf;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===e)return h.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in d)g[_]=e[_];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=e,s.__reactInternalMemoizedMaskedChildContext=g),g}function Zf(s){return s=s.childContextTypes,s!=null}function $f(){E(Wf),E(H)}function ag(s,e,d){if(H.current!==Vf)throw Error(p(168));G(H,e),G(Wf,d)}function bg(s,e,d){var h=s.stateNode;if(e=e.childContextTypes,typeof h.getChildContext!="function")return d;h=h.getChildContext();for(var g in h)if(!(g in e))throw Error(p(108,Ra(s)||"Unknown",g));return A({},d,h)}function cg(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,s),G(Wf,Wf.current),!0}function dg(s,e,d){var h=s.stateNode;if(!h)throw Error(p(169));d?(s=bg(s,e,Xf),h.__reactInternalMemoizedMergedChildContext=s,E(Wf),E(H),G(H,s)):E(Wf),G(Wf,d)}var eg=null,fg=!1,gg=!1;function hg(s){eg===null?eg=[s]:eg.push(s)}function ig(s){fg=!0,hg(s)}function jg(){if(!gg&&eg!==null){gg=!0;var s=0,e=C$1;try{var d=eg;for(C$1=1;s<d.length;s++){var h=d[s];do h=h(!0);while(h!==null)}eg=null,fg=!1}catch(g){throw eg!==null&&(eg=eg.slice(s+1)),ac(fc,jg),g}finally{C$1=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(s,e){kg[lg++]=ng,kg[lg++]=mg,mg=s,ng=e}function ug(s,e,d){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=s;var h=rg;s=sg;var g=32-oc(h)-1;h&=~(1<<g),d+=1;var _=32-oc(e)+g;if(30<_){var j=g-g%5;_=(h&(1<<j)-1).toString(32),h>>=j,g-=j,rg=1<<32-oc(e)+g|d<<g|h,sg=_+s}else rg=1<<_|d<<g|h,sg=s}function vg(s){s.return!==null&&(tg(s,1),ug(s,1,0))}function wg(s){for(;s===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;s===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(s,e){var d=Bg(5,null,null,0);d.elementType="DELETED",d.stateNode=e,d.return=s,e=s.deletions,e===null?(s.deletions=[d],s.flags|=16):e.push(d)}function Cg(s,e){switch(s.tag){case 5:var d=s.type;return e=e.nodeType!==1||d.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(s.stateNode=e,xg=s,yg=Lf(e.firstChild),!0):!1;case 6:return e=s.pendingProps===""||e.nodeType!==3?null:e,e!==null?(s.stateNode=e,xg=s,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(d=qg!==null?{id:rg,overflow:sg}:null,s.memoizedState={dehydrated:e,treeContext:d,retryLane:1073741824},d=Bg(18,null,null,0),d.stateNode=e,d.return=s,s.child=d,xg=s,yg=null,!0):!1;default:return!1}}function Dg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Eg(s){if(I){var e=yg;if(e){var d=e;if(!Cg(s,e)){if(Dg(s))throw Error(p(418));e=Lf(d.nextSibling);var h=xg;e&&Cg(s,e)?Ag(h,d):(s.flags=s.flags&-4097|2,I=!1,xg=s)}}else{if(Dg(s))throw Error(p(418));s.flags=s.flags&-4097|2,I=!1,xg=s}}}function Fg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;xg=s}function Gg(s){if(s!==xg)return!1;if(!I)return Fg(s),I=!0,!1;var e;if((e=s.tag!==3)&&!(e=s.tag!==5)&&(e=s.type,e=e!=="head"&&e!=="body"&&!Ef(s.type,s.memoizedProps)),e&&(e=yg)){if(Dg(s))throw Hg(),Error(p(418));for(;e;)Ag(s,e),e=Lf(e.nextSibling)}if(Fg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(p(317));e:{for(s=s.nextSibling,e=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(e===0){yg=Lf(s.nextSibling);break e}e--}else d!=="$"&&d!=="$!"&&d!=="$?"||e++}s=s.nextSibling}yg=null}}else yg=xg?Lf(s.stateNode.nextSibling):null;return!0}function Hg(){for(var s=yg;s;)s=Lf(s.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(s){zg===null?zg=[s]:zg.push(s)}var Kg=ua.ReactCurrentBatchConfig;function Lg(s,e,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(p(309));var h=d.stateNode}if(!h)throw Error(p(147,s));var g=h,_=""+s;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===_?e.ref:(e=function(j){var $=g.refs;j===null?delete $[_]:$[_]=j},e._stringRef=_,e)}if(typeof s!="string")throw Error(p(284));if(!d._owner)throw Error(p(290,s))}return s}function Mg(s,e){throw s=Object.prototype.toString.call(e),Error(p(31,s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s))}function Ng(s){var e=s._init;return e(s._payload)}function Og(s){function e(at,ut){if(s){var pt=at.deletions;pt===null?(at.deletions=[ut],at.flags|=16):pt.push(ut)}}function d(at,ut){if(!s)return null;for(;ut!==null;)e(at,ut),ut=ut.sibling;return null}function h(at,ut){for(at=new Map;ut!==null;)ut.key!==null?at.set(ut.key,ut):at.set(ut.index,ut),ut=ut.sibling;return at}function g(at,ut){return at=Pg(at,ut),at.index=0,at.sibling=null,at}function _(at,ut,pt){return at.index=pt,s?(pt=at.alternate,pt!==null?(pt=pt.index,pt<ut?(at.flags|=2,ut):pt):(at.flags|=2,ut)):(at.flags|=1048576,ut)}function j(at){return s&&at.alternate===null&&(at.flags|=2),at}function $(at,ut,pt,vt){return ut===null||ut.tag!==6?(ut=Qg(pt,at.mode,vt),ut.return=at,ut):(ut=g(ut,pt),ut.return=at,ut)}function et(at,ut,pt,vt){var ht=pt.type;return ht===ya?nt(at,ut,pt.props.children,vt,pt.key):ut!==null&&(ut.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Ha&&Ng(ht)===ut.type)?(vt=g(ut,pt.props),vt.ref=Lg(at,ut,pt),vt.return=at,vt):(vt=Rg(pt.type,pt.key,pt.props,null,at.mode,vt),vt.ref=Lg(at,ut,pt),vt.return=at,vt)}function tt(at,ut,pt,vt){return ut===null||ut.tag!==4||ut.stateNode.containerInfo!==pt.containerInfo||ut.stateNode.implementation!==pt.implementation?(ut=Sg(pt,at.mode,vt),ut.return=at,ut):(ut=g(ut,pt.children||[]),ut.return=at,ut)}function nt(at,ut,pt,vt,ht){return ut===null||ut.tag!==7?(ut=Tg(pt,at.mode,vt,ht),ut.return=at,ut):(ut=g(ut,pt),ut.return=at,ut)}function rt(at,ut,pt){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return ut=Qg(""+ut,at.mode,pt),ut.return=at,ut;if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case va:return pt=Rg(ut.type,ut.key,ut.props,null,at.mode,pt),pt.ref=Lg(at,null,ut),pt.return=at,pt;case wa:return ut=Sg(ut,at.mode,pt),ut.return=at,ut;case Ha:var vt=ut._init;return rt(at,vt(ut._payload),pt)}if(eb(ut)||Ka(ut))return ut=Tg(ut,at.mode,pt,null),ut.return=at,ut;Mg(at,ut)}return null}function it(at,ut,pt,vt){var ht=ut!==null?ut.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number")return ht!==null?null:$(at,ut,""+pt,vt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:return pt.key===ht?et(at,ut,pt,vt):null;case wa:return pt.key===ht?tt(at,ut,pt,vt):null;case Ha:return ht=pt._init,it(at,ut,ht(pt._payload),vt)}if(eb(pt)||Ka(pt))return ht!==null?null:nt(at,ut,pt,vt,null);Mg(at,pt)}return null}function st(at,ut,pt,vt,ht){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return at=at.get(pt)||null,$(ut,at,""+vt,ht);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return at=at.get(vt.key===null?pt:vt.key)||null,et(ut,at,vt,ht);case wa:return at=at.get(vt.key===null?pt:vt.key)||null,tt(ut,at,vt,ht);case Ha:var yt=vt._init;return st(at,ut,pt,yt(vt._payload),ht)}if(eb(vt)||Ka(vt))return at=at.get(pt)||null,nt(ut,at,vt,ht,null);Mg(ut,vt)}return null}function ot(at,ut,pt,vt){for(var ht=null,yt=null,gt=ut,ft=ut=0,_t=null;gt!==null&&ft<pt.length;ft++){gt.index>ft?(_t=gt,gt=null):_t=gt.sibling;var Et=it(at,gt,pt[ft],vt);if(Et===null){gt===null&&(gt=_t);break}s&&gt&&Et.alternate===null&&e(at,gt),ut=_(Et,ut,ft),yt===null?ht=Et:yt.sibling=Et,yt=Et,gt=_t}if(ft===pt.length)return d(at,gt),I&&tg(at,ft),ht;if(gt===null){for(;ft<pt.length;ft++)gt=rt(at,pt[ft],vt),gt!==null&&(ut=_(gt,ut,ft),yt===null?ht=gt:yt.sibling=gt,yt=gt);return I&&tg(at,ft),ht}for(gt=h(at,gt);ft<pt.length;ft++)_t=st(gt,at,ft,pt[ft],vt),_t!==null&&(s&&_t.alternate!==null&&gt.delete(_t.key===null?ft:_t.key),ut=_(_t,ut,ft),yt===null?ht=_t:yt.sibling=_t,yt=_t);return s&&gt.forEach(function(mt){return e(at,mt)}),I&&tg(at,ft),ht}function lt(at,ut,pt,vt){var ht=Ka(pt);if(typeof ht!="function")throw Error(p(150));if(pt=ht.call(pt),pt==null)throw Error(p(151));for(var yt=ht=null,gt=ut,ft=ut=0,_t=null,Et=pt.next();gt!==null&&!Et.done;ft++,Et=pt.next()){gt.index>ft?(_t=gt,gt=null):_t=gt.sibling;var mt=it(at,gt,Et.value,vt);if(mt===null){gt===null&&(gt=_t);break}s&&gt&&mt.alternate===null&&e(at,gt),ut=_(mt,ut,ft),yt===null?ht=mt:yt.sibling=mt,yt=mt,gt=_t}if(Et.done)return d(at,gt),I&&tg(at,ft),ht;if(gt===null){for(;!Et.done;ft++,Et=pt.next())Et=rt(at,Et.value,vt),Et!==null&&(ut=_(Et,ut,ft),yt===null?ht=Et:yt.sibling=Et,yt=Et);return I&&tg(at,ft),ht}for(gt=h(at,gt);!Et.done;ft++,Et=pt.next())Et=st(gt,at,ft,Et.value,vt),Et!==null&&(s&&Et.alternate!==null&&gt.delete(Et.key===null?ft:Et.key),ut=_(Et,ut,ft),yt===null?ht=Et:yt.sibling=Et,yt=Et);return s&&gt.forEach(function(xt){return e(at,xt)}),I&&tg(at,ft),ht}function dt(at,ut,pt,vt){if(typeof pt=="object"&&pt!==null&&pt.type===ya&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:e:{for(var ht=pt.key,yt=ut;yt!==null;){if(yt.key===ht){if(ht=pt.type,ht===ya){if(yt.tag===7){d(at,yt.sibling),ut=g(yt,pt.props.children),ut.return=at,at=ut;break e}}else if(yt.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Ha&&Ng(ht)===yt.type){d(at,yt.sibling),ut=g(yt,pt.props),ut.ref=Lg(at,yt,pt),ut.return=at,at=ut;break e}d(at,yt);break}else e(at,yt);yt=yt.sibling}pt.type===ya?(ut=Tg(pt.props.children,at.mode,vt,pt.key),ut.return=at,at=ut):(vt=Rg(pt.type,pt.key,pt.props,null,at.mode,vt),vt.ref=Lg(at,ut,pt),vt.return=at,at=vt)}return j(at);case wa:e:{for(yt=pt.key;ut!==null;){if(ut.key===yt)if(ut.tag===4&&ut.stateNode.containerInfo===pt.containerInfo&&ut.stateNode.implementation===pt.implementation){d(at,ut.sibling),ut=g(ut,pt.children||[]),ut.return=at,at=ut;break e}else{d(at,ut);break}else e(at,ut);ut=ut.sibling}ut=Sg(pt,at.mode,vt),ut.return=at,at=ut}return j(at);case Ha:return yt=pt._init,dt(at,ut,yt(pt._payload),vt)}if(eb(pt))return ot(at,ut,pt,vt);if(Ka(pt))return lt(at,ut,pt,vt);Mg(at,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"?(pt=""+pt,ut!==null&&ut.tag===6?(d(at,ut.sibling),ut=g(ut,pt),ut.return=at,at=ut):(d(at,ut),ut=Qg(pt,at.mode,vt),ut.return=at,at=ut),j(at)):d(at,ut)}return dt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(s){var e=Wg.current;E(Wg),s._currentValue=e}function bh(s,e,d){for(;s!==null;){var h=s.alternate;if((s.childLanes&e)!==e?(s.childLanes|=e,h!==null&&(h.childLanes|=e)):h!==null&&(h.childLanes&e)!==e&&(h.childLanes|=e),s===d)break;s=s.return}}function ch(s,e){Xg=s,Zg=Yg=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&e&&(dh=!0),s.firstContext=null)}function eh(s){var e=s._currentValue;if(Zg!==s)if(s={context:s,memoizedValue:e,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=s,Xg.dependencies={lanes:0,firstContext:s}}else Yg=Yg.next=s;return e}var fh=null;function gh(s){fh===null?fh=[s]:fh.push(s)}function hh(s,e,d,h){var g=e.interleaved;return g===null?(d.next=d,gh(e)):(d.next=g.next,g.next=d),e.interleaved=d,ih(s,h)}function ih(s,e){s.lanes|=e;var d=s.alternate;for(d!==null&&(d.lanes|=e),d=s,s=s.return;s!==null;)s.childLanes|=e,d=s.alternate,d!==null&&(d.childLanes|=e),d=s,s=s.return;return d.tag===3?d.stateNode:null}var jh=!1;function kh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(s,e){s=s.updateQueue,e.updateQueue===s&&(e.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function mh(s,e){return{eventTime:s,lane:e,tag:0,payload:null,callback:null,next:null}}function nh(s,e,d){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,K&2){var g=h.pending;return g===null?e.next=e:(e.next=g.next,g.next=e),h.pending=e,ih(s,d)}return g=h.interleaved,g===null?(e.next=e,gh(h)):(e.next=g.next,g.next=e),h.interleaved=e,ih(s,d)}function oh(s,e,d){if(e=e.updateQueue,e!==null&&(e=e.shared,(d&4194240)!==0)){var h=e.lanes;h&=s.pendingLanes,d|=h,e.lanes=d,Cc(s,d)}}function ph(s,e){var d=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var g=null,_=null;if(d=d.firstBaseUpdate,d!==null){do{var j={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};_===null?g=_=j:_=_.next=j,d=d.next}while(d!==null);_===null?g=_=e:_=_.next=e}else g=_=e;d={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:h.shared,effects:h.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=e:s.next=e,d.lastBaseUpdate=e}function qh(s,e,d,h){var g=s.updateQueue;jh=!1;var _=g.firstBaseUpdate,j=g.lastBaseUpdate,$=g.shared.pending;if($!==null){g.shared.pending=null;var et=$,tt=et.next;et.next=null,j===null?_=tt:j.next=tt,j=et;var nt=s.alternate;nt!==null&&(nt=nt.updateQueue,$=nt.lastBaseUpdate,$!==j&&($===null?nt.firstBaseUpdate=tt:$.next=tt,nt.lastBaseUpdate=et))}if(_!==null){var rt=g.baseState;j=0,nt=tt=et=null,$=_;do{var it=$.lane,st=$.eventTime;if((h&it)===it){nt!==null&&(nt=nt.next={eventTime:st,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var ot=s,lt=$;switch(it=e,st=d,lt.tag){case 1:if(ot=lt.payload,typeof ot=="function"){rt=ot.call(st,rt,it);break e}rt=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=lt.payload,it=typeof ot=="function"?ot.call(st,rt,it):ot,it==null)break e;rt=A({},rt,it);break e;case 2:jh=!0}}$.callback!==null&&$.lane!==0&&(s.flags|=64,it=g.effects,it===null?g.effects=[$]:it.push($))}else st={eventTime:st,lane:it,tag:$.tag,payload:$.payload,callback:$.callback,next:null},nt===null?(tt=nt=st,et=rt):nt=nt.next=st,j|=it;if($=$.next,$===null){if($=g.shared.pending,$===null)break;it=$,$=it.next,it.next=null,g.lastBaseUpdate=it,g.shared.pending=null}}while(!0);if(nt===null&&(et=rt),g.baseState=et,g.firstBaseUpdate=tt,g.lastBaseUpdate=nt,e=g.shared.interleaved,e!==null){g=e;do j|=g.lane,g=g.next;while(g!==e)}else _===null&&(g.shared.lanes=0);rh|=j,s.lanes=j,s.memoizedState=rt}}function sh(s,e,d){if(s=e.effects,e.effects=null,s!==null)for(e=0;e<s.length;e++){var h=s[e],g=h.callback;if(g!==null){if(h.callback=null,h=d,typeof g!="function")throw Error(p(191,g));g.call(h)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(s){if(s===th)throw Error(p(174));return s}function yh(s,e){switch(G(wh,e),G(vh,s),G(uh,th),s=e.nodeType,s){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:s=s===8?e.parentNode:e,e=s.namespaceURI||null,s=s.tagName,e=lb(e,s)}E(uh),G(uh,e)}function zh(){E(uh),E(vh),E(wh)}function Ah(s){xh(wh.current);var e=xh(uh.current),d=lb(e,s.type);e!==d&&(G(vh,s),G(uh,d))}function Bh(s){vh.current===s&&(E(uh),E(vh))}var L=Uf(0);function Ch(s){for(var e=s;e!==null;){if(e.tag===13){var d=e.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break;for(;e.sibling===null;){if(e.return===null||e.return===s)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dh=[];function Eh(){for(var s=0;s<Dh.length;s++)Dh[s]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(s,e){if(e===null)return!1;for(var d=0;d<e.length&&d<s.length;d++)if(!He(s[d],e[d]))return!1;return!0}function Nh(s,e,d,h,g,_){if(Hh=_,M=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=s===null||s.memoizedState===null?Oh:Ph,s=d(h,g),Jh){_=0;do{if(Jh=!1,Kh=0,25<=_)throw Error(p(301));_+=1,O=N=null,e.updateQueue=null,Fh.current=Qh,s=d(h,g)}while(Jh)}if(Fh.current=Rh,e=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,e)throw Error(p(300));return s}function Sh(){var s=Kh!==0;return Kh=0,s}function Th(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=s:O=O.next=s,O}function Uh(){if(N===null){var s=M.alternate;s=s!==null?s.memoizedState:null}else s=N.next;var e=O===null?M.memoizedState:O.next;if(e!==null)O=e,N=s;else{if(s===null)throw Error(p(310));N=s,s={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=s:O=O.next=s}return O}function Vh(s,e){return typeof e=="function"?e(s):e}function Wh(s){var e=Uh(),d=e.queue;if(d===null)throw Error(p(311));d.lastRenderedReducer=s;var h=N,g=h.baseQueue,_=d.pending;if(_!==null){if(g!==null){var j=g.next;g.next=_.next,_.next=j}h.baseQueue=g=_,d.pending=null}if(g!==null){_=g.next,h=h.baseState;var $=j=null,et=null,tt=_;do{var nt=tt.lane;if((Hh&nt)===nt)et!==null&&(et=et.next={lane:0,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),h=tt.hasEagerState?tt.eagerState:s(h,tt.action);else{var rt={lane:nt,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null};et===null?($=et=rt,j=h):et=et.next=rt,M.lanes|=nt,rh|=nt}tt=tt.next}while(tt!==null&&tt!==_);et===null?j=h:et.next=$,He(h,e.memoizedState)||(dh=!0),e.memoizedState=h,e.baseState=j,e.baseQueue=et,d.lastRenderedState=h}if(s=d.interleaved,s!==null){g=s;do _=g.lane,M.lanes|=_,rh|=_,g=g.next;while(g!==s)}else g===null&&(d.lanes=0);return[e.memoizedState,d.dispatch]}function Xh(s){var e=Uh(),d=e.queue;if(d===null)throw Error(p(311));d.lastRenderedReducer=s;var h=d.dispatch,g=d.pending,_=e.memoizedState;if(g!==null){d.pending=null;var j=g=g.next;do _=s(_,j.action),j=j.next;while(j!==g);He(_,e.memoizedState)||(dh=!0),e.memoizedState=_,e.baseQueue===null&&(e.baseState=_),d.lastRenderedState=_}return[_,h]}function Yh(){}function Zh(s,e){var d=M,h=Uh(),g=e(),_=!He(h.memoizedState,g);if(_&&(h.memoizedState=g,dh=!0),h=h.queue,$h(ai.bind(null,d,h,s),[s]),h.getSnapshot!==e||_||O!==null&&O.memoizedState.tag&1){if(d.flags|=2048,bi(9,ci.bind(null,d,h,g,e),void 0,null),Q===null)throw Error(p(349));Hh&30||di(d,e,g)}return g}function di(s,e,d){s.flags|=16384,s={getSnapshot:e,value:d},e=M.updateQueue,e===null?(e={lastEffect:null,stores:null},M.updateQueue=e,e.stores=[s]):(d=e.stores,d===null?e.stores=[s]:d.push(s))}function ci(s,e,d,h){e.value=d,e.getSnapshot=h,ei(e)&&fi(s)}function ai(s,e,d){return d(function(){ei(e)&&fi(s)})}function ei(s){var e=s.getSnapshot;s=s.value;try{var d=e();return!He(s,d)}catch{return!0}}function fi(s){var e=ih(s,1);e!==null&&gi(e,s,1,-1)}function hi(s){var e=Th();return typeof s=="function"&&(s=s()),e.memoizedState=e.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:s},e.queue=s,s=s.dispatch=ii.bind(null,M,s),[e.memoizedState,s]}function bi(s,e,d,h){return s={tag:s,create:e,destroy:d,deps:h,next:null},e=M.updateQueue,e===null?(e={lastEffect:null,stores:null},M.updateQueue=e,e.lastEffect=s.next=s):(d=e.lastEffect,d===null?e.lastEffect=s.next=s:(h=d.next,d.next=s,s.next=h,e.lastEffect=s)),s}function ji(){return Uh().memoizedState}function ki(s,e,d,h){var g=Th();M.flags|=s,g.memoizedState=bi(1|e,d,void 0,h===void 0?null:h)}function li(s,e,d,h){var g=Uh();h=h===void 0?null:h;var _=void 0;if(N!==null){var j=N.memoizedState;if(_=j.destroy,h!==null&&Mh(h,j.deps)){g.memoizedState=bi(e,d,_,h);return}}M.flags|=s,g.memoizedState=bi(1|e,d,_,h)}function mi(s,e){return ki(8390656,8,s,e)}function $h(s,e){return li(2048,8,s,e)}function ni(s,e){return li(4,2,s,e)}function oi(s,e){return li(4,4,s,e)}function pi(s,e){if(typeof e=="function")return s=s(),e(s),function(){e(null)};if(e!=null)return s=s(),e.current=s,function(){e.current=null}}function qi(s,e,d){return d=d!=null?d.concat([s]):null,li(4,4,pi.bind(null,e,s),d)}function ri(){}function si(s,e){var d=Uh();e=e===void 0?null:e;var h=d.memoizedState;return h!==null&&e!==null&&Mh(e,h[1])?h[0]:(d.memoizedState=[s,e],s)}function ti(s,e){var d=Uh();e=e===void 0?null:e;var h=d.memoizedState;return h!==null&&e!==null&&Mh(e,h[1])?h[0]:(s=s(),d.memoizedState=[s,e],s)}function ui(s,e,d){return Hh&21?(He(d,e)||(d=yc(),M.lanes|=d,rh|=d,s.baseState=!0),e):(s.baseState&&(s.baseState=!1,dh=!0),s.memoizedState=d)}function vi(s,e){var d=C$1;C$1=d!==0&&4>d?d:4,s(!0);var h=Gh.transition;Gh.transition={};try{s(!1),e()}finally{C$1=d,Gh.transition=h}}function wi(){return Uh().memoizedState}function xi(s,e,d){var h=yi(s);if(d={lane:h,action:d,hasEagerState:!1,eagerState:null,next:null},zi(s))Ai(e,d);else if(d=hh(s,e,d,h),d!==null){var g=R();gi(d,s,h,g),Bi(d,e,h)}}function ii(s,e,d){var h=yi(s),g={lane:h,action:d,hasEagerState:!1,eagerState:null,next:null};if(zi(s))Ai(e,g);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=e.lastRenderedReducer,_!==null))try{var j=e.lastRenderedState,$=_(j,d);if(g.hasEagerState=!0,g.eagerState=$,He($,j)){var et=e.interleaved;et===null?(g.next=g,gh(e)):(g.next=et.next,et.next=g),e.interleaved=g;return}}catch{}finally{}d=hh(s,e,g,h),d!==null&&(g=R(),gi(d,s,h,g),Bi(d,e,h))}}function zi(s){var e=s.alternate;return s===M||e!==null&&e===M}function Ai(s,e){Jh=Ih=!0;var d=s.pending;d===null?e.next=e:(e.next=d.next,d.next=e),s.pending=e}function Bi(s,e,d){if(d&4194240){var h=e.lanes;h&=s.pendingLanes,d|=h,e.lanes=d,Cc(s,d)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(s,e){return Th().memoizedState=[s,e===void 0?null:e],s},useContext:eh,useEffect:mi,useImperativeHandle:function(s,e,d){return d=d!=null?d.concat([s]):null,ki(4194308,4,pi.bind(null,e,s),d)},useLayoutEffect:function(s,e){return ki(4194308,4,s,e)},useInsertionEffect:function(s,e){return ki(4,2,s,e)},useMemo:function(s,e){var d=Th();return e=e===void 0?null:e,s=s(),d.memoizedState=[s,e],s},useReducer:function(s,e,d){var h=Th();return e=d!==void 0?d(e):e,h.memoizedState=h.baseState=e,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:e},h.queue=s,s=s.dispatch=xi.bind(null,M,s),[h.memoizedState,s]},useRef:function(s){var e=Th();return s={current:s},e.memoizedState=s},useState:hi,useDebugValue:ri,useDeferredValue:function(s){return Th().memoizedState=s},useTransition:function(){var s=hi(!1),e=s[0];return s=vi.bind(null,s[1]),Th().memoizedState=s,[e,s]},useMutableSource:function(){},useSyncExternalStore:function(s,e,d){var h=M,g=Th();if(I){if(d===void 0)throw Error(p(407));d=d()}else{if(d=e(),Q===null)throw Error(p(349));Hh&30||di(h,e,d)}g.memoizedState=d;var _={value:d,getSnapshot:e};return g.queue=_,mi(ai.bind(null,h,_,s),[s]),h.flags|=2048,bi(9,ci.bind(null,h,_,d,e),void 0,null),d},useId:function(){var s=Th(),e=Q.identifierPrefix;if(I){var d=sg,h=rg;d=(h&~(1<<32-oc(h)-1)).toString(32)+d,e=":"+e+"R"+d,d=Kh++,0<d&&(e+="H"+d.toString(32)),e+=":"}else d=Lh++,e=":"+e+"r"+d.toString(32)+":";return s.memoizedState=e},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(s){var e=Uh();return ui(e,N.memoizedState,s)},useTransition:function(){var s=Wh(Vh)[0],e=Uh().memoizedState;return[s,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(s){var e=Uh();return N===null?e.memoizedState=s:ui(e,N.memoizedState,s)},useTransition:function(){var s=Xh(Vh)[0],e=Uh().memoizedState;return[s,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(s,e){if(s&&s.defaultProps){e=A({},e),s=s.defaultProps;for(var d in s)e[d]===void 0&&(e[d]=s[d]);return e}return e}function Di(s,e,d,h){e=s.memoizedState,d=d(h,e),d=d==null?e:A({},e,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Ei={isMounted:function(s){return(s=s._reactInternals)?Vb(s)===s:!1},enqueueSetState:function(s,e,d){s=s._reactInternals;var h=R(),g=yi(s),_=mh(h,g);_.payload=e,d!=null&&(_.callback=d),e=nh(s,_,g),e!==null&&(gi(e,s,g,h),oh(e,s,g))},enqueueReplaceState:function(s,e,d){s=s._reactInternals;var h=R(),g=yi(s),_=mh(h,g);_.tag=1,_.payload=e,d!=null&&(_.callback=d),e=nh(s,_,g),e!==null&&(gi(e,s,g,h),oh(e,s,g))},enqueueForceUpdate:function(s,e){s=s._reactInternals;var d=R(),h=yi(s),g=mh(d,h);g.tag=2,e!=null&&(g.callback=e),e=nh(s,g,h),e!==null&&(gi(e,s,h,d),oh(e,s,h))}};function Fi(s,e,d,h,g,_,j){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,_,j):e.prototype&&e.prototype.isPureReactComponent?!Ie$1(d,h)||!Ie$1(g,_):!0}function Gi(s,e,d){var h=!1,g=Vf,_=e.contextType;return typeof _=="object"&&_!==null?_=eh(_):(g=Zf(e)?Xf:H.current,h=e.contextTypes,_=(h=h!=null)?Yf(s,g):Vf),e=new e(d,_),s.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ei,s.stateNode=e,e._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=_),e}function Hi(s,e,d,h){s=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(d,h),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(d,h),e.state!==s&&Ei.enqueueReplaceState(e,e.state,null)}function Ii(s,e,d,h){var g=s.stateNode;g.props=d,g.state=s.memoizedState,g.refs={},kh(s);var _=e.contextType;typeof _=="object"&&_!==null?g.context=eh(_):(_=Zf(e)?Xf:H.current,g.context=Yf(s,_)),g.state=s.memoizedState,_=e.getDerivedStateFromProps,typeof _=="function"&&(Di(s,e,_,d),g.state=s.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(e=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),e!==g.state&&Ei.enqueueReplaceState(g,g.state,null),qh(s,d,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Ji(s,e){try{var d="",h=e;do d+=Pa(h),h=h.return;while(h);var g=d}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:e,stack:g,digest:null}}function Ki(s,e,d){return{value:s,source:null,stack:d??null,digest:e??null}}function Li(s,e){try{console.error(e.value)}catch(d){setTimeout(function(){throw d})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(s,e,d){d=mh(-1,d),d.tag=3,d.payload={element:null};var h=e.value;return d.callback=function(){Oi||(Oi=!0,Pi=h),Li(s,e)},d}function Qi(s,e,d){d=mh(-1,d),d.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=e.value;d.payload=function(){return h(g)},d.callback=function(){Li(s,e)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(d.callback=function(){Li(s,e),typeof h!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var j=e.stack;this.componentDidCatch(e.value,{componentStack:j!==null?j:""})}),d}function Si(s,e,d){var h=s.pingCache;if(h===null){h=s.pingCache=new Mi;var g=new Set;h.set(e,g)}else g=h.get(e),g===void 0&&(g=new Set,h.set(e,g));g.has(d)||(g.add(d),s=Ti.bind(null,s,e,d),e.then(s,s))}function Ui(s){do{var e;if((e=s.tag===13)&&(e=s.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return s;s=s.return}while(s!==null);return null}function Vi(s,e,d,h,g){return s.mode&1?(s.flags|=65536,s.lanes=g,s):(s===e?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(e=mh(-1,1),e.tag=2,nh(d,e,1))),d.lanes|=1),s)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(s,e,d,h){e.child=s===null?Vg(e,null,d,h):Ug(e,s.child,d,h)}function Yi(s,e,d,h,g){d=d.render;var _=e.ref;return ch(e,g),h=Nh(s,e,d,h,_,g),d=Sh(),s!==null&&!dh?(e.updateQueue=s.updateQueue,e.flags&=-2053,s.lanes&=~g,Zi(s,e,g)):(I&&d&&vg(e),e.flags|=1,Xi(s,e,h,g),e.child)}function $i(s,e,d,h,g){if(s===null){var _=d.type;return typeof _=="function"&&!aj(_)&&_.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(e.tag=15,e.type=_,bj(s,e,_,h,g)):(s=Rg(d.type,null,h,e,e.mode,g),s.ref=e.ref,s.return=e,e.child=s)}if(_=s.child,!(s.lanes&g)){var j=_.memoizedProps;if(d=d.compare,d=d!==null?d:Ie$1,d(j,h)&&s.ref===e.ref)return Zi(s,e,g)}return e.flags|=1,s=Pg(_,h),s.ref=e.ref,s.return=e,e.child=s}function bj(s,e,d,h,g){if(s!==null){var _=s.memoizedProps;if(Ie$1(_,h)&&s.ref===e.ref)if(dh=!1,e.pendingProps=h=_,(s.lanes&g)!==0)s.flags&131072&&(dh=!0);else return e.lanes=s.lanes,Zi(s,e,g)}return cj(s,e,d,h,g)}function dj(s,e,d){var h=e.pendingProps,g=h.children,_=s!==null?s.memoizedState:null;if(h.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=d;else{if(!(d&1073741824))return s=_!==null?_.baseLanes|d:d,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:s,cachePool:null,transitions:null},e.updateQueue=null,G(ej,fj),fj|=s,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=_!==null?_.baseLanes:d,G(ej,fj),fj|=h}else _!==null?(h=_.baseLanes|d,e.memoizedState=null):h=d,G(ej,fj),fj|=h;return Xi(s,e,g,d),e.child}function gj(s,e){var d=e.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(e.flags|=512,e.flags|=2097152)}function cj(s,e,d,h,g){var _=Zf(d)?Xf:H.current;return _=Yf(e,_),ch(e,g),d=Nh(s,e,d,h,_,g),h=Sh(),s!==null&&!dh?(e.updateQueue=s.updateQueue,e.flags&=-2053,s.lanes&=~g,Zi(s,e,g)):(I&&h&&vg(e),e.flags|=1,Xi(s,e,d,g),e.child)}function hj(s,e,d,h,g){if(Zf(d)){var _=!0;cg(e)}else _=!1;if(ch(e,g),e.stateNode===null)ij(s,e),Gi(e,d,h),Ii(e,d,h,g),h=!0;else if(s===null){var j=e.stateNode,$=e.memoizedProps;j.props=$;var et=j.context,tt=d.contextType;typeof tt=="object"&&tt!==null?tt=eh(tt):(tt=Zf(d)?Xf:H.current,tt=Yf(e,tt));var nt=d.getDerivedStateFromProps,rt=typeof nt=="function"||typeof j.getSnapshotBeforeUpdate=="function";rt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||($!==h||et!==tt)&&Hi(e,j,h,tt),jh=!1;var it=e.memoizedState;j.state=it,qh(e,h,j,g),et=e.memoizedState,$!==h||it!==et||Wf.current||jh?(typeof nt=="function"&&(Di(e,d,nt,h),et=e.memoizedState),($=jh||Fi(e,d,$,h,it,et,tt))?(rt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(e.flags|=4194308)):(typeof j.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=h,e.memoizedState=et),j.props=h,j.state=et,j.context=tt,h=$):(typeof j.componentDidMount=="function"&&(e.flags|=4194308),h=!1)}else{j=e.stateNode,lh(s,e),$=e.memoizedProps,tt=e.type===e.elementType?$:Ci(e.type,$),j.props=tt,rt=e.pendingProps,it=j.context,et=d.contextType,typeof et=="object"&&et!==null?et=eh(et):(et=Zf(d)?Xf:H.current,et=Yf(e,et));var st=d.getDerivedStateFromProps;(nt=typeof st=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||($!==rt||it!==et)&&Hi(e,j,h,et),jh=!1,it=e.memoizedState,j.state=it,qh(e,h,j,g);var ot=e.memoizedState;$!==rt||it!==ot||Wf.current||jh?(typeof st=="function"&&(Di(e,d,st,h),ot=e.memoizedState),(tt=jh||Fi(e,d,tt,h,it,ot,et)||!1)?(nt||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(h,ot,et),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(h,ot,et)),typeof j.componentDidUpdate=="function"&&(e.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof j.componentDidUpdate!="function"||$===s.memoizedProps&&it===s.memoizedState||(e.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&it===s.memoizedState||(e.flags|=1024),e.memoizedProps=h,e.memoizedState=ot),j.props=h,j.state=ot,j.context=et,h=tt):(typeof j.componentDidUpdate!="function"||$===s.memoizedProps&&it===s.memoizedState||(e.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&it===s.memoizedState||(e.flags|=1024),h=!1)}return jj(s,e,d,h,_,g)}function jj(s,e,d,h,g,_){gj(s,e);var j=(e.flags&128)!==0;if(!h&&!j)return g&&dg(e,d,!1),Zi(s,e,_);h=e.stateNode,Wi.current=e;var $=j&&typeof d.getDerivedStateFromError!="function"?null:h.render();return e.flags|=1,s!==null&&j?(e.child=Ug(e,s.child,null,_),e.child=Ug(e,null,$,_)):Xi(s,e,$,_),e.memoizedState=h.state,g&&dg(e,d,!0),e.child}function kj(s){var e=s.stateNode;e.pendingContext?ag(s,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(s,e.context,!1),yh(s,e.containerInfo)}function lj(s,e,d,h,g){return Ig(),Jg(g),e.flags|=256,Xi(s,e,d,h),e.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(s){return{baseLanes:s,cachePool:null,transitions:null}}function oj(s,e,d){var h=e.pendingProps,g=L.current,_=!1,j=(e.flags&128)!==0,$;if(($=j)||($=s!==null&&s.memoizedState===null?!1:(g&2)!==0),$?(_=!0,e.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),G(L,g&1),s===null)return Eg(e),s=e.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(e.mode&1?s.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(j=h.children,s=h.fallback,_?(h=e.mode,_=e.child,j={mode:"hidden",children:j},!(h&1)&&_!==null?(_.childLanes=0,_.pendingProps=j):_=pj(j,h,0,null),s=Tg(s,h,d,null),_.return=e,s.return=e,_.sibling=s,e.child=_,e.child.memoizedState=nj(d),e.memoizedState=mj,s):qj(e,j));if(g=s.memoizedState,g!==null&&($=g.dehydrated,$!==null))return rj(s,e,j,h,$,g,d);if(_){_=h.fallback,j=e.mode,g=s.child,$=g.sibling;var et={mode:"hidden",children:h.children};return!(j&1)&&e.child!==g?(h=e.child,h.childLanes=0,h.pendingProps=et,e.deletions=null):(h=Pg(g,et),h.subtreeFlags=g.subtreeFlags&14680064),$!==null?_=Pg($,_):(_=Tg(_,j,d,null),_.flags|=2),_.return=e,h.return=e,h.sibling=_,e.child=h,h=_,_=e.child,j=s.child.memoizedState,j=j===null?nj(d):{baseLanes:j.baseLanes|d,cachePool:null,transitions:j.transitions},_.memoizedState=j,_.childLanes=s.childLanes&~d,e.memoizedState=mj,h}return _=s.child,s=_.sibling,h=Pg(_,{mode:"visible",children:h.children}),!(e.mode&1)&&(h.lanes=d),h.return=e,h.sibling=null,s!==null&&(d=e.deletions,d===null?(e.deletions=[s],e.flags|=16):d.push(s)),e.child=h,e.memoizedState=null,h}function qj(s,e){return e=pj({mode:"visible",children:e},s.mode,0,null),e.return=s,s.child=e}function sj(s,e,d,h){return h!==null&&Jg(h),Ug(e,s.child,null,d),s=qj(e,e.pendingProps.children),s.flags|=2,e.memoizedState=null,s}function rj(s,e,d,h,g,_,j){if(d)return e.flags&256?(e.flags&=-257,h=Ki(Error(p(422))),sj(s,e,j,h)):e.memoizedState!==null?(e.child=s.child,e.flags|=128,null):(_=h.fallback,g=e.mode,h=pj({mode:"visible",children:h.children},g,0,null),_=Tg(_,g,j,null),_.flags|=2,h.return=e,_.return=e,h.sibling=_,e.child=h,e.mode&1&&Ug(e,s.child,null,j),e.child.memoizedState=nj(j),e.memoizedState=mj,_);if(!(e.mode&1))return sj(s,e,j,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var $=h.dgst;return h=$,_=Error(p(419)),h=Ki(_,h,void 0),sj(s,e,j,h)}if($=(j&s.childLanes)!==0,dh||$){if(h=Q,h!==null){switch(j&-j){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(h.suspendedLanes|j)?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,ih(s,g),gi(h,s,g,-1))}return tj(),h=Ki(Error(p(421))),sj(s,e,j,h)}return g.data==="$?"?(e.flags|=128,e.child=s.child,e=uj.bind(null,s),g._reactRetry=e,null):(s=_.treeContext,yg=Lf(g.nextSibling),xg=e,I=!0,zg=null,s!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=s.id,sg=s.overflow,qg=e),e=qj(e,h.children),e.flags|=4096,e)}function vj(s,e,d){s.lanes|=e;var h=s.alternate;h!==null&&(h.lanes|=e),bh(s.return,e,d)}function wj(s,e,d,h,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:g}:(_.isBackwards=e,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=d,_.tailMode=g)}function xj(s,e,d){var h=e.pendingProps,g=h.revealOrder,_=h.tail;if(Xi(s,e,h.children,d),h=L.current,h&2)h=h&1|2,e.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=e.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&vj(s,d,e);else if(s.tag===19)vj(s,d,e);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(G(L,h),!(e.mode&1))e.memoizedState=null;else switch(g){case"forwards":for(d=e.child,g=null;d!==null;)s=d.alternate,s!==null&&Ch(s)===null&&(g=d),d=d.sibling;d=g,d===null?(g=e.child,e.child=null):(g=d.sibling,d.sibling=null),wj(e,!1,g,d,_);break;case"backwards":for(d=null,g=e.child,e.child=null;g!==null;){if(s=g.alternate,s!==null&&Ch(s)===null){e.child=g;break}s=g.sibling,g.sibling=d,d=g,g=s}wj(e,!0,d,null,_);break;case"together":wj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ij(s,e){!(e.mode&1)&&s!==null&&(s.alternate=null,e.alternate=null,e.flags|=2)}function Zi(s,e,d){if(s!==null&&(e.dependencies=s.dependencies),rh|=e.lanes,!(d&e.childLanes))return null;if(s!==null&&e.child!==s.child)throw Error(p(153));if(e.child!==null){for(s=e.child,d=Pg(s,s.pendingProps),e.child=d,d.return=e;s.sibling!==null;)s=s.sibling,d=d.sibling=Pg(s,s.pendingProps),d.return=e;d.sibling=null}return e.child}function yj(s,e,d){switch(e.tag){case 3:kj(e),Ig();break;case 5:Ah(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:yh(e,e.stateNode.containerInfo);break;case 10:var h=e.type._context,g=e.memoizedProps.value;G(Wg,h._currentValue),h._currentValue=g;break;case 13:if(h=e.memoizedState,h!==null)return h.dehydrated!==null?(G(L,L.current&1),e.flags|=128,null):d&e.child.childLanes?oj(s,e,d):(G(L,L.current&1),s=Zi(s,e,d),s!==null?s.sibling:null);G(L,L.current&1);break;case 19:if(h=(d&e.childLanes)!==0,s.flags&128){if(h)return xj(s,e,d);e.flags|=128}if(g=e.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),G(L,L.current),h)break;return null;case 22:case 23:return e.lanes=0,dj(s,e,d)}return Zi(s,e,d)}var zj,Aj,Bj,Cj;zj=function(s,e){for(var d=e.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break;for(;d.sibling===null;){if(d.return===null||d.return===e)return;d=d.return}d.sibling.return=d.return,d=d.sibling}};Aj=function(){};Bj=function(s,e,d,h){var g=s.memoizedProps;if(g!==h){s=e.stateNode,xh(uh.current);var _=null;switch(d){case"input":g=Ya(s,g),h=Ya(s,h),_=[];break;case"select":g=A({},g,{value:void 0}),h=A({},h,{value:void 0}),_=[];break;case"textarea":g=gb(s,g),h=gb(s,h),_=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Bf)}ub(d,h);var j;d=null;for(tt in g)if(!h.hasOwnProperty(tt)&&g.hasOwnProperty(tt)&&g[tt]!=null)if(tt==="style"){var $=g[tt];for(j in $)$.hasOwnProperty(j)&&(d||(d={}),d[j]="")}else tt!=="dangerouslySetInnerHTML"&&tt!=="children"&&tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&tt!=="autoFocus"&&(ea.hasOwnProperty(tt)?_||(_=[]):(_=_||[]).push(tt,null));for(tt in h){var et=h[tt];if($=g!=null?g[tt]:void 0,h.hasOwnProperty(tt)&&et!==$&&(et!=null||$!=null))if(tt==="style")if($){for(j in $)!$.hasOwnProperty(j)||et&&et.hasOwnProperty(j)||(d||(d={}),d[j]="");for(j in et)et.hasOwnProperty(j)&&$[j]!==et[j]&&(d||(d={}),d[j]=et[j])}else d||(_||(_=[]),_.push(tt,d)),d=et;else tt==="dangerouslySetInnerHTML"?(et=et?et.__html:void 0,$=$?$.__html:void 0,et!=null&&$!==et&&(_=_||[]).push(tt,et)):tt==="children"?typeof et!="string"&&typeof et!="number"||(_=_||[]).push(tt,""+et):tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(tt)?(et!=null&&tt==="onScroll"&&D$1("scroll",s),_||$===et||(_=[])):(_=_||[]).push(tt,et))}d&&(_=_||[]).push("style",d);var tt=_;(e.updateQueue=tt)&&(e.flags|=4)}};Cj=function(s,e,d,h){d!==h&&(e.flags|=4)};function Dj(s,e){if(!I)switch(s.tailMode){case"hidden":e=s.tail;for(var d=null;e!==null;)e.alternate!==null&&(d=e),e=e.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?e||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function S$1(s){var e=s.alternate!==null&&s.alternate.child===s.child,d=0,h=0;if(e)for(var g=s.child;g!==null;)d|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)d|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=d,e}function Ej(s,e,d){var h=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(e),null;case 1:return Zf(e.type)&&$f(),S$1(e),null;case 3:return h=e.stateNode,zh(),E(Wf),E(H),Eh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Gg(e)?e.flags|=4:s===null||s.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(s,e),S$1(e),null;case 5:Bh(e);var g=xh(wh.current);if(d=e.type,s!==null&&e.stateNode!=null)Bj(s,e,d,h,g),s.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!h){if(e.stateNode===null)throw Error(p(166));return S$1(e),null}if(s=xh(uh.current),Gg(e)){h=e.stateNode,d=e.type;var _=e.memoizedProps;switch(h[Of]=e,h[Pf]=_,s=(e.mode&1)!==0,d){case"dialog":D$1("cancel",h),D$1("close",h);break;case"iframe":case"object":case"embed":D$1("load",h);break;case"video":case"audio":for(g=0;g<lf.length;g++)D$1(lf[g],h);break;case"source":D$1("error",h);break;case"img":case"image":case"link":D$1("error",h),D$1("load",h);break;case"details":D$1("toggle",h);break;case"input":Za(h,_),D$1("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!_.multiple},D$1("invalid",h);break;case"textarea":hb(h,_),D$1("invalid",h)}ub(d,_),g=null;for(var j in _)if(_.hasOwnProperty(j)){var $=_[j];j==="children"?typeof $=="string"?h.textContent!==$&&(_.suppressHydrationWarning!==!0&&Af(h.textContent,$,s),g=["children",$]):typeof $=="number"&&h.textContent!==""+$&&(_.suppressHydrationWarning!==!0&&Af(h.textContent,$,s),g=["children",""+$]):ea.hasOwnProperty(j)&&$!=null&&j==="onScroll"&&D$1("scroll",h)}switch(d){case"input":Va(h),db$1(h,_,!0);break;case"textarea":Va(h),jb(h);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(h.onclick=Bf)}h=g,e.updateQueue=h,h!==null&&(e.flags|=4)}else{j=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=kb(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=j.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=j.createElement(d,{is:h.is}):(s=j.createElement(d),d==="select"&&(j=s,h.multiple?j.multiple=!0:h.size&&(j.size=h.size))):s=j.createElementNS(s,d),s[Of]=e,s[Pf]=h,zj(s,e,!1,!1),e.stateNode=s;e:{switch(j=vb(d,h),d){case"dialog":D$1("cancel",s),D$1("close",s),g=h;break;case"iframe":case"object":case"embed":D$1("load",s),g=h;break;case"video":case"audio":for(g=0;g<lf.length;g++)D$1(lf[g],s);g=h;break;case"source":D$1("error",s),g=h;break;case"img":case"image":case"link":D$1("error",s),D$1("load",s),g=h;break;case"details":D$1("toggle",s),g=h;break;case"input":Za(s,h),g=Ya(s,h),D$1("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=A({},h,{value:void 0}),D$1("invalid",s);break;case"textarea":hb(s,h),g=gb(s,h),D$1("invalid",s);break;default:g=h}ub(d,g),$=g;for(_ in $)if($.hasOwnProperty(_)){var et=$[_];_==="style"?sb(s,et):_==="dangerouslySetInnerHTML"?(et=et?et.__html:void 0,et!=null&&nb(s,et)):_==="children"?typeof et=="string"?(d!=="textarea"||et!=="")&&ob(s,et):typeof et=="number"&&ob(s,""+et):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(ea.hasOwnProperty(_)?et!=null&&_==="onScroll"&&D$1("scroll",s):et!=null&&ta(s,_,et,j))}switch(d){case"input":Va(s),db$1(s,h,!1);break;case"textarea":Va(s),jb(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Sa(h.value));break;case"select":s.multiple=!!h.multiple,_=h.value,_!=null?fb(s,!!h.multiple,_,!1):h.defaultValue!=null&&fb(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Bf)}switch(d){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S$1(e),null;case 6:if(s&&e.stateNode!=null)Cj(s,e,s.memoizedProps,h);else{if(typeof h!="string"&&e.stateNode===null)throw Error(p(166));if(d=xh(wh.current),xh(uh.current),Gg(e)){if(h=e.stateNode,d=e.memoizedProps,h[Of]=e,(_=h.nodeValue!==d)&&(s=xg,s!==null))switch(s.tag){case 3:Af(h.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Af(h.nodeValue,d,(s.mode&1)!==0)}_&&(e.flags|=4)}else h=(d.nodeType===9?d:d.ownerDocument).createTextNode(h),h[Of]=e,e.stateNode=h}return S$1(e),null;case 13:if(E(L),h=e.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(I&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,_=!1;else if(_=Gg(e),h!==null&&h.dehydrated!==null){if(s===null){if(!_)throw Error(p(318));if(_=e.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(p(317));_[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S$1(e),_=!1}else zg!==null&&(Fj(zg),zg=null),_=!0;if(!_)return e.flags&65536?e:null}return e.flags&128?(e.lanes=d,e):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(e.child.flags|=8192,e.mode&1&&(s===null||L.current&1?T===0&&(T=3):tj())),e.updateQueue!==null&&(e.flags|=4),S$1(e),null);case 4:return zh(),Aj(s,e),s===null&&sf(e.stateNode.containerInfo),S$1(e),null;case 10:return ah(e.type._context),S$1(e),null;case 17:return Zf(e.type)&&$f(),S$1(e),null;case 19:if(E(L),_=e.memoizedState,_===null)return S$1(e),null;if(h=(e.flags&128)!==0,j=_.rendering,j===null)if(h)Dj(_,!1);else{if(T!==0||s!==null&&s.flags&128)for(s=e.child;s!==null;){if(j=Ch(s),j!==null){for(e.flags|=128,Dj(_,!1),h=j.updateQueue,h!==null&&(e.updateQueue=h,e.flags|=4),e.subtreeFlags=0,h=d,d=e.child;d!==null;)_=d,s=h,_.flags&=14680066,j=_.alternate,j===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=j.childLanes,_.lanes=j.lanes,_.child=j.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=j.memoizedProps,_.memoizedState=j.memoizedState,_.updateQueue=j.updateQueue,_.type=j.type,s=j.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return G(L,L.current&1|2),e.child}s=s.sibling}_.tail!==null&&B()>Gj&&(e.flags|=128,h=!0,Dj(_,!1),e.lanes=4194304)}else{if(!h)if(s=Ch(j),s!==null){if(e.flags|=128,h=!0,d=s.updateQueue,d!==null&&(e.updateQueue=d,e.flags|=4),Dj(_,!0),_.tail===null&&_.tailMode==="hidden"&&!j.alternate&&!I)return S$1(e),null}else 2*B()-_.renderingStartTime>Gj&&d!==1073741824&&(e.flags|=128,h=!0,Dj(_,!1),e.lanes=4194304);_.isBackwards?(j.sibling=e.child,e.child=j):(d=_.last,d!==null?d.sibling=j:e.child=j,_.last=j)}return _.tail!==null?(e=_.tail,_.rendering=e,_.tail=e.sibling,_.renderingStartTime=B(),e.sibling=null,d=L.current,G(L,h?d&1|2:d&1),e):(S$1(e),null);case 22:case 23:return Hj(),h=e.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(e.flags|=8192),h&&e.mode&1?fj&1073741824&&(S$1(e),e.subtreeFlags&6&&(e.flags|=8192)):S$1(e),null;case 24:return null;case 25:return null}throw Error(p(156,e.tag))}function Ij(s,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),s=e.flags,s&65536?(e.flags=s&-65537|128,e):null;case 3:return zh(),E(Wf),E(H),Eh(),s=e.flags,s&65536&&!(s&128)?(e.flags=s&-65537|128,e):null;case 5:return Bh(e),null;case 13:if(E(L),s=e.memoizedState,s!==null&&s.dehydrated!==null){if(e.alternate===null)throw Error(p(340));Ig()}return s=e.flags,s&65536?(e.flags=s&-65537|128,e):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(e.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(s,e){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(h){W(s,e,h)}else d.current=null}function Mj(s,e,d){try{d()}catch(h){W(s,e,h)}}var Nj=!1;function Oj(s,e){if(Cf=dd,s=Me(),Ne(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var g=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{d.nodeType,_.nodeType}catch{d=null;break e}var j=0,$=-1,et=-1,tt=0,nt=0,rt=s,it=null;t:for(;;){for(var st;rt!==d||g!==0&&rt.nodeType!==3||($=j+g),rt!==_||h!==0&&rt.nodeType!==3||(et=j+h),rt.nodeType===3&&(j+=rt.nodeValue.length),(st=rt.firstChild)!==null;)it=rt,rt=st;for(;;){if(rt===s)break t;if(it===d&&++tt===g&&($=j),it===_&&++nt===h&&(et=j),(st=rt.nextSibling)!==null)break;rt=it,it=rt.parentNode}rt=st}d=$===-1||et===-1?null:{start:$,end:et}}else d=null}d=d||{start:0,end:0}}else d=null;for(Df={focusedElem:s,selectionRange:d},dd=!1,V=e;V!==null;)if(e=V,s=e.child,(e.subtreeFlags&1028)!==0&&s!==null)s.return=e,V=s;else for(;V!==null;){e=V;try{var ot=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var lt=ot.memoizedProps,dt=ot.memoizedState,at=e.stateNode,ut=at.getSnapshotBeforeUpdate(e.elementType===e.type?lt:Ci(e.type,lt),dt);at.__reactInternalSnapshotBeforeUpdate=ut}break;case 3:var pt=e.stateNode.containerInfo;pt.nodeType===1?pt.textContent="":pt.nodeType===9&&pt.documentElement&&pt.removeChild(pt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(vt){W(e,e.return,vt)}if(s=e.sibling,s!==null){s.return=e.return,V=s;break}V=e.return}return ot=Nj,Nj=!1,ot}function Pj(s,e,d){var h=e.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var _=g.destroy;g.destroy=void 0,_!==void 0&&Mj(e,d,_)}g=g.next}while(g!==h)}}function Qj(s,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var d=e=e.next;do{if((d.tag&s)===s){var h=d.create;d.destroy=h()}d=d.next}while(d!==e)}}function Rj(s){var e=s.ref;if(e!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof e=="function"?e(s):e.current=s}}function Sj(s){var e=s.alternate;e!==null&&(s.alternate=null,Sj(e)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(e=s.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Tj(s){return s.tag===5||s.tag===3||s.tag===4}function Uj(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Tj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vj(s,e,d){var h=s.tag;if(h===5||h===6)s=s.stateNode,e?d.nodeType===8?d.parentNode.insertBefore(s,e):d.insertBefore(s,e):(d.nodeType===8?(e=d.parentNode,e.insertBefore(s,d)):(e=d,e.appendChild(s)),d=d._reactRootContainer,d!=null||e.onclick!==null||(e.onclick=Bf));else if(h!==4&&(s=s.child,s!==null))for(Vj(s,e,d),s=s.sibling;s!==null;)Vj(s,e,d),s=s.sibling}function Wj(s,e,d){var h=s.tag;if(h===5||h===6)s=s.stateNode,e?d.insertBefore(s,e):d.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Wj(s,e,d),s=s.sibling;s!==null;)Wj(s,e,d),s=s.sibling}var X=null,Xj=!1;function Yj(s,e,d){for(d=d.child;d!==null;)Zj(s,e,d),d=d.sibling}function Zj(s,e,d){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,d)}catch{}switch(d.tag){case 5:U||Lj(d,e);case 6:var h=X,g=Xj;X=null,Yj(s,e,d),X=h,Xj=g,X!==null&&(Xj?(s=X,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):X.removeChild(d.stateNode));break;case 18:X!==null&&(Xj?(s=X,d=d.stateNode,s.nodeType===8?Kf(s.parentNode,d):s.nodeType===1&&Kf(s,d),bd(s)):Kf(X,d.stateNode));break;case 4:h=X,g=Xj,X=d.stateNode.containerInfo,Xj=!0,Yj(s,e,d),X=h,Xj=g;break;case 0:case 11:case 14:case 15:if(!U&&(h=d.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var _=g,j=_.destroy;_=_.tag,j!==void 0&&(_&2||_&4)&&Mj(d,e,j),g=g.next}while(g!==h)}Yj(s,e,d);break;case 1:if(!U&&(Lj(d,e),h=d.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=d.memoizedProps,h.state=d.memoizedState,h.componentWillUnmount()}catch($){W(d,e,$)}Yj(s,e,d);break;case 21:Yj(s,e,d);break;case 22:d.mode&1?(U=(h=U)||d.memoizedState!==null,Yj(s,e,d),U=h):Yj(s,e,d);break;default:Yj(s,e,d)}}function ak(s){var e=s.updateQueue;if(e!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new Kj),e.forEach(function(h){var g=bk.bind(null,s,h);d.has(h)||(d.add(h),h.then(g,g))})}}function ck(s,e){var d=e.deletions;if(d!==null)for(var h=0;h<d.length;h++){var g=d[h];try{var _=s,j=e,$=j;e:for(;$!==null;){switch($.tag){case 5:X=$.stateNode,Xj=!1;break e;case 3:X=$.stateNode.containerInfo,Xj=!0;break e;case 4:X=$.stateNode.containerInfo,Xj=!0;break e}$=$.return}if(X===null)throw Error(p(160));Zj(_,j,g),X=null,Xj=!1;var et=g.alternate;et!==null&&(et.return=null),g.return=null}catch(tt){W(g,e,tt)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dk(e,s),e=e.sibling}function dk(s,e){var d=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ck(e,s),ek(s),h&4){try{Pj(3,s,s.return),Qj(3,s)}catch(lt){W(s,s.return,lt)}try{Pj(5,s,s.return)}catch(lt){W(s,s.return,lt)}}break;case 1:ck(e,s),ek(s),h&512&&d!==null&&Lj(d,d.return);break;case 5:if(ck(e,s),ek(s),h&512&&d!==null&&Lj(d,d.return),s.flags&32){var g=s.stateNode;try{ob(g,"")}catch(lt){W(s,s.return,lt)}}if(h&4&&(g=s.stateNode,g!=null)){var _=s.memoizedProps,j=d!==null?d.memoizedProps:_,$=s.type,et=s.updateQueue;if(s.updateQueue=null,et!==null)try{$==="input"&&_.type==="radio"&&_.name!=null&&ab(g,_),vb($,j);var tt=vb($,_);for(j=0;j<et.length;j+=2){var nt=et[j],rt=et[j+1];nt==="style"?sb(g,rt):nt==="dangerouslySetInnerHTML"?nb(g,rt):nt==="children"?ob(g,rt):ta(g,nt,rt,tt)}switch($){case"input":bb(g,_);break;case"textarea":ib(g,_);break;case"select":var it=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var st=_.value;st!=null?fb(g,!!_.multiple,st,!1):it!==!!_.multiple&&(_.defaultValue!=null?fb(g,!!_.multiple,_.defaultValue,!0):fb(g,!!_.multiple,_.multiple?[]:"",!1))}g[Pf]=_}catch(lt){W(s,s.return,lt)}}break;case 6:if(ck(e,s),ek(s),h&4){if(s.stateNode===null)throw Error(p(162));g=s.stateNode,_=s.memoizedProps;try{g.nodeValue=_}catch(lt){W(s,s.return,lt)}}break;case 3:if(ck(e,s),ek(s),h&4&&d!==null&&d.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(lt){W(s,s.return,lt)}break;case 4:ck(e,s),ek(s);break;case 13:ck(e,s),ek(s),g=s.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(fk=B())),h&4&&ak(s);break;case 22:if(nt=d!==null&&d.memoizedState!==null,s.mode&1?(U=(tt=U)||nt,ck(e,s),U=tt):ck(e,s),ek(s),h&8192){if(tt=s.memoizedState!==null,(s.stateNode.isHidden=tt)&&!nt&&s.mode&1)for(V=s,nt=s.child;nt!==null;){for(rt=V=nt;V!==null;){switch(it=V,st=it.child,it.tag){case 0:case 11:case 14:case 15:Pj(4,it,it.return);break;case 1:Lj(it,it.return);var ot=it.stateNode;if(typeof ot.componentWillUnmount=="function"){h=it,d=it.return;try{e=h,ot.props=e.memoizedProps,ot.state=e.memoizedState,ot.componentWillUnmount()}catch(lt){W(h,d,lt)}}break;case 5:Lj(it,it.return);break;case 22:if(it.memoizedState!==null){gk(rt);continue}}st!==null?(st.return=it,V=st):gk(rt)}nt=nt.sibling}e:for(nt=null,rt=s;;){if(rt.tag===5){if(nt===null){nt=rt;try{g=rt.stateNode,tt?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):($=rt.stateNode,et=rt.memoizedProps.style,j=et!=null&&et.hasOwnProperty("display")?et.display:null,$.style.display=rb("display",j))}catch(lt){W(s,s.return,lt)}}}else if(rt.tag===6){if(nt===null)try{rt.stateNode.nodeValue=tt?"":rt.memoizedProps}catch(lt){W(s,s.return,lt)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===s)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===s)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===s)break e;nt===rt&&(nt=null),rt=rt.return}nt===rt&&(nt=null),rt.sibling.return=rt.return,rt=rt.sibling}}break;case 19:ck(e,s),ek(s),h&4&&ak(s);break;case 21:break;default:ck(e,s),ek(s)}}function ek(s){var e=s.flags;if(e&2){try{e:{for(var d=s.return;d!==null;){if(Tj(d)){var h=d;break e}d=d.return}throw Error(p(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(ob(g,""),h.flags&=-33);var _=Uj(s);Wj(s,_,g);break;case 3:case 4:var j=h.stateNode.containerInfo,$=Uj(s);Vj(s,$,j);break;default:throw Error(p(161))}}catch(et){W(s,s.return,et)}s.flags&=-3}e&4096&&(s.flags&=-4097)}function hk(s,e,d){V=s,ik(s)}function ik(s,e,d){for(var h=(s.mode&1)!==0;V!==null;){var g=V,_=g.child;if(g.tag===22&&h){var j=g.memoizedState!==null||Jj;if(!j){var $=g.alternate,et=$!==null&&$.memoizedState!==null||U;$=Jj;var tt=U;if(Jj=j,(U=et)&&!tt)for(V=g;V!==null;)j=V,et=j.child,j.tag===22&&j.memoizedState!==null?jk(g):et!==null?(et.return=j,V=et):jk(g);for(;_!==null;)V=_,ik(_),_=_.sibling;V=g,Jj=$,U=tt}kk(s)}else g.subtreeFlags&8772&&_!==null?(_.return=g,V=_):kk(s)}}function kk(s){for(;V!==null;){var e=V;if(e.flags&8772){var d=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U||Qj(5,e);break;case 1:var h=e.stateNode;if(e.flags&4&&!U)if(d===null)h.componentDidMount();else{var g=e.elementType===e.type?d.memoizedProps:Ci(e.type,d.memoizedProps);h.componentDidUpdate(g,d.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var _=e.updateQueue;_!==null&&sh(e,_,h);break;case 3:var j=e.updateQueue;if(j!==null){if(d=null,e.child!==null)switch(e.child.tag){case 5:d=e.child.stateNode;break;case 1:d=e.child.stateNode}sh(e,j,d)}break;case 5:var $=e.stateNode;if(d===null&&e.flags&4){d=$;var et=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":et.autoFocus&&d.focus();break;case"img":et.src&&(d.src=et.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var tt=e.alternate;if(tt!==null){var nt=tt.memoizedState;if(nt!==null){var rt=nt.dehydrated;rt!==null&&bd(rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||e.flags&512&&Rj(e)}catch(it){W(e,e.return,it)}}if(e===s){V=null;break}if(d=e.sibling,d!==null){d.return=e.return,V=d;break}V=e.return}}function gk(s){for(;V!==null;){var e=V;if(e===s){V=null;break}var d=e.sibling;if(d!==null){d.return=e.return,V=d;break}V=e.return}}function jk(s){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var d=e.return;try{Qj(4,e)}catch(et){W(e,d,et)}break;case 1:var h=e.stateNode;if(typeof h.componentDidMount=="function"){var g=e.return;try{h.componentDidMount()}catch(et){W(e,g,et)}}var _=e.return;try{Rj(e)}catch(et){W(e,_,et)}break;case 5:var j=e.return;try{Rj(e)}catch(et){W(e,j,et)}}}catch(et){W(e,e.return,et)}if(e===s){V=null;break}var $=e.sibling;if($!==null){$.return=e.return,V=$;break}V=e.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(s){return s.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(s=C$1,s!==0||(s=window.event,s=s===void 0?16:jd(s.type)),s):1}function gi(s,e,d,h){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(s,d,h),(!(K&2)||s!==Q)&&(s===Q&&(!(K&2)&&(qk|=d),T===4&&Ck(s,Z)),Dk(s,h),d===1&&K===0&&!(e.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(s,e){var d=s.callbackNode;wc(s,e);var h=uc(s,s===Q?Z:0);if(h===0)d!==null&&bc(d),s.callbackNode=null,s.callbackPriority=0;else if(e=h&-h,s.callbackPriority!==e){if(d!=null&&bc(d),e===1)s.tag===0?ig(Ek.bind(null,s)):hg(Ek.bind(null,s)),Jf(function(){!(K&6)&&jg()}),d=null;else{switch(Dc(h)){case 1:d=fc;break;case 4:d=gc;break;case 16:d=hc;break;case 536870912:d=jc;break;default:d=hc}d=Fk(d,Gk.bind(null,s))}s.callbackPriority=e,s.callbackNode=d}}function Gk(s,e){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var d=s.callbackNode;if(Hk()&&s.callbackNode!==d)return null;var h=uc(s,s===Q?Z:0);if(h===0)return null;if(h&30||h&s.expiredLanes||e)e=Ik(s,h);else{e=h;var g=K;K|=2;var _=Jk();(Q!==s||Z!==e)&&(uk=null,Gj=B()+500,Kk(s,e));do try{Lk();break}catch($){Mk(s,$)}while(!0);$g(),mk.current=_,K=g,Y!==null?e=0:(Q=null,Z=0,e=T)}if(e!==0){if(e===2&&(g=xc(s),g!==0&&(h=g,e=Nk(s,g))),e===1)throw d=pk,Kk(s,0),Ck(s,h),Dk(s,B()),d;if(e===6)Ck(s,h);else{if(g=s.current.alternate,!(h&30)&&!Ok(g)&&(e=Ik(s,h),e===2&&(_=xc(s),_!==0&&(h=_,e=Nk(s,_))),e===1))throw d=pk,Kk(s,0),Ck(s,h),Dk(s,B()),d;switch(s.finishedWork=g,s.finishedLanes=h,e){case 0:case 1:throw Error(p(345));case 2:Pk(s,tk,uk);break;case 3:if(Ck(s,h),(h&130023424)===h&&(e=fk+500-B(),10<e)){if(uc(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){R(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Ff(Pk.bind(null,s,tk,uk),e);break}Pk(s,tk,uk);break;case 4:if(Ck(s,h),(h&4194240)===h)break;for(e=s.eventTimes,g=-1;0<h;){var j=31-oc(h);_=1<<j,j=e[j],j>g&&(g=j),h&=~_}if(h=g,h=B()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*lk(h/1960))-h,10<h){s.timeoutHandle=Ff(Pk.bind(null,s,tk,uk),h);break}Pk(s,tk,uk);break;case 5:Pk(s,tk,uk);break;default:throw Error(p(329))}}}return Dk(s,B()),s.callbackNode===d?Gk.bind(null,s):null}function Nk(s,e){var d=sk;return s.current.memoizedState.isDehydrated&&(Kk(s,e).flags|=256),s=Ik(s,e),s!==2&&(e=tk,tk=d,e!==null&&Fj(e)),s}function Fj(s){tk===null?tk=s:tk.push.apply(tk,s)}function Ok(s){for(var e=s;;){if(e.flags&16384){var d=e.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var h=0;h<d.length;h++){var g=d[h],_=g.getSnapshot;g=g.value;try{if(!He(_(),g))return!1}catch{return!1}}}if(d=e.child,e.subtreeFlags&16384&&d!==null)d.return=e,e=d;else{if(e===s)break;for(;e.sibling===null;){if(e.return===null||e.return===s)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ck(s,e){for(e&=~rk,e&=~qk,s.suspendedLanes|=e,s.pingedLanes&=~e,s=s.expirationTimes;0<e;){var d=31-oc(e),h=1<<d;s[d]=-1,e&=~h}}function Ek(s){if(K&6)throw Error(p(327));Hk();var e=uc(s,0);if(!(e&1))return Dk(s,B()),null;var d=Ik(s,e);if(s.tag!==0&&d===2){var h=xc(s);h!==0&&(e=h,d=Nk(s,h))}if(d===1)throw d=pk,Kk(s,0),Ck(s,e),Dk(s,B()),d;if(d===6)throw Error(p(345));return s.finishedWork=s.current.alternate,s.finishedLanes=e,Pk(s,tk,uk),Dk(s,B()),null}function Qk(s,e){var d=K;K|=1;try{return s(e)}finally{K=d,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(s){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var e=K;K|=1;var d=ok.transition,h=C$1;try{if(ok.transition=null,C$1=1,s)return s()}finally{C$1=h,ok.transition=d,K=e,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(s,e){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,Gf(d)),Y!==null)for(d=Y.return;d!==null;){var h=d;switch(wg(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(h);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(h.type._context);break;case 22:case 23:Hj()}d=d.return}if(Q=s,Y=s=Pg(s.current,null),Z=fj=e,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(e=0;e<fh.length;e++)if(d=fh[e],h=d.interleaved,h!==null){d.interleaved=null;var g=h.next,_=d.pending;if(_!==null){var j=_.next;_.next=g,h.next=j}d.pending=h}fh=null}return s}function Mk(s,e){do{var d=Y;try{if($g(),Fh.current=Rh,Ih){for(var h=M.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,d===null||d.return===null){T=1,pk=e,Y=null;break}e:{var _=s,j=d.return,$=d,et=e;if(e=Z,$.flags|=32768,et!==null&&typeof et=="object"&&typeof et.then=="function"){var tt=et,nt=$,rt=nt.tag;if(!(nt.mode&1)&&(rt===0||rt===11||rt===15)){var it=nt.alternate;it?(nt.updateQueue=it.updateQueue,nt.memoizedState=it.memoizedState,nt.lanes=it.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var st=Ui(j);if(st!==null){st.flags&=-257,Vi(st,j,$,_,e),st.mode&1&&Si(_,tt,e),e=st,et=tt;var ot=e.updateQueue;if(ot===null){var lt=new Set;lt.add(et),e.updateQueue=lt}else ot.add(et);break e}else{if(!(e&1)){Si(_,tt,e),tj();break e}et=Error(p(426))}}else if(I&&$.mode&1){var dt=Ui(j);if(dt!==null){!(dt.flags&65536)&&(dt.flags|=256),Vi(dt,j,$,_,e),Jg(Ji(et,$));break e}}_=et=Ji(et,$),T!==4&&(T=2),sk===null?sk=[_]:sk.push(_),_=j;do{switch(_.tag){case 3:_.flags|=65536,e&=-e,_.lanes|=e;var at=Ni(_,et,e);ph(_,at);break e;case 1:$=et;var ut=_.type,pt=_.stateNode;if(!(_.flags&128)&&(typeof ut.getDerivedStateFromError=="function"||pt!==null&&typeof pt.componentDidCatch=="function"&&(Ri===null||!Ri.has(pt)))){_.flags|=65536,e&=-e,_.lanes|=e;var vt=Qi(_,$,e);ph(_,vt);break e}}_=_.return}while(_!==null)}Sk(d)}catch(ht){e=ht,Y===d&&d!==null&&(Y=d=d.return);continue}break}while(!0)}function Jk(){var s=mk.current;return mk.current=Rh,s===null?Rh:s}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(s,e){var d=K;K|=2;var h=Jk();(Q!==s||Z!==e)&&(uk=null,Kk(s,e));do try{Tk();break}catch(g){Mk(s,g)}while(!0);if($g(),K=d,mk.current=h,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(s){var e=Vk(s.alternate,s,fj);s.memoizedProps=s.pendingProps,e===null?Sk(s):Y=e,nk.current=null}function Sk(s){var e=s;do{var d=e.alternate;if(s=e.return,e.flags&32768){if(d=Ij(d,e),d!==null){d.flags&=32767,Y=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{T=6,Y=null;return}}else if(d=Ej(d,e,fj),d!==null){Y=d;return}if(e=e.sibling,e!==null){Y=e;return}Y=e=s}while(e!==null);T===0&&(T=5)}function Pk(s,e,d){var h=C$1,g=ok.transition;try{ok.transition=null,C$1=1,Wk(s,e,d,h)}finally{ok.transition=g,C$1=h}return null}function Wk(s,e,d,h){do Hk();while(wk!==null);if(K&6)throw Error(p(327));d=s.finishedWork;var g=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(p(177));s.callbackNode=null,s.callbackPriority=0;var _=d.lanes|d.childLanes;if(Bc(s,_),s===Q&&(Y=Q=null,Z=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),_=(d.flags&15990)!==0,d.subtreeFlags&15990||_){_=ok.transition,ok.transition=null;var j=C$1;C$1=1;var $=K;K|=4,nk.current=null,Oj(s,d),dk(d,s),Oe(Df),dd=!!Cf,Df=Cf=null,s.current=d,hk(d),dc(),K=$,C$1=j,ok.transition=_}else s.current=d;if(vk&&(vk=!1,wk=s,xk=g),_=s.pendingLanes,_===0&&(Ri=null),mc(d.stateNode),Dk(s,B()),e!==null)for(h=s.onRecoverableError,d=0;d<e.length;d++)g=e[d],h(g.value,{componentStack:g.stack,digest:g.digest});if(Oi)throw Oi=!1,s=Pi,Pi=null,s;return xk&1&&s.tag!==0&&Hk(),_=s.pendingLanes,_&1?s===zk?yk++:(yk=0,zk=s):yk=0,jg(),null}function Hk(){if(wk!==null){var s=Dc(xk),e=ok.transition,d=C$1;try{if(ok.transition=null,C$1=16>s?16:s,wk===null)var h=!1;else{if(s=wk,wk=null,xk=0,K&6)throw Error(p(331));var g=K;for(K|=4,V=s.current;V!==null;){var _=V,j=_.child;if(V.flags&16){var $=_.deletions;if($!==null){for(var et=0;et<$.length;et++){var tt=$[et];for(V=tt;V!==null;){var nt=V;switch(nt.tag){case 0:case 11:case 15:Pj(8,nt,_)}var rt=nt.child;if(rt!==null)rt.return=nt,V=rt;else for(;V!==null;){nt=V;var it=nt.sibling,st=nt.return;if(Sj(nt),nt===tt){V=null;break}if(it!==null){it.return=st,V=it;break}V=st}}}var ot=_.alternate;if(ot!==null){var lt=ot.child;if(lt!==null){ot.child=null;do{var dt=lt.sibling;lt.sibling=null,lt=dt}while(lt!==null)}}V=_}}if(_.subtreeFlags&2064&&j!==null)j.return=_,V=j;else e:for(;V!==null;){if(_=V,_.flags&2048)switch(_.tag){case 0:case 11:case 15:Pj(9,_,_.return)}var at=_.sibling;if(at!==null){at.return=_.return,V=at;break e}V=_.return}}var ut=s.current;for(V=ut;V!==null;){j=V;var pt=j.child;if(j.subtreeFlags&2064&&pt!==null)pt.return=j,V=pt;else e:for(j=ut;V!==null;){if($=V,$.flags&2048)try{switch($.tag){case 0:case 11:case 15:Qj(9,$)}}catch(ht){W($,$.return,ht)}if($===j){V=null;break e}var vt=$.sibling;if(vt!==null){vt.return=$.return,V=vt;break e}V=$.return}}if(K=g,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,s)}catch{}h=!0}return h}finally{C$1=d,ok.transition=e}}return!1}function Xk(s,e,d){e=Ji(d,e),e=Ni(s,e,1),s=nh(s,e,1),e=R(),s!==null&&(Ac(s,1,e),Dk(s,e))}function W(s,e,d){if(s.tag===3)Xk(s,s,d);else for(;e!==null;){if(e.tag===3){Xk(e,s,d);break}else if(e.tag===1){var h=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ri===null||!Ri.has(h))){s=Ji(d,s),s=Qi(e,s,1),e=nh(e,s,1),s=R(),e!==null&&(Ac(e,1,s),Dk(e,s));break}}e=e.return}}function Ti(s,e,d){var h=s.pingCache;h!==null&&h.delete(e),e=R(),s.pingedLanes|=s.suspendedLanes&d,Q===s&&(Z&d)===d&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(s,0):rk|=d),Dk(s,e)}function Yk(s,e){e===0&&(s.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var d=R();s=ih(s,e),s!==null&&(Ac(s,e,d),Dk(s,d))}function uj(s){var e=s.memoizedState,d=0;e!==null&&(d=e.retryLane),Yk(s,d)}function bk(s,e){var d=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(d=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(p(314))}h!==null&&h.delete(e),Yk(s,d)}var Vk;Vk=function(s,e,d){if(s!==null)if(s.memoizedProps!==e.pendingProps||Wf.current)dh=!0;else{if(!(s.lanes&d)&&!(e.flags&128))return dh=!1,yj(s,e,d);dh=!!(s.flags&131072)}else dh=!1,I&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var h=e.type;ij(s,e),s=e.pendingProps;var g=Yf(e,H.current);ch(e,d),g=Nh(null,e,h,s,g,d);var _=Sh();return e.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(h)?(_=!0,cg(e)):_=!1,e.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,kh(e),g.updater=Ei,e.stateNode=g,g._reactInternals=e,Ii(e,h,s,d),e=jj(null,e,h,!0,_,d)):(e.tag=0,I&&_&&vg(e),Xi(null,e,g,d),e=e.child),e;case 16:h=e.elementType;e:{switch(ij(s,e),s=e.pendingProps,g=h._init,h=g(h._payload),e.type=h,g=e.tag=Zk(h),s=Ci(h,s),g){case 0:e=cj(null,e,h,s,d);break e;case 1:e=hj(null,e,h,s,d);break e;case 11:e=Yi(null,e,h,s,d);break e;case 14:e=$i(null,e,h,Ci(h.type,s),d);break e}throw Error(p(306,h,""))}return e;case 0:return h=e.type,g=e.pendingProps,g=e.elementType===h?g:Ci(h,g),cj(s,e,h,g,d);case 1:return h=e.type,g=e.pendingProps,g=e.elementType===h?g:Ci(h,g),hj(s,e,h,g,d);case 3:e:{if(kj(e),s===null)throw Error(p(387));h=e.pendingProps,_=e.memoizedState,g=_.element,lh(s,e),qh(e,h,null,d);var j=e.memoizedState;if(h=j.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},e.updateQueue.baseState=_,e.memoizedState=_,e.flags&256){g=Ji(Error(p(423)),e),e=lj(s,e,h,d,g);break e}else if(h!==g){g=Ji(Error(p(424)),e),e=lj(s,e,h,d,g);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I=!0,zg=null,d=Vg(e,null,h,d),e.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ig(),h===g){e=Zi(s,e,d);break e}Xi(s,e,h,d)}e=e.child}return e;case 5:return Ah(e),s===null&&Eg(e),h=e.type,g=e.pendingProps,_=s!==null?s.memoizedProps:null,j=g.children,Ef(h,g)?j=null:_!==null&&Ef(h,_)&&(e.flags|=32),gj(s,e),Xi(s,e,j,d),e.child;case 6:return s===null&&Eg(e),null;case 13:return oj(s,e,d);case 4:return yh(e,e.stateNode.containerInfo),h=e.pendingProps,s===null?e.child=Ug(e,null,h,d):Xi(s,e,h,d),e.child;case 11:return h=e.type,g=e.pendingProps,g=e.elementType===h?g:Ci(h,g),Yi(s,e,h,g,d);case 7:return Xi(s,e,e.pendingProps,d),e.child;case 8:return Xi(s,e,e.pendingProps.children,d),e.child;case 12:return Xi(s,e,e.pendingProps.children,d),e.child;case 10:e:{if(h=e.type._context,g=e.pendingProps,_=e.memoizedProps,j=g.value,G(Wg,h._currentValue),h._currentValue=j,_!==null)if(He(_.value,j)){if(_.children===g.children&&!Wf.current){e=Zi(s,e,d);break e}}else for(_=e.child,_!==null&&(_.return=e);_!==null;){var $=_.dependencies;if($!==null){j=_.child;for(var et=$.firstContext;et!==null;){if(et.context===h){if(_.tag===1){et=mh(-1,d&-d),et.tag=2;var tt=_.updateQueue;if(tt!==null){tt=tt.shared;var nt=tt.pending;nt===null?et.next=et:(et.next=nt.next,nt.next=et),tt.pending=et}}_.lanes|=d,et=_.alternate,et!==null&&(et.lanes|=d),bh(_.return,d,e),$.lanes|=d;break}et=et.next}}else if(_.tag===10)j=_.type===e.type?null:_.child;else if(_.tag===18){if(j=_.return,j===null)throw Error(p(341));j.lanes|=d,$=j.alternate,$!==null&&($.lanes|=d),bh(j,d,e),j=_.sibling}else j=_.child;if(j!==null)j.return=_;else for(j=_;j!==null;){if(j===e){j=null;break}if(_=j.sibling,_!==null){_.return=j.return,j=_;break}j=j.return}_=j}Xi(s,e,g.children,d),e=e.child}return e;case 9:return g=e.type,h=e.pendingProps.children,ch(e,d),g=eh(g),h=h(g),e.flags|=1,Xi(s,e,h,d),e.child;case 14:return h=e.type,g=Ci(h,e.pendingProps),g=Ci(h.type,g),$i(s,e,h,g,d);case 15:return bj(s,e,e.type,e.pendingProps,d);case 17:return h=e.type,g=e.pendingProps,g=e.elementType===h?g:Ci(h,g),ij(s,e),e.tag=1,Zf(h)?(s=!0,cg(e)):s=!1,ch(e,d),Gi(e,h,g),Ii(e,h,g,d),jj(null,e,h,!0,s,d);case 19:return xj(s,e,d);case 22:return dj(s,e,d)}throw Error(p(156,e.tag))};function Fk(s,e){return ac(s,e)}function $k(s,e,d,h){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(s,e,d,h){return new $k(s,e,d,h)}function aj(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Zk(s){if(typeof s=="function")return aj(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Da)return 11;if(s===Ga)return 14}return 2}function Pg(s,e){var d=s.alternate;return d===null?(d=Bg(s.tag,e,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=e,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,e=s.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function Rg(s,e,d,h,g,_){var j=2;if(h=s,typeof s=="function")aj(s)&&(j=1);else if(typeof s=="string")j=5;else e:switch(s){case ya:return Tg(d.children,g,_,e);case za:j=8,g|=8;break;case Aa:return s=Bg(12,d,e,g|2),s.elementType=Aa,s.lanes=_,s;case Ea:return s=Bg(13,d,e,g),s.elementType=Ea,s.lanes=_,s;case Fa:return s=Bg(19,d,e,g),s.elementType=Fa,s.lanes=_,s;case Ia:return pj(d,g,_,e);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Ba:j=10;break e;case Ca:j=9;break e;case Da:j=11;break e;case Ga:j=14;break e;case Ha:j=16,h=null;break e}throw Error(p(130,s==null?s:typeof s,""))}return e=Bg(j,d,e,g),e.elementType=s,e.type=h,e.lanes=_,e}function Tg(s,e,d,h){return s=Bg(7,s,h,e),s.lanes=d,s}function pj(s,e,d,h){return s=Bg(22,s,h,e),s.elementType=Ia,s.lanes=d,s.stateNode={isHidden:!1},s}function Qg(s,e,d){return s=Bg(6,s,null,e),s.lanes=d,s}function Sg(s,e,d){return e=Bg(4,s.children!==null?s.children:[],s.key,e),e.lanes=d,e.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},e}function al(s,e,d,h,g){this.tag=e,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function bl(s,e,d,h,g,_,j,$,et){return s=new al(s,e,d,$,et),e===1?(e=1,_===!0&&(e|=8)):e=0,_=Bg(3,null,null,e),s.current=_,_.stateNode=s,_.memoizedState={element:h,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(_),s}function cl(s,e,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:h==null?null:""+h,children:s,containerInfo:e,implementation:d}}function dl(s){if(!s)return Vf;s=s._reactInternals;e:{if(Vb(s)!==s||s.tag!==1)throw Error(p(170));var e=s;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p(171))}if(s.tag===1){var d=s.type;if(Zf(d))return bg(s,d,e)}return e}function el(s,e,d,h,g,_,j,$,et){return s=bl(d,h,!0,s,g,_,j,$,et),s.context=dl(null),d=s.current,h=R(),g=yi(d),_=mh(h,g),_.callback=e??null,nh(d,_,g),s.current.lanes=g,Ac(s,g,h),Dk(s,h),s}function fl(s,e,d,h){var g=e.current,_=R(),j=yi(g);return d=dl(d),e.context===null?e.context=d:e.pendingContext=d,e=mh(_,j),e.payload={element:s},h=h===void 0?null:h,h!==null&&(e.callback=h),s=nh(g,e,j),s!==null&&(gi(s,g,j,_),oh(s,g,j)),j}function gl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function hl(s,e){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<e?d:e}}function il(s,e){hl(s,e),(s=s.alternate)&&hl(s,e)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(s){console.error(s)};function ll(s){this._internalRoot=s}ml.prototype.render=ll.prototype.render=function(s){var e=this._internalRoot;if(e===null)throw Error(p(409));fl(s,e,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var e=s.containerInfo;Rk(function(){fl(null,s,null,null)}),e[uf]=null}};function ml(s){this._internalRoot=s}ml.prototype.unstable_scheduleHydration=function(s){if(s){var e=Hc();s={blockedOn:null,target:s,priority:e};for(var d=0;d<Qc.length&&e!==0&&e<Qc[d].priority;d++);Qc.splice(d,0,s),d===0&&Vc(s)}};function nl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ol(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(s,e,d,h,g){if(g){if(typeof h=="function"){var _=h;h=function(){var tt=gl(j);_.call(tt)}}var j=el(e,h,s,0,null,!1,!1,"",pl);return s._reactRootContainer=j,s[uf]=j.current,sf(s.nodeType===8?s.parentNode:s),Rk(),j}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var $=h;h=function(){var tt=gl(et);$.call(tt)}}var et=bl(s,0,!1,null,null,!1,!1,"",pl);return s._reactRootContainer=et,s[uf]=et.current,sf(s.nodeType===8?s.parentNode:s),Rk(function(){fl(e,et,d,h)}),et}function rl(s,e,d,h,g){var _=d._reactRootContainer;if(_){var j=_;if(typeof g=="function"){var $=g;g=function(){var et=gl(j);$.call(et)}}fl(e,j,s,g)}else j=ql(d,e,s,g,h);return gl(j)}Ec=function(s){switch(s.tag){case 3:var e=s.stateNode;if(e.current.memoizedState.isDehydrated){var d=tc(e.pendingLanes);d!==0&&(Cc(e,d|1),Dk(e,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var h=ih(s,1);if(h!==null){var g=R();gi(h,s,1,g)}}),il(s,1)}};Fc=function(s){if(s.tag===13){var e=ih(s,134217728);if(e!==null){var d=R();gi(e,s,134217728,d)}il(s,134217728)}};Gc=function(s){if(s.tag===13){var e=yi(s),d=ih(s,e);if(d!==null){var h=R();gi(d,s,e,h)}il(s,e)}};Hc=function(){return C$1};Ic=function(s,e){var d=C$1;try{return C$1=s,e()}finally{C$1=d}};yb=function(s,e,d){switch(e){case"input":if(bb(s,d),e=d.name,d.type==="radio"&&e!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<d.length;e++){var h=d[e];if(h!==s&&h.form===s.form){var g=Db(h);if(!g)throw Error(p(90));Wa(h),bb(h,g)}}}break;case"textarea":ib(s,d);break;case"select":e=d.value,e!=null&&fb(s,!!d.multiple,e,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Zb(s),s===null?null:s.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(s,e){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(e))throw Error(p(200));return cl(s,e,null,d)};reactDom_production_min.createRoot=function(s,e){if(!nl(s))throw Error(p(299));var d=!1,h="",g=kl;return e!=null&&(e.unstable_strictMode===!0&&(d=!0),e.identifierPrefix!==void 0&&(h=e.identifierPrefix),e.onRecoverableError!==void 0&&(g=e.onRecoverableError)),e=bl(s,1,!1,null,null,d,!1,h,g),s[uf]=e.current,sf(s.nodeType===8?s.parentNode:s),new ll(e)};reactDom_production_min.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var e=s._reactInternals;if(e===void 0)throw typeof s.render=="function"?Error(p(188)):(s=Object.keys(s).join(","),Error(p(268,s)));return s=Zb(e),s=s===null?null:s.stateNode,s};reactDom_production_min.flushSync=function(s){return Rk(s)};reactDom_production_min.hydrate=function(s,e,d){if(!ol(e))throw Error(p(200));return rl(null,s,e,!0,d)};reactDom_production_min.hydrateRoot=function(s,e,d){if(!nl(s))throw Error(p(405));var h=d!=null&&d.hydratedSources||null,g=!1,_="",j=kl;if(d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onRecoverableError!==void 0&&(j=d.onRecoverableError)),e=el(e,null,s,1,d??null,g,!1,_,j),s[uf]=e.current,sf(s),h)for(s=0;s<h.length;s++)d=h[s],g=d._getVersion,g=g(d._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[d,g]:e.mutableSourceEagerHydrationData.push(d,g);return new ml(e)};reactDom_production_min.render=function(s,e,d){if(!ol(e))throw Error(p(200));return rl(null,s,e,!1,d)};reactDom_production_min.unmountComponentAtNode=function(s){if(!ol(s))throw Error(p(40));return s._reactRootContainer?(Rk(function(){rl(null,null,s,!1,function(){s._reactRootContainer=null,s[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(s,e,d,h){if(!ol(d))throw Error(p(200));if(s==null||s._reactInternals===void 0)throw Error(p(38));return rl(s,e,d,!1,h)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(s){console.error(s)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;var dist={};Object.defineProperty(dist,"__esModule",{value:!0});dist.parse=parse$3;dist.serialize=serialize;const cookieNameRegExp=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,cookieValueRegExp=/^[\u0021-\u003A\u003C-\u007E]*$/,domainValueRegExp=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,pathValueRegExp=/^[\u0020-\u003A\u003D-\u007E]*$/,__toString=Object.prototype.toString,NullObject=(()=>{const s=function(){};return s.prototype=Object.create(null),s})();function parse$3(s,e){const d=new NullObject,h=s.length;if(h<2)return d;const g=(e==null?void 0:e.decode)||decode;let _=0;do{const j=s.indexOf("=",_);if(j===-1)break;const $=s.indexOf(";",_),et=$===-1?h:$;if(j>et){_=s.lastIndexOf(";",j-1)+1;continue}const tt=startIndex(s,_,j),nt=endIndex(s,j,tt),rt=s.slice(tt,nt);if(d[rt]===void 0){let it=startIndex(s,j+1,et),st=endIndex(s,et,it);const ot=g(s.slice(it,st));d[rt]=ot}_=et+1}while(_<h);return d}function startIndex(s,e,d){do{const h=s.charCodeAt(e);if(h!==32&&h!==9)return e}while(++e<d);return d}function endIndex(s,e,d){for(;e>d;){const h=s.charCodeAt(--e);if(h!==32&&h!==9)return e+1}return d}function serialize(s,e,d){const h=(d==null?void 0:d.encode)||encodeURIComponent;if(!cookieNameRegExp.test(s))throw new TypeError(`argument name is invalid: ${s}`);const g=h(e);if(!cookieValueRegExp.test(g))throw new TypeError(`argument val is invalid: ${e}`);let _=s+"="+g;if(!d)return _;if(d.maxAge!==void 0){if(!Number.isInteger(d.maxAge))throw new TypeError(`option maxAge is invalid: ${d.maxAge}`);_+="; Max-Age="+d.maxAge}if(d.domain){if(!domainValueRegExp.test(d.domain))throw new TypeError(`option domain is invalid: ${d.domain}`);_+="; Domain="+d.domain}if(d.path){if(!pathValueRegExp.test(d.path))throw new TypeError(`option path is invalid: ${d.path}`);_+="; Path="+d.path}if(d.expires){if(!isDate(d.expires)||!Number.isFinite(d.expires.valueOf()))throw new TypeError(`option expires is invalid: ${d.expires}`);_+="; Expires="+d.expires.toUTCString()}if(d.httpOnly&&(_+="; HttpOnly"),d.secure&&(_+="; Secure"),d.partitioned&&(_+="; Partitioned"),d.priority)switch(typeof d.priority=="string"?d.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${d.priority}`)}if(d.sameSite)switch(typeof d.sameSite=="string"?d.sameSite.toLowerCase():d.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${d.sameSite}`)}return _}function decode(s){if(s.indexOf("%")===-1)return s;try{return decodeURIComponent(s)}catch{return s}}function isDate(s){return __toString.call(s)==="[object Date]"}/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(s={}){function e(h,g){let{pathname:_,search:j,hash:$}=h.location;return createLocation("",{pathname:_,search:j,hash:$},g.state&&g.state.usr||null,g.state&&g.state.key||"default")}function d(h,g){return typeof g=="string"?g:createPath(g)}return getUrlBasedHistory(e,d,null,s)}function invariant(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function warning(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(s,e){return{usr:s.state,key:s.key,idx:e}}function createLocation(s,e,d=null,h){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?parsePath(e):e,state:d,key:e&&e.key||h||createKey()}}function createPath({pathname:s="/",search:e="",hash:d=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),d&&d!=="#"&&(s+=d.charAt(0)==="#"?d:"#"+d),s}function parsePath(s){let e={};if(s){let d=s.indexOf("#");d>=0&&(e.hash=s.substring(d),s=s.substring(0,d));let h=s.indexOf("?");h>=0&&(e.search=s.substring(h),s=s.substring(0,h)),s&&(e.pathname=s)}return e}function getUrlBasedHistory(s,e,d,h={}){let{window:g=document.defaultView,v5Compat:_=!1}=h,j=g.history,$="POP",et=null,tt=nt();tt==null&&(tt=0,j.replaceState({...j.state,idx:tt},""));function nt(){return(j.state||{idx:null}).idx}function rt(){$="POP";let dt=nt(),at=dt==null?null:dt-tt;tt=dt,et&&et({action:$,location:lt.location,delta:at})}function it(dt,at){$="PUSH";let ut=createLocation(lt.location,dt,at);tt=nt()+1;let pt=getHistoryState(ut,tt),vt=lt.createHref(ut);try{j.pushState(pt,"",vt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;g.location.assign(vt)}_&&et&&et({action:$,location:lt.location,delta:1})}function st(dt,at){$="REPLACE";let ut=createLocation(lt.location,dt,at);tt=nt();let pt=getHistoryState(ut,tt),vt=lt.createHref(ut);j.replaceState(pt,"",vt),_&&et&&et({action:$,location:lt.location,delta:0})}function ot(dt){let at=g.location.origin!=="null"?g.location.origin:g.location.href,ut=typeof dt=="string"?dt:createPath(dt);return ut=ut.replace(/ $/,"%20"),invariant(at,`No window.location.(origin|href) available to create URL for href: ${ut}`),new URL(ut,at)}let lt={get action(){return $},get location(){return s(g,j)},listen(dt){if(et)throw new Error("A history only accepts one active listener");return g.addEventListener(PopStateEventType,rt),et=dt,()=>{g.removeEventListener(PopStateEventType,rt),et=null}},createHref(dt){return e(g,dt)},createURL:ot,encodeLocation(dt){let at=ot(dt);return{pathname:at.pathname,search:at.search,hash:at.hash}},push:it,replace:st,go(dt){return j.go(dt)}};return lt}function matchRoutes(s,e,d="/"){return matchRoutesImpl(s,e,d,!1)}function matchRoutesImpl(s,e,d,h){let g=typeof e=="string"?parsePath(e):e,_=stripBasename(g.pathname||"/",d);if(_==null)return null;let j=flattenRoutes(s);rankRouteBranches(j);let $=null;for(let et=0;$==null&&et<j.length;++et){let tt=decodePath(_);$=matchRouteBranch(j[et],tt,h)}return $}function flattenRoutes(s,e=[],d=[],h=""){let g=(_,j,$)=>{let et={relativePath:$===void 0?_.path||"":$,caseSensitive:_.caseSensitive===!0,childrenIndex:j,route:_};et.relativePath.startsWith("/")&&(invariant(et.relativePath.startsWith(h),`Absolute route path "${et.relativePath}" nested under path "${h}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),et.relativePath=et.relativePath.slice(h.length));let tt=joinPaths([h,et.relativePath]),nt=d.concat(et);_.children&&_.children.length>0&&(invariant(_.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${tt}".`),flattenRoutes(_.children,e,nt,tt)),!(_.path==null&&!_.index)&&e.push({path:tt,score:computeScore(tt,_.index),routesMeta:nt})};return s.forEach((_,j)=>{var $;if(_.path===""||!(($=_.path)!=null&&$.includes("?")))g(_,j);else for(let et of explodeOptionalSegments(_.path))g(_,j,et)}),e}function explodeOptionalSegments(s){let e=s.split("/");if(e.length===0)return[];let[d,...h]=e,g=d.endsWith("?"),_=d.replace(/\?$/,"");if(h.length===0)return g?[_,""]:[_];let j=explodeOptionalSegments(h.join("/")),$=[];return $.push(...j.map(et=>et===""?_:[_,et].join("/"))),g&&$.push(...j),$.map(et=>s.startsWith("/")&&et===""?"/":et)}function rankRouteBranches(s){s.sort((e,d)=>e.score!==d.score?d.score-e.score:compareIndexes(e.routesMeta.map(h=>h.childrenIndex),d.routesMeta.map(h=>h.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=s=>s==="*";function computeScore(s,e){let d=s.split("/"),h=d.length;return d.some(isSplat)&&(h+=splatPenalty),e&&(h+=indexRouteValue),d.filter(g=>!isSplat(g)).reduce((g,_)=>g+(paramRe.test(_)?dynamicSegmentValue:_===""?emptySegmentValue:staticSegmentValue),h)}function compareIndexes(s,e){return s.length===e.length&&s.slice(0,-1).every((h,g)=>h===e[g])?s[s.length-1]-e[e.length-1]:0}function matchRouteBranch(s,e,d=!1){let{routesMeta:h}=s,g={},_="/",j=[];for(let $=0;$<h.length;++$){let et=h[$],tt=$===h.length-1,nt=_==="/"?e:e.slice(_.length)||"/",rt=matchPath({path:et.relativePath,caseSensitive:et.caseSensitive,end:tt},nt),it=et.route;if(!rt&&tt&&d&&!h[h.length-1].route.index&&(rt=matchPath({path:et.relativePath,caseSensitive:et.caseSensitive,end:!1},nt)),!rt)return null;Object.assign(g,rt.params),j.push({params:g,pathname:joinPaths([_,rt.pathname]),pathnameBase:normalizePathname(joinPaths([_,rt.pathnameBase])),route:it}),rt.pathnameBase!=="/"&&(_=joinPaths([_,rt.pathnameBase]))}return j}function matchPath(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[d,h]=compilePath(s.path,s.caseSensitive,s.end),g=e.match(d);if(!g)return null;let _=g[0],j=_.replace(/(.)\/+$/,"$1"),$=g.slice(1);return{params:h.reduce((tt,{paramName:nt,isOptional:rt},it)=>{if(nt==="*"){let ot=$[it]||"";j=_.slice(0,_.length-ot.length).replace(/(.)\/+$/,"$1")}const st=$[it];return rt&&!st?tt[nt]=void 0:tt[nt]=(st||"").replace(/%2F/g,"/"),tt},{}),pathname:_,pathnameBase:j,pattern:s}}function compilePath(s,e=!1,d=!0){warning(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let h=[],g="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(j,$,et)=>(h.push({paramName:$,isOptional:et!=null}),et?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(h.push({paramName:"*"}),g+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):d?g+="\\/*$":s!==""&&s!=="/"&&(g+="(?:(?=\\/|$))"),[new RegExp(g,e?void 0:"i"),h]}function decodePath(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning(!1,`The URL path "${s}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function stripBasename(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let d=e.endsWith("/")?e.length-1:e.length,h=s.charAt(d);return h&&h!=="/"?null:s.slice(d)||"/"}function resolvePath(s,e="/"){let{pathname:d,search:h="",hash:g=""}=typeof s=="string"?parsePath(s):s;return{pathname:d?d.startsWith("/")?d:resolvePathname(d,e):e,search:normalizeSearch(h),hash:normalizeHash(g)}}function resolvePathname(s,e){let d=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(g=>{g===".."?d.length>1&&d.pop():g!=="."&&d.push(g)}),d.length>1?d.join("/"):"/"}function getInvalidPathError(s,e,d,h){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(h)}].  Please separate it out to the \`to.${d}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(s){return s.filter((e,d)=>d===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(s){let e=getPathContributingMatches(s);return e.map((d,h)=>h===e.length-1?d.pathname:d.pathnameBase)}function resolveTo(s,e,d,h=!1){let g;typeof s=="string"?g=parsePath(s):(g={...s},invariant(!g.pathname||!g.pathname.includes("?"),getInvalidPathError("?","pathname","search",g)),invariant(!g.pathname||!g.pathname.includes("#"),getInvalidPathError("#","pathname","hash",g)),invariant(!g.search||!g.search.includes("#"),getInvalidPathError("#","search","hash",g)));let _=s===""||g.pathname==="",j=_?"/":g.pathname,$;if(j==null)$=d;else{let rt=e.length-1;if(!h&&j.startsWith("..")){let it=j.split("/");for(;it[0]==="..";)it.shift(),rt-=1;g.pathname=it.join("/")}$=rt>=0?e[rt]:"/"}let et=resolvePath(g,$),tt=j&&j!=="/"&&j.endsWith("/"),nt=(_||j===".")&&d.endsWith("/");return!et.pathname.endsWith("/")&&(tt||nt)&&(et.pathname+="/"),et}var joinPaths=s=>s.join("/").replace(/\/\/+/g,"/"),normalizePathname=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,normalizeHash=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function isRouteErrorResponse(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(s,{relative:e}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:d,navigator:h}=reactExports.useContext(NavigationContext),{hash:g,pathname:_,search:j}=useResolvedPath(s,{relative:e}),$=_;return d!=="/"&&($=_==="/"?d:joinPaths([d,_])),h.createHref({pathname:$,search:j,hash:g})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$1(s){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(s)}function useNavigate(){let{isDataRoute:s}=reactExports.useContext(RouteContext);return s?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let s=reactExports.useContext(DataRouterContext),{basename:e,navigator:d}=reactExports.useContext(NavigationContext),{matches:h}=reactExports.useContext(RouteContext),{pathname:g}=useLocation(),_=JSON.stringify(getResolveToMatches(h)),j=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{j.current=!0}),reactExports.useCallback((et,tt={})=>{if(warning(j.current,navigateEffectWarning),!j.current)return;if(typeof et=="number"){d.go(et);return}let nt=resolveTo(et,JSON.parse(_),g,tt.relative==="path");s==null&&e!=="/"&&(nt.pathname=nt.pathname==="/"?e:joinPaths([e,nt.pathname])),(tt.replace?d.replace:d.push)(nt,tt.state,tt)},[e,d,_,g,s])}reactExports.createContext(null);function useResolvedPath(s,{relative:e}={}){let{matches:d}=reactExports.useContext(RouteContext),{pathname:h}=useLocation(),g=JSON.stringify(getResolveToMatches(d));return reactExports.useMemo(()=>resolveTo(s,JSON.parse(g),h,e==="path"),[s,g,h,e])}function useRoutes(s,e){return useRoutesImpl(s,e)}function useRoutesImpl(s,e,d,h){var at;invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:g}=reactExports.useContext(NavigationContext),{matches:_}=reactExports.useContext(RouteContext),j=_[_.length-1],$=j?j.params:{},et=j?j.pathname:"/",tt=j?j.pathnameBase:"/",nt=j&&j.route;{let ut=nt&&nt.path||"";warningOnce(et,!nt||ut.endsWith("*")||ut.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${et}" (under <Route path="${ut}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ut}"> to <Route path="${ut==="/"?"*":`${ut}/*`}">.`)}let rt=useLocation(),it;if(e){let ut=typeof e=="string"?parsePath(e):e;invariant(tt==="/"||((at=ut.pathname)==null?void 0:at.startsWith(tt)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${tt}" but pathname "${ut.pathname}" was given in the \`location\` prop.`),it=ut}else it=rt;let st=it.pathname||"/",ot=st;if(tt!=="/"){let ut=tt.replace(/^\//,"").split("/");ot="/"+st.replace(/^\//,"").split("/").slice(ut.length).join("/")}let lt=matchRoutes(s,{pathname:ot});warning(nt||lt!=null,`No routes matched location "${it.pathname}${it.search}${it.hash}" `),warning(lt==null||lt[lt.length-1].route.element!==void 0||lt[lt.length-1].route.Component!==void 0||lt[lt.length-1].route.lazy!==void 0,`Matched leaf route at location "${it.pathname}${it.search}${it.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let dt=_renderMatches(lt&&lt.map(ut=>Object.assign({},ut,{params:Object.assign({},$,ut.params),pathname:joinPaths([tt,g.encodeLocation?g.encodeLocation(ut.pathname).pathname:ut.pathname]),pathnameBase:ut.pathnameBase==="/"?tt:joinPaths([tt,g.encodeLocation?g.encodeLocation(ut.pathnameBase).pathname:ut.pathnameBase])})),_,d,h);return e&&dt?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...it},navigationType:"POP"}},dt):dt}function DefaultErrorComponent(){let s=useRouteError(),e=isRouteErrorResponse(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),d=s instanceof Error?s.stack:null,h="rgba(200,200,200, 0.5)",g={padding:"0.5rem",backgroundColor:h},_={padding:"2px 4px",backgroundColor:h},j=null;return console.error("Error handled by React Router default ErrorBoundary:",s),j=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null,"💿 Hey developer 👋"),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:_},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:_},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),d?reactExports.createElement("pre",{style:g},d):null,j)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:s,match:e,children:d}){let h=reactExports.useContext(DataRouterContext);return h&&h.static&&h.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(h.staticContext._deepestRenderedBoundaryId=e.route.id),reactExports.createElement(RouteContext.Provider,{value:s},d)}function _renderMatches(s,e=[],d=null,h=null){if(s==null){if(!d)return null;if(d.errors)s=d.matches;else if(e.length===0&&!d.initialized&&d.matches.length>0)s=d.matches;else return null}let g=s,_=d==null?void 0:d.errors;if(_!=null){let et=g.findIndex(tt=>tt.route.id&&(_==null?void 0:_[tt.route.id])!==void 0);invariant(et>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(_).join(",")}`),g=g.slice(0,Math.min(g.length,et+1))}let j=!1,$=-1;if(d)for(let et=0;et<g.length;et++){let tt=g[et];if((tt.route.HydrateFallback||tt.route.hydrateFallbackElement)&&($=et),tt.route.id){let{loaderData:nt,errors:rt}=d,it=tt.route.loader&&!nt.hasOwnProperty(tt.route.id)&&(!rt||rt[tt.route.id]===void 0);if(tt.route.lazy||it){j=!0,$>=0?g=g.slice(0,$+1):g=[g[0]];break}}}return g.reduceRight((et,tt,nt)=>{let rt,it=!1,st=null,ot=null;d&&(rt=_&&tt.route.id?_[tt.route.id]:void 0,st=tt.route.errorElement||defaultErrorElement,j&&($<0&&nt===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),it=!0,ot=null):$===nt&&(it=!0,ot=tt.route.hydrateFallbackElement||null)));let lt=e.concat(g.slice(0,nt+1)),dt=()=>{let at;return rt?at=st:it?at=ot:tt.route.Component?at=reactExports.createElement(tt.route.Component,null):tt.route.element?at=tt.route.element:at=et,reactExports.createElement(RenderedRoute,{match:tt,routeContext:{outlet:et,matches:lt,isDataRoute:d!=null},children:at})};return d&&(tt.route.ErrorBoundary||tt.route.errorElement||nt===0)?reactExports.createElement(RenderErrorBoundary,{location:d.location,revalidation:d.revalidation,component:st,error:rt,children:dt(),routeContext:{outlet:null,matches:lt,isDataRoute:!0}}):dt()},null)}function getDataRouterConsoleError(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(s){let e=reactExports.useContext(DataRouterContext);return invariant(e,getDataRouterConsoleError(s)),e}function useDataRouterState(s){let e=reactExports.useContext(DataRouterStateContext);return invariant(e,getDataRouterConsoleError(s)),e}function useRouteContext(s){let e=reactExports.useContext(RouteContext);return invariant(e,getDataRouterConsoleError(s)),e}function useCurrentRouteId(s){let e=useRouteContext(s),d=e.matches[e.matches.length-1];return invariant(d.route.id,`${s} can only be used on routes that contain a unique "id"`),d.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var h;let s=reactExports.useContext(RouteErrorContext),e=useDataRouterState("useRouteError"),d=useCurrentRouteId("useRouteError");return s!==void 0?s:(h=e.errors)==null?void 0:h[d]}function useNavigateStable(){let{router:s}=useDataRouterContext("useNavigate"),e=useCurrentRouteId("useNavigate"),d=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{d.current=!0}),reactExports.useCallback(async(g,_={})=>{warning(d.current,navigateEffectWarning),d.current&&(typeof g=="number"?s.navigate(g):await s.navigate(g,{fromRouteId:e,..._}))},[s,e])}var alreadyWarned={};function warningOnce(s,e,d){!e&&!alreadyWarned[s]&&(alreadyWarned[s]=!0,warning(!1,d))}reactExports.memo(DataRoutes);function DataRoutes({routes:s,future:e,state:d}){return useRoutesImpl(s,void 0,d,e)}function Route(s){invariant(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:s="/",children:e=null,location:d,navigationType:h="POP",navigator:g,static:_=!1}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let j=s.replace(/^\/*/,"/"),$=reactExports.useMemo(()=>({basename:j,navigator:g,static:_,future:{}}),[j,g,_]);typeof d=="string"&&(d=parsePath(d));let{pathname:et="/",search:tt="",hash:nt="",state:rt=null,key:it="default"}=d,st=reactExports.useMemo(()=>{let ot=stripBasename(et,j);return ot==null?null:{location:{pathname:ot,search:tt,hash:nt,state:rt,key:it},navigationType:h}},[j,et,tt,nt,rt,it,h]);return warning(st!=null,`<Router basename="${j}"> is not able to match the URL "${et}${tt}${nt}" because it does not start with the basename, so the <Router> won't render anything.`),st==null?null:reactExports.createElement(NavigationContext.Provider,{value:$},reactExports.createElement(LocationContext.Provider,{children:e,value:st}))}function Routes({children:s,location:e}){return useRoutes(createRoutesFromChildren(s),e)}function createRoutesFromChildren(s,e=[]){let d=[];return reactExports.Children.forEach(s,(h,g)=>{if(!reactExports.isValidElement(h))return;let _=[...e,g];if(h.type===reactExports.Fragment){d.push.apply(d,createRoutesFromChildren(h.props.children,_));return}invariant(h.type===Route,`[${typeof h.type=="string"?h.type:h.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant(!h.props.index||!h.props.children,"An index route cannot have child routes.");let j={id:h.props.id||_.join("-"),caseSensitive:h.props.caseSensitive,element:h.props.element,Component:h.props.Component,index:h.props.index,path:h.props.path,loader:h.props.loader,action:h.props.action,hydrateFallbackElement:h.props.hydrateFallbackElement,HydrateFallback:h.props.HydrateFallback,errorElement:h.props.errorElement,ErrorBoundary:h.props.ErrorBoundary,hasErrorBoundary:h.props.hasErrorBoundary===!0||h.props.ErrorBoundary!=null||h.props.errorElement!=null,shouldRevalidate:h.props.shouldRevalidate,handle:h.props.handle,lazy:h.props.lazy};h.props.children&&(j.children=createRoutesFromChildren(h.props.children,_)),d.push(j)}),d}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(s){return s!=null&&typeof s.tagName=="string"}function isButtonElement(s){return isHtmlElement(s)&&s.tagName.toLowerCase()==="button"}function isFormElement(s){return isHtmlElement(s)&&s.tagName.toLowerCase()==="form"}function isInputElement(s){return isHtmlElement(s)&&s.tagName.toLowerCase()==="input"}function isModifiedEvent(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function shouldProcessLinkClick(s,e){return s.button===0&&(!e||e==="_self")&&!isModifiedEvent(s)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(s){return s!=null&&!supportedFormEncTypes.has(s)?(warning(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):s}function getFormSubmissionInfo(s,e){let d,h,g,_,j;if(isFormElement(s)){let $=s.getAttribute("action");h=$?stripBasename($,e):null,d=s.getAttribute("method")||defaultMethod,g=getFormEncType(s.getAttribute("enctype"))||defaultEncType,_=new FormData(s)}else if(isButtonElement(s)||isInputElement(s)&&(s.type==="submit"||s.type==="image")){let $=s.form;if($==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let et=s.getAttribute("formaction")||$.getAttribute("action");if(h=et?stripBasename(et,e):null,d=s.getAttribute("formmethod")||$.getAttribute("method")||defaultMethod,g=getFormEncType(s.getAttribute("formenctype"))||getFormEncType($.getAttribute("enctype"))||defaultEncType,_=new FormData($,s),!isFormDataSubmitterSupported()){let{name:tt,type:nt,value:rt}=s;if(nt==="image"){let it=tt?`${tt}.`:"";_.append(`${it}x`,"0"),_.append(`${it}y`,"0")}else tt&&_.append(tt,rt)}}else{if(isHtmlElement(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');d=defaultMethod,h=null,g=defaultEncType,j=s}return _&&g==="text/plain"&&(j=_,_=void 0),{action:h,method:d.toLowerCase(),encType:g,formData:_,body:j}}function invariant2(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function loadRouteModule(s,e){if(s.id in e)return e[s.id];try{let d=await import(s.module);return e[s.id]=d,d}catch(d){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(d),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function getKeyedPrefetchLinks(s,e,d){let h=await Promise.all(s.map(async g=>{let _=e.routes[g.route.id];if(_){let j=await loadRouteModule(_,d);return j.links?j.links():[]}return[]}));return dedupeLinkDescriptors(h.flat(1).filter(isHtmlLinkDescriptor).filter(g=>g.rel==="stylesheet"||g.rel==="preload").map(g=>g.rel==="stylesheet"?{...g,rel:"prefetch",as:"style"}:{...g,rel:"prefetch"}))}function getNewMatchesForLinks(s,e,d,h,g,_){let j=(et,tt)=>d[tt]?et.route.id!==d[tt].route.id:!0,$=(et,tt)=>{var nt;return d[tt].pathname!==et.pathname||((nt=d[tt].route.path)==null?void 0:nt.endsWith("*"))&&d[tt].params["*"]!==et.params["*"]};return _==="assets"?e.filter((et,tt)=>j(et,tt)||$(et,tt)):_==="data"?e.filter((et,tt)=>{var rt;let nt=h.routes[et.route.id];if(!nt||!nt.hasLoader)return!1;if(j(et,tt)||$(et,tt))return!0;if(et.route.shouldRevalidate){let it=et.route.shouldRevalidate({currentUrl:new URL(g.pathname+g.search+g.hash,window.origin),currentParams:((rt=d[0])==null?void 0:rt.params)||{},nextUrl:new URL(s,window.origin),nextParams:et.params,defaultShouldRevalidate:!0});if(typeof it=="boolean")return it}return!0}):[]}function getModuleLinkHrefs(s,e){return dedupeHrefs(s.map(d=>{let h=e.routes[d.route.id];if(!h)return[];let g=[h.module];return h.imports&&(g=g.concat(h.imports)),g}).flat(1))}function dedupeHrefs(s){return[...new Set(s)]}function sortKeys(s){let e={},d=Object.keys(s).sort();for(let h of d)e[h]=s[h];return e}function dedupeLinkDescriptors(s,e){let d=new Set;return new Set(e),s.reduce((h,g)=>{let _=JSON.stringify(sortKeys(g));return d.has(_)||(d.add(_),h.push({key:_,link:g})),h},[])}function singleFetchUrl(s){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function useDataRouterContext2(){let s=reactExports.useContext(DataRouterContext);return invariant2(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function useDataRouterStateContext(){let s=reactExports.useContext(DataRouterStateContext);return invariant2(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let s=reactExports.useContext(FrameworkContext);return invariant2(s,"You must render this element inside a <HydratedRouter> element"),s}function usePrefetchBehavior(s,e){let d=reactExports.useContext(FrameworkContext),[h,g]=reactExports.useState(!1),[_,j]=reactExports.useState(!1),{onFocus:$,onBlur:et,onMouseEnter:tt,onMouseLeave:nt,onTouchStart:rt}=e,it=reactExports.useRef(null);reactExports.useEffect(()=>{if(s==="render"&&j(!0),s==="viewport"){let lt=at=>{at.forEach(ut=>{j(ut.isIntersecting)})},dt=new IntersectionObserver(lt,{threshold:.5});return it.current&&dt.observe(it.current),()=>{dt.disconnect()}}},[s]),reactExports.useEffect(()=>{if(h){let lt=setTimeout(()=>{j(!0)},100);return()=>{clearTimeout(lt)}}},[h]);let st=()=>{g(!0)},ot=()=>{g(!1),j(!1)};return d?s!=="intent"?[_,it,{}]:[_,it,{onFocus:composeEventHandlers($,st),onBlur:composeEventHandlers(et,ot),onMouseEnter:composeEventHandlers(tt,st),onMouseLeave:composeEventHandlers(nt,ot),onTouchStart:composeEventHandlers(rt,st)}]:[!1,it,{}]}function composeEventHandlers(s,e){return d=>{s&&s(d),d.defaultPrevented||e(d)}}function PrefetchPageLinks({page:s,...e}){let{router:d}=useDataRouterContext2(),h=reactExports.useMemo(()=>matchRoutes(d.routes,s,d.basename),[d.routes,s,d.basename]);return h?reactExports.createElement(PrefetchPageLinksImpl,{page:s,matches:h,...e}):(console.warn(`Tried to prefetch ${s} but no routes matched.`),null)}function useKeyedPrefetchLinks(s){let{manifest:e,routeModules:d}=useFrameworkContext(),[h,g]=reactExports.useState([]);return reactExports.useEffect(()=>{let _=!1;return getKeyedPrefetchLinks(s,e,d).then(j=>{_||g(j)}),()=>{_=!0}},[s,e,d]),h}function PrefetchPageLinksImpl({page:s,matches:e,...d}){let h=useLocation(),{manifest:g,routeModules:_}=useFrameworkContext(),{loaderData:j,matches:$}=useDataRouterStateContext(),et=reactExports.useMemo(()=>getNewMatchesForLinks(s,e,$,g,h,"data"),[s,e,$,g,h]),tt=reactExports.useMemo(()=>getNewMatchesForLinks(s,e,$,g,h,"assets"),[s,e,$,g,h]),nt=reactExports.useMemo(()=>{if(s===h.pathname+h.search+h.hash)return[];let st=new Set,ot=!1;if(e.forEach(dt=>{var ut;let at=g.routes[dt.route.id];!at||!at.hasLoader||(!et.some(pt=>pt.route.id===dt.route.id)&&dt.route.id in j&&((ut=_[dt.route.id])!=null&&ut.shouldRevalidate)||at.hasClientLoader?ot=!0:st.add(dt.route.id))}),st.size===0)return[];let lt=singleFetchUrl(s);return ot&&st.size>0&&lt.searchParams.set("_routes",e.filter(dt=>st.has(dt.route.id)).map(dt=>dt.route.id).join(",")),[lt.pathname+lt.search]},[j,h,g,et,e,s,_]),rt=reactExports.useMemo(()=>getModuleLinkHrefs(tt,g),[tt,g]),it=useKeyedPrefetchLinks(tt);return reactExports.createElement(reactExports.Fragment,null,nt.map(st=>reactExports.createElement("link",{key:st,rel:"prefetch",as:"fetch",href:st,...d})),rt.map(st=>reactExports.createElement("link",{key:st,rel:"modulepreload",href:st,...d})),it.map(({key:st,link:ot})=>reactExports.createElement("link",{key:st,...ot})))}function mergeRefs(...s){return e=>{s.forEach(d=>{typeof d=="function"?d(e):d!=null&&(d.current=e)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.0.2")}catch{}function BrowserRouter({basename:s,children:e,window:d}){let h=reactExports.useRef();h.current==null&&(h.current=createBrowserHistory({window:d,v5Compat:!0}));let g=h.current,[_,j]=reactExports.useState({action:g.action,location:g.location}),$=reactExports.useCallback(et=>{reactExports.startTransition(()=>j(et))},[j]);return reactExports.useLayoutEffect(()=>g.listen($),[g,$]),reactExports.createElement(Router,{basename:s,children:e,location:_.location,navigationType:_.action,navigator:g})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:e,discover:d="render",prefetch:h="none",relative:g,reloadDocument:_,replace:j,state:$,target:et,to:tt,preventScrollReset:nt,viewTransition:rt,...it},st){let{basename:ot}=reactExports.useContext(NavigationContext),lt=typeof tt=="string"&&ABSOLUTE_URL_REGEX2.test(tt),dt,at=!1;if(typeof tt=="string"&&lt&&(dt=tt,isBrowser))try{let _t=new URL(window.location.href),Et=tt.startsWith("//")?new URL(_t.protocol+tt):new URL(tt),mt=stripBasename(Et.pathname,ot);Et.origin===_t.origin&&mt!=null?tt=mt+Et.search+Et.hash:at=!0}catch{warning(!1,`<Link to="${tt}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ut=useHref(tt,{relative:g}),[pt,vt,ht]=usePrefetchBehavior(h,it),yt=useLinkClickHandler(tt,{replace:j,state:$,target:et,preventScrollReset:nt,relative:g,viewTransition:rt});function gt(_t){e&&e(_t),_t.defaultPrevented||yt(_t)}let ft=reactExports.createElement("a",{...it,...ht,href:dt||ut,onClick:at||_?e:gt,ref:mergeRefs(st,vt),target:et,"data-discover":!lt&&d==="render"?"true":void 0});return pt&&!lt?reactExports.createElement(reactExports.Fragment,null,ft,reactExports.createElement(PrefetchPageLinks,{page:ut})):ft});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":e="page",caseSensitive:d=!1,className:h="",end:g=!1,style:_,to:j,viewTransition:$,children:et,...tt},nt){let rt=useResolvedPath(j,{relative:tt.relative}),it=useLocation(),st=reactExports.useContext(DataRouterStateContext),{navigator:ot,basename:lt}=reactExports.useContext(NavigationContext),dt=st!=null&&useViewTransitionState(rt)&&$===!0,at=ot.encodeLocation?ot.encodeLocation(rt).pathname:rt.pathname,ut=it.pathname,pt=st&&st.navigation&&st.navigation.location?st.navigation.location.pathname:null;d||(ut=ut.toLowerCase(),pt=pt?pt.toLowerCase():null,at=at.toLowerCase()),pt&&lt&&(pt=stripBasename(pt,lt)||pt);const vt=at!=="/"&&at.endsWith("/")?at.length-1:at.length;let ht=ut===at||!g&&ut.startsWith(at)&&ut.charAt(vt)==="/",yt=pt!=null&&(pt===at||!g&&pt.startsWith(at)&&pt.charAt(at.length)==="/"),gt={isActive:ht,isPending:yt,isTransitioning:dt},ft=ht?e:void 0,_t;typeof h=="function"?_t=h(gt):_t=[h,ht?"active":null,yt?"pending":null,dt?"transitioning":null].filter(Boolean).join(" ");let Et=typeof _=="function"?_(gt):_;return reactExports.createElement(Link,{...tt,"aria-current":ft,className:_t,ref:nt,style:Et,to:j,viewTransition:$},typeof et=="function"?et(gt):et)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:s="render",fetcherKey:e,navigate:d,reloadDocument:h,replace:g,state:_,method:j=defaultMethod,action:$,onSubmit:et,relative:tt,preventScrollReset:nt,viewTransition:rt,...it},st)=>{let ot=useSubmit(),lt=useFormAction($,{relative:tt}),dt=j.toLowerCase()==="get"?"get":"post",at=typeof $=="string"&&ABSOLUTE_URL_REGEX2.test($),ut=pt=>{if(et&&et(pt),pt.defaultPrevented)return;pt.preventDefault();let vt=pt.nativeEvent.submitter,ht=(vt==null?void 0:vt.getAttribute("formmethod"))||j;ot(vt||pt.currentTarget,{fetcherKey:e,method:ht,navigate:d,replace:g,state:_,relative:tt,preventScrollReset:nt,viewTransition:rt})};return reactExports.createElement("form",{ref:st,method:dt,action:lt,onSubmit:h?et:ut,...it,"data-discover":!at&&s==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(s){let e=reactExports.useContext(DataRouterContext);return invariant(e,getDataRouterConsoleError2(s)),e}function useLinkClickHandler(s,{target:e,replace:d,state:h,preventScrollReset:g,relative:_,viewTransition:j}={}){let $=useNavigate(),et=useLocation(),tt=useResolvedPath(s,{relative:_});return reactExports.useCallback(nt=>{if(shouldProcessLinkClick(nt,e)){nt.preventDefault();let rt=d!==void 0?d:createPath(et)===createPath(tt);$(s,{replace:rt,state:h,preventScrollReset:g,relative:_,viewTransition:j})}},[et,$,tt,d,h,e,s,g,_,j])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:s}=useDataRouterContext3("useSubmit"),{basename:e}=reactExports.useContext(NavigationContext),d=useRouteId();return reactExports.useCallback(async(h,g={})=>{let{action:_,method:j,encType:$,formData:et,body:tt}=getFormSubmissionInfo(h,e);if(g.navigate===!1){let nt=g.fetcherKey||getUniqueFetcherId();await s.fetch(nt,d,g.action||_,{preventScrollReset:g.preventScrollReset,formData:et,body:tt,formMethod:g.method||j,formEncType:g.encType||$,flushSync:g.flushSync})}else await s.navigate(g.action||_,{preventScrollReset:g.preventScrollReset,formData:et,body:tt,formMethod:g.method||j,formEncType:g.encType||$,replace:g.replace,state:g.state,fromRouteId:d,flushSync:g.flushSync,viewTransition:g.viewTransition})},[s,e,d])}function useFormAction(s,{relative:e}={}){let{basename:d}=reactExports.useContext(NavigationContext),h=reactExports.useContext(RouteContext);invariant(h,"useFormAction must be used inside a RouteContext");let[g]=h.matches.slice(-1),_={...useResolvedPath(s||".",{relative:e})},j=useLocation();if(s==null){_.search=j.search;let $=new URLSearchParams(_.search),et=$.getAll("index");if(et.some(nt=>nt==="")){$.delete("index"),et.filter(rt=>rt).forEach(rt=>$.append("index",rt));let nt=$.toString();_.search=nt?`?${nt}`:""}}return(!s||s===".")&&g.route.index&&(_.search=_.search?_.search.replace(/^\?/,"?index&"):"?index"),d!=="/"&&(_.pathname=_.pathname==="/"?d:joinPaths([d,_.pathname])),createPath(_)}function useViewTransitionState(s,e={}){let d=reactExports.useContext(ViewTransitionContext);invariant(d!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:h}=useDataRouterContext3("useViewTransitionState"),g=useResolvedPath(s,{relative:e.relative});if(!d.isTransitioning)return!1;let _=stripBasename(d.currentLocation.pathname,h)||d.currentLocation.pathname,j=stripBasename(d.nextLocation.pathname,h)||d.nextLocation.pathname;return matchPath(g.pathname,j)!=null||matchPath(g.pathname,_)!=null}new TextEncoder;const logo="/Proyectointegrador/assets/logo-BhaLGS-b.png",FondoAPP="/Proyectointegrador/assets/FondoAPP-CB_jjoyY.png";var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(s){const e=[];let d=0;for(let h=0;h<s.length;h++){let g=s.charCodeAt(h);g<128?e[d++]=g:g<2048?(e[d++]=g>>6|192,e[d++]=g&63|128):(g&64512)===55296&&h+1<s.length&&(s.charCodeAt(h+1)&64512)===56320?(g=65536+((g&1023)<<10)+(s.charCodeAt(++h)&1023),e[d++]=g>>18|240,e[d++]=g>>12&63|128,e[d++]=g>>6&63|128,e[d++]=g&63|128):(e[d++]=g>>12|224,e[d++]=g>>6&63|128,e[d++]=g&63|128)}return e},byteArrayToString=function(s){const e=[];let d=0,h=0;for(;d<s.length;){const g=s[d++];if(g<128)e[h++]=String.fromCharCode(g);else if(g>191&&g<224){const _=s[d++];e[h++]=String.fromCharCode((g&31)<<6|_&63)}else if(g>239&&g<365){const _=s[d++],j=s[d++],$=s[d++],et=((g&7)<<18|(_&63)<<12|(j&63)<<6|$&63)-65536;e[h++]=String.fromCharCode(55296+(et>>10)),e[h++]=String.fromCharCode(56320+(et&1023))}else{const _=s[d++],j=s[d++];e[h++]=String.fromCharCode((g&15)<<12|(_&63)<<6|j&63)}}return e.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const d=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,h=[];for(let g=0;g<s.length;g+=3){const _=s[g],j=g+1<s.length,$=j?s[g+1]:0,et=g+2<s.length,tt=et?s[g+2]:0,nt=_>>2,rt=(_&3)<<4|$>>4;let it=($&15)<<2|tt>>6,st=tt&63;et||(st=64,j||(it=64)),h.push(d[nt],d[rt],d[it],d[st])}return h.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(stringToByteArray$1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):byteArrayToString(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const d=e?this.charToByteMapWebSafe_:this.charToByteMap_,h=[];for(let g=0;g<s.length;){const _=d[s.charAt(g++)],$=g<s.length?d[s.charAt(g)]:0;++g;const tt=g<s.length?d[s.charAt(g)]:64;++g;const rt=g<s.length?d[s.charAt(g)]:64;if(++g,_==null||$==null||tt==null||rt==null)throw new DecodeBase64StringError;const it=_<<2|$>>4;if(h.push(it),tt!==64){const st=$<<4&240|tt>>2;if(h.push(st),rt!==64){const ot=tt<<6&192|rt;h.push(ot)}}}return h},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(s){const e=stringToByteArray$1(s);return base64.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(s){return base64Encode(s).replace(/\./g,"")},base64Decode=function(s){try{return base64.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const s=define_process_env_default.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&base64Decode(s[1]);return e&&JSON.parse(e)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},getDefaultEmulatorHost=s=>{var e,d;return(d=(e=getDefaults())===null||e===void 0?void 0:e.emulatorHosts)===null||d===void 0?void 0:d[s]},getDefaultEmulatorHostnameAndPort=s=>{const e=getDefaultEmulatorHost(s);if(!e)return;const d=e.lastIndexOf(":");if(d<=0||d+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const h=parseInt(e.substring(d+1),10);return e[0]==="["?[e.substring(1,d-1),h]:[e.substring(0,d),h]},getDefaultAppConfig=()=>{var s;return(s=getDefaults())===null||s===void 0?void 0:s.config},getExperimentalSetting=s=>{var e;return(e=getDefaults())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,d)=>{this.resolve=e,this.reject=d})}wrapCallback(e){return(d,h)=>{d?this.reject(d):this.resolve(h),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(d):e(d,h))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const d={alg:"none",type:"JWT"},h=e||"demo-project",g=s.iat||0,_=s.sub||s.user_id;if(!_)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const j=Object.assign({iss:`https://securetoken.google.com/${h}`,aud:h,iat:g,exp:g+3600,auth_time:g,sub:_,user_id:_,firebase:{sign_in_provider:"custom",identities:{}}},s);return[base64urlEncodeWithoutPadding(JSON.stringify(d)),base64urlEncodeWithoutPadding(JSON.stringify(j)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode$1(){var s;const e=(s=getDefaults())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isCloudflareWorker(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function isBrowserExtension(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const s=getUA();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function isSafari(){return!isNode$1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((s,e)=>{try{let d=!0;const h="validate-browser-context-for-indexeddb-analytics-module",g=self.indexedDB.open(h);g.onsuccess=()=>{g.result.close(),d||self.indexedDB.deleteDatabase(h),s(!0)},g.onupgradeneeded=()=>{d=!1},g.onerror=()=>{var _;e(((_=g.error)===null||_===void 0?void 0:_.message)||"")}}catch(d){e(d)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,d,h){super(d),this.code=e,this.customData=h,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,d,h){this.service=e,this.serviceName=d,this.errors=h}create(e,...d){const h=d[0]||{},g=`${this.service}/${e}`,_=this.errors[e],j=_?replaceTemplate(_,h):"Error",$=`${this.serviceName}: ${j} (${g}).`;return new FirebaseError(g,$,h)}}function replaceTemplate(s,e){return s.replace(PATTERN,(d,h)=>{const g=e[h];return g!=null?String(g):`<${h}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty$1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function deepEqual(s,e){if(s===e)return!0;const d=Object.keys(s),h=Object.keys(e);for(const g of d){if(!h.includes(g))return!1;const _=s[g],j=e[g];if(isObject$4(_)&&isObject$4(j)){if(!deepEqual(_,j))return!1}else if(_!==j)return!1}for(const g of h)if(!d.includes(g))return!1;return!0}function isObject$4(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(s){const e=[];for(const[d,h]of Object.entries(s))Array.isArray(h)?h.forEach(g=>{e.push(encodeURIComponent(d)+"="+encodeURIComponent(g))}):e.push(encodeURIComponent(d)+"="+encodeURIComponent(h));return e.length?"&"+e.join("&"):""}function createSubscribe(s,e){const d=new ObserverProxy(s,e);return d.subscribe.bind(d)}class ObserverProxy{constructor(e,d){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=d,this.task.then(()=>{e(this)}).catch(h=>{this.error(h)})}next(e){this.forEachObserver(d=>{d.next(e)})}error(e){this.forEachObserver(d=>{d.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,d,h){let g;if(e===void 0&&d===void 0&&h===void 0)throw new Error("Missing Observer.");implementsAnyMethods(e,["next","error","complete"])?g=e:g={next:e,error:d,complete:h},g.next===void 0&&(g.next=noop$3),g.error===void 0&&(g.error=noop$3),g.complete===void 0&&(g.complete=noop$3);const _=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?g.error(this.finalError):g.complete()}catch{}}),this.observers.push(g),_}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let d=0;d<this.observers.length;d++)this.sendOne(d,e)}sendOne(e,d){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{d(this.observers[e])}catch(h){typeof console<"u"&&console.error&&console.error(h)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(s,e){if(typeof s!="object"||s===null)return!1;for(const d of e)if(d in s&&typeof s[d]=="function")return!0;return!1}function noop$3(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(s){return s&&s._delegate?s._delegate:s}class Component{constructor(e,d,h){this.name=e,this.instanceFactory=d,this.type=h,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(e,d){this.name=e,this.container=d,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const d=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(d)){const h=new Deferred;if(this.instancesDeferred.set(d,h),this.isInitialized(d)||this.shouldAutoInitialize())try{const g=this.getOrInitializeService({instanceIdentifier:d});g&&h.resolve(g)}catch{}}return this.instancesDeferred.get(d).promise}getImmediate(e){var d;const h=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),g=(d=e==null?void 0:e.optional)!==null&&d!==void 0?d:!1;if(this.isInitialized(h)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:h})}catch(_){if(g)return null;throw _}else{if(g)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[d,h]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(d);try{const _=this.getOrInitializeService({instanceIdentifier:g});h.resolve(_)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(d=>"INTERNAL"in d).map(d=>d.INTERNAL.delete()),...e.filter(d=>"_delete"in d).map(d=>d._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:d={}}=e,h=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(h))throw Error(`${this.name}(${h}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const g=this.getOrInitializeService({instanceIdentifier:h,options:d});for(const[_,j]of this.instancesDeferred.entries()){const $=this.normalizeInstanceIdentifier(_);h===$&&j.resolve(g)}return g}onInit(e,d){var h;const g=this.normalizeInstanceIdentifier(d),_=(h=this.onInitCallbacks.get(g))!==null&&h!==void 0?h:new Set;_.add(e),this.onInitCallbacks.set(g,_);const j=this.instances.get(g);return j&&e(j,g),()=>{_.delete(e)}}invokeOnInitCallbacks(e,d){const h=this.onInitCallbacks.get(d);if(h)for(const g of h)try{g(e,d)}catch{}}getOrInitializeService({instanceIdentifier:e,options:d={}}){let h=this.instances.get(e);if(!h&&this.component&&(h=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:d}),this.instances.set(e,h),this.instancesOptions.set(e,d),this.invokeOnInitCallbacks(h,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,h)}catch{}return h||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(s){return s===DEFAULT_ENTRY_NAME$1?void 0:s}function isComponentEager(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const d=this.getProvider(e.name);if(d.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);d.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const d=new Provider(e,this);return this.providers.set(e,d),d}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(s,e,...d)=>{if(e<s.logLevel)return;const h=new Date().toISOString(),g=ConsoleMethod[e];if(g)console[g](`[${h}]  ${s.name}:`,...d);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}const instanceOfAny=(s,e)=>e.some(d=>s instanceof d);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(s){const e=new Promise((d,h)=>{const g=()=>{s.removeEventListener("success",_),s.removeEventListener("error",j)},_=()=>{d(wrap(s.result)),g()},j=()=>{h(s.error),g()};s.addEventListener("success",_),s.addEventListener("error",j)});return e.then(d=>{d instanceof IDBCursor&&cursorRequestMap.set(d,s)}).catch(()=>{}),reverseTransformCache.set(e,s),e}function cacheDonePromiseForTransaction(s){if(transactionDoneMap.has(s))return;const e=new Promise((d,h)=>{const g=()=>{s.removeEventListener("complete",_),s.removeEventListener("error",j),s.removeEventListener("abort",j)},_=()=>{d(),g()},j=()=>{h(s.error||new DOMException("AbortError","AbortError")),g()};s.addEventListener("complete",_),s.addEventListener("error",j),s.addEventListener("abort",j)});transactionDoneMap.set(s,e)}let idbProxyTraps={get(s,e,d){if(s instanceof IDBTransaction){if(e==="done")return transactionDoneMap.get(s);if(e==="objectStoreNames")return s.objectStoreNames||transactionStoreNamesMap.get(s);if(e==="store")return d.objectStoreNames[1]?void 0:d.objectStore(d.objectStoreNames[0])}return wrap(s[e])},set(s,e,d){return s[e]=d,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function replaceTraps(s){idbProxyTraps=s(idbProxyTraps)}function wrapFunction(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...d){const h=s.call(unwrap(this),e,...d);return transactionStoreNamesMap.set(h,e.sort?e.sort():[e]),wrap(h)}:getCursorAdvanceMethods().includes(s)?function(...e){return s.apply(unwrap(this),e),wrap(cursorRequestMap.get(this))}:function(...e){return wrap(s.apply(unwrap(this),e))}}function transformCachableValue(s){return typeof s=="function"?wrapFunction(s):(s instanceof IDBTransaction&&cacheDonePromiseForTransaction(s),instanceOfAny(s,getIdbProxyableTypes())?new Proxy(s,idbProxyTraps):s)}function wrap(s){if(s instanceof IDBRequest)return promisifyRequest(s);if(transformCache.has(s))return transformCache.get(s);const e=transformCachableValue(s);return e!==s&&(transformCache.set(s,e),reverseTransformCache.set(e,s)),e}const unwrap=s=>reverseTransformCache.get(s);function openDB(s,e,{blocked:d,upgrade:h,blocking:g,terminated:_}={}){const j=indexedDB.open(s,e),$=wrap(j);return h&&j.addEventListener("upgradeneeded",et=>{h(wrap(j.result),et.oldVersion,et.newVersion,wrap(j.transaction),et)}),d&&j.addEventListener("blocked",et=>d(et.oldVersion,et.newVersion,et)),$.then(et=>{_&&et.addEventListener("close",()=>_()),g&&et.addEventListener("versionchange",tt=>g(tt.oldVersion,tt.newVersion,tt))}).catch(()=>{}),$}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(cachedMethods.get(e))return cachedMethods.get(e);const d=e.replace(/FromIndex$/,""),h=e!==d,g=writeMethods.includes(d);if(!(d in(h?IDBIndex:IDBObjectStore).prototype)||!(g||readMethods.includes(d)))return;const _=async function(j,...$){const et=this.transaction(j,g?"readwrite":"readonly");let tt=et.store;return h&&(tt=tt.index($.shift())),(await Promise.all([tt[d](...$),g&&et.done]))[0]};return cachedMethods.set(e,_),_}replaceTraps(s=>({...s,get:(e,d,h)=>getMethod(e,d)||s.get(e,d,h),has:(e,d)=>!!getMethod(e,d)||s.has(e,d)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(d=>{if(isVersionServiceProvider(d)){const h=d.getImmediate();return`${h.library}/${h.version}`}else return null}).filter(d=>d).join(" ")}}function isVersionServiceProvider(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const name$q="@firebase/app",version$1$1="0.10.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3="@firebase/firestore",name$2$1="@firebase/vertexai-preview",name$1$1="@firebase/firestore-compat",name$r="firebase",version$4="10.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(s,e){try{s.container.addComponent(e)}catch(d){logger.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,d)}}function _registerComponent(s){const e=s.name;if(_components.has(e))return logger.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,s);for(const d of _apps.values())_addComponent(d,s);for(const d of _serverApps.values())_addComponent(d,s);return!0}function _getProvider(s,e){const d=s.container.getProvider("heartbeat").getImmediate({optional:!0});return d&&d.triggerHeartbeat(),s.container.getProvider(e)}function _isFirebaseServerApp(s){return s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,d,h){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},d),this._name=d.name,this._automaticDataCollectionEnabled=d.automaticDataCollectionEnabled,this._container=h,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$4;function initializeApp(s,e={}){let d=s;typeof e!="object"&&(e={name:e});const h=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},e),g=h.name;if(typeof g!="string"||!g)throw ERROR_FACTORY.create("bad-app-name",{appName:String(g)});if(d||(d=getDefaultAppConfig()),!d)throw ERROR_FACTORY.create("no-options");const _=_apps.get(g);if(_){if(deepEqual(d,_.options)&&deepEqual(h,_.config))return _;throw ERROR_FACTORY.create("duplicate-app",{appName:g})}const j=new ComponentContainer(g);for(const et of _components.values())j.addComponent(et);const $=new FirebaseAppImpl(d,h,j);return _apps.set(g,$),$}function getApp(s=DEFAULT_ENTRY_NAME){const e=_apps.get(s);if(!e&&s===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!e)throw ERROR_FACTORY.create("no-app",{appName:s});return e}function registerVersion(s,e,d){var h;let g=(h=PLATFORM_LOG_STRING[s])!==null&&h!==void 0?h:s;d&&(g+=`-${d}`);const _=g.match(/\s|\//),j=e.match(/\s|\//);if(_||j){const $=[`Unable to register library "${g}" with version "${e}":`];_&&$.push(`library name "${g}" contains illegal characters (whitespace or "/")`),_&&j&&$.push("and"),j&&$.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger.warn($.join(" "));return}_registerComponent(new Component(`${g}-version`,()=>({library:g,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(STORE_NAME)}catch(d){console.warn(d)}}}}).catch(s=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:s.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(s){try{const d=(await getDbPromise()).transaction(STORE_NAME),h=await d.objectStore(STORE_NAME).get(computeKey(s));return await d.done,h}catch(e){if(e instanceof FirebaseError)logger.warn(e.message);else{const d=ERROR_FACTORY.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});logger.warn(d.message)}}}async function writeHeartbeatsToIndexedDB(s,e){try{const h=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await h.objectStore(STORE_NAME).put(e,computeKey(s)),await h.done}catch(d){if(d instanceof FirebaseError)logger.warn(d.message);else{const h=ERROR_FACTORY.create("idb-set",{originalErrorMessage:d==null?void 0:d.message});logger.warn(h.message)}}}function computeKey(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const d=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(d),this._heartbeatsCachePromise=this._storage.read().then(h=>(this._heartbeatsCache=h,h))}async triggerHeartbeat(){var e,d;try{const g=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_=getUTCDateString();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((d=this._heartbeatsCache)===null||d===void 0?void 0:d.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===_||this._heartbeatsCache.heartbeats.some(j=>j.date===_)?void 0:(this._heartbeatsCache.heartbeats.push({date:_,agent:g}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(j=>{const $=new Date(j.date).valueOf();return Date.now()-$<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache))}catch(h){logger.warn(h)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const d=getUTCDateString(),{heartbeatsToSend:h,unsentEntries:g}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),_=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:h}));return this._heartbeatsCache.lastSentHeartbeatDate=d,g.length>0?(this._heartbeatsCache.heartbeats=g,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),_}catch(d){return logger.warn(d),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(s,e=MAX_HEADER_BYTES){const d=[];let h=s.slice();for(const g of s){const _=d.find(j=>j.agent===g.agent);if(_){if(_.dates.push(g.date),countBytes(d)>e){_.dates.pop();break}}else if(d.push({agent:g.agent,dates:[g.date]}),countBytes(d)>e){d.pop();break}h=h.slice(1)}return{heartbeatsToSend:d,unsentEntries:h}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const d=await readHeartbeatsFromIndexedDB(this.app);return d!=null&&d.heartbeats?d:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var d;if(await this._canUseIndexedDBPromise){const g=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(d=e.lastSentHeartbeatDate)!==null&&d!==void 0?d:g.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var d;if(await this._canUseIndexedDBPromise){const g=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(d=e.lastSentHeartbeatDate)!==null&&d!==void 0?d:g.lastSentHeartbeatDate,heartbeats:[...g.heartbeats,...e.heartbeats]})}else return}}function countBytes(s){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(s){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$q,version$1$1,s),registerVersion(name$q,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name$2="firebase",version$3="10.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$2,version$3,"app");function __rest$1(s,e){var d={};for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&e.indexOf(h)<0&&(d[h]=s[h]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,h=Object.getOwnPropertySymbols(s);g<h.length;g++)e.indexOf(h[g])<0&&Object.prototype.propertyIsEnumerable.call(s,h[g])&&(d[h[g]]=s[h[g]]);return d}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(s,...e){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${s}`,...e)}function _logError(s,...e){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(s,...e){throw createErrorInternal(s,...e)}function _createError(s,...e){return createErrorInternal(s,...e)}function _errorWithCustomMessage(s,e,d){const h=Object.assign(Object.assign({},prodErrorMap()),{[e]:d});return new ErrorFactory("auth","Firebase",h).create(e,{appName:s.name})}function _serverAppCurrentUserOperationNotSupportedError(s){return _errorWithCustomMessage(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function createErrorInternal(s,...e){if(typeof s!="string"){const d=e[0],h=[...e.slice(1)];return h[0]&&(h[0].appName=s.name),s._errorFactory.create(d,...h)}return _DEFAULT_AUTH_ERROR_FACTORY.create(s,...e)}function _assert(s,e,...d){if(!s)throw createErrorInternal(e,...d)}function debugFail(s){const e="INTERNAL ASSERTION FAILED: "+s;throw _logError(e),new Error(e)}function debugAssert(s,e){s||debugFail(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(e,d){this.shortDelay=e,this.longDelay=d,debugAssert(d>e,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(s,e){debugAssert(s.emulator,"Emulator should always be set here");const{url:d}=s.emulator;return e?`${d}${e.startsWith("/")?e.slice(1):e}`:d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(e,d,h){this.fetchImpl=e,d&&(this.headersImpl=d),h&&(this.responseImpl=h)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function _performApiRequest(s,e,d,h,g={}){return _performFetchWithErrorHandling(s,g,async()=>{let _={},j={};h&&(e==="GET"?j=h:_={body:JSON.stringify(h)});const $=querystring(Object.assign({key:s.config.apiKey},j)).slice(1),et=await s._getAdditionalHeaders();et["Content-Type"]="application/json",s.languageCode&&(et["X-Firebase-Locale"]=s.languageCode);const tt=Object.assign({method:e,headers:et},_);return isCloudflareWorker()||(tt.referrerPolicy="no-referrer"),FetchProvider.fetch()(_getFinalTarget(s,s.config.apiHost,d,$),tt)})}async function _performFetchWithErrorHandling(s,e,d){s._canInitEmulator=!1;const h=Object.assign(Object.assign({},SERVER_ERROR_MAP),e);try{const g=new NetworkTimeout(s),_=await Promise.race([d(),g.promise]);g.clearNetworkTimeout();const j=await _.json();if("needConfirmation"in j)throw _makeTaggedError(s,"account-exists-with-different-credential",j);if(_.ok&&!("errorMessage"in j))return j;{const $=_.ok?j.errorMessage:j.error.message,[et,tt]=$.split(" : ");if(et==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(s,"credential-already-in-use",j);if(et==="EMAIL_EXISTS")throw _makeTaggedError(s,"email-already-in-use",j);if(et==="USER_DISABLED")throw _makeTaggedError(s,"user-disabled",j);const nt=h[et]||et.toLowerCase().replace(/[_\s]+/g,"-");if(tt)throw _errorWithCustomMessage(s,nt,tt);_fail(s,nt)}}catch(g){if(g instanceof FirebaseError)throw g;_fail(s,"network-request-failed",{message:String(g)})}}async function _performSignInRequest(s,e,d,h,g={}){const _=await _performApiRequest(s,e,d,h,g);return"mfaPendingCredential"in _&&_fail(s,"multi-factor-auth-required",{_serverResponse:_}),_}function _getFinalTarget(s,e,d,h){const g=`${e}${d}?${h}`;return s.config.emulator?_emulatorUrl(s.config,g):`${s.config.apiScheme}://${g}`}class NetworkTimeout{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((d,h)=>{this.timer=setTimeout(()=>h(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(s,e,d){const h={appName:s.name};d.email&&(h.email=d.email),d.phoneNumber&&(h.phoneNumber=d.phoneNumber);const g=_createError(s,e,h);return g.customData._tokenResponse=d,g}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(s,e){return _performApiRequest(s,"POST","/v1/accounts:delete",e)}async function getAccountInfo(s,e){return _performApiRequest(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function getIdTokenResult(s,e=!1){const d=getModularInstance(s),h=await d.getIdToken(e),g=_parseToken(h);_assert(g&&g.exp&&g.auth_time&&g.iat,d.auth,"internal-error");const _=typeof g.firebase=="object"?g.firebase:void 0,j=_==null?void 0:_.sign_in_provider;return{claims:g,token:h,authTime:utcTimestampToDateString(secondsStringToMilliseconds(g.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(g.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(g.exp)),signInProvider:j||null,signInSecondFactor:(_==null?void 0:_.sign_in_second_factor)||null}}function secondsStringToMilliseconds(s){return Number(s)*1e3}function _parseToken(s){const[e,d,h]=s.split(".");if(e===void 0||d===void 0||h===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const g=base64Decode(d);return g?JSON.parse(g):(_logError("Failed to decode base64 JWT payload"),null)}catch(g){return _logError("Caught error parsing JWT payload as JSON",g==null?void 0:g.toString()),null}}function _tokenExpiresIn(s){const e=_parseToken(s);return _assert(e,"internal-error"),_assert(typeof e.exp<"u","internal-error"),_assert(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(s,e,d=!1){if(d)return e;try{return await e}catch(h){throw h instanceof FirebaseError&&isUserInvalidated(h)&&s.auth.currentUser===s&&await s.auth.signOut(),h}}function isUserInvalidated({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var d;if(e){const h=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),h}else{this.errorBackoff=3e4;const g=((d=this.user.stsTokenManager.expirationTime)!==null&&d!==void 0?d:0)-Date.now()-3e5;return Math.max(0,g)}}schedule(e=!1){if(!this.isRunning)return;const d=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},d)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(e,d){this.createdAt=e,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(s){var e;const d=s.auth,h=await s.getIdToken(),g=await _logoutIfInvalidated(s,getAccountInfo(d,{idToken:h}));_assert(g==null?void 0:g.users.length,d,"internal-error");const _=g.users[0];s._notifyReloadListener(_);const j=!((e=_.providerUserInfo)===null||e===void 0)&&e.length?extractProviderData(_.providerUserInfo):[],$=mergeProviderData(s.providerData,j),et=s.isAnonymous,tt=!(s.email&&_.passwordHash)&&!($!=null&&$.length),nt=et?tt:!1,rt={uid:_.localId,displayName:_.displayName||null,photoURL:_.photoUrl||null,email:_.email||null,emailVerified:_.emailVerified||!1,phoneNumber:_.phoneNumber||null,tenantId:_.tenantId||null,providerData:$,metadata:new UserMetadata(_.createdAt,_.lastLoginAt),isAnonymous:nt};Object.assign(s,rt)}async function reload(s){const e=getModularInstance(s);await _reloadWithoutSaving(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mergeProviderData(s,e){return[...s.filter(h=>!e.some(g=>g.providerId===h.providerId)),...e]}function extractProviderData(s){return s.map(e=>{var{providerId:d}=e,h=__rest$1(e,["providerId"]);return{providerId:d,uid:h.rawId||"",displayName:h.displayName||null,email:h.email||null,phoneNumber:h.phoneNumber||null,photoURL:h.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(s,e){const d=await _performFetchWithErrorHandling(s,{},async()=>{const h=querystring({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:g,apiKey:_}=s.config,j=_getFinalTarget(s,g,"/v1/token",`key=${_}`),$=await s._getAdditionalHeaders();return $["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(j,{method:"POST",headers:$,body:h})});return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}}async function revokeToken(s,e){return _performApiRequest(s,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_assert(e.idToken,"internal-error"),_assert(typeof e.idToken<"u","internal-error"),_assert(typeof e.refreshToken<"u","internal-error");const d="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_tokenExpiresIn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,d)}updateFromIdToken(e){_assert(e.length!==0,"internal-error");const d=_tokenExpiresIn(e);this.updateTokensAndExpiration(e,null,d)}async getToken(e,d=!1){return!d&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,d){const{accessToken:h,refreshToken:g,expiresIn:_}=await requestStsToken(e,d);this.updateTokensAndExpiration(h,g,Number(_))}updateTokensAndExpiration(e,d,h){this.refreshToken=d||null,this.accessToken=e||null,this.expirationTime=Date.now()+h*1e3}static fromJSON(e,d){const{refreshToken:h,accessToken:g,expirationTime:_}=d,j=new StsTokenManager;return h&&(_assert(typeof h=="string","internal-error",{appName:e}),j.refreshToken=h),g&&(_assert(typeof g=="string","internal-error",{appName:e}),j.accessToken=g),_&&(_assert(typeof _=="number","internal-error",{appName:e}),j.expirationTime=_),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(s,e){_assert(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class UserImpl{constructor(e){var{uid:d,auth:h,stsTokenManager:g}=e,_=__rest$1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=h,this.stsTokenManager=g,this.accessToken=g.accessToken,this.displayName=_.displayName||null,this.email=_.email||null,this.emailVerified=_.emailVerified||!1,this.phoneNumber=_.phoneNumber||null,this.photoURL=_.photoURL||null,this.isAnonymous=_.isAnonymous||!1,this.tenantId=_.tenantId||null,this.providerData=_.providerData?[..._.providerData]:[],this.metadata=new UserMetadata(_.createdAt||void 0,_.lastLoginAt||void 0)}async getIdToken(e){const d=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,e));return _assert(d,this.auth,"internal-error"),this.accessToken!==d&&(this.accessToken=d,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),d}getIdTokenResult(e){return getIdTokenResult(this,e)}reload(){return reload(this)}_assign(e){this!==e&&(_assert(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(d=>Object.assign({},d)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const d=new UserImpl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(e){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,d=!1){let h=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),h=!0),d&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),h&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const e=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,d){var h,g,_,j,$,et,tt,nt;const rt=(h=d.displayName)!==null&&h!==void 0?h:void 0,it=(g=d.email)!==null&&g!==void 0?g:void 0,st=(_=d.phoneNumber)!==null&&_!==void 0?_:void 0,ot=(j=d.photoURL)!==null&&j!==void 0?j:void 0,lt=($=d.tenantId)!==null&&$!==void 0?$:void 0,dt=(et=d._redirectEventId)!==null&&et!==void 0?et:void 0,at=(tt=d.createdAt)!==null&&tt!==void 0?tt:void 0,ut=(nt=d.lastLoginAt)!==null&&nt!==void 0?nt:void 0,{uid:pt,emailVerified:vt,isAnonymous:ht,providerData:yt,stsTokenManager:gt}=d;_assert(pt&&gt,e,"internal-error");const ft=StsTokenManager.fromJSON(this.name,gt);_assert(typeof pt=="string",e,"internal-error"),assertStringOrUndefined(rt,e.name),assertStringOrUndefined(it,e.name),_assert(typeof vt=="boolean",e,"internal-error"),_assert(typeof ht=="boolean",e,"internal-error"),assertStringOrUndefined(st,e.name),assertStringOrUndefined(ot,e.name),assertStringOrUndefined(lt,e.name),assertStringOrUndefined(dt,e.name),assertStringOrUndefined(at,e.name),assertStringOrUndefined(ut,e.name);const _t=new UserImpl({uid:pt,auth:e,email:it,emailVerified:vt,displayName:rt,isAnonymous:ht,photoURL:ot,phoneNumber:st,tenantId:lt,stsTokenManager:ft,createdAt:at,lastLoginAt:ut});return yt&&Array.isArray(yt)&&(_t.providerData=yt.map(Et=>Object.assign({},Et))),dt&&(_t._redirectEventId=dt),_t}static async _fromIdTokenResponse(e,d,h=!1){const g=new StsTokenManager;g.updateFromServerResponse(d);const _=new UserImpl({uid:d.localId,auth:e,stsTokenManager:g,isAnonymous:h});return await _reloadWithoutSaving(_),_}static async _fromGetAccountInfoResponse(e,d,h){const g=d.users[0];_assert(g.localId!==void 0,"internal-error");const _=g.providerUserInfo!==void 0?extractProviderData(g.providerUserInfo):[],j=!(g.email&&g.passwordHash)&&!(_!=null&&_.length),$=new StsTokenManager;$.updateFromIdToken(h);const et=new UserImpl({uid:g.localId,auth:e,stsTokenManager:$,isAnonymous:j}),tt={uid:g.localId,displayName:g.displayName||null,photoURL:g.photoUrl||null,email:g.email||null,emailVerified:g.emailVerified||!1,phoneNumber:g.phoneNumber||null,tenantId:g.tenantId||null,providerData:_,metadata:new UserMetadata(g.createdAt,g.lastLoginAt),isAnonymous:!(g.email&&g.passwordHash)&&!(_!=null&&_.length)};return Object.assign(et,tt),et}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(s){debugAssert(s instanceof Function,"Expected a class definition");let e=instanceCache.get(s);return e?(debugAssert(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,instanceCache.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,d){this.storage[e]=d}async _get(e){const d=this.storage[e];return d===void 0?null:d}async _remove(e){delete this.storage[e]}_addListener(e,d){}_removeListener(e,d){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(s,e,d){return`firebase:${s}:${e}:${d}`}class PersistenceUserManager{constructor(e,d,h){this.persistence=e,this.auth=d,this.userKey=h;const{config:g,name:_}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,g.apiKey,_),this.fullPersistenceKey=_persistenceKeyName("persistence",g.apiKey,_),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?UserImpl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const d=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,d)return this.setCurrentUser(d)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,d,h="authUser"){if(!d.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),e,h);const g=(await Promise.all(d.map(async tt=>{if(await tt._isAvailable())return tt}))).filter(tt=>tt);let _=g[0]||_getInstance(inMemoryPersistence);const j=_persistenceKeyName(h,e.config.apiKey,e.name);let $=null;for(const tt of d)try{const nt=await tt._get(j);if(nt){const rt=UserImpl._fromJSON(e,nt);tt!==_&&($=rt),_=tt;break}}catch{}const et=g.filter(tt=>tt._shouldAllowMigration);return!_._shouldAllowMigration||!et.length?new PersistenceUserManager(_,e,h):(_=et[0],$&&await _._set(j,$.toJSON()),await Promise.all(d.map(async tt=>{if(tt!==_)try{await tt._remove(j)}catch{}})),new PersistenceUserManager(_,e,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_isIEMobile(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_isFirefox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_isBlackBerry(e))return"Blackberry";if(_isWebOS(e))return"Webos";if(_isSafari(e))return"Safari";if((e.includes("chrome/")||_isChromeIOS(e))&&!e.includes("edge/"))return"Chrome";if(_isAndroid(e))return"Android";{const d=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,h=s.match(d);if((h==null?void 0:h.length)===2)return h[1]}return"Other"}function _isFirefox(s=getUA()){return/firefox\//i.test(s)}function _isSafari(s=getUA()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _isChromeIOS(s=getUA()){return/crios\//i.test(s)}function _isIEMobile(s=getUA()){return/iemobile/i.test(s)}function _isAndroid(s=getUA()){return/android/i.test(s)}function _isBlackBerry(s=getUA()){return/blackberry/i.test(s)}function _isWebOS(s=getUA()){return/webos/i.test(s)}function _isIOS(s=getUA()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function _isIOSStandalone(s=getUA()){var e;return _isIOS(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(s=getUA()){return _isIOS(s)||_isAndroid(s)||_isWebOS(s)||_isBlackBerry(s)||/windows phone/i.test(s)||_isIEMobile(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(s,e=[]){let d;switch(s){case"Browser":d=_getBrowserName(getUA());break;case"Worker":d=`${_getBrowserName(getUA())}-${s}`;break;default:d=s}const h=e.length?e.join(","):"FirebaseCore-web";return`${d}/JsCore/${SDK_VERSION}/${h}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,d){const h=_=>new Promise((j,$)=>{try{const et=e(_);j(et)}catch(et){$(et)}});h.onAbort=d,this.queue.push(h);const g=this.queue.length-1;return()=>{this.queue[g]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const d=[];try{for(const h of this.queue)await h(e),h.onAbort&&d.push(h.onAbort)}catch(h){d.reverse();for(const g of d)try{g()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:h==null?void 0:h.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(s,e={}){return _performApiRequest(s,"GET","/v2/passwordPolicy",_addTidIfNecessary(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(e){var d,h,g,_;const j=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(d=j.minPasswordLength)!==null&&d!==void 0?d:MINIMUM_MIN_PASSWORD_LENGTH,j.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=j.maxPasswordLength),j.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=j.containsLowercaseCharacter),j.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=j.containsUppercaseCharacter),j.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=j.containsNumericCharacter),j.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=j.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(g=(h=e.allowedNonAlphanumericCharacters)===null||h===void 0?void 0:h.join(""))!==null&&g!==void 0?g:"",this.forceUpgradeOnSignin=(_=e.forceUpgradeOnSignin)!==null&&_!==void 0?_:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var d,h,g,_,j,$;const et={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,et),this.validatePasswordCharacterOptions(e,et),et.isValid&&(et.isValid=(d=et.meetsMinPasswordLength)!==null&&d!==void 0?d:!0),et.isValid&&(et.isValid=(h=et.meetsMaxPasswordLength)!==null&&h!==void 0?h:!0),et.isValid&&(et.isValid=(g=et.containsLowercaseLetter)!==null&&g!==void 0?g:!0),et.isValid&&(et.isValid=(_=et.containsUppercaseLetter)!==null&&_!==void 0?_:!0),et.isValid&&(et.isValid=(j=et.containsNumericCharacter)!==null&&j!==void 0?j:!0),et.isValid&&(et.isValid=($=et.containsNonAlphanumericCharacter)!==null&&$!==void 0?$:!0),et}validatePasswordLengthOptions(e,d){const h=this.customStrengthOptions.minPasswordLength,g=this.customStrengthOptions.maxPasswordLength;h&&(d.meetsMinPasswordLength=e.length>=h),g&&(d.meetsMaxPasswordLength=e.length<=g)}validatePasswordCharacterOptions(e,d){this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);let h;for(let g=0;g<e.length;g++)h=e.charAt(g),this.updatePasswordCharacterOptionsStatuses(d,h>="a"&&h<="z",h>="A"&&h<="Z",h>="0"&&h<="9",this.allowedNonAlphanumericCharacters.includes(h))}updatePasswordCharacterOptionsStatuses(e,d,h,g,_){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=h)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=g)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(e,d,h,g){this.app=e,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=h,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(e,d){return d&&(this._popupRedirectResolver=_getInstance(d)),this._initializationPromise=this.queue(async()=>{var h,g;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,e),!this._deleted)){if(!((h=this._popupRedirectResolver)===null||h===void 0)&&h._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(d),this.lastNotifiedUid=((g=this.currentUser)===null||g===void 0?void 0:g.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const d=await getAccountInfo(this,{idToken:e}),h=await UserImpl._fromGetAccountInfoResponse(this,d,e);await this.directlySetCurrentUser(h)}catch(d){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",d),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var d;if(_isFirebaseServerApp(this.app)){const j=this.app.settings.authIdToken;return j?new Promise($=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(j).then($,$))}):this.directlySetCurrentUser(null)}const h=await this.assertedPersistence.getCurrentUser();let g=h,_=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const j=(d=this.redirectUser)===null||d===void 0?void 0:d._redirectEventId,$=g==null?void 0:g._redirectEventId,et=await this.tryRedirectSignIn(e);(!j||j===$)&&(et!=null&&et.user)&&(g=et.user,_=!0)}if(!g)return this.directlySetCurrentUser(null);if(!g._redirectEventId){if(_)try{await this.beforeStateQueue.runMiddleware(g)}catch(j){g=h,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(j))}return g?this.reloadAndSetCurrentUserOrClear(g):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===g._redirectEventId?this.directlySetCurrentUser(g):this.reloadAndSetCurrentUserOrClear(g)}async tryRedirectSignIn(e){let d=null;try{d=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return d}async reloadAndSetCurrentUserOrClear(e){try{await _reloadWithoutSaving(e)}catch(d){if((d==null?void 0:d.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const d=e?getModularInstance(e):null;return d&&_assert(d.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(d&&d._clone(this))}async _updateCurrentUser(e,d=!1){if(!this._deleted)return e&&_assert(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),d||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const d=this._getPasswordPolicyInternal();return d.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):d.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _getPasswordPolicy(this),d=new PasswordPolicyImpl(e);this.tenantId===null?this._projectPasswordPolicy=d:this._tenantPasswordPolicies[this.tenantId]=d}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,d,h){return this.registerStateListener(this.authStateSubscription,e,d,h)}beforeAuthStateChanged(e,d){return this.beforeStateQueue.pushCallback(e,d)}onIdTokenChanged(e,d,h){return this.registerStateListener(this.idTokenSubscription,e,d,h)}authStateReady(){return new Promise((e,d)=>{if(this.currentUser)e();else{const h=this.onAuthStateChanged(()=>{h(),e()},d)}})}async revokeAccessToken(e){if(this.currentUser){const d=await this.currentUser.getIdToken(),h={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:d};this.tenantId!=null&&(h.tenantId=this.tenantId),await revokeToken(this,h)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,d){const h=await this.getOrInitRedirectPersistenceManager(d);return e===null?h.removeCurrentUser():h.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const d=e&&_getInstance(e)||this._popupRedirectResolver;_assert(d,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(d._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var d,h;return this._isInitialized&&await this.queue(async()=>{}),((d=this._currentUser)===null||d===void 0?void 0:d._redirectEventId)===e?this._currentUser:((h=this.redirectUser)===null||h===void 0?void 0:h._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const h=(d=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&d!==void 0?d:null;this.lastNotifiedUid!==h&&(this.lastNotifiedUid=h,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,d,h,g){if(this._deleted)return()=>{};const _=typeof d=="function"?d:d.next.bind(d);let j=!1;const $=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert($,this,"internal-error"),$.then(()=>{j||_(this.currentUser)}),typeof d=="function"){const et=e.addObserver(d,h,g);return()=>{j=!0,et()}}else{const et=e.addObserver(d);return()=>{j=!0,et()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const d={"X-Client-Version":this.clientVersion};this.app.options.appId&&(d["X-Firebase-gmpid"]=this.app.options.appId);const h=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());h&&(d["X-Firebase-Client"]=h);const g=await this._getAppCheckToken();return g&&(d["X-Firebase-AppCheck"]=g),d}async _getAppCheckToken(){var e;const d=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return d!=null&&d.error&&_logWarn(`Error while retrieving App Check token: ${d.error}`),d==null?void 0:d.token}}function _castAuth(s){return getModularInstance(s)}class Subscription{constructor(e){this.auth=e,this.observer=null,this.addObserver=createSubscribe(d=>this.observer=d)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(s){externalJSProvider=s}function _loadJS(s){return externalJSProvider.loadJS(s)}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(s,e){const d=_getProvider(s,"auth");if(d.isInitialized()){const g=d.getImmediate(),_=d.getOptions();if(deepEqual(_,e??{}))return g;_fail(g,"already-initialized")}return d.initialize({options:e})}function _initializeAuthInstance(s,e){const d=(e==null?void 0:e.persistence)||[],h=(Array.isArray(d)?d:[d]).map(_getInstance);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(h,e==null?void 0:e.popupRedirectResolver)}function connectAuthEmulator(s,e,d){const h=_castAuth(s);_assert(h._canInitEmulator,h,"emulator-config-failed"),_assert(/^https?:\/\//.test(e),h,"invalid-emulator-scheme");const g=!1,_=extractProtocol(e),{host:j,port:$}=extractHostAndPort(e),et=$===null?"":`:${$}`;h.config.emulator={url:`${_}//${j}${et}/`},h.settings.appVerificationDisabledForTesting=!0,h.emulatorConfig=Object.freeze({host:j,port:$,protocol:_.replace(":",""),options:Object.freeze({disableWarnings:g})}),emitEmulatorWarning()}function extractProtocol(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function extractHostAndPort(s){const e=extractProtocol(s),d=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!d)return{host:"",port:null};const h=d[2].split("@").pop()||"",g=/^(\[[^\]]+\])(:|$)/.exec(h);if(g){const _=g[1];return{host:_,port:parsePort(h.substr(_.length+1))}}else{const[_,j]=h.split(":");return{host:_,port:parsePort(j)}}}function parsePort(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function emitEmulatorWarning(){function s(){const e=document.createElement("p"),d=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(e,d){this.providerId=e,this.signInMethod=d}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(e){return debugFail("not implemented")}_linkToIdToken(e,d){return debugFail("not implemented")}_getReauthenticationResolver(e){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(s,e){return _performSignInRequest(s,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const d=new OAuthCredential(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(d.idToken=e.idToken),e.accessToken&&(d.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(d.nonce=e.nonce),e.pendingToken&&(d.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(d.accessToken=e.oauthToken,d.secret=e.oauthTokenSecret):_fail("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const d=typeof e=="string"?JSON.parse(e):e,{providerId:h,signInMethod:g}=d,_=__rest$1(d,["providerId","signInMethod"]);if(!h||!g)return null;const j=new OAuthCredential(h,g);return j.idToken=_.idToken||void 0,j.accessToken=_.accessToken||void 0,j.secret=_.secret,j.nonce=_.nonce,j.pendingToken=_.pendingToken||null,j}_getIdTokenResponse(e){const d=this.buildRequest();return signInWithIdp(e,d)}_linkToIdToken(e,d){const h=this.buildRequest();return h.idToken=d,signInWithIdp(e,h)}_getReauthenticationResolver(e){const d=this.buildRequest();return d.autoCreate=!1,signInWithIdp(e,d)}buildRequest(){const e={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),e.postBody=querystring(d)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FacebookAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return FacebookAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(e,d){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:d})}static credentialFromResult(e){return GoogleAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GoogleAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:d,oauthAccessToken:h}=e;if(!d&&!h)return null;try{return GoogleAuthProvider.credential(d,h)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GithubAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GithubAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(e,d){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:d})}static credentialFromResult(e){return TwitterAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return TwitterAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:d,oauthTokenSecret:h}=e;if(!d||!h)return null;try{return TwitterAuthProvider.credential(d,h)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,d,h,g=!1){const _=await UserImpl._fromIdTokenResponse(e,h,g),j=providerIdForResponse(h);return new UserCredentialImpl({user:_,providerId:j,_tokenResponse:h,operationType:d})}static async _forOperation(e,d,h){await e._updateTokensIfNecessary(h,!0);const g=providerIdForResponse(h);return new UserCredentialImpl({user:e,providerId:g,_tokenResponse:h,operationType:d})}}function providerIdForResponse(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(e,d,h,g){var _;super(d.code,d.message),this.operationType=h,this.user=g,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:e.name,tenantId:(_=e.tenantId)!==null&&_!==void 0?_:void 0,_serverResponse:d.customData._serverResponse,operationType:h}}static _fromErrorAndOperation(e,d,h,g){return new MultiFactorError(e,d,h,g)}}function _processCredentialSavingMfaContextIfNecessary(s,e,d,h){return(e==="reauthenticate"?d._getReauthenticationResolver(s):d._getIdTokenResponse(s)).catch(_=>{throw _.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(s,_,e,h):_})}async function _link$1(s,e,d=!1){const h=await _logoutIfInvalidated(s,e._linkToIdToken(s.auth,await s.getIdToken()),d);return UserCredentialImpl._forOperation(s,"link",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(s,e,d=!1){const{auth:h}=s;if(_isFirebaseServerApp(h.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(h));const g="reauthenticate";try{const _=await _logoutIfInvalidated(s,_processCredentialSavingMfaContextIfNecessary(h,g,e,s),d);_assert(_.idToken,h,"internal-error");const j=_parseToken(_.idToken);_assert(j,h,"internal-error");const{sub:$}=j;return _assert(s.uid===$,h,"user-mismatch"),UserCredentialImpl._forOperation(s,g,_)}catch(_){throw(_==null?void 0:_.code)==="auth/user-not-found"&&_fail(h,"user-mismatch"),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(s,e,d=!1){if(_isFirebaseServerApp(s.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(s));const h="signIn",g=await _processCredentialSavingMfaContextIfNecessary(s,h,e),_=await UserCredentialImpl._fromIdTokenResponse(s,h,g);return d||await s._updateCurrentUser(_.user),_}function onIdTokenChanged(s,e,d,h){return getModularInstance(s).onIdTokenChanged(e,d,h)}function beforeAuthStateChanged(s,e,d){return getModularInstance(s).beforeAuthStateChanged(e,d)}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(e,d){this.storageRetriever=e,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,d){return this.storage.setItem(e,JSON.stringify(d)),Promise.resolve()}_get(e){const d=this.storage.getItem(e);return Promise.resolve(d?JSON.parse(d):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,d)=>this.onStorageEvent(e,d),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const d of Object.keys(this.listeners)){const h=this.storage.getItem(d),g=this.localCache[d];h!==g&&e(d,g,h)}}onStorageEvent(e,d=!1){if(!e.key){this.forAllChangedKeys((j,$,et)=>{this.notifyListeners(j,et)});return}const h=e.key;d?this.detachListener():this.stopPolling();const g=()=>{const j=this.storage.getItem(h);!d&&this.localCache[h]===j||this.notifyListeners(h,j)},_=this.storage.getItem(h);_isIE10()&&_!==e.newValue&&e.newValue!==e.oldValue?setTimeout(g,IE10_LOCAL_STORAGE_SYNC_DELAY):g()}notifyListeners(e,d){this.localCache[e]=d;const h=this.listeners[e];if(h)for(const g of Array.from(h))g(d&&JSON.parse(d))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,d,h)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:d,newValue:h}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,d){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(d)}_removeListener(e,d){this.listeners[e]&&(this.listeners[e].delete(d),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,d){await super._set(e,d),this.localCache[e]=JSON.stringify(d)}async _get(e){const d=await super._get(e);return this.localCache[e]=JSON.stringify(d),d}async _remove(e){await super._remove(e),delete this.localCache[e]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,d){}_removeListener(e,d){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(d){return{fulfilled:!1,reason:d}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const d=this.receivers.find(g=>g.isListeningto(e));if(d)return d;const h=new Receiver(e);return this.receivers.push(h),h}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const d=e,{eventId:h,eventType:g,data:_}=d.data,j=this.handlersMap[g];if(!(j!=null&&j.size))return;d.ports[0].postMessage({status:"ack",eventId:h,eventType:g});const $=Array.from(j).map(async tt=>tt(d.origin,_)),et=await _allSettled($);d.ports[0].postMessage({status:"done",eventId:h,eventType:g,response:et})}_subscribe(e,d){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(d)}_unsubscribe(e,d){this.handlersMap[e]&&d&&this.handlersMap[e].delete(d),(!d||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(s="",e=10){let d="";for(let h=0;h<e;h++)d+=Math.floor(Math.random()*10);return s+d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,d,h=50){const g=typeof MessageChannel<"u"?new MessageChannel:null;if(!g)throw new Error("connection_unavailable");let _,j;return new Promise(($,et)=>{const tt=_generateEventId("",20);g.port1.start();const nt=setTimeout(()=>{et(new Error("unsupported_event"))},h);j={messageChannel:g,onMessage(rt){const it=rt;if(it.data.eventId===tt)switch(it.data.status){case"ack":clearTimeout(nt),_=setTimeout(()=>{et(new Error("timeout"))},3e3);break;case"done":clearTimeout(_),$(it.data.response);break;default:clearTimeout(nt),clearTimeout(_),et(new Error("invalid_response"));break}}},this.handlers.add(j),g.port1.addEventListener("message",j.onMessage),this.target.postMessage({eventType:e,eventId:tt,data:d},[g.port2])}).finally(()=>{j&&this.removeMessageHandler(j)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(s){_window().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(e){this.request=e}toPromise(){return new Promise((e,d)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function getObjectStore(s,e){return s.transaction([DB_OBJECTSTORE_NAME],e?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const s=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(s).toPromise()}function _openDatabase(){const s=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((e,d)=>{s.addEventListener("error",()=>{d(s.error)}),s.addEventListener("upgradeneeded",()=>{const h=s.result;try{h.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(g){d(g)}}),s.addEventListener("success",async()=>{const h=s.result;h.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?e(h):(h.close(),await _deleteDatabase(),e(await _openDatabase()))})})}async function _putObject(s,e,d){const h=getObjectStore(s,!0).put({[DB_DATA_KEYPATH]:e,value:d});return new DBPromise(h).toPromise()}async function getObject(s,e){const d=getObjectStore(s,!1).get(e),h=await new DBPromise(d).toPromise();return h===void 0?null:h.value}function _deleteObject(s,e){const d=getObjectStore(s,!0).delete(e);return new DBPromise(d).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(e){let d=0;for(;;)try{const h=await this._openDb();return await e(h)}catch(h){if(d++>_TRANSACTION_RETRY_COUNT)throw h;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(e,d)=>({keyProcessed:(await this._poll()).includes(d.key)})),this.receiver._subscribe("ping",async(e,d)=>["keyChanged"])}async initializeSender(){var e,d;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const h=await this.sender._send("ping",{},800);h&&!((e=h[0])===null||e===void 0)&&e.fulfilled&&!((d=h[0])===null||d===void 0)&&d.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _openDatabase();return await _putObject(e,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(e,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,d){return this._withPendingWrite(async()=>(await this._withRetries(h=>_putObject(h,e,d)),this.localCache[e]=d,this.notifyServiceWorker(e)))}async _get(e){const d=await this._withRetries(h=>getObject(h,e));return this.localCache[e]=d,d}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(d=>_deleteObject(d,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(g=>{const _=getObjectStore(g,!1).getAll();return new DBPromise(_).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const d=[],h=new Set;if(e.length!==0)for(const{fbase_key:g,value:_}of e)h.add(g),JSON.stringify(this.localCache[g])!==JSON.stringify(_)&&(this.notifyListeners(g,_),d.push(g));for(const g of Object.keys(this.localCache))this.localCache[g]&&!h.has(g)&&(this.notifyListeners(g,null),d.push(g));return d}notifyListeners(e,d){this.localCache[e]=d;const h=this.listeners[e];if(h)for(const g of Array.from(h))g(d)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,d){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(d)}_removeListener(e,d){this.listeners[e]&&(this.listeners[e].delete(d),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(s,e){return e?_getInstance(e):(_assert(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return signInWithIdp(e,this._buildIdpRequest())}_linkToIdToken(e,d){return signInWithIdp(e,this._buildIdpRequest(d))}_getReauthenticationResolver(e){return signInWithIdp(e,this._buildIdpRequest())}_buildIdpRequest(e){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(d.idToken=e),d}}function _signIn(s){return _signInWithCredential(s.auth,new IdpCredential(s),s.bypassAuthState)}function _reauth(s){const{auth:e,user:d}=s;return _assert(d,e,"internal-error"),_reauthenticate(d,new IdpCredential(s),s.bypassAuthState)}async function _link(s){const{auth:e,user:d}=s;return _assert(d,e,"internal-error"),_link$1(d,new IdpCredential(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(e,d,h,g,_=!1){this.auth=e,this.resolver=h,this.user=g,this.bypassAuthState=_,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){return new Promise(async(e,d)=>{this.pendingPromise={resolve:e,reject:d};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(h){this.reject(h)}})}async onAuthEvent(e){const{urlResponse:d,sessionId:h,postBody:g,tenantId:_,error:j,type:$}=e;if(j){this.reject(j);return}const et={auth:this.auth,requestUri:d,sessionId:h,tenantId:_||void 0,postBody:g||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask($)(et))}catch(tt){this.reject(tt)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(e,d,h,g,_){super(e,d,g,_),this.provider=h,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _assert(e,this.auth,"internal-error"),e}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(d=>{this.reject(d)}),this.resolver._isIframeWebStorageSupported(this.auth,d=>{d||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const e=()=>{var d,h;if(!((h=(d=this.authWindow)===null||d===void 0?void 0:d.window)===null||h===void 0)&&h.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_POLL_WINDOW_CLOSE_TIMEOUT.get())};e()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(e,d,h=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,h),this.eventId=null}async execute(){let e=redirectOutcomeMap.get(this.auth._key());if(!e){try{const h=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(h)}catch(d){e=()=>Promise.reject(d)}redirectOutcomeMap.set(this.auth._key(),e)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const d=await this.auth._redirectUserForId(e.eventId);if(d)return this.user=d,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(s,e){const d=pendingRedirectKey(e),h=resolverPersistence(s);if(!await h._isAvailable())return!1;const g=await h._get(d)==="true";return await h._remove(d),g}function _overrideRedirectResult(s,e){redirectOutcomeMap.set(s._key(),e)}function resolverPersistence(s){return _getInstance(s._redirectPersistence)}function pendingRedirectKey(s){return _persistenceKeyName(PENDING_REDIRECT_KEY,s.config.apiKey,s.name)}async function _getRedirectResult(s,e,d=!1){if(_isFirebaseServerApp(s.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(s));const h=_castAuth(s),g=_withDefaultResolver(h,e),j=await new RedirectAction(h,g,d).execute();return j&&!d&&(delete j.user._redirectEventId,await h._persistUserIfCurrent(j.user),await h._setRedirectUser(null,e)),j}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let d=!1;return this.consumers.forEach(h=>{this.isEventForConsumer(e,h)&&(d=!0,this.sendToConsumer(e,h),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!isRedirectEvent(e)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=e,d=!0)),d}sendToConsumer(e,d){var h;if(e.error&&!isNullRedirectEvent(e)){const g=((h=e.error.code)===null||h===void 0?void 0:h.split("auth/")[1])||"internal-error";d.onError(_createError(this.auth,g))}else d.onAuthEvent(e)}isEventForConsumer(e,d){const h=d.eventId===null||!!e.eventId&&e.eventId===d.eventId;return d.filter.includes(e.type)&&h}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(e))}saveEventToCache(e){this.cachedEventUids.add(eventUid(e)),this.lastProcessedEventTime=Date.now()}}function eventUid(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function isNullRedirectEvent({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function isRedirectEvent(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(s,e={}){return _performApiRequest(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(s){if(s.config.emulator)return;const{authorizedDomains:e}=await _getProjectConfig(s);for(const d of e)try{if(matchDomain(d))return}catch{}_fail(s,"unauthorized-domain")}function matchDomain(s){const e=_getCurrentUrl(),{protocol:d,hostname:h}=new URL(e);if(s.startsWith("chrome-extension://")){const j=new URL(s);return j.hostname===""&&h===""?d==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):d==="chrome-extension:"&&j.hostname===h}if(!HTTP_REGEX.test(d))return!1;if(IP_ADDRESS_REGEX.test(s))return h===s;const g=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+g+"|"+g+")$","i").test(h)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const s=_window().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let d=0;d<s.CP.length;d++)s.CP[d]=null}}function loadGapi(s){return new Promise((e,d)=>{var h,g,_;function j(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),d(_createError(s,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((g=(h=_window().gapi)===null||h===void 0?void 0:h.iframes)===null||g===void 0)&&g.Iframe)e(gapi.iframes.getContext());else if(!((_=_window().gapi)===null||_===void 0)&&_.load)j();else{const $=_generateCallbackName("iframefcb");return _window()[$]=()=>{gapi.load?j():d(_createError(s,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${$}`).catch(et=>d(et))}}).catch(e=>{throw cachedGApiLoader=null,e})}let cachedGApiLoader=null;function _loadGapi(s){return cachedGApiLoader=cachedGApiLoader||loadGapi(s),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(s){const e=s.config;_assert(e.authDomain,s,"auth-domain-config-required");const d=e.emulator?_emulatorUrl(e,EMULATED_IFRAME_PATH):`https://${s.config.authDomain}/${IFRAME_PATH}`,h={apiKey:e.apiKey,appName:s.name,v:SDK_VERSION},g=EID_FROM_APIHOST.get(s.config.apiHost);g&&(h.eid=g);const _=s._getFrameworks();return _.length&&(h.fw=_.join(",")),`${d}?${querystring(h).slice(1)}`}async function _openIframe(s){const e=await _loadGapi(s),d=_window().gapi;return _assert(d,s,"internal-error"),e.open({where:document.body,url:getIframeUrl(s),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},h=>new Promise(async(g,_)=>{await h.restyle({setHideOnLeave:!1});const j=_createError(s,"network-request-failed"),$=_window().setTimeout(()=>{_(j)},PING_TIMEOUT.get());function et(){_window().clearTimeout($),g(h)}h.ping(et).then(et,()=>{_(j)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(s,e,d,h=DEFAULT_WIDTH,g=DEFAULT_HEIGHT){const _=Math.max((window.screen.availHeight-g)/2,0).toString(),j=Math.max((window.screen.availWidth-h)/2,0).toString();let $="";const et=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:h.toString(),height:g.toString(),top:_,left:j}),tt=getUA().toLowerCase();d&&($=_isChromeIOS(tt)?TARGET_BLANK:d),_isFirefox(tt)&&(e=e||FIREFOX_EMPTY_URL,et.scrollbars="yes");const nt=Object.entries(et).reduce((it,[st,ot])=>`${it}${st}=${ot},`,"");if(_isIOSStandalone(tt)&&$!=="_self")return openAsNewWindowIOS(e||"",$),new AuthPopup(null);const rt=window.open(e||"",$,nt);_assert(rt,s,"popup-blocked");try{rt.focus()}catch{}return new AuthPopup(rt)}function openAsNewWindowIOS(s,e){const d=document.createElement("a");d.href=s,d.target=e;const h=document.createEvent("MouseEvent");h.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(s,e,d,h,g,_){_assert(s.config.authDomain,s,"auth-domain-config-required"),_assert(s.config.apiKey,s,"invalid-api-key");const j={apiKey:s.config.apiKey,appName:s.name,authType:d,redirectUrl:h,v:SDK_VERSION,eventId:g};if(e instanceof FederatedAuthProvider){e.setDefaultLanguage(s.languageCode),j.providerId=e.providerId||"",isEmpty$1(e.getCustomParameters())||(j.customParameters=JSON.stringify(e.getCustomParameters()));for(const[nt,rt]of Object.entries({}))j[nt]=rt}if(e instanceof BaseOAuthProvider){const nt=e.getScopes().filter(rt=>rt!=="");nt.length>0&&(j.scopes=nt.join(","))}s.tenantId&&(j.tid=s.tenantId);const $=j;for(const nt of Object.keys($))$[nt]===void 0&&delete $[nt];const et=await s._getAppCheckToken(),tt=et?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(et)}`:"";return`${getHandlerBase(s)}?${querystring($).slice(1)}${tt}`}function getHandlerBase({config:s}){return s.emulator?_emulatorUrl(s,EMULATOR_WIDGET_PATH):`https://${s.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(e,d,h,g){var _;debugAssert((_=this.eventManagers[e._key()])===null||_===void 0?void 0:_.manager,"_initialize() not called before _openPopup()");const j=await _getRedirectUrl(e,d,h,_getCurrentUrl(),g);return _open(e,j,_generateEventId())}async _openRedirect(e,d,h,g){await this._originValidation(e);const _=await _getRedirectUrl(e,d,h,_getCurrentUrl(),g);return _setWindowLocation(_),new Promise(()=>{})}_initialize(e){const d=e._key();if(this.eventManagers[d]){const{manager:g,promise:_}=this.eventManagers[d];return g?Promise.resolve(g):(debugAssert(_,"If manager is not set, promise should be"),_)}const h=this.initAndGetManager(e);return this.eventManagers[d]={promise:h},h.catch(()=>{delete this.eventManagers[d]}),h}async initAndGetManager(e){const d=await _openIframe(e),h=new AuthEventManager(e);return d.register("authEvent",g=>(_assert(g==null?void 0:g.authEvent,e,"invalid-auth-event"),{status:h.onEvent(g.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:h},this.iframes[e._key()]=d,h}_isIframeWebStorageSupported(e,d){this.iframes[e._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},g=>{var _;const j=(_=g==null?void 0:g[0])===null||_===void 0?void 0:_[WEB_STORAGE_SUPPORT_KEY];j!==void 0&&d(!!j),_fail(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const d=e._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=_validateOrigin(e)),this.originValidationPromises[d]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$1="@firebase/auth",version$2="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const d=this.auth.onIdTokenChanged(h=>{e((h==null?void 0:h.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,d),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const d=this.internalListeners.get(e);d&&(this.internalListeners.delete(e),d(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(s){_registerComponent(new Component("auth",(e,{options:d})=>{const h=e.getProvider("app").getImmediate(),g=e.getProvider("heartbeat"),_=e.getProvider("app-check-internal"),{apiKey:j,authDomain:$}=h.options;_assert(j&&!j.includes(":"),"invalid-api-key",{appName:h.name});const et={apiKey:j,authDomain:$,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(s)},tt=new AuthImpl(h,g,_,et);return _initializeAuthInstance(tt,d),tt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,d,h)=>{e.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",e=>{const d=_castAuth(e.getProvider("auth").getImmediate());return(h=>new AuthInterop(h))(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$1,version$2,getVersionForPlatform(s)),registerVersion(name$1,version$2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=s=>async e=>{const d=e&&await e.getIdTokenResult(),h=d&&(new Date().getTime()-Date.parse(d.issuedAtTime))/1e3;if(h&&h>authIdTokenMaxAge)return;const g=d==null?void 0:d.token;lastPostedIdToken!==g&&(lastPostedIdToken=g,await fetch(s,{method:g?"POST":"DELETE",headers:g?{Authorization:`Bearer ${g}`}:{}}))};function getAuth(s=getApp()){const e=_getProvider(s,"auth");if(e.isInitialized())return e.getImmediate();const d=initializeAuth(s,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),h=getExperimentalSetting("authTokenSyncURL");if(h&&typeof isSecureContext=="boolean"&&isSecureContext){const _=new URL(h,location.origin);if(location.origin===_.origin){const j=mintCookieFactory(_.toString());beforeAuthStateChanged(d,j,()=>j(d.currentUser)),onIdTokenChanged(d,$=>j($))}}const g=getDefaultEmulatorHost("auth");return g&&connectAuthEmulator(d,`http://${g}`),d}function getScriptParentElement(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}_setExternalJSProvider({loadJS(s){return new Promise((e,d)=>{const h=document.createElement("script");h.setAttribute("src",s),h.onload=e,h.onerror=g=>{const _=_createError("internal-error");_.customData=g,d(_)},h.type="text/javascript",h.charset="UTF-8",getScriptParentElement().appendChild(h)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(gt,ft){function _t(){}_t.prototype=ft.prototype,gt.D=ft.prototype,gt.prototype=new _t,gt.prototype.constructor=gt,gt.C=function(Et,mt,xt){for(var St=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)St[Ut-2]=arguments[Ut];return ft.prototype[mt].apply(Et,St)}}function d(){this.blockSize=-1}function h(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(h,d),h.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function g(gt,ft,_t){_t||(_t=0);var Et=Array(16);if(typeof ft=="string")for(var mt=0;16>mt;++mt)Et[mt]=ft.charCodeAt(_t++)|ft.charCodeAt(_t++)<<8|ft.charCodeAt(_t++)<<16|ft.charCodeAt(_t++)<<24;else for(mt=0;16>mt;++mt)Et[mt]=ft[_t++]|ft[_t++]<<8|ft[_t++]<<16|ft[_t++]<<24;ft=gt.g[0],_t=gt.g[1],mt=gt.g[2];var xt=gt.g[3],St=ft+(xt^_t&(mt^xt))+Et[0]+3614090360&4294967295;ft=_t+(St<<7&4294967295|St>>>25),St=xt+(mt^ft&(_t^mt))+Et[1]+3905402710&4294967295,xt=ft+(St<<12&4294967295|St>>>20),St=mt+(_t^xt&(ft^_t))+Et[2]+606105819&4294967295,mt=xt+(St<<17&4294967295|St>>>15),St=_t+(ft^mt&(xt^ft))+Et[3]+3250441966&4294967295,_t=mt+(St<<22&4294967295|St>>>10),St=ft+(xt^_t&(mt^xt))+Et[4]+4118548399&4294967295,ft=_t+(St<<7&4294967295|St>>>25),St=xt+(mt^ft&(_t^mt))+Et[5]+1200080426&4294967295,xt=ft+(St<<12&4294967295|St>>>20),St=mt+(_t^xt&(ft^_t))+Et[6]+2821735955&4294967295,mt=xt+(St<<17&4294967295|St>>>15),St=_t+(ft^mt&(xt^ft))+Et[7]+4249261313&4294967295,_t=mt+(St<<22&4294967295|St>>>10),St=ft+(xt^_t&(mt^xt))+Et[8]+1770035416&4294967295,ft=_t+(St<<7&4294967295|St>>>25),St=xt+(mt^ft&(_t^mt))+Et[9]+2336552879&4294967295,xt=ft+(St<<12&4294967295|St>>>20),St=mt+(_t^xt&(ft^_t))+Et[10]+4294925233&4294967295,mt=xt+(St<<17&4294967295|St>>>15),St=_t+(ft^mt&(xt^ft))+Et[11]+2304563134&4294967295,_t=mt+(St<<22&4294967295|St>>>10),St=ft+(xt^_t&(mt^xt))+Et[12]+1804603682&4294967295,ft=_t+(St<<7&4294967295|St>>>25),St=xt+(mt^ft&(_t^mt))+Et[13]+4254626195&4294967295,xt=ft+(St<<12&4294967295|St>>>20),St=mt+(_t^xt&(ft^_t))+Et[14]+2792965006&4294967295,mt=xt+(St<<17&4294967295|St>>>15),St=_t+(ft^mt&(xt^ft))+Et[15]+1236535329&4294967295,_t=mt+(St<<22&4294967295|St>>>10),St=ft+(mt^xt&(_t^mt))+Et[1]+4129170786&4294967295,ft=_t+(St<<5&4294967295|St>>>27),St=xt+(_t^mt&(ft^_t))+Et[6]+3225465664&4294967295,xt=ft+(St<<9&4294967295|St>>>23),St=mt+(ft^_t&(xt^ft))+Et[11]+643717713&4294967295,mt=xt+(St<<14&4294967295|St>>>18),St=_t+(xt^ft&(mt^xt))+Et[0]+3921069994&4294967295,_t=mt+(St<<20&4294967295|St>>>12),St=ft+(mt^xt&(_t^mt))+Et[5]+3593408605&4294967295,ft=_t+(St<<5&4294967295|St>>>27),St=xt+(_t^mt&(ft^_t))+Et[10]+38016083&4294967295,xt=ft+(St<<9&4294967295|St>>>23),St=mt+(ft^_t&(xt^ft))+Et[15]+3634488961&4294967295,mt=xt+(St<<14&4294967295|St>>>18),St=_t+(xt^ft&(mt^xt))+Et[4]+3889429448&4294967295,_t=mt+(St<<20&4294967295|St>>>12),St=ft+(mt^xt&(_t^mt))+Et[9]+568446438&4294967295,ft=_t+(St<<5&4294967295|St>>>27),St=xt+(_t^mt&(ft^_t))+Et[14]+3275163606&4294967295,xt=ft+(St<<9&4294967295|St>>>23),St=mt+(ft^_t&(xt^ft))+Et[3]+4107603335&4294967295,mt=xt+(St<<14&4294967295|St>>>18),St=_t+(xt^ft&(mt^xt))+Et[8]+1163531501&4294967295,_t=mt+(St<<20&4294967295|St>>>12),St=ft+(mt^xt&(_t^mt))+Et[13]+2850285829&4294967295,ft=_t+(St<<5&4294967295|St>>>27),St=xt+(_t^mt&(ft^_t))+Et[2]+4243563512&4294967295,xt=ft+(St<<9&4294967295|St>>>23),St=mt+(ft^_t&(xt^ft))+Et[7]+1735328473&4294967295,mt=xt+(St<<14&4294967295|St>>>18),St=_t+(xt^ft&(mt^xt))+Et[12]+2368359562&4294967295,_t=mt+(St<<20&4294967295|St>>>12),St=ft+(_t^mt^xt)+Et[5]+4294588738&4294967295,ft=_t+(St<<4&4294967295|St>>>28),St=xt+(ft^_t^mt)+Et[8]+2272392833&4294967295,xt=ft+(St<<11&4294967295|St>>>21),St=mt+(xt^ft^_t)+Et[11]+1839030562&4294967295,mt=xt+(St<<16&4294967295|St>>>16),St=_t+(mt^xt^ft)+Et[14]+4259657740&4294967295,_t=mt+(St<<23&4294967295|St>>>9),St=ft+(_t^mt^xt)+Et[1]+2763975236&4294967295,ft=_t+(St<<4&4294967295|St>>>28),St=xt+(ft^_t^mt)+Et[4]+1272893353&4294967295,xt=ft+(St<<11&4294967295|St>>>21),St=mt+(xt^ft^_t)+Et[7]+4139469664&4294967295,mt=xt+(St<<16&4294967295|St>>>16),St=_t+(mt^xt^ft)+Et[10]+3200236656&4294967295,_t=mt+(St<<23&4294967295|St>>>9),St=ft+(_t^mt^xt)+Et[13]+681279174&4294967295,ft=_t+(St<<4&4294967295|St>>>28),St=xt+(ft^_t^mt)+Et[0]+3936430074&4294967295,xt=ft+(St<<11&4294967295|St>>>21),St=mt+(xt^ft^_t)+Et[3]+3572445317&4294967295,mt=xt+(St<<16&4294967295|St>>>16),St=_t+(mt^xt^ft)+Et[6]+76029189&4294967295,_t=mt+(St<<23&4294967295|St>>>9),St=ft+(_t^mt^xt)+Et[9]+3654602809&4294967295,ft=_t+(St<<4&4294967295|St>>>28),St=xt+(ft^_t^mt)+Et[12]+3873151461&4294967295,xt=ft+(St<<11&4294967295|St>>>21),St=mt+(xt^ft^_t)+Et[15]+530742520&4294967295,mt=xt+(St<<16&4294967295|St>>>16),St=_t+(mt^xt^ft)+Et[2]+3299628645&4294967295,_t=mt+(St<<23&4294967295|St>>>9),St=ft+(mt^(_t|~xt))+Et[0]+4096336452&4294967295,ft=_t+(St<<6&4294967295|St>>>26),St=xt+(_t^(ft|~mt))+Et[7]+1126891415&4294967295,xt=ft+(St<<10&4294967295|St>>>22),St=mt+(ft^(xt|~_t))+Et[14]+2878612391&4294967295,mt=xt+(St<<15&4294967295|St>>>17),St=_t+(xt^(mt|~ft))+Et[5]+4237533241&4294967295,_t=mt+(St<<21&4294967295|St>>>11),St=ft+(mt^(_t|~xt))+Et[12]+1700485571&4294967295,ft=_t+(St<<6&4294967295|St>>>26),St=xt+(_t^(ft|~mt))+Et[3]+2399980690&4294967295,xt=ft+(St<<10&4294967295|St>>>22),St=mt+(ft^(xt|~_t))+Et[10]+4293915773&4294967295,mt=xt+(St<<15&4294967295|St>>>17),St=_t+(xt^(mt|~ft))+Et[1]+2240044497&4294967295,_t=mt+(St<<21&4294967295|St>>>11),St=ft+(mt^(_t|~xt))+Et[8]+1873313359&4294967295,ft=_t+(St<<6&4294967295|St>>>26),St=xt+(_t^(ft|~mt))+Et[15]+4264355552&4294967295,xt=ft+(St<<10&4294967295|St>>>22),St=mt+(ft^(xt|~_t))+Et[6]+2734768916&4294967295,mt=xt+(St<<15&4294967295|St>>>17),St=_t+(xt^(mt|~ft))+Et[13]+1309151649&4294967295,_t=mt+(St<<21&4294967295|St>>>11),St=ft+(mt^(_t|~xt))+Et[4]+4149444226&4294967295,ft=_t+(St<<6&4294967295|St>>>26),St=xt+(_t^(ft|~mt))+Et[11]+3174756917&4294967295,xt=ft+(St<<10&4294967295|St>>>22),St=mt+(ft^(xt|~_t))+Et[2]+718787259&4294967295,mt=xt+(St<<15&4294967295|St>>>17),St=_t+(xt^(mt|~ft))+Et[9]+3951481745&4294967295,gt.g[0]=gt.g[0]+ft&4294967295,gt.g[1]=gt.g[1]+(mt+(St<<21&4294967295|St>>>11))&4294967295,gt.g[2]=gt.g[2]+mt&4294967295,gt.g[3]=gt.g[3]+xt&4294967295}h.prototype.u=function(gt,ft){ft===void 0&&(ft=gt.length);for(var _t=ft-this.blockSize,Et=this.B,mt=this.h,xt=0;xt<ft;){if(mt==0)for(;xt<=_t;)g(this,gt,xt),xt+=this.blockSize;if(typeof gt=="string"){for(;xt<ft;)if(Et[mt++]=gt.charCodeAt(xt++),mt==this.blockSize){g(this,Et),mt=0;break}}else for(;xt<ft;)if(Et[mt++]=gt[xt++],mt==this.blockSize){g(this,Et),mt=0;break}}this.h=mt,this.o+=ft},h.prototype.v=function(){var gt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);gt[0]=128;for(var ft=1;ft<gt.length-8;++ft)gt[ft]=0;var _t=8*this.o;for(ft=gt.length-8;ft<gt.length;++ft)gt[ft]=_t&255,_t/=256;for(this.u(gt),gt=Array(16),ft=_t=0;4>ft;++ft)for(var Et=0;32>Et;Et+=8)gt[_t++]=this.g[ft]>>>Et&255;return gt};function _(gt,ft){var _t=$;return Object.prototype.hasOwnProperty.call(_t,gt)?_t[gt]:_t[gt]=ft(gt)}function j(gt,ft){this.h=ft;for(var _t=[],Et=!0,mt=gt.length-1;0<=mt;mt--){var xt=gt[mt]|0;Et&&xt==ft||(_t[mt]=xt,Et=!1)}this.g=_t}var $={};function et(gt){return-128<=gt&&128>gt?_(gt,function(ft){return new j([ft|0],0>ft?-1:0)}):new j([gt|0],0>gt?-1:0)}function tt(gt){if(isNaN(gt)||!isFinite(gt))return rt;if(0>gt)return dt(tt(-gt));for(var ft=[],_t=1,Et=0;gt>=_t;Et++)ft[Et]=gt/_t|0,_t*=4294967296;return new j(ft,0)}function nt(gt,ft){if(gt.length==0)throw Error("number format error: empty string");if(ft=ft||10,2>ft||36<ft)throw Error("radix out of range: "+ft);if(gt.charAt(0)=="-")return dt(nt(gt.substring(1),ft));if(0<=gt.indexOf("-"))throw Error('number format error: interior "-" character');for(var _t=tt(Math.pow(ft,8)),Et=rt,mt=0;mt<gt.length;mt+=8){var xt=Math.min(8,gt.length-mt),St=parseInt(gt.substring(mt,mt+xt),ft);8>xt?(xt=tt(Math.pow(ft,xt)),Et=Et.j(xt).add(tt(St))):(Et=Et.j(_t),Et=Et.add(tt(St)))}return Et}var rt=et(0),it=et(1),st=et(16777216);s=j.prototype,s.m=function(){if(lt(this))return-dt(this).m();for(var gt=0,ft=1,_t=0;_t<this.g.length;_t++){var Et=this.i(_t);gt+=(0<=Et?Et:4294967296+Et)*ft,ft*=4294967296}return gt},s.toString=function(gt){if(gt=gt||10,2>gt||36<gt)throw Error("radix out of range: "+gt);if(ot(this))return"0";if(lt(this))return"-"+dt(this).toString(gt);for(var ft=tt(Math.pow(gt,6)),_t=this,Et="";;){var mt=vt(_t,ft).g;_t=at(_t,mt.j(ft));var xt=((0<_t.g.length?_t.g[0]:_t.h)>>>0).toString(gt);if(_t=mt,ot(_t))return xt+Et;for(;6>xt.length;)xt="0"+xt;Et=xt+Et}},s.i=function(gt){return 0>gt?0:gt<this.g.length?this.g[gt]:this.h};function ot(gt){if(gt.h!=0)return!1;for(var ft=0;ft<gt.g.length;ft++)if(gt.g[ft]!=0)return!1;return!0}function lt(gt){return gt.h==-1}s.l=function(gt){return gt=at(this,gt),lt(gt)?-1:ot(gt)?0:1};function dt(gt){for(var ft=gt.g.length,_t=[],Et=0;Et<ft;Et++)_t[Et]=~gt.g[Et];return new j(_t,~gt.h).add(it)}s.abs=function(){return lt(this)?dt(this):this},s.add=function(gt){for(var ft=Math.max(this.g.length,gt.g.length),_t=[],Et=0,mt=0;mt<=ft;mt++){var xt=Et+(this.i(mt)&65535)+(gt.i(mt)&65535),St=(xt>>>16)+(this.i(mt)>>>16)+(gt.i(mt)>>>16);Et=St>>>16,xt&=65535,St&=65535,_t[mt]=St<<16|xt}return new j(_t,_t[_t.length-1]&-2147483648?-1:0)};function at(gt,ft){return gt.add(dt(ft))}s.j=function(gt){if(ot(this)||ot(gt))return rt;if(lt(this))return lt(gt)?dt(this).j(dt(gt)):dt(dt(this).j(gt));if(lt(gt))return dt(this.j(dt(gt)));if(0>this.l(st)&&0>gt.l(st))return tt(this.m()*gt.m());for(var ft=this.g.length+gt.g.length,_t=[],Et=0;Et<2*ft;Et++)_t[Et]=0;for(Et=0;Et<this.g.length;Et++)for(var mt=0;mt<gt.g.length;mt++){var xt=this.i(Et)>>>16,St=this.i(Et)&65535,Ut=gt.i(mt)>>>16,kt=gt.i(mt)&65535;_t[2*Et+2*mt]+=St*kt,ut(_t,2*Et+2*mt),_t[2*Et+2*mt+1]+=xt*kt,ut(_t,2*Et+2*mt+1),_t[2*Et+2*mt+1]+=St*Ut,ut(_t,2*Et+2*mt+1),_t[2*Et+2*mt+2]+=xt*Ut,ut(_t,2*Et+2*mt+2)}for(Et=0;Et<ft;Et++)_t[Et]=_t[2*Et+1]<<16|_t[2*Et];for(Et=ft;Et<2*ft;Et++)_t[Et]=0;return new j(_t,0)};function ut(gt,ft){for(;(gt[ft]&65535)!=gt[ft];)gt[ft+1]+=gt[ft]>>>16,gt[ft]&=65535,ft++}function pt(gt,ft){this.g=gt,this.h=ft}function vt(gt,ft){if(ot(ft))throw Error("division by zero");if(ot(gt))return new pt(rt,rt);if(lt(gt))return ft=vt(dt(gt),ft),new pt(dt(ft.g),dt(ft.h));if(lt(ft))return ft=vt(gt,dt(ft)),new pt(dt(ft.g),ft.h);if(30<gt.g.length){if(lt(gt)||lt(ft))throw Error("slowDivide_ only works with positive integers.");for(var _t=it,Et=ft;0>=Et.l(gt);)_t=ht(_t),Et=ht(Et);var mt=yt(_t,1),xt=yt(Et,1);for(Et=yt(Et,2),_t=yt(_t,2);!ot(Et);){var St=xt.add(Et);0>=St.l(gt)&&(mt=mt.add(_t),xt=St),Et=yt(Et,1),_t=yt(_t,1)}return ft=at(gt,mt.j(ft)),new pt(mt,ft)}for(mt=rt;0<=gt.l(ft);){for(_t=Math.max(1,Math.floor(gt.m()/ft.m())),Et=Math.ceil(Math.log(_t)/Math.LN2),Et=48>=Et?1:Math.pow(2,Et-48),xt=tt(_t),St=xt.j(ft);lt(St)||0<St.l(gt);)_t-=Et,xt=tt(_t),St=xt.j(ft);ot(xt)&&(xt=it),mt=mt.add(xt),gt=at(gt,St)}return new pt(mt,gt)}s.A=function(gt){return vt(this,gt).h},s.and=function(gt){for(var ft=Math.max(this.g.length,gt.g.length),_t=[],Et=0;Et<ft;Et++)_t[Et]=this.i(Et)&gt.i(Et);return new j(_t,this.h&gt.h)},s.or=function(gt){for(var ft=Math.max(this.g.length,gt.g.length),_t=[],Et=0;Et<ft;Et++)_t[Et]=this.i(Et)|gt.i(Et);return new j(_t,this.h|gt.h)},s.xor=function(gt){for(var ft=Math.max(this.g.length,gt.g.length),_t=[],Et=0;Et<ft;Et++)_t[Et]=this.i(Et)^gt.i(Et);return new j(_t,this.h^gt.h)};function ht(gt){for(var ft=gt.g.length+1,_t=[],Et=0;Et<ft;Et++)_t[Et]=gt.i(Et)<<1|gt.i(Et-1)>>>31;return new j(_t,gt.h)}function yt(gt,ft){var _t=ft>>5;ft%=32;for(var Et=gt.g.length-_t,mt=[],xt=0;xt<Et;xt++)mt[xt]=0<ft?gt.i(xt+_t)>>>ft|gt.i(xt+_t+1)<<32-ft:gt.i(xt+_t);return new j(mt,gt.h)}h.prototype.digest=h.prototype.v,h.prototype.reset=h.prototype.s,h.prototype.update=h.prototype.u,Md5=h,j.prototype.add=j.prototype.add,j.prototype.multiply=j.prototype.j,j.prototype.modulo=j.prototype.A,j.prototype.compare=j.prototype.l,j.prototype.toNumber=j.prototype.m,j.prototype.toString=j.prototype.toString,j.prototype.getBits=j.prototype.i,j.fromNumber=tt,j.fromString=nt,Integer=j}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,WebChannel,EventType,ErrorCode$1,Stat,Event$1,getStatEventTarget,createWebChannelTransport;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(ct,At,wt){return ct==Array.prototype||ct==Object.prototype||(ct[At]=wt.value),ct};function d(ct){ct=[typeof globalThis=="object"&&globalThis,ct,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var At=0;At<ct.length;++At){var wt=ct[At];if(wt&&wt.Math==Math)return wt}throw Error("Cannot find global object")}var h=d(this);function g(ct,At){if(At)e:{var wt=h;ct=ct.split(".");for(var Ot=0;Ot<ct.length-1;Ot++){var ln=ct[Ot];if(!(ln in wt))break e;wt=wt[ln]}ct=ct[ct.length-1],Ot=wt[ct],At=At(Ot),At!=Ot&&At!=null&&e(wt,ct,{configurable:!0,writable:!0,value:At})}}function _(ct,At){ct instanceof String&&(ct+="");var wt=0,Ot=!1,ln={next:function(){if(!Ot&&wt<ct.length){var An=wt++;return{value:At(An,ct[An]),done:!1}}return Ot=!0,{done:!0,value:void 0}}};return ln[Symbol.iterator]=function(){return ln},ln}g("Array.prototype.values",function(ct){return ct||function(){return _(this,function(At,wt){return wt})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var j=j||{},$=this||self;function et(ct){var At=typeof ct;return At=At!="object"?At:ct?Array.isArray(ct)?"array":At:"null",At=="array"||At=="object"&&typeof ct.length=="number"}function tt(ct){var At=typeof ct;return At=="object"&&ct!=null||At=="function"}function nt(ct,At,wt){return ct.call.apply(ct.bind,arguments)}function rt(ct,At,wt){if(!ct)throw Error();if(2<arguments.length){var Ot=Array.prototype.slice.call(arguments,2);return function(){var ln=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ln,Ot),ct.apply(At,ln)}}return function(){return ct.apply(At,arguments)}}function it(ct,At,wt){return it=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?nt:rt,it.apply(null,arguments)}function st(ct,At){var wt=Array.prototype.slice.call(arguments,1);return function(){var Ot=wt.slice();return Ot.push.apply(Ot,arguments),ct.apply(this,Ot)}}function ot(ct,At){function wt(){}wt.prototype=At.prototype,ct.aa=At.prototype,ct.prototype=new wt,ct.prototype.constructor=ct,ct.Qb=function(Ot,ln,An){for(var zn=Array(arguments.length-2),Tr=2;Tr<arguments.length;Tr++)zn[Tr-2]=arguments[Tr];return At.prototype[ln].apply(Ot,zn)}}function lt(ct){const At=ct.length;if(0<At){const wt=Array(At);for(let Ot=0;Ot<At;Ot++)wt[Ot]=ct[Ot];return wt}return[]}function dt(ct,At){for(let wt=1;wt<arguments.length;wt++){const Ot=arguments[wt];if(et(Ot)){const ln=ct.length||0,An=Ot.length||0;ct.length=ln+An;for(let zn=0;zn<An;zn++)ct[ln+zn]=Ot[zn]}else ct.push(Ot)}}class at{constructor(At,wt){this.i=At,this.j=wt,this.h=0,this.g=null}get(){let At;return 0<this.h?(this.h--,At=this.g,this.g=At.next,At.next=null):At=this.i(),At}}function ut(ct){return/^[\s\xa0]*$/.test(ct)}function pt(){var ct=$.navigator;return ct&&(ct=ct.userAgent)?ct:""}function vt(ct){return vt[" "](ct),ct}vt[" "]=function(){};var ht=pt().indexOf("Gecko")!=-1&&!(pt().toLowerCase().indexOf("webkit")!=-1&&pt().indexOf("Edge")==-1)&&!(pt().indexOf("Trident")!=-1||pt().indexOf("MSIE")!=-1)&&pt().indexOf("Edge")==-1;function yt(ct,At,wt){for(const Ot in ct)At.call(wt,ct[Ot],Ot,ct)}function gt(ct,At){for(const wt in ct)At.call(void 0,ct[wt],wt,ct)}function ft(ct){const At={};for(const wt in ct)At[wt]=ct[wt];return At}const _t="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Et(ct,At){let wt,Ot;for(let ln=1;ln<arguments.length;ln++){Ot=arguments[ln];for(wt in Ot)ct[wt]=Ot[wt];for(let An=0;An<_t.length;An++)wt=_t[An],Object.prototype.hasOwnProperty.call(Ot,wt)&&(ct[wt]=Ot[wt])}}function mt(ct){var At=1;ct=ct.split(":");const wt=[];for(;0<At&&ct.length;)wt.push(ct.shift()),At--;return ct.length&&wt.push(ct.join(":")),wt}function xt(ct){$.setTimeout(()=>{throw ct},0)}function St(){var ct=Ft;let At=null;return ct.g&&(At=ct.g,ct.g=ct.g.next,ct.g||(ct.h=null),At.next=null),At}class Ut{constructor(){this.h=this.g=null}add(At,wt){const Ot=kt.get();Ot.set(At,wt),this.h?this.h.next=Ot:this.g=Ot,this.h=Ot}}var kt=new at(()=>new Bt,ct=>ct.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(At,wt){this.h=At,this.g=wt,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,Gt=!1,Ft=new Ut,Wt=()=>{const ct=$.Promise.resolve(void 0);$t=()=>{ct.then(tn)}};var tn=()=>{for(var ct;ct=St();){try{ct.h.call(ct.g)}catch(wt){xt(wt)}var At=kt;At.j(ct),100>At.h&&(At.h++,ct.next=At.g,At.g=ct)}Gt=!1};function Lt(){this.s=this.s,this.C=this.C}Lt.prototype.s=!1,Lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Rt(ct,At){this.type=ct,this.g=this.target=At,this.defaultPrevented=!1}Rt.prototype.h=function(){this.defaultPrevented=!0};var It=function(){if(!$.addEventListener||!Object.defineProperty)return!1;var ct=!1,At=Object.defineProperty({},"passive",{get:function(){ct=!0}});try{const wt=()=>{};$.addEventListener("test",wt,At),$.removeEventListener("test",wt,At)}catch{}return ct}();function Mt(ct,At){if(Rt.call(this,ct?ct.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,ct){var wt=this.type=ct.type,Ot=ct.changedTouches&&ct.changedTouches.length?ct.changedTouches[0]:null;if(this.target=ct.target||ct.srcElement,this.g=At,At=ct.relatedTarget){if(ht){e:{try{vt(At.nodeName);var ln=!0;break e}catch{}ln=!1}ln||(At=null)}}else wt=="mouseover"?At=ct.fromElement:wt=="mouseout"&&(At=ct.toElement);this.relatedTarget=At,Ot?(this.clientX=Ot.clientX!==void 0?Ot.clientX:Ot.pageX,this.clientY=Ot.clientY!==void 0?Ot.clientY:Ot.pageY,this.screenX=Ot.screenX||0,this.screenY=Ot.screenY||0):(this.clientX=ct.clientX!==void 0?ct.clientX:ct.pageX,this.clientY=ct.clientY!==void 0?ct.clientY:ct.pageY,this.screenX=ct.screenX||0,this.screenY=ct.screenY||0),this.button=ct.button,this.key=ct.key||"",this.ctrlKey=ct.ctrlKey,this.altKey=ct.altKey,this.shiftKey=ct.shiftKey,this.metaKey=ct.metaKey,this.pointerId=ct.pointerId||0,this.pointerType=typeof ct.pointerType=="string"?ct.pointerType:Ht[ct.pointerType]||"",this.state=ct.state,this.i=ct,ct.defaultPrevented&&Mt.aa.h.call(this)}}ot(Mt,Rt);var Ht={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.aa.h.call(this);var ct=this.i;ct.preventDefault?ct.preventDefault():ct.returnValue=!1};var qt="closure_listenable_"+(1e6*Math.random()|0),zt=0;function an(ct,At,wt,Ot,ln){this.listener=ct,this.proxy=null,this.src=At,this.type=wt,this.capture=!!Ot,this.ha=ln,this.key=++zt,this.da=this.fa=!1}function vn(ct){ct.da=!0,ct.listener=null,ct.proxy=null,ct.src=null,ct.ha=null}function Tn(ct){this.src=ct,this.g={},this.h=0}Tn.prototype.add=function(ct,At,wt,Ot,ln){var An=ct.toString();ct=this.g[An],ct||(ct=this.g[An]=[],this.h++);var zn=In(ct,At,Ot,ln);return-1<zn?(At=ct[zn],wt||(At.fa=!1)):(At=new an(At,this.src,An,!!Ot,ln),At.fa=wt,ct.push(At)),At};function Pn(ct,At){var wt=At.type;if(wt in ct.g){var Ot=ct.g[wt],ln=Array.prototype.indexOf.call(Ot,At,void 0),An;(An=0<=ln)&&Array.prototype.splice.call(Ot,ln,1),An&&(vn(At),ct.g[wt].length==0&&(delete ct.g[wt],ct.h--))}}function In(ct,At,wt,Ot){for(var ln=0;ln<ct.length;++ln){var An=ct[ln];if(!An.da&&An.listener==At&&An.capture==!!wt&&An.ha==Ot)return ln}return-1}var On="closure_lm_"+(1e6*Math.random()|0),Mn={};function mn(ct,At,wt,Ot,ln){if(Array.isArray(At)){for(var An=0;An<At.length;An++)mn(ct,At[An],wt,Ot,ln);return null}return wt=dn(wt),ct&&ct[qt]?ct.K(At,wt,tt(Ot)?!!Ot.capture:!!Ot,ln):yn(ct,At,wt,!1,Ot,ln)}function yn(ct,At,wt,Ot,ln,An){if(!At)throw Error("Invalid event type");var zn=tt(ln)?!!ln.capture:!!ln,Tr=Nn(ct);if(Tr||(ct[On]=Tr=new Tn(ct)),wt=Tr.add(At,wt,Ot,zn,An),wt.proxy)return wt;if(Ot=Vt(),wt.proxy=Ot,Ot.src=ct,Ot.listener=wt,ct.addEventListener)It||(ln=zn),ln===void 0&&(ln=!1),ct.addEventListener(At.toString(),Ot,ln);else if(ct.attachEvent)ct.attachEvent(bn(At.toString()),Ot);else if(ct.addListener&&ct.removeListener)ct.addListener(Ot);else throw Error("addEventListener and attachEvent are unavailable.");return wt}function Vt(){function ct(wt){return At.call(ct.src,ct.listener,wt)}const At=Rn;return ct}function Zt(ct,At,wt,Ot,ln){if(Array.isArray(At))for(var An=0;An<At.length;An++)Zt(ct,At[An],wt,Ot,ln);else Ot=tt(Ot)?!!Ot.capture:!!Ot,wt=dn(wt),ct&&ct[qt]?(ct=ct.i,At=String(At).toString(),At in ct.g&&(An=ct.g[At],wt=In(An,wt,Ot,ln),-1<wt&&(vn(An[wt]),Array.prototype.splice.call(An,wt,1),An.length==0&&(delete ct.g[At],ct.h--)))):ct&&(ct=Nn(ct))&&(At=ct.g[At.toString()],ct=-1,At&&(ct=In(At,wt,Ot,ln)),(wt=-1<ct?At[ct]:null)&&un(wt))}function un(ct){if(typeof ct!="number"&&ct&&!ct.da){var At=ct.src;if(At&&At[qt])Pn(At.i,ct);else{var wt=ct.type,Ot=ct.proxy;At.removeEventListener?At.removeEventListener(wt,Ot,ct.capture):At.detachEvent?At.detachEvent(bn(wt),Ot):At.addListener&&At.removeListener&&At.removeListener(Ot),(wt=Nn(At))?(Pn(wt,ct),wt.h==0&&(wt.src=null,At[On]=null)):vn(ct)}}}function bn(ct){return ct in Mn?Mn[ct]:Mn[ct]="on"+ct}function Rn(ct,At){if(ct.da)ct=!0;else{At=new Mt(At,this);var wt=ct.listener,Ot=ct.ha||ct.src;ct.fa&&un(ct),ct=wt.call(Ot,At)}return ct}function Nn(ct){return ct=ct[On],ct instanceof Tn?ct:null}var kn="__closure_events_fn_"+(1e9*Math.random()>>>0);function dn(ct){return typeof ct=="function"?ct:(ct[kn]||(ct[kn]=function(At){return ct.handleEvent(At)}),ct[kn])}function Un(){Lt.call(this),this.i=new Tn(this),this.M=this,this.F=null}ot(Un,Lt),Un.prototype[qt]=!0,Un.prototype.removeEventListener=function(ct,At,wt,Ot){Zt(this,ct,At,wt,Ot)};function jn(ct,At){var wt,Ot=ct.F;if(Ot)for(wt=[];Ot;Ot=Ot.F)wt.push(Ot);if(ct=ct.M,Ot=At.type||At,typeof At=="string")At=new Rt(At,ct);else if(At instanceof Rt)At.target=At.target||ct;else{var ln=At;At=new Rt(Ot,ct),Et(At,ln)}if(ln=!0,wt)for(var An=wt.length-1;0<=An;An--){var zn=At.g=wt[An];ln=vr(zn,Ot,!0,At)&&ln}if(zn=At.g=ct,ln=vr(zn,Ot,!0,At)&&ln,ln=vr(zn,Ot,!1,At)&&ln,wt)for(An=0;An<wt.length;An++)zn=At.g=wt[An],ln=vr(zn,Ot,!1,At)&&ln}Un.prototype.N=function(){if(Un.aa.N.call(this),this.i){var ct=this.i,At;for(At in ct.g){for(var wt=ct.g[At],Ot=0;Ot<wt.length;Ot++)vn(wt[Ot]);delete ct.g[At],ct.h--}}this.F=null},Un.prototype.K=function(ct,At,wt,Ot){return this.i.add(String(ct),At,!1,wt,Ot)},Un.prototype.L=function(ct,At,wt,Ot){return this.i.add(String(ct),At,!0,wt,Ot)};function vr(ct,At,wt,Ot){if(At=ct.i.g[String(At)],!At)return!0;At=At.concat();for(var ln=!0,An=0;An<At.length;++An){var zn=At[An];if(zn&&!zn.da&&zn.capture==wt){var Tr=zn.listener,zr=zn.ha||zn.src;zn.fa&&Pn(ct.i,zn),ln=Tr.call(zr,Ot)!==!1&&ln}}return ln&&!Ot.defaultPrevented}function fr(ct,At,wt){if(typeof ct=="function")wt&&(ct=it(ct,wt));else if(ct&&typeof ct.handleEvent=="function")ct=it(ct.handleEvent,ct);else throw Error("Invalid listener argument");return 2147483647<Number(At)?-1:$.setTimeout(ct,At||0)}function Cr(ct){ct.g=fr(()=>{ct.g=null,ct.i&&(ct.i=!1,Cr(ct))},ct.l);const At=ct.h;ct.h=null,ct.m.apply(null,At)}class Jn extends Lt{constructor(At,wt){super(),this.m=At,this.l=wt,this.h=null,this.i=!1,this.g=null}j(At){this.h=arguments,this.g?this.i=!0:Cr(this)}N(){super.N(),this.g&&($.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(ct){Lt.call(this),this.h=ct,this.g={}}ot(ar,Lt);var xr=[];function Fr(ct){yt(ct.g,function(At,wt){this.g.hasOwnProperty(wt)&&un(At)},ct),ct.g={}}ar.prototype.N=function(){ar.aa.N.call(this),Fr(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=$.JSON.stringify,hn=$.JSON.parse,pn=class{stringify(ct){return $.JSON.stringify(ct,void 0)}parse(ct){return $.JSON.parse(ct,void 0)}};function Yn(){}Yn.prototype.h=null;function tr(ct){return ct.h||(ct.h=ct.i())}function hr(){}var Yt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cn(){Rt.call(this,"d")}ot(Cn,Rt);function Hn(){Rt.call(this,"c")}ot(Hn,Rt);var Qn={},sr=null;function Zn(){return sr=sr||new Un}Qn.La="serverreachability";function Xt(ct){Rt.call(this,Qn.La,ct)}ot(Xt,Rt);function jt(ct){const At=Zn();jn(At,new Xt(At))}Qn.STAT_EVENT="statevent";function rn(ct,At){Rt.call(this,Qn.STAT_EVENT,ct),this.stat=At}ot(rn,Rt);function En(ct){const At=Zn();jn(At,new rn(At,ct))}Qn.Ma="timingevent";function wn(ct,At){Rt.call(this,Qn.Ma,ct),this.size=At}ot(wn,Rt);function Fn(ct,At){if(typeof ct!="function")throw Error("Fn must not be null and must be a function");return $.setTimeout(function(){ct()},At)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function rr(ct,At,wt,Ot,ln,An){ct.info(function(){if(ct.g)if(An)for(var zn="",Tr=An.split("&"),zr=0;zr<Tr.length;zr++){var Dr=Tr[zr].split("=");if(1<Dr.length){var mr=Dr[0];Dr=Dr[1];var Hr=mr.split("_");zn=2<=Hr.length&&Hr[1]=="type"?zn+(mr+"="+Dr+"&"):zn+(mr+"=redacted&")}}else zn=null;else zn=An;return"XMLHTTP REQ ("+Ot+") [attempt "+ln+"]: "+At+`
`+wt+`
`+zn})}function er(ct,At,wt,Ot,ln,An,zn){ct.info(function(){return"XMLHTTP RESP ("+Ot+") [ attempt "+ln+"]: "+At+`
`+wt+`
`+An+" "+zn})}function qn(ct,At,wt,Ot){ct.info(function(){return"XMLHTTP TEXT ("+At+"): "+nr(ct,wt)+(Ot?" "+Ot:"")})}function Ar(ct,At){ct.info(function(){return"TIMEOUT: "+At})}Bn.prototype.info=function(){};function nr(ct,At){if(!ct.g)return At;if(!At)return null;try{var wt=JSON.parse(At);if(wt){for(ct=0;ct<wt.length;ct++)if(Array.isArray(wt[ct])){var Ot=wt[ct];if(!(2>Ot.length)){var ln=Ot[1];if(Array.isArray(ln)&&!(1>ln.length)){var An=ln[0];if(An!="noop"&&An!="stop"&&An!="close")for(var zn=1;zn<ln.length;zn++)ln[zn]=""}}}}return Dn(wt)}catch{return At}}var ir={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_r={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rr;function kr(){}ot(kr,Yn),kr.prototype.g=function(){return new XMLHttpRequest},kr.prototype.i=function(){return{}},Rr=new kr;function Or(ct,At,wt,Ot){this.j=ct,this.i=At,this.l=wt,this.R=Ot||1,this.U=new ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ss}function ss(){this.i=null,this.g="",this.h=!1}var Yr={},ds={};function hs(ct,At,wt){ct.L=1,ct.v=Bs(_s(At)),ct.m=wt,ct.P=!0,ps(ct,null)}function ps(ct,At){ct.F=Date.now(),Ws(ct),ct.A=_s(ct.v);var wt=ct.A,Ot=ct.R;Array.isArray(Ot)||(Ot=[String(Ot)]),co(wt.i,"t",Ot),ct.C=0,wt=ct.j.J,ct.h=new ss,ct.g=us(ct.j,wt?At:null,!ct.m),0<ct.O&&(ct.M=new Jn(it(ct.Y,ct,ct.g),ct.O)),At=ct.U,wt=ct.g,Ot=ct.ca;var ln="readystatechange";Array.isArray(ln)||(ln&&(xr[0]=ln.toString()),ln=xr);for(var An=0;An<ln.length;An++){var zn=mn(wt,ln[An],Ot||At.handleEvent,!1,At.h||At);if(!zn)break;At.g[zn.key]=zn}At=ct.H?ft(ct.H):{},ct.m?(ct.u||(ct.u="POST"),At["Content-Type"]="application/x-www-form-urlencoded",ct.g.ea(ct.A,ct.u,ct.m,At)):(ct.u="GET",ct.g.ea(ct.A,ct.u,null,At)),jt(),rr(ct.i,ct.u,ct.A,ct.l,ct.R,ct.m)}Or.prototype.ca=function(ct){ct=ct.target;const At=this.M;At&&wr(ct)==3?At.j():this.Y(ct)},Or.prototype.Y=function(ct){try{if(ct==this.g)e:{const Hr=wr(this.g);var At=this.g.Ba();const Wr=this.g.Z();if(!(3>Hr)&&(Hr!=3||this.g&&(this.h.h||this.g.oa()||gr(this.g)))){this.J||Hr!=4||At==7||(At==8||0>=Wr?jt(3):jt(2)),$a(this);var wt=this.g.Z();this.X=wt;t:if(Ms(this)){var Ot=gr(this.g);ct="";var ln=Ot.length,An=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ss(this),Ls(this);var zn="";break t}this.h.i=new $.TextDecoder}for(At=0;At<ln;At++)this.h.h=!0,ct+=this.h.i.decode(Ot[At],{stream:!(An&&At==ln-1)});Ot.length=0,this.h.g+=ct,this.C=0,zn=this.h.g}else zn=this.g.oa();if(this.o=wt==200,er(this.i,this.u,this.A,this.l,this.R,Hr,wt),this.o){if(this.T&&!this.K){t:{if(this.g){var Tr,zr=this.g;if((Tr=zr.g?zr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ut(Tr)){var Dr=Tr;break t}}Dr=null}if(wt=Dr)qn(this.i,this.l,wt,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ro(this,wt);else{this.o=!1,this.s=3,En(12),Ss(this),Ls(this);break e}}if(this.P){wt=!0;let Br;for(;!this.J&&this.C<zn.length;)if(Br=Jo(this,zn),Br==ds){Hr==4&&(this.s=4,En(14),wt=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Br==Yr){this.s=4,En(15),qn(this.i,this.l,zn,"[Invalid Chunk]"),wt=!1;break}else qn(this.i,this.l,Br,null),ro(this,Br);if(Ms(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Hr!=4||zn.length!=0||this.h.h||(this.s=1,En(16),wt=!1),this.o=this.o&&wt,!wt)qn(this.i,this.l,zn,"[Invalid Chunked Response]"),Ss(this),Ls(this);else if(0<zn.length&&!this.W){this.W=!0;var mr=this.j;mr.g==this&&mr.ba&&!mr.M&&(mr.j.info("Great, no buffering proxy detected. Bytes received: "+zn.length),Qr(mr),mr.M=!0,En(11))}}else qn(this.i,this.l,zn,null),ro(this,zn);Hr==4&&Ss(this),this.o&&!this.J&&(Hr==4?es(this.j,this):(this.o=!1,Ws(this)))}else yr(this.g),wt==400&&0<zn.indexOf("Unknown SID")?(this.s=3,En(12)):(this.s=0,En(13)),Ss(this),Ls(this)}}}catch{}finally{}};function Ms(ct){return ct.g?ct.u=="GET"&&ct.L!=2&&ct.j.Ca:!1}function Jo(ct,At){var wt=ct.C,Ot=At.indexOf(`
`,wt);return Ot==-1?ds:(wt=Number(At.substring(wt,Ot)),isNaN(wt)?Yr:(Ot+=1,Ot+wt>At.length?ds:(At=At.slice(Ot,Ot+wt),ct.C=Ot+wt,At)))}Or.prototype.cancel=function(){this.J=!0,Ss(this)};function Ws(ct){ct.S=Date.now()+ct.I,Ns(ct,ct.I)}function Ns(ct,At){if(ct.B!=null)throw Error("WatchDog timer not null");ct.B=Fn(it(ct.ba,ct),At)}function $a(ct){ct.B&&($.clearTimeout(ct.B),ct.B=null)}Or.prototype.ba=function(){this.B=null;const ct=Date.now();0<=ct-this.S?(Ar(this.i,this.A),this.L!=2&&(jt(),En(17)),Ss(this),this.s=2,Ls(this)):Ns(this,this.S-ct)};function Ls(ct){ct.j.G==0||ct.J||es(ct.j,ct)}function Ss(ct){$a(ct);var At=ct.M;At&&typeof At.ma=="function"&&At.ma(),ct.M=null,Fr(ct.U),ct.g&&(At=ct.g,ct.g=null,At.abort(),At.ma())}function ro(ct,At){try{var wt=ct.j;if(wt.G!=0&&(wt.g==ct||Gs(wt.h,ct))){if(!ct.K&&Gs(wt.h,ct)&&wt.G==3){try{var Ot=wt.Da.g.parse(At)}catch{Ot=null}if(Array.isArray(Ot)&&Ot.length==3){var ln=Ot;if(ln[0]==0){e:if(!wt.u){if(wt.g)if(wt.g.F+3e3<ct.F)Jr(wt),Er(wt);else break e;rs(wt),En(18)}}else wt.za=ln[1],0<wt.za-wt.T&&37500>ln[2]&&wt.F&&wt.v==0&&!wt.C&&(wt.C=Fn(it(wt.Za,wt),6e3));if(1>=io(wt.h)&&wt.ca){try{wt.ca()}catch{}wt.ca=void 0}}else cs(wt,11)}else if((ct.K||wt.g==ct)&&Jr(wt),!ut(At))for(ln=wt.Da.g.parse(At),At=0;At<ln.length;At++){let Dr=ln[At];if(wt.T=Dr[0],Dr=Dr[1],wt.G==2)if(Dr[0]=="c"){wt.K=Dr[1],wt.ia=Dr[2];const mr=Dr[3];mr!=null&&(wt.la=mr,wt.j.info("VER="+wt.la));const Hr=Dr[4];Hr!=null&&(wt.Aa=Hr,wt.j.info("SVER="+wt.Aa));const Wr=Dr[5];Wr!=null&&typeof Wr=="number"&&0<Wr&&(Ot=1.5*Wr,wt.L=Ot,wt.j.info("backChannelRequestTimeoutMs_="+Ot)),Ot=wt;const Br=ct.g;if(Br){const is=Br.g?Br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(is){var An=Ot.h;An.g||is.indexOf("spdy")==-1&&is.indexOf("quic")==-1&&is.indexOf("h2")==-1||(An.j=An.l,An.g=new Set,An.h&&(so(An,An.h),An.h=null))}if(Ot.D){const Gr=Br.g?Br.g.getResponseHeader("X-HTTP-Session-Id"):null;Gr&&(Ot.ya=Gr,_i(Ot.I,Ot.D,Gr))}}wt.G=3,wt.l&&wt.l.ua(),wt.ba&&(wt.R=Date.now()-ct.F,wt.j.info("Handshake RTT: "+wt.R+"ms")),Ot=wt;var zn=ct;if(Ot.qa=as(Ot,Ot.J?Ot.ia:null,Ot.W),zn.K){ws(Ot.h,zn);var Tr=zn,zr=Ot.L;zr&&(Tr.I=zr),Tr.B&&($a(Tr),Ws(Tr)),Ot.g=zn}else Xr(Ot);0<wt.i.length&&Mr(wt)}else Dr[0]!="stop"&&Dr[0]!="close"||cs(wt,7);else wt.G==3&&(Dr[0]=="stop"||Dr[0]=="close"?Dr[0]=="stop"?cs(wt,7):Pr(wt):Dr[0]!="noop"&&wt.l&&wt.l.ta(Dr),wt.v=0)}}jt(4)}catch{}}var _l=class{constructor(ct,At){this.g=ct,this.map=At}};function wo(ct){this.l=ct||10,$.PerformanceNavigationTiming?(ct=$.performance.getEntriesByType("navigation"),ct=0<ct.length&&(ct[0].nextHopProtocol=="hq"||ct[0].nextHopProtocol=="h2")):ct=!!($.chrome&&$.chrome.loadTimes&&$.chrome.loadTimes()&&$.chrome.loadTimes().wasFetchedViaSpdy),this.j=ct?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vs(ct){return ct.h?!0:ct.g?ct.g.size>=ct.j:!1}function io(ct){return ct.h?1:ct.g?ct.g.size:0}function Gs(ct,At){return ct.h?ct.h==At:ct.g?ct.g.has(At):!1}function so(ct,At){ct.g?ct.g.add(At):ct.h=At}function ws(ct,At){ct.h&&ct.h==At?ct.h=null:ct.g&&ct.g.has(At)&&ct.g.delete(At)}wo.prototype.cancel=function(){if(this.i=Po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const ct of this.g.values())ct.cancel();this.g.clear()}};function Po(ct){if(ct.h!=null)return ct.i.concat(ct.h.D);if(ct.g!=null&&ct.g.size!==0){let At=ct.i;for(const wt of ct.g.values())At=At.concat(wt.D);return At}return lt(ct.i)}function yl(ct){if(ct.V&&typeof ct.V=="function")return ct.V();if(typeof Map<"u"&&ct instanceof Map||typeof Set<"u"&&ct instanceof Set)return Array.from(ct.values());if(typeof ct=="string")return ct.split("");if(et(ct)){for(var At=[],wt=ct.length,Ot=0;Ot<wt;Ot++)At.push(ct[Ot]);return At}At=[],wt=0;for(Ot in ct)At[wt++]=ct[Ot];return At}function El(ct){if(ct.na&&typeof ct.na=="function")return ct.na();if(!ct.V||typeof ct.V!="function"){if(typeof Map<"u"&&ct instanceof Map)return Array.from(ct.keys());if(!(typeof Set<"u"&&ct instanceof Set)){if(et(ct)||typeof ct=="string"){var At=[];ct=ct.length;for(var wt=0;wt<ct;wt++)At.push(wt);return At}At=[],wt=0;for(const Ot in ct)At[wt++]=Ot;return At}}}function Ks(ct,At){if(ct.forEach&&typeof ct.forEach=="function")ct.forEach(At,void 0);else if(et(ct)||typeof ct=="string")Array.prototype.forEach.call(ct,At,void 0);else for(var wt=El(ct),Ot=yl(ct),ln=Ot.length,An=0;An<ln;An++)At.call(void 0,Ot[An],wt&&wt[An],ct)}var Ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sl(ct,At){if(ct){ct=ct.split("&");for(var wt=0;wt<ct.length;wt++){var Ot=ct[wt].indexOf("="),ln=null;if(0<=Ot){var An=ct[wt].substring(0,Ot);ln=ct[wt].substring(Ot+1)}else An=ct[wt];At(An,ln?decodeURIComponent(ln.replace(/\+/g," ")):"")}}}function bs(ct){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,ct instanceof bs){this.h=ct.h,qs(this,ct.j),this.o=ct.o,this.g=ct.g,Xs(this,ct.s),this.l=ct.l;var At=ct.i,wt=new $s;wt.i=At.i,At.g&&(wt.g=new Map(At.g),wt.h=At.h),Zs(this,wt),this.m=ct.m}else ct&&(At=String(ct).match(Ro))?(this.h=!1,qs(this,At[1]||"",!0),this.o=Ps(At[2]||""),this.g=Ps(At[3]||"",!0),Xs(this,At[4]),this.l=Ps(At[5]||"",!0),Zs(this,At[6]||"",!0),this.m=Ps(At[7]||"")):(this.h=!1,this.i=new $s(null,this.h))}bs.prototype.toString=function(){var ct=[],At=this.j;At&&ct.push(js(At,Co,!0),":");var wt=this.g;return(wt||At=="file")&&(ct.push("//"),(At=this.o)&&ct.push(js(At,Co,!0),"@"),ct.push(encodeURIComponent(String(wt)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),wt=this.s,wt!=null&&ct.push(":",String(wt))),(wt=this.l)&&(this.g&&wt.charAt(0)!="/"&&ct.push("/"),ct.push(js(wt,wt.charAt(0)=="/"?Rs:xl,!0))),(wt=this.i.toString())&&ct.push("?",wt),(wt=this.m)&&ct.push("#",js(wt,Do)),ct.join("")};function _s(ct){return new bs(ct)}function qs(ct,At,wt){ct.j=wt?Ps(At,!0):At,ct.j&&(ct.j=ct.j.replace(/:$/,""))}function Xs(ct,At){if(At){if(At=Number(At),isNaN(At)||0>At)throw Error("Bad port number "+At);ct.s=At}else ct.s=null}function Zs(ct,At,wt){At instanceof $s?(ct.i=At,uo(ct.i,ct.h)):(wt||(At=js(At,Al)),ct.i=new $s(At,ct.h))}function _i(ct,At,wt){ct.i.set(At,wt)}function Bs(ct){return _i(ct,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),ct}function Ps(ct,At){return ct?At?decodeURI(ct.replace(/%25/g,"%2525")):decodeURIComponent(ct):""}function js(ct,At,wt){return typeof ct=="string"?(ct=encodeURI(ct).replace(At,oo),wt&&(ct=ct.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ct):null}function oo(ct){return ct=ct.charCodeAt(0),"%"+(ct>>4&15).toString(16)+(ct&15).toString(16)}var Co=/[#\/\?@]/g,xl=/[#\?:]/g,Rs=/[#\?]/g,Al=/[#\?@]/g,Do=/#/g;function $s(ct,At){this.h=this.g=null,this.i=ct||null,this.j=!!At}function gs(ct){ct.g||(ct.g=new Map,ct.h=0,ct.i&&Sl(ct.i,function(At,wt){ct.add(decodeURIComponent(At.replace(/\+/g," ")),wt)}))}s=$s.prototype,s.add=function(ct,At){gs(this),this.i=null,ct=xs(this,ct);var wt=this.g.get(ct);return wt||this.g.set(ct,wt=[]),wt.push(At),this.h+=1,this};function Ys(ct,At){gs(ct),At=xs(ct,At),ct.g.has(At)&&(ct.i=null,ct.h-=ct.g.get(At).length,ct.g.delete(At))}function ko(ct,At){return gs(ct),At=xs(ct,At),ct.g.has(At)}s.forEach=function(ct,At){gs(this),this.g.forEach(function(wt,Ot){wt.forEach(function(ln){ct.call(At,ln,Ot,this)},this)},this)},s.na=function(){gs(this);const ct=Array.from(this.g.values()),At=Array.from(this.g.keys()),wt=[];for(let Ot=0;Ot<At.length;Ot++){const ln=ct[Ot];for(let An=0;An<ln.length;An++)wt.push(At[Ot])}return wt},s.V=function(ct){gs(this);let At=[];if(typeof ct=="string")ko(this,ct)&&(At=At.concat(this.g.get(xs(this,ct))));else{ct=Array.from(this.g.values());for(let wt=0;wt<ct.length;wt++)At=At.concat(ct[wt])}return At},s.set=function(ct,At){return gs(this),this.i=null,ct=xs(this,ct),ko(this,ct)&&(this.h-=this.g.get(ct).length),this.g.set(ct,[At]),this.h+=1,this},s.get=function(ct,At){return ct?(ct=this.V(ct),0<ct.length?String(ct[0]):At):At};function co(ct,At,wt){Ys(ct,At),0<wt.length&&(ct.i=null,ct.g.set(xs(ct,At),lt(wt)),ct.h+=wt.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const ct=[],At=Array.from(this.g.keys());for(var wt=0;wt<At.length;wt++){var Ot=At[wt];const An=encodeURIComponent(String(Ot)),zn=this.V(Ot);for(Ot=0;Ot<zn.length;Ot++){var ln=An;zn[Ot]!==""&&(ln+="="+encodeURIComponent(String(zn[Ot]))),ct.push(ln)}}return this.i=ct.join("&")};function xs(ct,At){return At=String(At),ct.j&&(At=At.toLowerCase()),At}function uo(ct,At){At&&!ct.j&&(gs(ct),ct.i=null,ct.g.forEach(function(wt,Ot){var ln=Ot.toLowerCase();Ot!=ln&&(Ys(this,Ot),co(this,ln,wt))},ct)),ct.j=At}function Tl(ct,At){const wt=new Bn;if($.Image){const Ot=new Image;Ot.onload=st(Es,wt,"TestLoadImage: loaded",!0,At,Ot),Ot.onerror=st(Es,wt,"TestLoadImage: error",!1,At,Ot),Ot.onabort=st(Es,wt,"TestLoadImage: abort",!1,At,Ot),Ot.ontimeout=st(Es,wt,"TestLoadImage: timeout",!1,At,Ot),$.setTimeout(function(){Ot.ontimeout&&Ot.ontimeout()},1e4),Ot.src=ct}else At(!1)}function wl(ct,At){const wt=new Bn,Ot=new AbortController,ln=setTimeout(()=>{Ot.abort(),Es(wt,"TestPingServer: timeout",!1,At)},1e4);fetch(ct,{signal:Ot.signal}).then(An=>{clearTimeout(ln),An.ok?Es(wt,"TestPingServer: ok",!0,At):Es(wt,"TestPingServer: server error",!1,At)}).catch(()=>{clearTimeout(ln),Es(wt,"TestPingServer: error",!1,At)})}function Es(ct,At,wt,Ot,ln){try{ln&&(ln.onload=null,ln.onerror=null,ln.onabort=null,ln.ontimeout=null),Ot(wt)}catch{}}function Pt(){this.g=new pn}function Nt(ct,At,wt){const Ot=wt||"";try{Ks(ct,function(ln,An){let zn=ln;tt(ln)&&(zn=Dn(ln)),At.push(Ot+An+"="+encodeURIComponent(zn))})}catch(ln){throw At.push(Ot+"type="+encodeURIComponent("_badmap")),ln}}function Qt(ct){this.l=ct.Ub||null,this.j=ct.eb||!1}ot(Qt,Yn),Qt.prototype.g=function(){return new Jt(this.l,this.j)},Qt.prototype.i=function(ct){return function(){return ct}}({});function Jt(ct,At){Un.call(this),this.D=ct,this.o=At,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}ot(Jt,Un),s=Jt.prototype,s.open=function(ct,At){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=ct,this.A=At,this.readyState=1,_n(this)},s.send=function(ct){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const At={headers:this.u,method:this.B,credentials:this.m,cache:void 0};ct&&(At.body=ct),(this.D||$).fetch(new Request(this.A,At)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sn(this)),this.readyState=0},s.Sa=function(ct){if(this.g&&(this.l=ct,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=ct.headers,this.readyState=2,_n(this)),this.g&&(this.readyState=3,_n(this),this.g)))if(this.responseType==="arraybuffer")ct.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof $.ReadableStream<"u"&&"body"in ct){if(this.j=ct.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nn(this)}else ct.text().then(this.Ra.bind(this),this.ga.bind(this))};function nn(ct){ct.j.read().then(ct.Pa.bind(ct)).catch(ct.ga.bind(ct))}s.Pa=function(ct){if(this.g){if(this.o&&ct.value)this.response.push(ct.value);else if(!this.o){var At=ct.value?ct.value:new Uint8Array(0);(At=this.v.decode(At,{stream:!ct.done}))&&(this.response=this.responseText+=At)}ct.done?sn(this):_n(this),this.readyState==3&&nn(this)}},s.Ra=function(ct){this.g&&(this.response=this.responseText=ct,sn(this))},s.Qa=function(ct){this.g&&(this.response=ct,sn(this))},s.ga=function(){this.g&&sn(this)};function sn(ct){ct.readyState=4,ct.l=null,ct.j=null,ct.v=null,_n(ct)}s.setRequestHeader=function(ct,At){this.u.append(ct,At)},s.getResponseHeader=function(ct){return this.h&&this.h.get(ct.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const ct=[],At=this.h.entries();for(var wt=At.next();!wt.done;)wt=wt.value,ct.push(wt[0]+": "+wt[1]),wt=At.next();return ct.join(`\r
`)};function _n(ct){ct.onreadystatechange&&ct.onreadystatechange.call(ct)}Object.defineProperty(Jt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(ct){this.m=ct?"include":"same-origin"}});function fn(ct){let At="";return yt(ct,function(wt,Ot){At+=Ot,At+=":",At+=wt,At+=`\r
`}),At}function en(ct,At,wt){e:{for(Ot in wt){var Ot=!1;break e}Ot=!0}Ot||(wt=fn(wt),typeof ct=="string"?wt!=null&&encodeURIComponent(String(wt)):_i(ct,At,wt))}function on(ct){Un.call(this),this.headers=new Map,this.o=ct||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}ot(on,Un);var gn=/^https?$/i,$n=["POST","PUT"];s=on.prototype,s.Ha=function(ct){this.J=ct},s.ea=function(ct,At,wt,Ot){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+ct);At=At?At.toUpperCase():"GET",this.D=ct,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rr.g(),this.v=this.o?tr(this.o):tr(Rr),this.g.onreadystatechange=it(this.Ea,this);try{this.B=!0,this.g.open(At,String(ct),!0),this.B=!1}catch(An){Vn(this,An);return}if(ct=wt||"",wt=new Map(this.headers),Ot)if(Object.getPrototypeOf(Ot)===Object.prototype)for(var ln in Ot)wt.set(ln,Ot[ln]);else if(typeof Ot.keys=="function"&&typeof Ot.get=="function")for(const An of Ot.keys())wt.set(An,Ot.get(An));else throw Error("Unknown input type for opt_headers: "+String(Ot));Ot=Array.from(wt.keys()).find(An=>An.toLowerCase()=="content-type"),ln=$.FormData&&ct instanceof $.FormData,!(0<=Array.prototype.indexOf.call($n,At,void 0))||Ot||ln||wt.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[An,zn]of wt)this.g.setRequestHeader(An,zn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wn(this),this.u=!0,this.g.send(ct),this.u=!1}catch(An){Vn(this,An)}};function Vn(ct,At){ct.h=!1,ct.g&&(ct.j=!0,ct.g.abort(),ct.j=!1),ct.l=At,ct.m=5,Ln(ct),Kn(ct)}function Ln(ct){ct.A||(ct.A=!0,jn(ct,"complete"),jn(ct,"error"))}s.abort=function(ct){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=ct||7,jn(this,"complete"),jn(this,"abort"),Kn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),on.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Xn(this):this.bb())},s.bb=function(){Xn(this)};function Xn(ct){if(ct.h&&typeof j<"u"&&(!ct.v[1]||wr(ct)!=4||ct.Z()!=2)){if(ct.u&&wr(ct)==4)fr(ct.Ea,0,ct);else if(jn(ct,"readystatechange"),wr(ct)==4){ct.h=!1;try{const zn=ct.Z();e:switch(zn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var At=!0;break e;default:At=!1}var wt;if(!(wt=At)){var Ot;if(Ot=zn===0){var ln=String(ct.D).match(Ro)[1]||null;!ln&&$.self&&$.self.location&&(ln=$.self.location.protocol.slice(0,-1)),Ot=!gn.test(ln?ln.toLowerCase():"")}wt=Ot}if(wt)jn(ct,"complete"),jn(ct,"success");else{ct.m=6;try{var An=2<wr(ct)?ct.g.statusText:""}catch{An=""}ct.l=An+" ["+ct.Z()+"]",Ln(ct)}}finally{Kn(ct)}}}}function Kn(ct,At){if(ct.g){Wn(ct);const wt=ct.g,Ot=ct.v[0]?()=>{}:null;ct.g=null,ct.v=null,At||jn(ct,"ready");try{wt.onreadystatechange=Ot}catch{}}}function Wn(ct){ct.I&&($.clearTimeout(ct.I),ct.I=null)}s.isActive=function(){return!!this.g};function wr(ct){return ct.g?ct.g.readyState:0}s.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(ct){if(this.g){var At=this.g.responseText;return ct&&At.indexOf(ct)==0&&(At=At.substring(ct.length)),hn(At)}};function gr(ct){try{if(!ct.g)return null;if("response"in ct.g)return ct.g.response;switch(ct.H){case"":case"text":return ct.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in ct.g)return ct.g.mozResponseArrayBuffer}return null}catch{return null}}function yr(ct){const At={};ct=(ct.g&&2<=wr(ct)&&ct.g.getAllResponseHeaders()||"").split(`\r
`);for(let Ot=0;Ot<ct.length;Ot++){if(ut(ct[Ot]))continue;var wt=mt(ct[Ot]);const ln=wt[0];if(wt=wt[1],typeof wt!="string")continue;wt=wt.trim();const An=At[ln]||[];At[ln]=An,An.push(wt)}gt(At,function(Ot){return Ot.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(ct,At,wt){return wt&&wt.internalChannelParams&&wt.internalChannelParams[ct]||At}function ur(ct){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=br("failFast",!1,ct),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=br("baseRetryDelayMs",5e3,ct),this.cb=br("retryDelaySeedMs",1e4,ct),this.Wa=br("forwardChannelMaxRetries",2,ct),this.wa=br("forwardChannelRequestTimeoutMs",2e4,ct),this.pa=ct&&ct.xmlHttpFactory||void 0,this.Xa=ct&&ct.Tb||void 0,this.Ca=ct&&ct.useFetchStreams||!1,this.L=void 0,this.J=ct&&ct.supportsCrossDomainXhr||!1,this.K="",this.h=new wo(ct&&ct.concurrentRequestLimit),this.Da=new Pt,this.P=ct&&ct.fastHandshake||!1,this.O=ct&&ct.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=ct&&ct.Rb||!1,ct&&ct.xa&&this.j.xa(),ct&&ct.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&ct&&ct.detectBufferingProxy||!1,this.ja=void 0,ct&&ct.longPollingTimeout&&0<ct.longPollingTimeout&&(this.ja=ct.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ur.prototype,s.la=8,s.G=1,s.connect=function(ct,At,wt,Ot){En(0),this.W=ct,this.H=At||{},wt&&Ot!==void 0&&(this.H.OSID=wt,this.H.OAID=Ot),this.F=this.X,this.I=as(this,null,this.W),Mr(this)};function Pr(ct){if(jr(ct),ct.G==3){var At=ct.U++,wt=_s(ct.I);if(_i(wt,"SID",ct.K),_i(wt,"RID",At),_i(wt,"TYPE","terminate"),Vr(ct,wt),At=new Or(ct,ct.j,At),At.L=2,At.v=Bs(_s(wt)),wt=!1,$.navigator&&$.navigator.sendBeacon)try{wt=$.navigator.sendBeacon(At.v.toString(),"")}catch{}!wt&&$.Image&&(new Image().src=At.v,wt=!0),wt||(At.g=us(At.j,null),At.g.ea(At.v)),At.F=Date.now(),Ws(At)}fs(ct)}function Er(ct){ct.g&&(Qr(ct),ct.g.cancel(),ct.g=null)}function jr(ct){Er(ct),ct.u&&($.clearTimeout(ct.u),ct.u=null),Jr(ct),ct.h.cancel(),ct.s&&(typeof ct.s=="number"&&$.clearTimeout(ct.s),ct.s=null)}function Mr(ct){if(!Vs(ct.h)&&!ct.s){ct.s=!0;var At=ct.Ga;$t||Wt(),Gt||($t(),Gt=!0),Ft.add(At,ct),ct.B=0}}function $r(ct,At){return io(ct.h)>=ct.h.j-(ct.s?1:0)?!1:ct.s?(ct.i=At.D.concat(ct.i),!0):ct.G==1||ct.G==2||ct.B>=(ct.Va?0:ct.Wa)?!1:(ct.s=Fn(it(ct.Ga,ct,At),os(ct,ct.B)),ct.B++,!0)}s.Ga=function(ct){if(this.s)if(this.s=null,this.G==1){if(!ct){this.U=Math.floor(1e5*Math.random()),ct=this.U++;const ln=new Or(this,this.j,ct);let An=this.o;if(this.S&&(An?(An=ft(An),Et(An,this.S)):An=this.S),this.m!==null||this.O||(ln.H=An,An=null),this.P)e:{for(var At=0,wt=0;wt<this.i.length;wt++){t:{var Ot=this.i[wt];if("__data__"in Ot.map&&(Ot=Ot.map.__data__,typeof Ot=="string")){Ot=Ot.length;break t}Ot=void 0}if(Ot===void 0)break;if(At+=Ot,4096<At){At=wt;break e}if(At===4096||wt===this.i.length-1){At=wt+1;break e}}At=1e3}else At=1e3;At=ns(this,ln,At),wt=_s(this.I),_i(wt,"RID",ct),_i(wt,"CVER",22),this.D&&_i(wt,"X-HTTP-Session-Id",this.D),Vr(this,wt),An&&(this.O?At="headers="+encodeURIComponent(String(fn(An)))+"&"+At:this.m&&en(wt,this.m,An)),so(this.h,ln),this.Ua&&_i(wt,"TYPE","init"),this.P?(_i(wt,"$req",At),_i(wt,"SID","null"),ln.T=!0,hs(ln,wt,null)):hs(ln,wt,At),this.G=2}}else this.G==3&&(ct?Ur(this,ct):this.i.length==0||Vs(this.h)||Ur(this))};function Ur(ct,At){var wt;At?wt=At.l:wt=ct.U++;const Ot=_s(ct.I);_i(Ot,"SID",ct.K),_i(Ot,"RID",wt),_i(Ot,"AID",ct.T),Vr(ct,Ot),ct.m&&ct.o&&en(Ot,ct.m,ct.o),wt=new Or(ct,ct.j,wt,ct.B+1),ct.m===null&&(wt.H=ct.o),At&&(ct.i=At.D.concat(ct.i)),At=ns(ct,wt,1e3),wt.I=Math.round(.5*ct.wa)+Math.round(.5*ct.wa*Math.random()),so(ct.h,wt),hs(wt,Ot,At)}function Vr(ct,At){ct.H&&yt(ct.H,function(wt,Ot){_i(At,Ot,wt)}),ct.l&&Ks({},function(wt,Ot){_i(At,Ot,wt)})}function ns(ct,At,wt){wt=Math.min(ct.i.length,wt);var Ot=ct.l?it(ct.l.Na,ct.l,ct):null;e:{var ln=ct.i;let An=-1;for(;;){const zn=["count="+wt];An==-1?0<wt?(An=ln[0].g,zn.push("ofs="+An)):An=0:zn.push("ofs="+An);let Tr=!0;for(let zr=0;zr<wt;zr++){let Dr=ln[zr].g;const mr=ln[zr].map;if(Dr-=An,0>Dr)An=Math.max(0,ln[zr].g-100),Tr=!1;else try{Nt(mr,zn,"req"+Dr+"_")}catch{Ot&&Ot(mr)}}if(Tr){Ot=zn.join("&");break e}}}return ct=ct.i.splice(0,wt),At.D=ct,Ot}function Xr(ct){if(!ct.g&&!ct.u){ct.Y=1;var At=ct.Fa;$t||Wt(),Gt||($t(),Gt=!0),Ft.add(At,ct),ct.v=0}}function rs(ct){return ct.g||ct.u||3<=ct.v?!1:(ct.Y++,ct.u=Fn(it(ct.Fa,ct),os(ct,ct.v)),ct.v++,!0)}s.Fa=function(){if(this.u=null,ts(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var ct=2*this.R;this.j.info("BP detection timer enabled: "+ct),this.A=Fn(it(this.ab,this),ct)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,En(10),Er(this),ts(this))};function Qr(ct){ct.A!=null&&($.clearTimeout(ct.A),ct.A=null)}function ts(ct){ct.g=new Or(ct,ct.j,"rpc",ct.Y),ct.m===null&&(ct.g.H=ct.o),ct.g.O=0;var At=_s(ct.qa);_i(At,"RID","rpc"),_i(At,"SID",ct.K),_i(At,"AID",ct.T),_i(At,"CI",ct.F?"0":"1"),!ct.F&&ct.ja&&_i(At,"TO",ct.ja),_i(At,"TYPE","xmlhttp"),Vr(ct,At),ct.m&&ct.o&&en(At,ct.m,ct.o),ct.L&&(ct.g.I=ct.L);var wt=ct.g;ct=ct.ia,wt.L=1,wt.v=Bs(_s(At)),wt.m=null,wt.P=!0,ps(wt,ct)}s.Za=function(){this.C!=null&&(this.C=null,Er(this),rs(this),En(19))};function Jr(ct){ct.C!=null&&($.clearTimeout(ct.C),ct.C=null)}function es(ct,At){var wt=null;if(ct.g==At){Jr(ct),Qr(ct),ct.g=null;var Ot=2}else if(Gs(ct.h,At))wt=At.D,ws(ct.h,At),Ot=1;else return;if(ct.G!=0){if(At.o)if(Ot==1){wt=At.m?At.m.length:0,At=Date.now()-At.F;var ln=ct.B;Ot=Zn(),jn(Ot,new wn(Ot,wt)),Mr(ct)}else Xr(ct);else if(ln=At.s,ln==3||ln==0&&0<At.X||!(Ot==1&&$r(ct,At)||Ot==2&&rs(ct)))switch(wt&&0<wt.length&&(At=ct.h,At.i=At.i.concat(wt)),ln){case 1:cs(ct,5);break;case 4:cs(ct,10);break;case 3:cs(ct,6);break;default:cs(ct,2)}}}function os(ct,At){let wt=ct.Ta+Math.floor(Math.random()*ct.cb);return ct.isActive()||(wt*=2),wt*At}function cs(ct,At){if(ct.j.info("Error code "+At),At==2){var wt=it(ct.fb,ct),Ot=ct.Xa;const ln=!Ot;Ot=new bs(Ot||"//www.google.com/images/cleardot.gif"),$.location&&$.location.protocol=="http"||qs(Ot,"https"),Bs(Ot),ln?Tl(Ot.toString(),wt):wl(Ot.toString(),wt)}else En(2);ct.G=0,ct.l&&ct.l.sa(At),fs(ct),jr(ct)}s.fb=function(ct){ct?(this.j.info("Successfully pinged google.com"),En(2)):(this.j.info("Failed to ping google.com"),En(1))};function fs(ct){if(ct.G=0,ct.ka=[],ct.l){const At=Po(ct.h);(At.length!=0||ct.i.length!=0)&&(dt(ct.ka,At),dt(ct.ka,ct.i),ct.h.i.length=0,lt(ct.i),ct.i.length=0),ct.l.ra()}}function as(ct,At,wt){var Ot=wt instanceof bs?_s(wt):new bs(wt);if(Ot.g!="")At&&(Ot.g=At+"."+Ot.g),Xs(Ot,Ot.s);else{var ln=$.location;Ot=ln.protocol,At=At?At+"."+ln.hostname:ln.hostname,ln=+ln.port;var An=new bs(null);Ot&&qs(An,Ot),At&&(An.g=At),ln&&Xs(An,ln),wt&&(An.l=wt),Ot=An}return wt=ct.D,At=ct.ya,wt&&At&&_i(Ot,wt,At),_i(Ot,"VER",ct.la),Vr(ct,Ot),Ot}function us(ct,At,wt){if(At&&!ct.J)throw Error("Can't create secondary domain capable XhrIo object.");return At=ct.Ca&&!ct.pa?new on(new Qt({eb:wt})):new on(ct.pa),At.Ha(ct.J),At}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function vs(){}s=vs.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Sr(){}Sr.prototype.g=function(ct,At){return new cr(ct,At)};function cr(ct,At){Un.call(this),this.g=new ur(At),this.l=ct,this.h=At&&At.messageUrlParams||null,ct=At&&At.messageHeaders||null,At&&At.clientProtocolHeaderRequired&&(ct?ct["X-Client-Protocol"]="webchannel":ct={"X-Client-Protocol":"webchannel"}),this.g.o=ct,ct=At&&At.initMessageHeaders||null,At&&At.messageContentType&&(ct?ct["X-WebChannel-Content-Type"]=At.messageContentType:ct={"X-WebChannel-Content-Type":At.messageContentType}),At&&At.va&&(ct?ct["X-WebChannel-Client-Profile"]=At.va:ct={"X-WebChannel-Client-Profile":At.va}),this.g.S=ct,(ct=At&&At.Sb)&&!ut(ct)&&(this.g.m=ct),this.v=At&&At.supportsCrossDomainXhr||!1,this.u=At&&At.sendRawJson||!1,(At=At&&At.httpSessionIdParam)&&!ut(At)&&(this.g.D=At,ct=this.h,ct!==null&&At in ct&&(ct=this.h,At in ct&&delete ct[At])),this.j=new or(this)}ot(cr,Un),cr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cr.prototype.close=function(){Pr(this.g)},cr.prototype.o=function(ct){var At=this.g;if(typeof ct=="string"){var wt={};wt.__data__=ct,ct=wt}else this.u&&(wt={},wt.__data__=Dn(ct),ct=wt);At.i.push(new _l(At.Ya++,ct)),At.G==3&&Mr(At)},cr.prototype.N=function(){this.g.l=null,delete this.j,Pr(this.g),delete this.g,cr.aa.N.call(this)};function dr(ct){Cn.call(this),ct.__headers__&&(this.headers=ct.__headers__,this.statusCode=ct.__status__,delete ct.__headers__,delete ct.__status__);var At=ct.__sm__;if(At){e:{for(const wt in At){ct=wt;break e}ct=void 0}(this.i=ct)&&(ct=this.i,At=At!==null&&ct in At?At[ct]:void 0),this.data=At}else this.data=ct}ot(dr,Cn);function pr(){Hn.call(this),this.status=1}ot(pr,Hn);function or(ct){this.g=ct}ot(or,vs),or.prototype.ua=function(){jn(this.g,"a")},or.prototype.ta=function(ct){jn(this.g,new dr(ct))},or.prototype.sa=function(ct){jn(this.g,new pr)},or.prototype.ra=function(){jn(this.g,"b")},Sr.prototype.createWebChannel=Sr.prototype.g,cr.prototype.send=cr.prototype.o,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,createWebChannelTransport=function(){return new Sr},getStatEventTarget=function(){return Zn()},Event$1=Qn,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ir.NO_ERROR=0,ir.TIMEOUT=8,ir.HTTP_ERROR=6,ErrorCode$1=ir,_r.COMPLETE="complete",EventType=_r,hr.EventType=Yt,Yt.OPEN="a",Yt.CLOSE="b",Yt.ERROR="c",Yt.MESSAGE="d",Un.prototype.listen=Un.prototype.K,WebChannel=hr,on.prototype.listenOnce=on.prototype.L,on.prototype.getLastError=on.prototype.Ka,on.prototype.getLastErrorCode=on.prototype.Ba,on.prototype.getStatus=on.prototype.Z,on.prototype.getResponseJson=on.prototype.Oa,on.prototype.getResponseText=on.prototype.oa,on.prototype.send=on.prototype.ea,on.prototype.setWithCredentials=on.prototype.Ha,XhrIo=on}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const w="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return b.logLevel}function __PRIVATE_logDebug(s,...e){if(b.logLevel<=LogLevel.DEBUG){const d=e.map(__PRIVATE_argToString);b.debug(`Firestore (${S}): ${s}`,...d)}}function __PRIVATE_logError(s,...e){if(b.logLevel<=LogLevel.ERROR){const d=e.map(__PRIVATE_argToString);b.error(`Firestore (${S}): ${s}`,...d)}}function __PRIVATE_logWarn(s,...e){if(b.logLevel<=LogLevel.WARN){const d=e.map(__PRIVATE_argToString);b.warn(`Firestore (${S}): ${s}`,...d)}}function __PRIVATE_argToString(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(d){return JSON.stringify(d)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(s="Unexpected state"){const e=`FIRESTORE (${S}) INTERNAL ASSERTION FAILED: `+s;throw __PRIVATE_logError(e),new Error(e)}function __PRIVATE_hardAssert(s,e){s||fail()}function __PRIVATE_debugCast(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(e,d){super(e,d),this.code=e,this.message=d,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((e,d)=>{this.resolve=e,this.reject=d})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(e,d){this.user=d,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,d){e.enqueueRetryable(()=>d(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,d){this.changeListener=d,e.enqueueRetryable(()=>d(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(e){this.t=e,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,d){__PRIVATE_hardAssert(this.o===void 0);let h=this.i;const g=et=>this.i!==h?(h=this.i,d(et)):Promise.resolve();let _=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new __PRIVATE_Deferred,e.enqueueRetryable(()=>g(this.currentUser))};const j=()=>{const et=_;e.enqueueRetryable(async()=>{await et.promise,await g(this.currentUser)})},$=et=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=et,this.o&&(this.auth.addAuthTokenListener(this.o),j())};this.t.onInit(et=>$(et)),setTimeout(()=>{if(!this.auth){const et=this.t.getImmediate({optional:!0});et?$(et):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new __PRIVATE_Deferred)}},0),j()}getToken(){const e=this.i,d=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(d).then(h=>this.i!==e?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):h?(__PRIVATE_hardAssert(typeof h.accessToken=="string"),new __PRIVATE_OAuthToken(h.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(e===null||typeof e=="string"),new User(e)}}class __PRIVATE_FirstPartyToken{constructor(e,d,h){this.l=e,this.h=d,this.P=h,this.type="FirstParty",this.user=User.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(e,d,h){this.l=e,this.h=d,this.P=h}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(e,d){e.enqueueRetryable(()=>d(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,d){__PRIVATE_hardAssert(this.o===void 0);const h=_=>{_.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const j=_.token!==this.R;return this.R=_.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${j?"new":"existing"} token.`),j?d(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>h(_))};const g=_=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(_=>g(_)),setTimeout(()=>{if(!this.appCheck){const _=this.A.getImmediate({optional:!0});_?g(_):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(d=>d?(__PRIVATE_hardAssert(typeof d.token=="string"),this.R=d.token,new AppCheckToken(d.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),d=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(d);else for(let h=0;h<s;h++)d[h]=Math.floor(256*Math.random());return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d=Math.floor(256/e.length)*e.length;let h="";for(;h.length<20;){const g=__PRIVATE_randomBytes(40);for(let _=0;_<g.length;++_)h.length<20&&g[_]<d&&(h+=e.charAt(g[_]%e.length))}return h}}function __PRIVATE_primitiveComparator(s,e){return s<e?-1:s>e?1:0}function __PRIVATE_arrayEquals(s,e,d){return s.length===e.length&&s.every((h,g)=>d(h,e[g]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Timestamp{constructor(e,d){if(this.seconds=e,this.nanoseconds=d,d<0)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+d);if(d>=1e9)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+d);if(e<-62135596800)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate(e){return Timestamp.fromMillis(e.getTime())}static fromMillis(e){const d=Math.floor(e/1e3),h=Math.floor(1e6*(e-1e3*d));return new Timestamp(d,h)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,e.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{constructor(e){this.timestamp=e}static fromTimestamp(e){return new SnapshotVersion(e)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BasePath{constructor(e,d,h){d===void 0?d=0:d>e.length&&fail(),h===void 0?h=e.length-d:h>e.length-d&&fail(),this.segments=e,this.offset=d,this.len=h}get length(){return this.len}isEqual(e){return BasePath.comparator(this,e)===0}child(e){const d=this.segments.slice(this.offset,this.limit());return e instanceof BasePath?e.forEach(h=>{d.push(h)}):d.push(e),this.construct(d)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let d=0;d<this.length;d++)if(this.get(d)!==e.get(d))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let d=0;d<this.length;d++)if(this.get(d)!==e.get(d))return!1;return!0}forEach(e){for(let d=this.offset,h=this.limit();d<h;d++)e(this.segments[d])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,d){const h=Math.min(e.length,d.length);for(let g=0;g<h;g++){const _=e.get(g),j=d.get(g);if(_<j)return-1;if(_>j)return 1}return e.length<d.length?-1:e.length>d.length?1:0}}class ResourcePath extends BasePath{construct(e,d,h){return new ResourcePath(e,d,h)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const d=[];for(const h of e){if(h.indexOf("//")>=0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid segment (${h}). Paths must not contain // in them.`);d.push(...h.split("/").filter(g=>g.length>0))}return new ResourcePath(d)}static emptyPath(){return new ResourcePath([])}}const v=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(e,d,h){return new FieldPath$1(e,d,h)}static isValidIdentifier(e){return v.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(e){const d=[];let h="",g=0;const _=()=>{if(h.length===0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);d.push(h),h=""};let j=!1;for(;g<e.length;){const $=e[g];if($==="\\"){if(g+1===e.length)throw new FirestoreError(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const et=e[g+1];if(et!=="\\"&&et!=="."&&et!=="`")throw new FirestoreError(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);h+=et,g+=2}else $==="`"?(j=!j,g++):$!=="."||j?(h+=$,g++):(_(),g++)}if(_(),j)throw new FirestoreError(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new FieldPath$1(d)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(e){this.path=e}static fromPath(e){return new DocumentKey(ResourcePath.fromString(e))}static fromName(e){return new DocumentKey(ResourcePath.fromString(e).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ResourcePath.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,d){return ResourcePath.comparator(e.path,d.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new DocumentKey(new ResourcePath(e.slice()))}}function __PRIVATE_newIndexOffsetSuccessorFromReadTime(s,e){const d=s.toTimestamp().seconds,h=s.toTimestamp().nanoseconds+1,g=SnapshotVersion.fromTimestamp(h===1e9?new Timestamp(d+1,0):new Timestamp(d,h));return new IndexOffset(g,DocumentKey.empty(),e)}function __PRIVATE_newIndexOffsetFromDocument(s){return new IndexOffset(s.readTime,s.key,-1)}class IndexOffset{constructor(e,d,h){this.readTime=e,this.documentKey=d,this.largestBatchId=h}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function __PRIVATE_indexOffsetComparator(s,e){let d=s.readTime.compareTo(e.readTime);return d!==0?d:(d=DocumentKey.comparator(s.documentKey,e.documentKey),d!==0?d:__PRIVATE_primitiveComparator(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(s){if(s.code!==D.FAILED_PRECONDITION||s.message!==C)throw s;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(d=>{this.isDone=!0,this.result=d,this.nextCallback&&this.nextCallback(d)},d=>{this.isDone=!0,this.error=d,this.catchCallback&&this.catchCallback(d)})}catch(e){return this.next(void 0,e)}next(e,d){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(d,this.error):this.wrapSuccess(e,this.result):new PersistencePromise((h,g)=>{this.nextCallback=_=>{this.wrapSuccess(e,_).next(h,g)},this.catchCallback=_=>{this.wrapFailure(d,_).next(h,g)}})}toPromise(){return new Promise((e,d)=>{this.next(e,d)})}wrapUserFunction(e){try{const d=e();return d instanceof PersistencePromise?d:PersistencePromise.resolve(d)}catch(d){return PersistencePromise.reject(d)}}wrapSuccess(e,d){return e?this.wrapUserFunction(()=>e(d)):PersistencePromise.resolve(d)}wrapFailure(e,d){return e?this.wrapUserFunction(()=>e(d)):PersistencePromise.reject(d)}static resolve(e){return new PersistencePromise((d,h)=>{d(e)})}static reject(e){return new PersistencePromise((d,h)=>{h(e)})}static waitFor(e){return new PersistencePromise((d,h)=>{let g=0,_=0,j=!1;e.forEach($=>{++g,$.next(()=>{++_,j&&_===g&&d()},et=>h(et))}),j=!0,_===g&&d()})}static or(e){let d=PersistencePromise.resolve(!1);for(const h of e)d=d.next(g=>g?PersistencePromise.resolve(g):h());return d}static forEach(e,d){const h=[];return e.forEach((g,_)=>{h.push(d.call(this,g,_))}),this.waitFor(h)}static mapArray(e,d){return new PersistencePromise((h,g)=>{const _=e.length,j=new Array(_);let $=0;for(let et=0;et<_;et++){const tt=et;d(e[tt]).next(nt=>{j[tt]=nt,++$,$===_&&h(j)},nt=>g(nt))}})}static doWhile(e,d){return new PersistencePromise((h,g)=>{const _=()=>{e()===!0?d().next(()=>{_()},g):h()};_()})}}function __PRIVATE_getAndroidVersion(s){const e=s.match(/Android ([\d.]+)/i),d=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(d)}function __PRIVATE_isIndexedDbTransactionError(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(e,d){this.previousValue=e,d&&(d.sequenceNumberHandler=h=>this.ie(h),this.se=h=>d.writeSequenceNumber(h))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}__PRIVATE_ListenSequence.oe=-1;function __PRIVATE_isNullOrUndefined(s){return s==null}function __PRIVATE_isNegativeZero(s){return s===0&&1/s==-1/0}function isSafeInteger(s){return typeof s=="number"&&Number.isInteger(s)&&!__PRIVATE_isNegativeZero(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(s){let e=0;for(const d in s)Object.prototype.hasOwnProperty.call(s,d)&&e++;return e}function forEach(s,e){for(const d in s)Object.prototype.hasOwnProperty.call(s,d)&&e(d,s[d])}function isEmpty(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(e,d){this.comparator=e,this.root=d||LLRBNode.EMPTY}insert(e,d){return new SortedMap(this.comparator,this.root.insert(e,d,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(e){return new SortedMap(this.comparator,this.root.remove(e,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(e){let d=this.root;for(;!d.isEmpty();){const h=this.comparator(e,d.key);if(h===0)return d.value;h<0?d=d.left:h>0&&(d=d.right)}return null}indexOf(e){let d=0,h=this.root;for(;!h.isEmpty();){const g=this.comparator(e,h.key);if(g===0)return d+h.left.size;g<0?h=h.left:(d+=h.left.size+1,h=h.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((d,h)=>(e(d,h),!1))}toString(){const e=[];return this.inorderTraversal((d,h)=>(e.push(`${d}:${h}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!0)}}class SortedMapIterator{constructor(e,d,h,g){this.isReverse=g,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=d?h(e.key,d):1,d&&g&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(_===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const d={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return d}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class LLRBNode{constructor(e,d,h,g,_){this.key=e,this.value=d,this.color=h??LLRBNode.RED,this.left=g??LLRBNode.EMPTY,this.right=_??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,d,h,g,_){return new LLRBNode(e??this.key,d??this.value,h??this.color,g??this.left,_??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,d,h){let g=this;const _=h(e,g.key);return g=_<0?g.copy(null,null,null,g.left.insert(e,d,h),null):_===0?g.copy(null,d,null,null,null):g.copy(null,null,null,null,g.right.insert(e,d,h)),g.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,d){let h,g=this;if(d(e,g.key)<0)g.left.isEmpty()||g.left.isRed()||g.left.left.isRed()||(g=g.moveRedLeft()),g=g.copy(null,null,null,g.left.remove(e,d),null);else{if(g.left.isRed()&&(g=g.rotateRight()),g.right.isEmpty()||g.right.isRed()||g.right.left.isRed()||(g=g.moveRedRight()),d(e,g.key)===0){if(g.right.isEmpty())return LLRBNode.EMPTY;h=g.right.min(),g=g.copy(h.key,h.value,null,null,g.right.removeMin())}g=g.copy(null,null,null,null,g.right.remove(e,d))}return g.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),d=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,d)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const e=this.left.check();if(e!==this.right.check())throw fail();return e+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(e,d,h,g,_){return this}insert(e,d,h){return new LLRBNode(e,d)}remove(e,d){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(e){this.comparator=e,this.data=new SortedMap(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((d,h)=>(e(d),!1))}forEachInRange(e,d){const h=this.data.getIteratorFrom(e[0]);for(;h.hasNext();){const g=h.getNext();if(this.comparator(g.key,e[1])>=0)return;d(g.key)}}forEachWhile(e,d){let h;for(h=d!==void 0?this.data.getIteratorFrom(d):this.data.getIterator();h.hasNext();)if(!e(h.getNext().key))return}firstAfterOrEqual(e){const d=this.data.getIteratorFrom(e);return d.hasNext()?d.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(e){return new SortedSetIterator(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let d=this;return d.size<e.size&&(d=e,e=this),e.forEach(h=>{d=d.add(h)}),d}isEqual(e){if(!(e instanceof SortedSet)||this.size!==e.size)return!1;const d=this.data.getIterator(),h=e.data.getIterator();for(;d.hasNext();){const g=d.getNext().key,_=h.getNext().key;if(this.comparator(g,_)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(d=>{e.push(d)}),e}toString(){const e=[];return this.forEach(d=>e.push(d)),"SortedSet("+e.toString()+")"}copy(e){const d=new SortedSet(this.comparator);return d.data=e,d}}class SortedSetIterator{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(e){this.fields=e,e.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(e){let d=new SortedSet(FieldPath$1.comparator);for(const h of this.fields)d=d.add(h);for(const h of e)d=d.add(h);return new FieldMask(d.toArray())}covers(e){for(const d of this.fields)if(d.isPrefixOf(e))return!0;return!1}isEqual(e){return __PRIVATE_arrayEquals(this.fields,e.fields,(d,h)=>d.isEqual(h))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(e){this.binaryString=e}static fromBase64String(e){const d=function(g){try{return atob(g)}catch(_){throw typeof DOMException<"u"&&_ instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+_):_}}(e);return new ByteString(d)}static fromUint8Array(e){const d=function(g){let _="";for(let j=0;j<g.length;++j)_+=String.fromCharCode(g[j]);return _}(e);return new ByteString(d)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(d){return btoa(d)}(this.binaryString)}toUint8Array(){return function(d){const h=new Uint8Array(d.length);for(let g=0;g<d.length;g++)h[g]=d.charCodeAt(g);return h}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return __PRIVATE_primitiveComparator(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const ne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(s){if(__PRIVATE_hardAssert(!!s),typeof s=="string"){let e=0;const d=ne.exec(s);if(__PRIVATE_hardAssert(!!d),d[1]){let g=d[1];g=(g+"000000000").substr(0,9),e=Number(g)}const h=new Date(s);return{seconds:Math.floor(h.getTime()/1e3),nanos:e}}return{seconds:__PRIVATE_normalizeNumber(s.seconds),nanos:__PRIVATE_normalizeNumber(s.nanos)}}function __PRIVATE_normalizeNumber(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function __PRIVATE_normalizeByteString(s){return typeof s=="string"?ByteString.fromBase64String(s):ByteString.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isServerTimestamp(s){var e,d;return((d=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||d===void 0?void 0:d.stringValue)==="server_timestamp"}function __PRIVATE_getPreviousValue(s){const e=s.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp(e)?__PRIVATE_getPreviousValue(e):e}function __PRIVATE_getLocalWriteTime(s){const e=__PRIVATE_normalizeTimestamp(s.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(e,d,h,g,_,j,$,et,tt){this.databaseId=e,this.appId=d,this.persistenceKey=h,this.host=g,this.ssl=_,this.forceLongPolling=j,this.autoDetectLongPolling=$,this.longPollingOptions=et,this.useFetchStreams=tt}}class DatabaseId{constructor(e,d){this.projectId=e,this.database=d||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof DatabaseId&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function __PRIVATE_typeOrder(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?__PRIVATE_isServerTimestamp(s)?4:__PRIVATE_isMaxValue(s)?9007199254740991:__PRIVATE_isVectorValue(s)?10:11:fail()}function __PRIVATE_valueEquals(s,e){if(s===e)return!0;const d=__PRIVATE_typeOrder(s);if(d!==__PRIVATE_typeOrder(e))return!1;switch(d){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(s).isEqual(__PRIVATE_getLocalWriteTime(e));case 3:return function(g,_){if(typeof g.timestampValue=="string"&&typeof _.timestampValue=="string"&&g.timestampValue.length===_.timestampValue.length)return g.timestampValue===_.timestampValue;const j=__PRIVATE_normalizeTimestamp(g.timestampValue),$=__PRIVATE_normalizeTimestamp(_.timestampValue);return j.seconds===$.seconds&&j.nanos===$.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(g,_){return __PRIVATE_normalizeByteString(g.bytesValue).isEqual(__PRIVATE_normalizeByteString(_.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(g,_){return __PRIVATE_normalizeNumber(g.geoPointValue.latitude)===__PRIVATE_normalizeNumber(_.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(g.geoPointValue.longitude)===__PRIVATE_normalizeNumber(_.geoPointValue.longitude)}(s,e);case 2:return function(g,_){if("integerValue"in g&&"integerValue"in _)return __PRIVATE_normalizeNumber(g.integerValue)===__PRIVATE_normalizeNumber(_.integerValue);if("doubleValue"in g&&"doubleValue"in _){const j=__PRIVATE_normalizeNumber(g.doubleValue),$=__PRIVATE_normalizeNumber(_.doubleValue);return j===$?__PRIVATE_isNegativeZero(j)===__PRIVATE_isNegativeZero($):isNaN(j)&&isNaN($)}return!1}(s,e);case 9:return __PRIVATE_arrayEquals(s.arrayValue.values||[],e.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return function(g,_){const j=g.mapValue.fields||{},$=_.mapValue.fields||{};if(__PRIVATE_objectSize(j)!==__PRIVATE_objectSize($))return!1;for(const et in j)if(j.hasOwnProperty(et)&&($[et]===void 0||!__PRIVATE_valueEquals(j[et],$[et])))return!1;return!0}(s,e);default:return fail()}}function __PRIVATE_arrayValueContains(s,e){return(s.values||[]).find(d=>__PRIVATE_valueEquals(d,e))!==void 0}function __PRIVATE_valueCompare(s,e){if(s===e)return 0;const d=__PRIVATE_typeOrder(s),h=__PRIVATE_typeOrder(e);if(d!==h)return __PRIVATE_primitiveComparator(d,h);switch(d){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(s.booleanValue,e.booleanValue);case 2:return function(_,j){const $=__PRIVATE_normalizeNumber(_.integerValue||_.doubleValue),et=__PRIVATE_normalizeNumber(j.integerValue||j.doubleValue);return $<et?-1:$>et?1:$===et?0:isNaN($)?isNaN(et)?0:-1:1}(s,e);case 3:return __PRIVATE_compareTimestamps(s.timestampValue,e.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(s),__PRIVATE_getLocalWriteTime(e));case 5:return __PRIVATE_primitiveComparator(s.stringValue,e.stringValue);case 6:return function(_,j){const $=__PRIVATE_normalizeByteString(_),et=__PRIVATE_normalizeByteString(j);return $.compareTo(et)}(s.bytesValue,e.bytesValue);case 7:return function(_,j){const $=_.split("/"),et=j.split("/");for(let tt=0;tt<$.length&&tt<et.length;tt++){const nt=__PRIVATE_primitiveComparator($[tt],et[tt]);if(nt!==0)return nt}return __PRIVATE_primitiveComparator($.length,et.length)}(s.referenceValue,e.referenceValue);case 8:return function(_,j){const $=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(_.latitude),__PRIVATE_normalizeNumber(j.latitude));return $!==0?$:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(_.longitude),__PRIVATE_normalizeNumber(j.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return __PRIVATE_compareArrays(s.arrayValue,e.arrayValue);case 10:return function(_,j){var $,et,tt,nt;const rt=_.fields||{},it=j.fields||{},st=($=rt.value)===null||$===void 0?void 0:$.arrayValue,ot=(et=it.value)===null||et===void 0?void 0:et.arrayValue,lt=__PRIVATE_primitiveComparator(((tt=st==null?void 0:st.values)===null||tt===void 0?void 0:tt.length)||0,((nt=ot==null?void 0:ot.values)===null||nt===void 0?void 0:nt.length)||0);return lt!==0?lt:__PRIVATE_compareArrays(st,ot)}(s.mapValue,e.mapValue);case 11:return function(_,j){if(_===re.mapValue&&j===re.mapValue)return 0;if(_===re.mapValue)return 1;if(j===re.mapValue)return-1;const $=_.fields||{},et=Object.keys($),tt=j.fields||{},nt=Object.keys(tt);et.sort(),nt.sort();for(let rt=0;rt<et.length&&rt<nt.length;++rt){const it=__PRIVATE_primitiveComparator(et[rt],nt[rt]);if(it!==0)return it;const st=__PRIVATE_valueCompare($[et[rt]],tt[nt[rt]]);if(st!==0)return st}return __PRIVATE_primitiveComparator(et.length,nt.length)}(s.mapValue,e.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return __PRIVATE_primitiveComparator(s,e);const d=__PRIVATE_normalizeTimestamp(s),h=__PRIVATE_normalizeTimestamp(e),g=__PRIVATE_primitiveComparator(d.seconds,h.seconds);return g!==0?g:__PRIVATE_primitiveComparator(d.nanos,h.nanos)}function __PRIVATE_compareArrays(s,e){const d=s.values||[],h=e.values||[];for(let g=0;g<d.length&&g<h.length;++g){const _=__PRIVATE_valueCompare(d[g],h[g]);if(_)return _}return __PRIVATE_primitiveComparator(d.length,h.length)}function canonicalId(s){return __PRIVATE_canonifyValue(s)}function __PRIVATE_canonifyValue(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(d){const h=__PRIVATE_normalizeTimestamp(d);return`time(${h.seconds},${h.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(d){return __PRIVATE_normalizeByteString(d).toBase64()}(s.bytesValue):"referenceValue"in s?function(d){return DocumentKey.fromName(d).toString()}(s.referenceValue):"geoPointValue"in s?function(d){return`geo(${d.latitude},${d.longitude})`}(s.geoPointValue):"arrayValue"in s?function(d){let h="[",g=!0;for(const _ of d.values||[])g?g=!1:h+=",",h+=__PRIVATE_canonifyValue(_);return h+"]"}(s.arrayValue):"mapValue"in s?function(d){const h=Object.keys(d.fields||{}).sort();let g="{",_=!0;for(const j of h)_?_=!1:g+=",",g+=`${j}:${__PRIVATE_canonifyValue(d.fields[j])}`;return g+"}"}(s.mapValue):fail()}function isInteger(s){return!!s&&"integerValue"in s}function isArray$1(s){return!!s&&"arrayValue"in s}function __PRIVATE_isNullValue(s){return!!s&&"nullValue"in s}function __PRIVATE_isNanValue(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function __PRIVATE_isMapValue(s){return!!s&&"mapValue"in s}function __PRIVATE_isVectorValue(s){var e,d;return((d=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||d===void 0?void 0:d.stringValue)==="__vector__"}function __PRIVATE_deepClone(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return forEach(s.mapValue.fields,(d,h)=>e.mapValue.fields[d]=__PRIVATE_deepClone(h)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let d=0;d<(s.arrayValue.values||[]).length;++d)e.arrayValue.values[d]=__PRIVATE_deepClone(s.arrayValue.values[d]);return e}return Object.assign({},s)}function __PRIVATE_isMaxValue(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(e){this.value=e}static empty(){return new ObjectValue({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let d=this.value;for(let h=0;h<e.length-1;++h)if(d=(d.mapValue.fields||{})[e.get(h)],!__PRIVATE_isMapValue(d))return null;return d=(d.mapValue.fields||{})[e.lastSegment()],d||null}}set(e,d){this.getFieldsMap(e.popLast())[e.lastSegment()]=__PRIVATE_deepClone(d)}setAll(e){let d=FieldPath$1.emptyPath(),h={},g=[];e.forEach((j,$)=>{if(!d.isImmediateParentOf($)){const et=this.getFieldsMap(d);this.applyChanges(et,h,g),h={},g=[],d=$.popLast()}j?h[$.lastSegment()]=__PRIVATE_deepClone(j):g.push($.lastSegment())});const _=this.getFieldsMap(d);this.applyChanges(_,h,g)}delete(e){const d=this.field(e.popLast());__PRIVATE_isMapValue(d)&&d.mapValue.fields&&delete d.mapValue.fields[e.lastSegment()]}isEqual(e){return __PRIVATE_valueEquals(this.value,e.value)}getFieldsMap(e){let d=this.value;d.mapValue.fields||(d.mapValue={fields:{}});for(let h=0;h<e.length;++h){let g=d.mapValue.fields[e.get(h)];__PRIVATE_isMapValue(g)&&g.mapValue.fields||(g={mapValue:{fields:{}}},d.mapValue.fields[e.get(h)]=g),d=g}return d.mapValue.fields}applyChanges(e,d,h){forEach(d,(g,_)=>e[g]=_);for(const g of h)delete e[g]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(s){const e=[];return forEach(s.fields,(d,h)=>{const g=new FieldPath$1([d]);if(__PRIVATE_isMapValue(h)){const _=__PRIVATE_extractFieldMask(h.mapValue).fields;if(_.length===0)e.push(g);else for(const j of _)e.push(g.child(j))}else e.push(g)}),new FieldMask(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(e,d,h,g,_,j,$){this.key=e,this.documentType=d,this.version=h,this.readTime=g,this.createTime=_,this.data=j,this.documentState=$}static newInvalidDocument(e){return new MutableDocument(e,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(e,d,h,g){return new MutableDocument(e,1,d,SnapshotVersion.min(),h,g,0)}static newNoDocument(e,d){return new MutableDocument(e,2,d,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(e,d){return new MutableDocument(e,3,d,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(e,d){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=d,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof MutableDocument&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(e,d){this.position=e,this.inclusive=d}}function __PRIVATE_boundCompareToDocument(s,e,d){let h=0;for(let g=0;g<s.position.length;g++){const _=e[g],j=s.position[g];if(_.field.isKeyField()?h=DocumentKey.comparator(DocumentKey.fromName(j.referenceValue),d.key):h=__PRIVATE_valueCompare(j,d.data.field(_.field)),_.dir==="desc"&&(h*=-1),h!==0)break}return h}function __PRIVATE_boundEquals(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let d=0;d<s.position.length;d++)if(!__PRIVATE_valueEquals(s.position[d],e.position[d]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(e,d="asc"){this.field=e,this.dir=d}}function __PRIVATE_orderByEquals(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(e,d,h){super(),this.field=e,this.op=d,this.value=h}static create(e,d,h){return e.isKeyField()?d==="in"||d==="not-in"?this.createKeyFieldInFilter(e,d,h):new __PRIVATE_KeyFieldFilter(e,d,h):d==="array-contains"?new __PRIVATE_ArrayContainsFilter(e,h):d==="in"?new __PRIVATE_InFilter(e,h):d==="not-in"?new __PRIVATE_NotInFilter(e,h):d==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(e,h):new FieldFilter(e,d,h)}static createKeyFieldInFilter(e,d,h){return d==="in"?new __PRIVATE_KeyFieldInFilter(e,h):new __PRIVATE_KeyFieldNotInFilter(e,h)}matches(e){const d=e.data.field(this.field);return this.op==="!="?d!==null&&this.matchesComparison(__PRIVATE_valueCompare(d,this.value)):d!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(d)&&this.matchesComparison(__PRIVATE_valueCompare(d,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(e,d){super(),this.filters=e,this.op=d,this.ae=null}static create(e,d){return new CompositeFilter(e,d)}matches(e){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(d=>!d.matches(e))===void 0:this.filters.find(d=>d.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,d)=>e.concat(d.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(s){return s.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(s){return __PRIVATE_compositeFilterIsFlat(s)&&__PRIVATE_compositeFilterIsConjunction(s)}function __PRIVATE_compositeFilterIsFlat(s){for(const e of s.filters)if(e instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(s){if(s instanceof FieldFilter)return s.field.canonicalString()+s.op.toString()+canonicalId(s.value);if(__PRIVATE_compositeFilterIsFlatConjunction(s))return s.filters.map(e=>__PRIVATE_canonifyFilter(e)).join(",");{const e=s.filters.map(d=>__PRIVATE_canonifyFilter(d)).join(",");return`${s.op}(${e})`}}function __PRIVATE_filterEquals(s,e){return s instanceof FieldFilter?function(h,g){return g instanceof FieldFilter&&h.op===g.op&&h.field.isEqual(g.field)&&__PRIVATE_valueEquals(h.value,g.value)}(s,e):s instanceof CompositeFilter?function(h,g){return g instanceof CompositeFilter&&h.op===g.op&&h.filters.length===g.filters.length?h.filters.reduce((_,j,$)=>_&&__PRIVATE_filterEquals(j,g.filters[$]),!0):!1}(s,e):void fail()}function __PRIVATE_stringifyFilter(s){return s instanceof FieldFilter?function(d){return`${d.field.canonicalString()} ${d.op} ${canonicalId(d.value)}`}(s):s instanceof CompositeFilter?function(d){return d.op.toString()+" {"+d.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(s):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(e,d,h){super(e,d,h),this.key=DocumentKey.fromName(h.referenceValue)}matches(e){const d=DocumentKey.comparator(e.key,this.key);return this.matchesComparison(d)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(e,d){super(e,"in",d),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",d)}matches(e){return this.keys.some(d=>d.isEqual(e.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(e,d){super(e,"not-in",d),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",d)}matches(e){return!this.keys.some(d=>d.isEqual(e.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(s,e){var d;return(((d=e.arrayValue)===null||d===void 0?void 0:d.values)||[]).map(h=>DocumentKey.fromName(h.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(e,d){super(e,"array-contains",d)}matches(e){const d=e.data.field(this.field);return isArray$1(d)&&__PRIVATE_arrayValueContains(d.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(e,d){super(e,"in",d)}matches(e){const d=e.data.field(this.field);return d!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,d)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(e,d){super(e,"not-in",d)}matches(e){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const d=e.data.field(this.field);return d!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,d)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(e,d){super(e,"array-contains-any",d)}matches(e){const d=e.data.field(this.field);return!(!isArray$1(d)||!d.arrayValue.values)&&d.arrayValue.values.some(h=>__PRIVATE_arrayValueContains(this.value.arrayValue,h))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(e,d=null,h=[],g=[],_=null,j=null,$=null){this.path=e,this.collectionGroup=d,this.orderBy=h,this.filters=g,this.limit=_,this.startAt=j,this.endAt=$,this.ue=null}}function __PRIVATE_newTarget(s,e=null,d=[],h=[],g=null,_=null,j=null){return new __PRIVATE_TargetImpl(s,e,d,h,g,_,j)}function __PRIVATE_canonifyTarget(s){const e=__PRIVATE_debugCast(s);if(e.ue===null){let d=e.path.canonicalString();e.collectionGroup!==null&&(d+="|cg:"+e.collectionGroup),d+="|f:",d+=e.filters.map(h=>__PRIVATE_canonifyFilter(h)).join(","),d+="|ob:",d+=e.orderBy.map(h=>function(_){return _.field.canonicalString()+_.dir}(h)).join(","),__PRIVATE_isNullOrUndefined(e.limit)||(d+="|l:",d+=e.limit),e.startAt&&(d+="|lb:",d+=e.startAt.inclusive?"b:":"a:",d+=e.startAt.position.map(h=>canonicalId(h)).join(",")),e.endAt&&(d+="|ub:",d+=e.endAt.inclusive?"a:":"b:",d+=e.endAt.position.map(h=>canonicalId(h)).join(",")),e.ue=d}return e.ue}function __PRIVATE_targetEquals(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let d=0;d<s.orderBy.length;d++)if(!__PRIVATE_orderByEquals(s.orderBy[d],e.orderBy[d]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let d=0;d<s.filters.length;d++)if(!__PRIVATE_filterEquals(s.filters[d],e.filters[d]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!__PRIVATE_boundEquals(s.startAt,e.startAt)&&__PRIVATE_boundEquals(s.endAt,e.endAt)}function __PRIVATE_targetIsDocumentTarget(s){return DocumentKey.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(e,d=null,h=[],g=[],_=null,j="F",$=null,et=null){this.path=e,this.collectionGroup=d,this.explicitOrderBy=h,this.filters=g,this.limit=_,this.limitType=j,this.startAt=$,this.endAt=et,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(s,e,d,h,g,_,j,$){return new __PRIVATE_QueryImpl(s,e,d,h,g,_,j,$)}function __PRIVATE_newQueryForPath(s){return new __PRIVATE_QueryImpl(s)}function __PRIVATE_queryMatchesAllDocuments(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(s){return s.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(s){const e=__PRIVATE_debugCast(s);if(e.ce===null){e.ce=[];const d=new Set;for(const _ of e.explicitOrderBy)e.ce.push(_),d.add(_.field.canonicalString());const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(j){let $=new SortedSet(FieldPath$1.comparator);return j.filters.forEach(et=>{et.getFlattenedFilters().forEach(tt=>{tt.isInequality()&&($=$.add(tt.field))})}),$})(e).forEach(_=>{d.has(_.canonicalString())||_.isKeyField()||e.ce.push(new OrderBy(_,h))}),d.has(FieldPath$1.keyField().canonicalString())||e.ce.push(new OrderBy(FieldPath$1.keyField(),h))}return e.ce}function __PRIVATE_queryToTarget(s){const e=__PRIVATE_debugCast(s);return e.le||(e.le=__PRIVATE__queryToTarget(e,__PRIVATE_queryNormalizedOrderBy(s))),e.le}function __PRIVATE__queryToTarget(s,e){if(s.limitType==="F")return __PRIVATE_newTarget(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(g=>{const _=g.dir==="desc"?"asc":"desc";return new OrderBy(g.field,_)});const d=s.endAt?new Bound(s.endAt.position,s.endAt.inclusive):null,h=s.startAt?new Bound(s.startAt.position,s.startAt.inclusive):null;return __PRIVATE_newTarget(s.path,s.collectionGroup,e,s.filters,s.limit,d,h)}}function __PRIVATE_queryWithLimit(s,e,d){return new __PRIVATE_QueryImpl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,d,s.startAt,s.endAt)}function __PRIVATE_queryEquals(s,e){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(s),__PRIVATE_queryToTarget(e))&&s.limitType===e.limitType}function __PRIVATE_canonifyQuery(s){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(s))}|lt:${s.limitType}`}function __PRIVATE_stringifyQuery(s){return`Query(target=${function(d){let h=d.path.canonicalString();return d.collectionGroup!==null&&(h+=" collectionGroup="+d.collectionGroup),d.filters.length>0&&(h+=`, filters: [${d.filters.map(g=>__PRIVATE_stringifyFilter(g)).join(", ")}]`),__PRIVATE_isNullOrUndefined(d.limit)||(h+=", limit: "+d.limit),d.orderBy.length>0&&(h+=`, orderBy: [${d.orderBy.map(g=>function(j){return`${j.field.canonicalString()} (${j.dir})`}(g)).join(", ")}]`),d.startAt&&(h+=", startAt: ",h+=d.startAt.inclusive?"b:":"a:",h+=d.startAt.position.map(g=>canonicalId(g)).join(",")),d.endAt&&(h+=", endAt: ",h+=d.endAt.inclusive?"a:":"b:",h+=d.endAt.position.map(g=>canonicalId(g)).join(",")),`Target(${h})`}(__PRIVATE_queryToTarget(s))}; limitType=${s.limitType})`}function __PRIVATE_queryMatches(s,e){return e.isFoundDocument()&&function(h,g){const _=g.key.path;return h.collectionGroup!==null?g.key.hasCollectionId(h.collectionGroup)&&h.path.isPrefixOf(_):DocumentKey.isDocumentKey(h.path)?h.path.isEqual(_):h.path.isImmediateParentOf(_)}(s,e)&&function(h,g){for(const _ of __PRIVATE_queryNormalizedOrderBy(h))if(!_.field.isKeyField()&&g.data.field(_.field)===null)return!1;return!0}(s,e)&&function(h,g){for(const _ of h.filters)if(!_.matches(g))return!1;return!0}(s,e)&&function(h,g){return!(h.startAt&&!function(j,$,et){const tt=__PRIVATE_boundCompareToDocument(j,$,et);return j.inclusive?tt<=0:tt<0}(h.startAt,__PRIVATE_queryNormalizedOrderBy(h),g)||h.endAt&&!function(j,$,et){const tt=__PRIVATE_boundCompareToDocument(j,$,et);return j.inclusive?tt>=0:tt>0}(h.endAt,__PRIVATE_queryNormalizedOrderBy(h),g))}(s,e)}function __PRIVATE_queryCollectionGroup(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function __PRIVATE_newQueryComparator(s){return(e,d)=>{let h=!1;for(const g of __PRIVATE_queryNormalizedOrderBy(s)){const _=__PRIVATE_compareDocs(g,e,d);if(_!==0)return _;h=h||g.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(s,e,d){const h=s.field.isKeyField()?DocumentKey.comparator(e.key,d.key):function(_,j,$){const et=j.data.field(_),tt=$.data.field(_);return et!==null&&tt!==null?__PRIVATE_valueCompare(et,tt):fail()}(s.field,e,d);switch(s.dir){case"asc":return h;case"desc":return-1*h;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(e,d){this.mapKeyFn=e,this.equalsFn=d,this.inner={},this.innerSize=0}get(e){const d=this.mapKeyFn(e),h=this.inner[d];if(h!==void 0){for(const[g,_]of h)if(this.equalsFn(g,e))return _}}has(e){return this.get(e)!==void 0}set(e,d){const h=this.mapKeyFn(e),g=this.inner[h];if(g===void 0)return this.inner[h]=[[e,d]],void this.innerSize++;for(let _=0;_<g.length;_++)if(this.equalsFn(g[_][0],e))return void(g[_]=[e,d]);g.push([e,d]),this.innerSize++}delete(e){const d=this.mapKeyFn(e),h=this.inner[d];if(h===void 0)return!1;for(let g=0;g<h.length;g++)if(this.equalsFn(h[g][0],e))return h.length===1?delete this.inner[d]:h.splice(g,1),this.innerSize--,!0;return!1}forEach(e){forEach(this.inner,(d,h)=>{for(const[g,_]of h)e(g,_)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return oe}const _e=new SortedMap(DocumentKey.comparator);function documentMap(...s){let e=_e;for(const d of s)e=e.insert(d.key,d);return e}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(s){let e=_e;return s.forEach((d,h)=>e=e.insert(d,h.overlayedDocument)),e}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(s=>s.toString(),(s,e)=>s.isEqual(e))}const ae=new SortedMap(DocumentKey.comparator),ue=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...s){let e=ue;for(const d of s)e=e.add(d);return e}const ce=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return ce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(e)?"-0":e}}function __PRIVATE_toInteger(s){return{integerValue:""+s}}function toNumber(s,e){return isSafeInteger(e)?__PRIVATE_toInteger(e):__PRIVATE_toDouble(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(s,e,d){return s instanceof __PRIVATE_ServerTimestampTransform?function(g,_){const j={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:g.seconds,nanos:g.nanoseconds}}}};return _&&__PRIVATE_isServerTimestamp(_)&&(_=__PRIVATE_getPreviousValue(_)),_&&(j.fields.__previous_value__=_),{mapValue:j}}(d,e):s instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(s,e):s instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(s,e):function(g,_){const j=__PRIVATE_computeTransformOperationBaseValue(g,_),$=asNumber$1(j)+asNumber$1(g.Pe);return isInteger(j)&&isInteger(g.Pe)?__PRIVATE_toInteger($):__PRIVATE_toDouble(g.serializer,$)}(s,e)}function __PRIVATE_applyTransformOperationToRemoteDocument(s,e,d){return s instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(s,e):s instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(s,e):d}function __PRIVATE_computeTransformOperationBaseValue(s,e){return s instanceof __PRIVATE_NumericIncrementTransformOperation?function(h){return isInteger(h)||function(_){return!!_&&"doubleValue"in _}(h)}(e)?e:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayUnionTransformOperation(s,e){const d=__PRIVATE_coercedFieldValuesArray(e);for(const h of s.elements)d.some(g=>__PRIVATE_valueEquals(g,h))||d.push(h);return{arrayValue:{values:d}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayRemoveTransformOperation(s,e){let d=__PRIVATE_coercedFieldValuesArray(e);for(const h of s.elements)d=d.filter(g=>!__PRIVATE_valueEquals(g,h));return{arrayValue:{values:d}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(e,d){super(),this.serializer=e,this.Pe=d}}function asNumber$1(s){return __PRIVATE_normalizeNumber(s.integerValue||s.doubleValue)}function __PRIVATE_coercedFieldValuesArray(s){return isArray$1(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldTransform{constructor(e,d){this.field=e,this.transform=d}}function __PRIVATE_fieldTransformEquals(s,e){return s.field.isEqual(e.field)&&function(h,g){return h instanceof __PRIVATE_ArrayUnionTransformOperation&&g instanceof __PRIVATE_ArrayUnionTransformOperation||h instanceof __PRIVATE_ArrayRemoveTransformOperation&&g instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(h.elements,g.elements,__PRIVATE_valueEquals):h instanceof __PRIVATE_NumericIncrementTransformOperation&&g instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(h.Pe,g.Pe):h instanceof __PRIVATE_ServerTimestampTransform&&g instanceof __PRIVATE_ServerTimestampTransform}(s.transform,e.transform)}class MutationResult{constructor(e,d){this.version=e,this.transformResults=d}}class Precondition{constructor(e,d){this.updateTime=e,this.exists=d}static none(){return new Precondition}static exists(e){return new Precondition(void 0,e)}static updateTime(e){return new Precondition(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new __PRIVATE_DeleteMutation(s.key,Precondition.none()):new __PRIVATE_SetMutation(s.key,s.data,Precondition.none());{const d=s.data,h=ObjectValue.empty();let g=new SortedSet(FieldPath$1.comparator);for(let _ of e.fields)if(!g.has(_)){let j=d.field(_);j===null&&_.length>1&&(_=_.popLast(),j=d.field(_)),j===null?h.delete(_):h.set(_,j),g=g.add(_)}return new __PRIVATE_PatchMutation(s.key,h,new FieldMask(g.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(s,e,d){s instanceof __PRIVATE_SetMutation?function(g,_,j){const $=g.value.clone(),et=__PRIVATE_serverTransformResults(g.fieldTransforms,_,j.transformResults);$.setAll(et),_.convertToFoundDocument(j.version,$).setHasCommittedMutations()}(s,e,d):s instanceof __PRIVATE_PatchMutation?function(g,_,j){if(!__PRIVATE_preconditionIsValidForDocument(g.precondition,_))return void _.convertToUnknownDocument(j.version);const $=__PRIVATE_serverTransformResults(g.fieldTransforms,_,j.transformResults),et=_.data;et.setAll(__PRIVATE_getPatch(g)),et.setAll($),_.convertToFoundDocument(j.version,et).setHasCommittedMutations()}(s,e,d):function(g,_,j){_.convertToNoDocument(j.version).setHasCommittedMutations()}(0,e,d)}function __PRIVATE_mutationApplyToLocalView(s,e,d,h){return s instanceof __PRIVATE_SetMutation?function(_,j,$,et){if(!__PRIVATE_preconditionIsValidForDocument(_.precondition,j))return $;const tt=_.value.clone(),nt=__PRIVATE_localTransformResults(_.fieldTransforms,et,j);return tt.setAll(nt),j.convertToFoundDocument(j.version,tt).setHasLocalMutations(),null}(s,e,d,h):s instanceof __PRIVATE_PatchMutation?function(_,j,$,et){if(!__PRIVATE_preconditionIsValidForDocument(_.precondition,j))return $;const tt=__PRIVATE_localTransformResults(_.fieldTransforms,et,j),nt=j.data;return nt.setAll(__PRIVATE_getPatch(_)),nt.setAll(tt),j.convertToFoundDocument(j.version,nt).setHasLocalMutations(),$===null?null:$.unionWith(_.fieldMask.fields).unionWith(_.fieldTransforms.map(rt=>rt.field))}(s,e,d,h):function(_,j,$){return __PRIVATE_preconditionIsValidForDocument(_.precondition,j)?(j.convertToNoDocument(j.version).setHasLocalMutations(),null):$}(s,e,d)}function __PRIVATE_mutationExtractBaseValue(s,e){let d=null;for(const h of s.fieldTransforms){const g=e.data.field(h.field),_=__PRIVATE_computeTransformOperationBaseValue(h.transform,g||null);_!=null&&(d===null&&(d=ObjectValue.empty()),d.set(h.field,_))}return d||null}function __PRIVATE_mutationEquals(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(h,g){return h===void 0&&g===void 0||!(!h||!g)&&__PRIVATE_arrayEquals(h,g,(_,j)=>__PRIVATE_fieldTransformEquals(_,j))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(e,d,h,g=[]){super(),this.key=e,this.value=d,this.precondition=h,this.fieldTransforms=g,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(e,d,h,g,_=[]){super(),this.key=e,this.data=d,this.fieldMask=h,this.precondition=g,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(s){const e=new Map;return s.fieldMask.fields.forEach(d=>{if(!d.isEmpty()){const h=s.data.field(d);e.set(d,h)}}),e}function __PRIVATE_serverTransformResults(s,e,d){const h=new Map;__PRIVATE_hardAssert(s.length===d.length);for(let g=0;g<d.length;g++){const _=s[g],j=_.transform,$=e.data.field(_.field);h.set(_.field,__PRIVATE_applyTransformOperationToRemoteDocument(j,$,d[g]))}return h}function __PRIVATE_localTransformResults(s,e,d){const h=new Map;for(const g of s){const _=g.transform,j=d.data.field(g.field);h.set(g.field,__PRIVATE_applyTransformOperationToLocalView(_,j,e))}return h}class __PRIVATE_DeleteMutation extends Mutation{constructor(e,d){super(),this.key=e,this.precondition=d,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(e,d){super(),this.key=e,this.precondition=d,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(e,d,h,g){this.batchId=e,this.localWriteTime=d,this.baseMutations=h,this.mutations=g}applyToRemoteDocument(e,d){const h=d.mutationResults;for(let g=0;g<this.mutations.length;g++){const _=this.mutations[g];_.key.isEqual(e.key)&&__PRIVATE_mutationApplyToRemoteDocument(_,e,h[g])}}applyToLocalView(e,d){for(const h of this.baseMutations)h.key.isEqual(e.key)&&(d=__PRIVATE_mutationApplyToLocalView(h,e,d,this.localWriteTime));for(const h of this.mutations)h.key.isEqual(e.key)&&(d=__PRIVATE_mutationApplyToLocalView(h,e,d,this.localWriteTime));return d}applyToLocalDocumentSet(e,d){const h=__PRIVATE_newMutationMap();return this.mutations.forEach(g=>{const _=e.get(g.key),j=_.overlayedDocument;let $=this.applyToLocalView(j,_.mutatedFields);$=d.has(g.key)?null:$;const et=__PRIVATE_calculateOverlayMutation(j,$);et!==null&&h.set(g.key,et),j.isValidDocument()||j.convertToNoDocument(SnapshotVersion.min())}),h}keys(){return this.mutations.reduce((e,d)=>e.add(d.key),__PRIVATE_documentKeySet())}isEqual(e){return this.batchId===e.batchId&&__PRIVATE_arrayEquals(this.mutations,e.mutations,(d,h)=>__PRIVATE_mutationEquals(d,h))&&__PRIVATE_arrayEquals(this.baseMutations,e.baseMutations,(d,h)=>__PRIVATE_mutationEquals(d,h))}}class MutationBatchResult{constructor(e,d,h,g){this.batch=e,this.commitVersion=d,this.mutationResults=h,this.docVersions=g}static from(e,d,h){__PRIVATE_hardAssert(e.mutations.length===h.length);let g=function(){return ae}();const _=e.mutations;for(let j=0;j<_.length;j++)g=g.insert(_[j].key,h[j].version);return new MutationBatchResult(e,d,h,g)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(e,d){this.largestBatchId=e,this.mutation=d}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(e,d){this.count=e,this.unchangedNames=d}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le,he;function __PRIVATE_isPermanentError(s){switch(s){default:return fail();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function __PRIVATE_mapCodeFromRpcCode(s){if(s===void 0)return __PRIVATE_logError("GRPC error has no .code"),D.UNKNOWN;switch(s){case le.OK:return D.OK;case le.CANCELLED:return D.CANCELLED;case le.UNKNOWN:return D.UNKNOWN;case le.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case le.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case le.INTERNAL:return D.INTERNAL;case le.UNAVAILABLE:return D.UNAVAILABLE;case le.UNAUTHENTICATED:return D.UNAUTHENTICATED;case le.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case le.NOT_FOUND:return D.NOT_FOUND;case le.ALREADY_EXISTS:return D.ALREADY_EXISTS;case le.PERMISSION_DENIED:return D.PERMISSION_DENIED;case le.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case le.ABORTED:return D.ABORTED;case le.OUT_OF_RANGE:return D.OUT_OF_RANGE;case le.UNIMPLEMENTED:return D.UNIMPLEMENTED;case le.DATA_LOSS:return D.DATA_LOSS;default:return fail()}}(he=le||(le={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(s){const e=__PRIVATE_newTextEncoder().encode(s),d=new Md5;return d.update(e),new Uint8Array(d.digest())}function __PRIVATE_get64BitUints(s){const e=new DataView(s.buffer),d=e.getUint32(0,!0),h=e.getUint32(4,!0),g=e.getUint32(8,!0),_=e.getUint32(12,!0);return[new Integer([d,h],0),new Integer([g,_],0)]}class BloomFilter{constructor(e,d,h){if(this.bitmap=e,this.padding=d,this.hashCount=h,d<0||d>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${d}`);if(h<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${h}`);if(e.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${h}`);if(e.length===0&&d!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${d}`);this.Ie=8*e.length-d,this.Te=Integer.fromNumber(this.Ie)}Ee(e,d,h){let g=e.add(d.multiply(Integer.fromNumber(h)));return g.compare(Ie)===1&&(g=new Integer([g.getBits(0),g.getBits(1)],0)),g.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const d=__PRIVATE_getMd5HashValue(e),[h,g]=__PRIVATE_get64BitUints(d);for(let _=0;_<this.hashCount;_++){const j=this.Ee(h,g,_);if(!this.de(j))return!1}return!0}static create(e,d,h){const g=e%8==0?0:8-e%8,_=new Uint8Array(Math.ceil(e/8)),j=new BloomFilter(_,g,d);return h.forEach($=>j.insert($)),j}insert(e){if(this.Ie===0)return;const d=__PRIVATE_getMd5HashValue(e),[h,g]=__PRIVATE_get64BitUints(d);for(let _=0;_<this.hashCount;_++){const j=this.Ee(h,g,_);this.Ae(j)}}Ae(e){const d=Math.floor(e/8),h=e%8;this.bitmap[d]|=1<<h}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(e,d,h,g,_){this.snapshotVersion=e,this.targetChanges=d,this.targetMismatches=h,this.documentUpdates=g,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(e,d,h){const g=new Map;return g.set(e,TargetChange.createSynthesizedTargetChangeForCurrentChange(e,d,h)),new RemoteEvent(SnapshotVersion.min(),g,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(e,d,h,g,_){this.resumeToken=e,this.current=d,this.addedDocuments=h,this.modifiedDocuments=g,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(e,d,h){return new TargetChange(h,d,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(e,d,h,g){this.Re=e,this.removedTargetIds=d,this.key=h,this.Ve=g}}class __PRIVATE_ExistenceFilterChange{constructor(e,d){this.targetId=e,this.me=d}}class __PRIVATE_WatchTargetChange{constructor(e,d,h=ByteString.EMPTY_BYTE_STRING,g=null){this.state=e,this.targetIds=d,this.resumeToken=h,this.cause=g}}class __PRIVATE_TargetState{constructor(){this.fe=0,this.ge=__PRIVATE_snapshotChangesMap(),this.pe=ByteString.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=__PRIVATE_documentKeySet(),d=__PRIVATE_documentKeySet(),h=__PRIVATE_documentKeySet();return this.ge.forEach((g,_)=>{switch(_){case 0:e=e.add(g);break;case 2:d=d.add(g);break;case 1:h=h.add(g);break;default:fail()}}),new TargetChange(this.pe,this.ye,e,d,h)}Ce(){this.we=!1,this.ge=__PRIVATE_snapshotChangesMap()}Fe(e,d){this.we=!0,this.ge=this.ge.insert(e,d)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,__PRIVATE_hardAssert(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class __PRIVATE_WatchChangeAggregator{constructor(e){this.Le=e,this.Be=new Map,this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator)}Ke(e){for(const d of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(d,e.Ve):this.Ue(d,e.key,e.Ve);for(const d of e.removedTargetIds)this.Ue(d,e.key,e.Ve)}We(e){this.forEachTarget(e,d=>{const h=this.Ge(d);switch(e.state){case 0:this.ze(d)&&h.De(e.resumeToken);break;case 1:h.Oe(),h.Se||h.Ce(),h.De(e.resumeToken);break;case 2:h.Oe(),h.Se||this.removeTarget(d);break;case 3:this.ze(d)&&(h.Ne(),h.De(e.resumeToken));break;case 4:this.ze(d)&&(this.je(d),h.De(e.resumeToken));break;default:fail()}})}forEachTarget(e,d){e.targetIds.length>0?e.targetIds.forEach(d):this.Be.forEach((h,g)=>{this.ze(g)&&d(g)})}He(e){const d=e.targetId,h=e.me.count,g=this.Je(d);if(g){const _=g.target;if(__PRIVATE_targetIsDocumentTarget(_))if(h===0){const j=new DocumentKey(_.path);this.Ue(d,j,MutableDocument.newNoDocument(j,SnapshotVersion.min()))}else __PRIVATE_hardAssert(h===1);else{const j=this.Ye(d);if(j!==h){const $=this.Ze(e),et=$?this.Xe($,e,j):1;if(et!==0){this.je(d);const tt=et===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(d,tt)}}}}}Ze(e){const d=e.me.unchangedNames;if(!d||!d.bits)return null;const{bits:{bitmap:h="",padding:g=0},hashCount:_=0}=d;let j,$;try{j=__PRIVATE_normalizeByteString(h).toUint8Array()}catch(et){if(et instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+et.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw et}try{$=new BloomFilter(j,g,_)}catch(et){return __PRIVATE_logWarn(et instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",et),null}return $.Ie===0?null:$}Xe(e,d,h){return d.me.count===h-this.nt(e,d.targetId)?0:2}nt(e,d){const h=this.Le.getRemoteKeysForTarget(d);let g=0;return h.forEach(_=>{const j=this.Le.tt(),$=`projects/${j.projectId}/databases/${j.database}/documents/${_.path.canonicalString()}`;e.mightContain($)||(this.Ue(d,_,null),g++)}),g}rt(e){const d=new Map;this.Be.forEach((_,j)=>{const $=this.Je(j);if($){if(_.current&&__PRIVATE_targetIsDocumentTarget($.target)){const et=new DocumentKey($.target.path);this.ke.get(et)!==null||this.it(j,et)||this.Ue(j,et,MutableDocument.newNoDocument(et,e))}_.be&&(d.set(j,_.ve()),_.Ce())}});let h=__PRIVATE_documentKeySet();this.qe.forEach((_,j)=>{let $=!0;j.forEachWhile(et=>{const tt=this.Je(et);return!tt||tt.purpose==="TargetPurposeLimboResolution"||($=!1,!1)}),$&&(h=h.add(_))}),this.ke.forEach((_,j)=>j.setReadTime(e));const g=new RemoteEvent(e,d,this.Qe,this.ke,h);return this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator),g}$e(e,d){if(!this.ze(e))return;const h=this.it(e,d.key)?2:0;this.Ge(e).Fe(d.key,h),this.ke=this.ke.insert(d.key,d),this.qe=this.qe.insert(d.key,this.st(d.key).add(e))}Ue(e,d,h){if(!this.ze(e))return;const g=this.Ge(e);this.it(e,d)?g.Fe(d,1):g.Me(d),this.qe=this.qe.insert(d,this.st(d).delete(e)),h&&(this.ke=this.ke.insert(d,h))}removeTarget(e){this.Be.delete(e)}Ye(e){const d=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+d.addedDocuments.size-d.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let d=this.Be.get(e);return d||(d=new __PRIVATE_TargetState,this.Be.set(e,d)),d}st(e){let d=this.qe.get(e);return d||(d=new SortedSet(__PRIVATE_primitiveComparator),this.qe=this.qe.insert(e,d)),d}ze(e){const d=this.Je(e)!==null;return d||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",e),d}Je(e){const d=this.Be.get(e);return d&&d.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new __PRIVATE_TargetState),this.Le.getRemoteKeysForTarget(e).forEach(d=>{this.Ue(e,d,null)})}it(e,d){return this.Le.getRemoteKeysForTarget(e).has(d)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const Te={asc:"ASCENDING",desc:"DESCENDING"},Ee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},de={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(e,d){this.databaseId=e,this.useProto3Json=d}}function __PRIVATE_toInt32Proto(s,e){return s.useProto3Json||__PRIVATE_isNullOrUndefined(e)?e:{value:e}}function toTimestamp(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function __PRIVATE_toBytes(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function __PRIVATE_toVersion(s,e){return toTimestamp(s,e.toTimestamp())}function __PRIVATE_fromVersion(s){return __PRIVATE_hardAssert(!!s),SnapshotVersion.fromTimestamp(function(d){const h=__PRIVATE_normalizeTimestamp(d);return new Timestamp(h.seconds,h.nanos)}(s))}function __PRIVATE_toResourceName(s,e){return __PRIVATE_toResourcePath(s,e).canonicalString()}function __PRIVATE_toResourcePath(s,e){const d=function(g){return new ResourcePath(["projects",g.projectId,"databases",g.database])}(s).child("documents");return e===void 0?d:d.child(e)}function __PRIVATE_fromResourceName(s){const e=ResourcePath.fromString(s);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(e)),e}function __PRIVATE_toName(s,e){return __PRIVATE_toResourceName(s.databaseId,e.path)}function fromName(s,e){const d=__PRIVATE_fromResourceName(e);if(d.get(1)!==s.databaseId.projectId)throw new FirestoreError(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+d.get(1)+" vs "+s.databaseId.projectId);if(d.get(3)!==s.databaseId.database)throw new FirestoreError(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+d.get(3)+" vs "+s.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(d))}function __PRIVATE_toQueryPath(s,e){return __PRIVATE_toResourceName(s.databaseId,e)}function __PRIVATE_fromQueryPath(s){const e=__PRIVATE_fromResourceName(s);return e.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(e)}function __PRIVATE_getEncodedDatabaseId(s){return new ResourcePath(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(s){return __PRIVATE_hardAssert(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function __PRIVATE_toMutationDocument(s,e,d){return{name:__PRIVATE_toName(s,e),fields:d.value.mapValue.fields}}function __PRIVATE_fromWatchChange(s,e){let d;if("targetChange"in e){e.targetChange;const h=function(tt){return tt==="NO_CHANGE"?0:tt==="ADD"?1:tt==="REMOVE"?2:tt==="CURRENT"?3:tt==="RESET"?4:fail()}(e.targetChange.targetChangeType||"NO_CHANGE"),g=e.targetChange.targetIds||[],_=function(tt,nt){return tt.useProto3Json?(__PRIVATE_hardAssert(nt===void 0||typeof nt=="string"),ByteString.fromBase64String(nt||"")):(__PRIVATE_hardAssert(nt===void 0||nt instanceof Buffer||nt instanceof Uint8Array),ByteString.fromUint8Array(nt||new Uint8Array))}(s,e.targetChange.resumeToken),j=e.targetChange.cause,$=j&&function(tt){const nt=tt.code===void 0?D.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(tt.code);return new FirestoreError(nt,tt.message||"")}(j);d=new __PRIVATE_WatchTargetChange(h,g,_,$||null)}else if("documentChange"in e){e.documentChange;const h=e.documentChange;h.document,h.document.name,h.document.updateTime;const g=fromName(s,h.document.name),_=__PRIVATE_fromVersion(h.document.updateTime),j=h.document.createTime?__PRIVATE_fromVersion(h.document.createTime):SnapshotVersion.min(),$=new ObjectValue({mapValue:{fields:h.document.fields}}),et=MutableDocument.newFoundDocument(g,_,j,$),tt=h.targetIds||[],nt=h.removedTargetIds||[];d=new __PRIVATE_DocumentWatchChange(tt,nt,et.key,et)}else if("documentDelete"in e){e.documentDelete;const h=e.documentDelete;h.document;const g=fromName(s,h.document),_=h.readTime?__PRIVATE_fromVersion(h.readTime):SnapshotVersion.min(),j=MutableDocument.newNoDocument(g,_),$=h.removedTargetIds||[];d=new __PRIVATE_DocumentWatchChange([],$,j.key,j)}else if("documentRemove"in e){e.documentRemove;const h=e.documentRemove;h.document;const g=fromName(s,h.document),_=h.removedTargetIds||[];d=new __PRIVATE_DocumentWatchChange([],_,g,null)}else{if(!("filter"in e))return fail();{e.filter;const h=e.filter;h.targetId;const{count:g=0,unchangedNames:_}=h,j=new ExistenceFilter(g,_),$=h.targetId;d=new __PRIVATE_ExistenceFilterChange($,j)}}return d}function toMutation(s,e){let d;if(e instanceof __PRIVATE_SetMutation)d={update:__PRIVATE_toMutationDocument(s,e.key,e.value)};else if(e instanceof __PRIVATE_DeleteMutation)d={delete:__PRIVATE_toName(s,e.key)};else if(e instanceof __PRIVATE_PatchMutation)d={update:__PRIVATE_toMutationDocument(s,e.key,e.data),updateMask:__PRIVATE_toDocumentMask(e.fieldMask)};else{if(!(e instanceof __PRIVATE_VerifyMutation))return fail();d={verify:__PRIVATE_toName(s,e.key)}}return e.fieldTransforms.length>0&&(d.updateTransforms=e.fieldTransforms.map(h=>function(_,j){const $=j.transform;if($ instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:j.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if($ instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:j.field.canonicalString(),appendMissingElements:{values:$.elements}};if($ instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:j.field.canonicalString(),removeAllFromArray:{values:$.elements}};if($ instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:j.field.canonicalString(),increment:$.Pe};throw fail()}(0,h))),e.precondition.isNone||(d.currentDocument=function(g,_){return _.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(g,_.updateTime)}:_.exists!==void 0?{exists:_.exists}:fail()}(s,e.precondition)),d}function __PRIVATE_fromWriteResults(s,e){return s&&s.length>0?(__PRIVATE_hardAssert(e!==void 0),s.map(d=>function(g,_){let j=g.updateTime?__PRIVATE_fromVersion(g.updateTime):__PRIVATE_fromVersion(_);return j.isEqual(SnapshotVersion.min())&&(j=__PRIVATE_fromVersion(_)),new MutationResult(j,g.transformResults||[])}(d,e))):[]}function __PRIVATE_toDocumentsTarget(s,e){return{documents:[__PRIVATE_toQueryPath(s,e.path)]}}function __PRIVATE_toQueryTarget(s,e){const d={structuredQuery:{}},h=e.path;let g;e.collectionGroup!==null?(g=h,d.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(g=h.popLast(),d.structuredQuery.from=[{collectionId:h.lastSegment()}]),d.parent=__PRIVATE_toQueryPath(s,g);const _=function(tt){if(tt.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(tt,"and"))}(e.filters);_&&(d.structuredQuery.where=_);const j=function(tt){if(tt.length!==0)return tt.map(nt=>function(it){return{field:__PRIVATE_toFieldPathReference(it.field),direction:__PRIVATE_toDirection(it.dir)}}(nt))}(e.orderBy);j&&(d.structuredQuery.orderBy=j);const $=__PRIVATE_toInt32Proto(s,e.limit);return $!==null&&(d.structuredQuery.limit=$),e.startAt&&(d.structuredQuery.startAt=function(tt){return{before:tt.inclusive,values:tt.position}}(e.startAt)),e.endAt&&(d.structuredQuery.endAt=function(tt){return{before:!tt.inclusive,values:tt.position}}(e.endAt)),{_t:d,parent:g}}function __PRIVATE_convertQueryTargetToQuery(s){let e=__PRIVATE_fromQueryPath(s.parent);const d=s.structuredQuery,h=d.from?d.from.length:0;let g=null;if(h>0){__PRIVATE_hardAssert(h===1);const nt=d.from[0];nt.allDescendants?g=nt.collectionId:e=e.child(nt.collectionId)}let _=[];d.where&&(_=function(rt){const it=__PRIVATE_fromFilter(rt);return it instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(it)?it.getFilters():[it]}(d.where));let j=[];d.orderBy&&(j=function(rt){return rt.map(it=>function(ot){return new OrderBy(__PRIVATE_fromFieldPathReference(ot.field),function(dt){switch(dt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ot.direction))}(it))}(d.orderBy));let $=null;d.limit&&($=function(rt){let it;return it=typeof rt=="object"?rt.value:rt,__PRIVATE_isNullOrUndefined(it)?null:it}(d.limit));let et=null;d.startAt&&(et=function(rt){const it=!!rt.before,st=rt.values||[];return new Bound(st,it)}(d.startAt));let tt=null;return d.endAt&&(tt=function(rt){const it=!rt.before,st=rt.values||[];return new Bound(st,it)}(d.endAt)),__PRIVATE_newQuery(e,g,j,_,$,"F",et,tt)}function __PRIVATE_toListenRequestLabels(s,e){const d=function(g){switch(g){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}(e.purpose);return d==null?null:{"goog-listen-tags":d}}function __PRIVATE_fromFilter(s){return s.unaryFilter!==void 0?function(d){switch(d.unaryFilter.op){case"IS_NAN":const h=__PRIVATE_fromFieldPathReference(d.unaryFilter.field);return FieldFilter.create(h,"==",{doubleValue:NaN});case"IS_NULL":const g=__PRIVATE_fromFieldPathReference(d.unaryFilter.field);return FieldFilter.create(g,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const _=__PRIVATE_fromFieldPathReference(d.unaryFilter.field);return FieldFilter.create(_,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const j=__PRIVATE_fromFieldPathReference(d.unaryFilter.field);return FieldFilter.create(j,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}(s):s.fieldFilter!==void 0?function(d){return FieldFilter.create(__PRIVATE_fromFieldPathReference(d.fieldFilter.field),function(g){switch(g){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(d.fieldFilter.op),d.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(d){return CompositeFilter.create(d.compositeFilter.filters.map(h=>__PRIVATE_fromFilter(h)),function(g){switch(g){case"AND":return"and";case"OR":return"or";default:return fail()}}(d.compositeFilter.op))}(s):fail()}function __PRIVATE_toDirection(s){return Te[s]}function __PRIVATE_toOperatorName(s){return Ee[s]}function __PRIVATE_toCompositeOperatorName(s){return de[s]}function __PRIVATE_toFieldPathReference(s){return{fieldPath:s.canonicalString()}}function __PRIVATE_fromFieldPathReference(s){return FieldPath$1.fromServerFormat(s.fieldPath)}function __PRIVATE_toFilter(s){return s instanceof FieldFilter?function(d){if(d.op==="=="){if(__PRIVATE_isNanValue(d.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(d.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(d.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(__PRIVATE_isNanValue(d.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(d.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(d.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(d.field),op:__PRIVATE_toOperatorName(d.op),value:d.value}}}(s):s instanceof CompositeFilter?function(d){const h=d.getFilters().map(g=>__PRIVATE_toFilter(g));return h.length===1?h[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(d.op),filters:h}}}(s):fail()}function __PRIVATE_toDocumentMask(s){const e=[];return s.fields.forEach(d=>e.push(d.canonicalString())),{fieldPaths:e}}function __PRIVATE_isValidResourceName(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(e,d,h,g,_=SnapshotVersion.min(),j=SnapshotVersion.min(),$=ByteString.EMPTY_BYTE_STRING,et=null){this.target=e,this.targetId=d,this.purpose=h,this.sequenceNumber=g,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=j,this.resumeToken=$,this.expectedCount=et}withSequenceNumber(e){return new TargetData(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,d){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,d,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(e){this.ct=e}}function __PRIVATE_fromBundledQuery(s){const e=__PRIVATE_convertQueryTargetToQuery({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?__PRIVATE_queryWithLimit(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.un=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(e,d){return this.un.add(d),PersistencePromise.resolve()}getCollectionParents(e,d){return PersistencePromise.resolve(this.un.getEntries(d))}addFieldIndex(e,d){return PersistencePromise.resolve()}deleteFieldIndex(e,d){return PersistencePromise.resolve()}deleteAllFieldIndexes(e){return PersistencePromise.resolve()}createTargetIndexes(e,d){return PersistencePromise.resolve()}getDocumentsMatchingTarget(e,d){return PersistencePromise.resolve(null)}getIndexType(e,d){return PersistencePromise.resolve(0)}getFieldIndexes(e,d){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(e){return PersistencePromise.resolve(null)}getMinOffset(e,d){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(e,d){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(e,d,h){return PersistencePromise.resolve()}updateIndexEntries(e,d){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(e){const d=e.lastSegment(),h=e.popLast(),g=this.index[d]||new SortedSet(ResourcePath.comparator),_=!g.has(h);return this.index[d]=g.add(h),_}has(e){const d=e.lastSegment(),h=e.popLast(),g=this.index[d];return g&&g.has(h)}getEntries(e){return(this.index[e]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new __PRIVATE_TargetIdGenerator(0)}static kn(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(e=>e.toString(),(e,d)=>e.isEqual(d)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,d){this.assertNotApplied(),this.changes.set(e,MutableDocument.newInvalidDocument(e).setReadTime(d))}getEntry(e,d){this.assertNotApplied();const h=this.changes.get(d);return h!==void 0?PersistencePromise.resolve(h):this.getFromCache(e,d)}getEntries(e,d){return this.getAllFromCache(e,d)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(e,d){this.overlayedDocument=e,this.mutatedFields=d}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(e,d,h,g){this.remoteDocumentCache=e,this.mutationQueue=d,this.documentOverlayCache=h,this.indexManager=g}getDocument(e,d){let h=null;return this.documentOverlayCache.getOverlay(e,d).next(g=>(h=g,this.remoteDocumentCache.getEntry(e,d))).next(g=>(h!==null&&__PRIVATE_mutationApplyToLocalView(h.mutation,g,FieldMask.empty(),Timestamp.now()),g))}getDocuments(e,d){return this.remoteDocumentCache.getEntries(e,d).next(h=>this.getLocalViewOfDocuments(e,h,__PRIVATE_documentKeySet()).next(()=>h))}getLocalViewOfDocuments(e,d,h=__PRIVATE_documentKeySet()){const g=__PRIVATE_newOverlayMap();return this.populateOverlays(e,g,d).next(()=>this.computeViews(e,d,g,h).next(_=>{let j=documentMap();return _.forEach(($,et)=>{j=j.insert($,et.overlayedDocument)}),j}))}getOverlayedDocuments(e,d){const h=__PRIVATE_newOverlayMap();return this.populateOverlays(e,h,d).next(()=>this.computeViews(e,d,h,__PRIVATE_documentKeySet()))}populateOverlays(e,d,h){const g=[];return h.forEach(_=>{d.has(_)||g.push(_)}),this.documentOverlayCache.getOverlays(e,g).next(_=>{_.forEach((j,$)=>{d.set(j,$)})})}computeViews(e,d,h,g){let _=__PRIVATE_mutableDocumentMap();const j=__PRIVATE_newDocumentKeyMap(),$=function(){return __PRIVATE_newDocumentKeyMap()}();return d.forEach((et,tt)=>{const nt=h.get(tt.key);g.has(tt.key)&&(nt===void 0||nt.mutation instanceof __PRIVATE_PatchMutation)?_=_.insert(tt.key,tt):nt!==void 0?(j.set(tt.key,nt.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(nt.mutation,tt,nt.mutation.getFieldMask(),Timestamp.now())):j.set(tt.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(e,_).next(et=>(et.forEach((tt,nt)=>j.set(tt,nt)),d.forEach((tt,nt)=>{var rt;return $.set(tt,new OverlayedDocument(nt,(rt=j.get(tt))!==null&&rt!==void 0?rt:null))}),$))}recalculateAndSaveOverlays(e,d){const h=__PRIVATE_newDocumentKeyMap();let g=new SortedMap((j,$)=>j-$),_=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,d).next(j=>{for(const $ of j)$.keys().forEach(et=>{const tt=d.get(et);if(tt===null)return;let nt=h.get(et)||FieldMask.empty();nt=$.applyToLocalView(tt,nt),h.set(et,nt);const rt=(g.get($.batchId)||__PRIVATE_documentKeySet()).add(et);g=g.insert($.batchId,rt)})}).next(()=>{const j=[],$=g.getReverseIterator();for(;$.hasNext();){const et=$.getNext(),tt=et.key,nt=et.value,rt=__PRIVATE_newMutationMap();nt.forEach(it=>{if(!_.has(it)){const st=__PRIVATE_calculateOverlayMutation(d.get(it),h.get(it));st!==null&&rt.set(it,st),_=_.add(it)}}),j.push(this.documentOverlayCache.saveOverlays(e,tt,rt))}return PersistencePromise.waitFor(j)}).next(()=>h)}recalculateAndSaveOverlaysForDocumentKeys(e,d){return this.remoteDocumentCache.getEntries(e,d).next(h=>this.recalculateAndSaveOverlays(e,h))}getDocumentsMatchingQuery(e,d,h,g){return function(j){return DocumentKey.isDocumentKey(j.path)&&j.collectionGroup===null&&j.filters.length===0}(d)?this.getDocumentsMatchingDocumentQuery(e,d.path):__PRIVATE_isCollectionGroupQuery(d)?this.getDocumentsMatchingCollectionGroupQuery(e,d,h,g):this.getDocumentsMatchingCollectionQuery(e,d,h,g)}getNextDocuments(e,d,h,g){return this.remoteDocumentCache.getAllFromCollectionGroup(e,d,h,g).next(_=>{const j=g-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,d,h.largestBatchId,g-_.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let $=-1,et=_;return j.next(tt=>PersistencePromise.forEach(tt,(nt,rt)=>($<rt.largestBatchId&&($=rt.largestBatchId),_.get(nt)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(e,nt).next(it=>{et=et.insert(nt,it)}))).next(()=>this.populateOverlays(e,tt,_)).next(()=>this.computeViews(e,et,tt,__PRIVATE_documentKeySet())).next(nt=>({batchId:$,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(nt)})))})}getDocumentsMatchingDocumentQuery(e,d){return this.getDocument(e,new DocumentKey(d)).next(h=>{let g=documentMap();return h.isFoundDocument()&&(g=g.insert(h.key,h)),g})}getDocumentsMatchingCollectionGroupQuery(e,d,h,g){const _=d.collectionGroup;let j=documentMap();return this.indexManager.getCollectionParents(e,_).next($=>PersistencePromise.forEach($,et=>{const tt=function(rt,it){return new __PRIVATE_QueryImpl(it,null,rt.explicitOrderBy.slice(),rt.filters.slice(),rt.limit,rt.limitType,rt.startAt,rt.endAt)}(d,et.child(_));return this.getDocumentsMatchingCollectionQuery(e,tt,h,g).next(nt=>{nt.forEach((rt,it)=>{j=j.insert(rt,it)})})}).next(()=>j))}getDocumentsMatchingCollectionQuery(e,d,h,g){let _;return this.documentOverlayCache.getOverlaysForCollection(e,d.path,h.largestBatchId).next(j=>(_=j,this.remoteDocumentCache.getDocumentsMatchingQuery(e,d,h,_,g))).next(j=>{_.forEach((et,tt)=>{const nt=tt.getKey();j.get(nt)===null&&(j=j.insert(nt,MutableDocument.newInvalidDocument(nt)))});let $=documentMap();return j.forEach((et,tt)=>{const nt=_.get(et);nt!==void 0&&__PRIVATE_mutationApplyToLocalView(nt.mutation,tt,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(d,tt)&&($=$.insert(et,tt))}),$})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,d){return PersistencePromise.resolve(this.hr.get(d))}saveBundleMetadata(e,d){return this.hr.set(d.id,function(g){return{id:g.id,version:g.version,createTime:__PRIVATE_fromVersion(g.createTime)}}(d)),PersistencePromise.resolve()}getNamedQuery(e,d){return PersistencePromise.resolve(this.Pr.get(d))}saveNamedQuery(e,d){return this.Pr.set(d.name,function(g){return{name:g.name,query:__PRIVATE_fromBundledQuery(g.bundledQuery),readTime:__PRIVATE_fromVersion(g.readTime)}}(d)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.Ir=new Map}getOverlay(e,d){return PersistencePromise.resolve(this.overlays.get(d))}getOverlays(e,d){const h=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(d,g=>this.getOverlay(e,g).next(_=>{_!==null&&h.set(g,_)})).next(()=>h)}saveOverlays(e,d,h){return h.forEach((g,_)=>{this.ht(e,d,_)}),PersistencePromise.resolve()}removeOverlaysForBatchId(e,d,h){const g=this.Ir.get(h);return g!==void 0&&(g.forEach(_=>this.overlays=this.overlays.remove(_)),this.Ir.delete(h)),PersistencePromise.resolve()}getOverlaysForCollection(e,d,h){const g=__PRIVATE_newOverlayMap(),_=d.length+1,j=new DocumentKey(d.child("")),$=this.overlays.getIteratorFrom(j);for(;$.hasNext();){const et=$.getNext().value,tt=et.getKey();if(!d.isPrefixOf(tt.path))break;tt.path.length===_&&et.largestBatchId>h&&g.set(et.getKey(),et)}return PersistencePromise.resolve(g)}getOverlaysForCollectionGroup(e,d,h,g){let _=new SortedMap((tt,nt)=>tt-nt);const j=this.overlays.getIterator();for(;j.hasNext();){const tt=j.getNext().value;if(tt.getKey().getCollectionGroup()===d&&tt.largestBatchId>h){let nt=_.get(tt.largestBatchId);nt===null&&(nt=__PRIVATE_newOverlayMap(),_=_.insert(tt.largestBatchId,nt)),nt.set(tt.getKey(),tt)}}const $=__PRIVATE_newOverlayMap(),et=_.getIterator();for(;et.hasNext()&&(et.getNext().value.forEach((tt,nt)=>$.set(tt,nt)),!($.size()>=g)););return PersistencePromise.resolve($)}ht(e,d,h){const g=this.overlays.get(h.key);if(g!==null){const j=this.Ir.get(g.largestBatchId).delete(h.key);this.Ir.set(g.largestBatchId,j)}this.overlays=this.overlays.insert(h.key,new Overlay(d,h));let _=this.Ir.get(d);_===void 0&&(_=__PRIVATE_documentKeySet(),this.Ir.set(d,_)),this.Ir.set(d,_.add(h.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(e){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(e,d){return this.sessionToken=d,PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Tr=new SortedSet(__PRIVATE_DocReference.Er),this.dr=new SortedSet(__PRIVATE_DocReference.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,d){const h=new __PRIVATE_DocReference(e,d);this.Tr=this.Tr.add(h),this.dr=this.dr.add(h)}Rr(e,d){e.forEach(h=>this.addReference(h,d))}removeReference(e,d){this.Vr(new __PRIVATE_DocReference(e,d))}mr(e,d){e.forEach(h=>this.removeReference(h,d))}gr(e){const d=new DocumentKey(new ResourcePath([])),h=new __PRIVATE_DocReference(d,e),g=new __PRIVATE_DocReference(d,e+1),_=[];return this.dr.forEachInRange([h,g],j=>{this.Vr(j),_.push(j.key)}),_}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const d=new DocumentKey(new ResourcePath([])),h=new __PRIVATE_DocReference(d,e),g=new __PRIVATE_DocReference(d,e+1);let _=__PRIVATE_documentKeySet();return this.dr.forEachInRange([h,g],j=>{_=_.add(j.key)}),_}containsKey(e){const d=new __PRIVATE_DocReference(e,0),h=this.Tr.firstAfterOrEqual(d);return h!==null&&e.isEqual(h.key)}}class __PRIVATE_DocReference{constructor(e,d){this.key=e,this.wr=d}static Er(e,d){return DocumentKey.comparator(e.key,d.key)||__PRIVATE_primitiveComparator(e.wr,d.wr)}static Ar(e,d){return __PRIVATE_primitiveComparator(e.wr,d.wr)||DocumentKey.comparator(e.key,d.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(e,d){this.indexManager=e,this.referenceDelegate=d,this.mutationQueue=[],this.Sr=1,this.br=new SortedSet(__PRIVATE_DocReference.Er)}checkEmpty(e){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(e,d,h,g){const _=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const j=new MutationBatch(_,d,h,g);this.mutationQueue.push(j);for(const $ of g)this.br=this.br.add(new __PRIVATE_DocReference($.key,_)),this.indexManager.addToCollectionParentIndex(e,$.key.path.popLast());return PersistencePromise.resolve(j)}lookupMutationBatch(e,d){return PersistencePromise.resolve(this.Dr(d))}getNextMutationBatchAfterBatchId(e,d){const h=d+1,g=this.vr(h),_=g<0?0:g;return PersistencePromise.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,d){const h=new __PRIVATE_DocReference(d,0),g=new __PRIVATE_DocReference(d,Number.POSITIVE_INFINITY),_=[];return this.br.forEachInRange([h,g],j=>{const $=this.Dr(j.wr);_.push($)}),PersistencePromise.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(e,d){let h=new SortedSet(__PRIVATE_primitiveComparator);return d.forEach(g=>{const _=new __PRIVATE_DocReference(g,0),j=new __PRIVATE_DocReference(g,Number.POSITIVE_INFINITY);this.br.forEachInRange([_,j],$=>{h=h.add($.wr)})}),PersistencePromise.resolve(this.Cr(h))}getAllMutationBatchesAffectingQuery(e,d){const h=d.path,g=h.length+1;let _=h;DocumentKey.isDocumentKey(_)||(_=_.child(""));const j=new __PRIVATE_DocReference(new DocumentKey(_),0);let $=new SortedSet(__PRIVATE_primitiveComparator);return this.br.forEachWhile(et=>{const tt=et.key.path;return!!h.isPrefixOf(tt)&&(tt.length===g&&($=$.add(et.wr)),!0)},j),PersistencePromise.resolve(this.Cr($))}Cr(e){const d=[];return e.forEach(h=>{const g=this.Dr(h);g!==null&&d.push(g)}),d}removeMutationBatch(e,d){__PRIVATE_hardAssert(this.Fr(d.batchId,"removed")===0),this.mutationQueue.shift();let h=this.br;return PersistencePromise.forEach(d.mutations,g=>{const _=new __PRIVATE_DocReference(g.key,d.batchId);return h=h.delete(_),this.referenceDelegate.markPotentiallyOrphaned(e,g.key)}).next(()=>{this.br=h})}On(e){}containsKey(e,d){const h=new __PRIVATE_DocReference(d,0),g=this.br.firstAfterOrEqual(h);return PersistencePromise.resolve(d.isEqual(g&&g.key))}performConsistencyCheck(e){return this.mutationQueue.length,PersistencePromise.resolve()}Fr(e,d){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const d=this.vr(e);return d<0||d>=this.mutationQueue.length?null:this.mutationQueue[d]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(e){this.Mr=e,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,d){const h=d.key,g=this.docs.get(h),_=g?g.size:0,j=this.Mr(d);return this.docs=this.docs.insert(h,{document:d.mutableCopy(),size:j}),this.size+=j-_,this.indexManager.addToCollectionParentIndex(e,h.path.popLast())}removeEntry(e){const d=this.docs.get(e);d&&(this.docs=this.docs.remove(e),this.size-=d.size)}getEntry(e,d){const h=this.docs.get(d);return PersistencePromise.resolve(h?h.document.mutableCopy():MutableDocument.newInvalidDocument(d))}getEntries(e,d){let h=__PRIVATE_mutableDocumentMap();return d.forEach(g=>{const _=this.docs.get(g);h=h.insert(g,_?_.document.mutableCopy():MutableDocument.newInvalidDocument(g))}),PersistencePromise.resolve(h)}getDocumentsMatchingQuery(e,d,h,g){let _=__PRIVATE_mutableDocumentMap();const j=d.path,$=new DocumentKey(j.child("")),et=this.docs.getIteratorFrom($);for(;et.hasNext();){const{key:tt,value:{document:nt}}=et.getNext();if(!j.isPrefixOf(tt.path))break;tt.path.length>j.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(nt),h)<=0||(g.has(nt.key)||__PRIVATE_queryMatches(d,nt))&&(_=_.insert(nt.key,nt.mutableCopy()))}return PersistencePromise.resolve(_)}getAllFromCollectionGroup(e,d,h,g){fail()}Or(e,d){return PersistencePromise.forEach(this.docs,h=>d(h))}newChangeBuffer(e){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(e){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(e){super(),this.cr=e}applyChanges(e){const d=[];return this.changes.forEach((h,g)=>{g.isValidDocument()?d.push(this.cr.addEntry(e,g)):this.cr.removeEntry(h)}),PersistencePromise.waitFor(d)}getFromCache(e,d){return this.cr.getEntry(e,d)}getAllFromCache(e,d){return this.cr.getEntries(e,d)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(e){this.persistence=e,this.Nr=new ObjectMap(d=>__PRIVATE_canonifyTarget(d),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.Lr=0,this.Br=new __PRIVATE_ReferenceSet,this.targetCount=0,this.kr=__PRIVATE_TargetIdGenerator.Bn()}forEachTarget(e,d){return this.Nr.forEach((h,g)=>d(g)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(e){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return PersistencePromise.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(e,d,h){return h&&(this.lastRemoteSnapshotVersion=h),d>this.Lr&&(this.Lr=d),PersistencePromise.resolve()}Kn(e){this.Nr.set(e.target,e);const d=e.targetId;d>this.highestTargetId&&(this.kr=new __PRIVATE_TargetIdGenerator(d),this.highestTargetId=d),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,d){return this.Kn(d),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(e,d){return this.Kn(d),PersistencePromise.resolve()}removeTargetData(e,d){return this.Nr.delete(d.target),this.Br.gr(d.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(e,d,h){let g=0;const _=[];return this.Nr.forEach((j,$)=>{$.sequenceNumber<=d&&h.get($.targetId)===null&&(this.Nr.delete(j),_.push(this.removeMatchingKeysForTargetId(e,$.targetId)),g++)}),PersistencePromise.waitFor(_).next(()=>g)}getTargetCount(e){return PersistencePromise.resolve(this.targetCount)}getTargetData(e,d){const h=this.Nr.get(d)||null;return PersistencePromise.resolve(h)}addMatchingKeys(e,d,h){return this.Br.Rr(d,h),PersistencePromise.resolve()}removeMatchingKeys(e,d,h){this.Br.mr(d,h);const g=this.persistence.referenceDelegate,_=[];return g&&d.forEach(j=>{_.push(g.markPotentiallyOrphaned(e,j))}),PersistencePromise.waitFor(_)}removeMatchingKeysForTargetId(e,d){return this.Br.gr(d),PersistencePromise.resolve()}getMatchingKeysForTargetId(e,d){const h=this.Br.yr(d);return PersistencePromise.resolve(h)}containsKey(e,d){return PersistencePromise.resolve(this.Br.containsKey(d))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(e,d){this.qr={},this.overlays={},this.Qr=new __PRIVATE_ListenSequence(0),this.Kr=!1,this.Kr=!0,this.$r=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=e(this),this.Ur=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(g){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(g)}(h=>this.referenceDelegate.Wr(h)),this.serializer=new __PRIVATE_LocalSerializer(d),this.Gr=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let d=this.overlays[e.toKey()];return d||(d=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[e.toKey()]=d),d}getMutationQueue(e,d){let h=this.qr[e.toKey()];return h||(h=new __PRIVATE_MemoryMutationQueue(d,this.referenceDelegate),this.qr[e.toKey()]=h),h}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,d,h){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",e);const g=new __PRIVATE_MemoryTransaction(this.Qr.next());return this.referenceDelegate.zr(),h(g).next(_=>this.referenceDelegate.jr(g).next(()=>_)).toPromise().then(_=>(g.raiseOnCommittedEvent(),_))}Hr(e,d){return PersistencePromise.or(Object.values(this.qr).map(h=>()=>h.containsKey(e,d)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(e){super(),this.currentSequenceNumber=e}}class __PRIVATE_MemoryEagerDelegate{constructor(e){this.persistence=e,this.Jr=new __PRIVATE_ReferenceSet,this.Yr=null}static Zr(e){return new __PRIVATE_MemoryEagerDelegate(e)}get Xr(){if(this.Yr)return this.Yr;throw fail()}addReference(e,d,h){return this.Jr.addReference(h,d),this.Xr.delete(h.toString()),PersistencePromise.resolve()}removeReference(e,d,h){return this.Jr.removeReference(h,d),this.Xr.add(h.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(e,d){return this.Xr.add(d.toString()),PersistencePromise.resolve()}removeTarget(e,d){this.Jr.gr(d.targetId).forEach(g=>this.Xr.add(g.toString()));const h=this.persistence.getTargetCache();return h.getMatchingKeysForTargetId(e,d.targetId).next(g=>{g.forEach(_=>this.Xr.add(_.toString()))}).next(()=>h.removeTargetData(e,d))}zr(){this.Yr=new Set}jr(e){const d=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.Xr,h=>{const g=DocumentKey.fromPath(h);return this.ei(e,g).next(_=>{_||d.removeEntry(g,SnapshotVersion.min())})}).next(()=>(this.Yr=null,d.apply(e)))}updateLimboDocument(e,d){return this.ei(e,d).next(h=>{h?this.Xr.delete(d.toString()):this.Xr.add(d.toString())})}Wr(e){return 0}ei(e,d){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Jr.containsKey(d)),()=>this.persistence.getTargetCache().containsKey(e,d),()=>this.persistence.Hr(e,d)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(e,d,h,g){this.targetId=e,this.fromCache=d,this.$i=h,this.Ui=g}static Wi(e,d){let h=__PRIVATE_documentKeySet(),g=__PRIVATE_documentKeySet();for(const _ of d.docChanges)switch(_.type){case 0:h=h.add(_.doc.key);break;case 1:g=g.add(_.doc.key)}return new __PRIVATE_LocalViewChanges(e,d.fromCache,h,g)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4}()}initialize(e,d){this.Ji=e,this.indexManager=d,this.Gi=!0}getDocumentsMatchingQuery(e,d,h,g){const _={result:null};return this.Yi(e,d).next(j=>{_.result=j}).next(()=>{if(!_.result)return this.Zi(e,d,g,h).next(j=>{_.result=j})}).next(()=>{if(_.result)return;const j=new QueryContext;return this.Xi(e,d,j).next($=>{if(_.result=$,this.zi)return this.es(e,d,j,$.size)})}).next(()=>_.result)}es(e,d,h,g){return h.documentReadCount<this.ji?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(d),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(d),"scans",h.documentReadCount,"local documents and returns",g,"documents as results."),h.documentReadCount>this.Hi*g?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(d),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,__PRIVATE_queryToTarget(d))):PersistencePromise.resolve())}Yi(e,d){if(__PRIVATE_queryMatchesAllDocuments(d))return PersistencePromise.resolve(null);let h=__PRIVATE_queryToTarget(d);return this.indexManager.getIndexType(e,h).next(g=>g===0?null:(d.limit!==null&&g===1&&(d=__PRIVATE_queryWithLimit(d,null,"F"),h=__PRIVATE_queryToTarget(d)),this.indexManager.getDocumentsMatchingTarget(e,h).next(_=>{const j=__PRIVATE_documentKeySet(..._);return this.Ji.getDocuments(e,j).next($=>this.indexManager.getMinOffset(e,h).next(et=>{const tt=this.ts(d,$);return this.ns(d,tt,j,et.readTime)?this.Yi(e,__PRIVATE_queryWithLimit(d,null,"F")):this.rs(e,tt,d,et)}))})))}Zi(e,d,h,g){return __PRIVATE_queryMatchesAllDocuments(d)||g.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.Ji.getDocuments(e,h).next(_=>{const j=this.ts(d,_);return this.ns(d,j,h,g)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",g.toString(),__PRIVATE_stringifyQuery(d)),this.rs(e,j,d,__PRIVATE_newIndexOffsetSuccessorFromReadTime(g,-1)).next($=>$))})}ts(e,d){let h=new SortedSet(__PRIVATE_newQueryComparator(e));return d.forEach((g,_)=>{__PRIVATE_queryMatches(e,_)&&(h=h.add(_))}),h}ns(e,d,h,g){if(e.limit===null)return!1;if(h.size!==d.size)return!0;const _=e.limitType==="F"?d.last():d.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(g)>0)}Xi(e,d,h){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(d)),this.Ji.getDocumentsMatchingQuery(e,d,IndexOffset.min(),h)}rs(e,d,h,g){return this.Ji.getDocumentsMatchingQuery(e,h,g).next(_=>(d.forEach(j=>{_=_.insert(j.key,j)}),_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalStoreImpl{constructor(e,d,h,g){this.persistence=e,this.ss=d,this.serializer=g,this.os=new SortedMap(__PRIVATE_primitiveComparator),this._s=new ObjectMap(_=>__PRIVATE_canonifyTarget(_),__PRIVATE_targetEquals),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(h)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LocalDocumentsView(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",d=>e.collect(d,this.os))}}function __PRIVATE_newLocalStore(s,e,d,h){return new __PRIVATE_LocalStoreImpl(s,e,d,h)}async function __PRIVATE_localStoreHandleUserChange(s,e){const d=__PRIVATE_debugCast(s);return await d.persistence.runTransaction("Handle user change","readonly",h=>{let g;return d.mutationQueue.getAllMutationBatches(h).next(_=>(g=_,d.ls(e),d.mutationQueue.getAllMutationBatches(h))).next(_=>{const j=[],$=[];let et=__PRIVATE_documentKeySet();for(const tt of g){j.push(tt.batchId);for(const nt of tt.mutations)et=et.add(nt.key)}for(const tt of _){$.push(tt.batchId);for(const nt of tt.mutations)et=et.add(nt.key)}return d.localDocuments.getDocuments(h,et).next(tt=>({hs:tt,removedBatchIds:j,addedBatchIds:$}))})})}function __PRIVATE_localStoreAcknowledgeBatch(s,e){const d=__PRIVATE_debugCast(s);return d.persistence.runTransaction("Acknowledge batch","readwrite-primary",h=>{const g=e.batch.keys(),_=d.cs.newChangeBuffer({trackRemovals:!0});return function($,et,tt,nt){const rt=tt.batch,it=rt.keys();let st=PersistencePromise.resolve();return it.forEach(ot=>{st=st.next(()=>nt.getEntry(et,ot)).next(lt=>{const dt=tt.docVersions.get(ot);__PRIVATE_hardAssert(dt!==null),lt.version.compareTo(dt)<0&&(rt.applyToRemoteDocument(lt,tt),lt.isValidDocument()&&(lt.setReadTime(tt.commitVersion),nt.addEntry(lt)))})}),st.next(()=>$.mutationQueue.removeMutationBatch(et,rt))}(d,h,e,_).next(()=>_.apply(h)).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,g,e.batch.batchId)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,function($){let et=__PRIVATE_documentKeySet();for(let tt=0;tt<$.mutationResults.length;++tt)$.mutationResults[tt].transformResults.length>0&&(et=et.add($.batch.mutations[tt].key));return et}(e))).next(()=>d.localDocuments.getDocuments(h,g))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(s){const e=__PRIVATE_debugCast(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",d=>e.Ur.getLastRemoteSnapshotVersion(d))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(s,e){const d=__PRIVATE_debugCast(s),h=e.snapshotVersion;let g=d.os;return d.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const j=d.cs.newChangeBuffer({trackRemovals:!0});g=d.os;const $=[];e.targetChanges.forEach((nt,rt)=>{const it=g.get(rt);if(!it)return;$.push(d.Ur.removeMatchingKeys(_,nt.removedDocuments,rt).next(()=>d.Ur.addMatchingKeys(_,nt.addedDocuments,rt)));let st=it.withSequenceNumber(_.currentSequenceNumber);e.targetMismatches.get(rt)!==null?st=st.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):nt.resumeToken.approximateByteSize()>0&&(st=st.withResumeToken(nt.resumeToken,h)),g=g.insert(rt,st),function(lt,dt,at){return lt.resumeToken.approximateByteSize()===0||dt.snapshotVersion.toMicroseconds()-lt.snapshotVersion.toMicroseconds()>=3e8?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0}(it,st,nt)&&$.push(d.Ur.updateTargetData(_,st))});let et=__PRIVATE_mutableDocumentMap(),tt=__PRIVATE_documentKeySet();if(e.documentUpdates.forEach(nt=>{e.resolvedLimboDocuments.has(nt)&&$.push(d.persistence.referenceDelegate.updateLimboDocument(_,nt))}),$.push(__PRIVATE_populateDocumentChangeBuffer(_,j,e.documentUpdates).next(nt=>{et=nt.Ps,tt=nt.Is})),!h.isEqual(SnapshotVersion.min())){const nt=d.Ur.getLastRemoteSnapshotVersion(_).next(rt=>d.Ur.setTargetsMetadata(_,_.currentSequenceNumber,h));$.push(nt)}return PersistencePromise.waitFor($).next(()=>j.apply(_)).next(()=>d.localDocuments.getLocalViewOfDocuments(_,et,tt)).next(()=>et)}).then(_=>(d.os=g,_))}function __PRIVATE_populateDocumentChangeBuffer(s,e,d){let h=__PRIVATE_documentKeySet(),g=__PRIVATE_documentKeySet();return d.forEach(_=>h=h.add(_)),e.getEntries(s,h).next(_=>{let j=__PRIVATE_mutableDocumentMap();return d.forEach(($,et)=>{const tt=_.get($);et.isFoundDocument()!==tt.isFoundDocument()&&(g=g.add($)),et.isNoDocument()&&et.version.isEqual(SnapshotVersion.min())?(e.removeEntry($,et.readTime),j=j.insert($,et)):!tt.isValidDocument()||et.version.compareTo(tt.version)>0||et.version.compareTo(tt.version)===0&&tt.hasPendingWrites?(e.addEntry(et),j=j.insert($,et)):__PRIVATE_logDebug("LocalStore","Ignoring outdated watch update for ",$,". Current version:",tt.version," Watch version:",et.version)}),{Ps:j,Is:g}})}function __PRIVATE_localStoreGetNextMutationBatch(s,e){const d=__PRIVATE_debugCast(s);return d.persistence.runTransaction("Get next mutation batch","readonly",h=>(e===void 0&&(e=-1),d.mutationQueue.getNextMutationBatchAfterBatchId(h,e)))}function __PRIVATE_localStoreAllocateTarget(s,e){const d=__PRIVATE_debugCast(s);return d.persistence.runTransaction("Allocate target","readwrite",h=>{let g;return d.Ur.getTargetData(h,e).next(_=>_?(g=_,PersistencePromise.resolve(g)):d.Ur.allocateTargetId(h).next(j=>(g=new TargetData(e,j,"TargetPurposeListen",h.currentSequenceNumber),d.Ur.addTargetData(h,g).next(()=>g))))}).then(h=>{const g=d.os.get(h.targetId);return(g===null||h.snapshotVersion.compareTo(g.snapshotVersion)>0)&&(d.os=d.os.insert(h.targetId,h),d._s.set(e,h.targetId)),h})}async function __PRIVATE_localStoreReleaseTarget(s,e,d){const h=__PRIVATE_debugCast(s),g=h.os.get(e),_=d?"readwrite":"readwrite-primary";try{d||await h.persistence.runTransaction("Release target",_,j=>h.persistence.referenceDelegate.removeTarget(j,g))}catch(j){if(!__PRIVATE_isIndexedDbTransactionError(j))throw j;__PRIVATE_logDebug("LocalStore",`Failed to update sequence numbers for target ${e}: ${j}`)}h.os=h.os.remove(e),h._s.delete(g.target)}function __PRIVATE_localStoreExecuteQuery(s,e,d){const h=__PRIVATE_debugCast(s);let g=SnapshotVersion.min(),_=__PRIVATE_documentKeySet();return h.persistence.runTransaction("Execute query","readwrite",j=>function(et,tt,nt){const rt=__PRIVATE_debugCast(et),it=rt._s.get(nt);return it!==void 0?PersistencePromise.resolve(rt.os.get(it)):rt.Ur.getTargetData(tt,nt)}(h,j,__PRIVATE_queryToTarget(e)).next($=>{if($)return g=$.lastLimboFreeSnapshotVersion,h.Ur.getMatchingKeysForTargetId(j,$.targetId).next(et=>{_=et})}).next(()=>h.ss.getDocumentsMatchingQuery(j,e,d?g:SnapshotVersion.min(),d?_:__PRIVATE_documentKeySet())).next($=>(__PRIVATE_setMaxReadTime(h,__PRIVATE_queryCollectionGroup(e),$),{documents:$,Ts:_})))}function __PRIVATE_setMaxReadTime(s,e,d){let h=s.us.get(e)||SnapshotVersion.min();d.forEach((g,_)=>{_.readTime.compareTo(h)>0&&(h=_.readTime)}),s.us.set(e,h)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class __PRIVATE_MemorySharedClientState{constructor(){this.so=new __PRIVATE_LocalClientState,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,d,h){}addLocalQueryTarget(e,d=!0){return d&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,d,h){this.oo[e]=d}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(e,d,h){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let me=null;function __PRIVATE_generateUniqueDebugId(){return me===null?me=function(){return 268435456+Math.round(2147483648*Math.random())}():me++,"0x"+me.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class{constructor(d){this.databaseInfo=d,this.databaseId=d.databaseId;const h=d.ssl?"https":"http",g=encodeURIComponent(this.databaseId.projectId),_=encodeURIComponent(this.databaseId.database);this.Do=h+"://"+d.host,this.vo=`projects/${g}/databases/${_}`,this.Co=this.databaseId.database==="(default)"?`project_id=${g}`:`project_id=${g}&database_id=${_}`}get Fo(){return!1}Mo(d,h,g,_,j){const $=__PRIVATE_generateUniqueDebugId(),et=this.xo(d,h.toUriEncodedString());__PRIVATE_logDebug("RestConnection",`Sending RPC '${d}' ${$}:`,et,g);const tt={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(tt,_,j),this.No(d,et,tt,g).then(nt=>(__PRIVATE_logDebug("RestConnection",`Received RPC '${d}' ${$}: `,nt),nt),nt=>{throw __PRIVATE_logWarn("RestConnection",`RPC '${d}' ${$} failed with error: `,nt,"url: ",et,"request:",g),nt})}Lo(d,h,g,_,j,$){return this.Mo(d,h,g,_,j)}Oo(d,h,g){d["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+S}(),d["Content-Type"]="text/plain",this.databaseInfo.appId&&(d["X-Firebase-GMPID"]=this.databaseInfo.appId),h&&h.headers.forEach((_,j)=>d[j]=_),g&&g.headers.forEach((_,j)=>d[j]=_)}xo(d,h){const g=fe[d];return`${this.Do}/v1/${h}:${g}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,d,h,g){const _=__PRIVATE_generateUniqueDebugId();return new Promise((j,$)=>{const et=new XhrIo;et.setWithCredentials(!0),et.listenOnce(EventType.COMPLETE,()=>{try{switch(et.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const nt=et.getResponseJson();__PRIVATE_logDebug(ge,`XHR for RPC '${e}' ${_} received:`,JSON.stringify(nt)),j(nt);break;case ErrorCode$1.TIMEOUT:__PRIVATE_logDebug(ge,`RPC '${e}' ${_} timed out`),$(new FirestoreError(D.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const rt=et.getStatus();if(__PRIVATE_logDebug(ge,`RPC '${e}' ${_} failed with status:`,rt,"response text:",et.getResponseText()),rt>0){let it=et.getResponseJson();Array.isArray(it)&&(it=it[0]);const st=it==null?void 0:it.error;if(st&&st.status&&st.message){const ot=function(dt){const at=dt.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(at)>=0?at:D.UNKNOWN}(st.status);$(new FirestoreError(ot,st.message))}else $(new FirestoreError(D.UNKNOWN,"Server responded with status "+et.getStatus()))}else $(new FirestoreError(D.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(ge,`RPC '${e}' ${_} completed.`)}});const tt=JSON.stringify(g);__PRIVATE_logDebug(ge,`RPC '${e}' ${_} sending request:`,g),et.send(d,"POST",tt,h,15)})}Bo(e,d,h){const g=__PRIVATE_generateUniqueDebugId(),_=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],j=createWebChannelTransport(),$=getStatEventTarget(),et={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},tt=this.longPollingOptions.timeoutSeconds;tt!==void 0&&(et.longPollingTimeout=Math.round(1e3*tt)),this.useFetchStreams&&(et.useFetchStreams=!0),this.Oo(et.initMessageHeaders,d,h),et.encodeInitMessageHeaders=!0;const nt=_.join("");__PRIVATE_logDebug(ge,`Creating RPC '${e}' stream ${g}: ${nt}`,et);const rt=j.createWebChannel(nt,et);let it=!1,st=!1;const ot=new __PRIVATE_StreamBridge({Io:dt=>{st?__PRIVATE_logDebug(ge,`Not sending because RPC '${e}' stream ${g} is closed:`,dt):(it||(__PRIVATE_logDebug(ge,`Opening RPC '${e}' stream ${g} transport.`),rt.open(),it=!0),__PRIVATE_logDebug(ge,`RPC '${e}' stream ${g} sending:`,dt),rt.send(dt))},To:()=>rt.close()}),lt=(dt,at,ut)=>{dt.listen(at,pt=>{try{ut(pt)}catch(vt){setTimeout(()=>{throw vt},0)}})};return lt(rt,WebChannel.EventType.OPEN,()=>{st||(__PRIVATE_logDebug(ge,`RPC '${e}' stream ${g} transport opened.`),ot.yo())}),lt(rt,WebChannel.EventType.CLOSE,()=>{st||(st=!0,__PRIVATE_logDebug(ge,`RPC '${e}' stream ${g} transport closed`),ot.So())}),lt(rt,WebChannel.EventType.ERROR,dt=>{st||(st=!0,__PRIVATE_logWarn(ge,`RPC '${e}' stream ${g} transport errored:`,dt),ot.So(new FirestoreError(D.UNAVAILABLE,"The operation could not be completed")))}),lt(rt,WebChannel.EventType.MESSAGE,dt=>{var at;if(!st){const ut=dt.data[0];__PRIVATE_hardAssert(!!ut);const pt=ut,vt=pt.error||((at=pt[0])===null||at===void 0?void 0:at.error);if(vt){__PRIVATE_logDebug(ge,`RPC '${e}' stream ${g} received error:`,vt);const ht=vt.status;let yt=function(_t){const Et=le[_t];if(Et!==void 0)return __PRIVATE_mapCodeFromRpcCode(Et)}(ht),gt=vt.message;yt===void 0&&(yt=D.INTERNAL,gt="Unknown error status: "+ht+" with message "+vt.message),st=!0,ot.So(new FirestoreError(yt,gt)),rt.close()}else __PRIVATE_logDebug(ge,`RPC '${e}' stream ${g} received:`,ut),ot.bo(ut)}}),lt($,Event$1.STAT_EVENT,dt=>{dt.stat===Stat.PROXY?__PRIVATE_logDebug(ge,`RPC '${e}' stream ${g} detected buffering proxy`):dt.stat===Stat.NOPROXY&&__PRIVATE_logDebug(ge,`RPC '${e}' stream ${g} detected no buffering proxy`)}),setTimeout(()=>{ot.wo()},0),ot}}function getDocument$1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(s){return new JsonProtoSerializer(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(e,d,h=1e3,g=1.5,_=6e4){this.ui=e,this.timerId=d,this.ko=h,this.qo=g,this.Qo=_,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const d=Math.floor(this.Ko+this.zo()),h=Math.max(0,Date.now()-this.Uo),g=Math.max(0,d-h);g>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${g} ms (base delay: ${this.Ko} ms, delay with jitter: ${d} ms, last attempt: ${h} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,g,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_PersistentStream{constructor(e,d,h,g,_,j,$,et){this.ui=e,this.Ho=h,this.Jo=g,this.connection=_,this.authCredentialsProvider=j,this.appCheckCredentialsProvider=$,this.listener=et,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new __PRIVATE_ExponentialBackoff(e,d)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,d){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():d&&d.code===D.RESOURCE_EXHAUSTED?(__PRIVATE_logError(d.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):d&&d.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(d)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),d=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([h,g])=>{this.Yo===d&&this.P_(h,g)},h=>{e(()=>{const g=new FirestoreError(D.UNKNOWN,"Fetching auth token failed: "+h.message);return this.I_(g)})})}P_(e,d){const h=this.h_(this.Yo);this.stream=this.T_(e,d),this.stream.Eo(()=>{h(()=>this.listener.Eo())}),this.stream.Ro(()=>{h(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(g=>{h(()=>this.I_(g))}),this.stream.onMessage(g=>{h(()=>++this.e_==1?this.E_(g):this.onNext(g))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return __PRIVATE_logDebug("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return d=>{this.ui.enqueueAndForget(()=>this.Yo===e?d():(__PRIVATE_logDebug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(e,d,h,g,_,j){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",d,h,g,j),this.serializer=_}T_(e,d){return this.connection.Bo("Listen",e,d)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const d=__PRIVATE_fromWatchChange(this.serializer,e),h=function(_){if(!("targetChange"in _))return SnapshotVersion.min();const j=_.targetChange;return j.targetIds&&j.targetIds.length?SnapshotVersion.min():j.readTime?__PRIVATE_fromVersion(j.readTime):SnapshotVersion.min()}(e);return this.listener.d_(d,h)}A_(e){const d={};d.database=__PRIVATE_getEncodedDatabaseId(this.serializer),d.addTarget=function(_,j){let $;const et=j.target;if($=__PRIVATE_targetIsDocumentTarget(et)?{documents:__PRIVATE_toDocumentsTarget(_,et)}:{query:__PRIVATE_toQueryTarget(_,et)._t},$.targetId=j.targetId,j.resumeToken.approximateByteSize()>0){$.resumeToken=__PRIVATE_toBytes(_,j.resumeToken);const tt=__PRIVATE_toInt32Proto(_,j.expectedCount);tt!==null&&($.expectedCount=tt)}else if(j.snapshotVersion.compareTo(SnapshotVersion.min())>0){$.readTime=toTimestamp(_,j.snapshotVersion.toTimestamp());const tt=__PRIVATE_toInt32Proto(_,j.expectedCount);tt!==null&&($.expectedCount=tt)}return $}(this.serializer,e);const h=__PRIVATE_toListenRequestLabels(this.serializer,e);h&&(d.labels=h),this.a_(d)}R_(e){const d={};d.database=__PRIVATE_getEncodedDatabaseId(this.serializer),d.removeTarget=e,this.a_(d)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(e,d,h,g,_,j){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",d,h,g,j),this.serializer=_}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,d){return this.connection.Bo("Write",e,d)}E_(e){return __PRIVATE_hardAssert(!!e.streamToken),this.lastStreamToken=e.streamToken,__PRIVATE_hardAssert(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){__PRIVATE_hardAssert(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const d=__PRIVATE_fromWriteResults(e.writeResults,e.commitTime),h=__PRIVATE_fromVersion(e.commitTime);return this.listener.g_(h,d)}p_(){const e={};e.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.a_(e)}m_(e){const d={streamToken:this.lastStreamToken,writes:e.map(h=>toMutation(this.serializer,h))};this.a_(d)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DatastoreImpl extends class{}{constructor(e,d,h,g){super(),this.authCredentials=e,this.appCheckCredentials=d,this.connection=h,this.serializer=g,this.y_=!1}w_(){if(this.y_)throw new FirestoreError(D.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,d,h,g){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,j])=>this.connection.Mo(e,__PRIVATE_toResourcePath(d,h),g,_,j)).catch(_=>{throw _.name==="FirebaseError"?(_.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new FirestoreError(D.UNKNOWN,_.toString())})}Lo(e,d,h,g,_){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([j,$])=>this.connection.Lo(e,__PRIVATE_toResourcePath(d,h),g,j,$,_)).catch(j=>{throw j.name==="FirebaseError"?(j.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),j):new FirestoreError(D.UNKNOWN,j.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(e,d){this.asyncQueue=e,this.onlineStateHandler=d,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const d=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(__PRIVATE_logError(d),this.D_=!1):__PRIVATE_logDebug("OnlineStateTracker",d)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_RemoteStoreImpl{constructor(e,d,h,g,_){this.localStore=e,this.datastore=d,this.asyncQueue=h,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=_,this.k_._o(j=>{h.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug("RemoteStore","Restarting streams for network reachability change."),await async function(et){const tt=__PRIVATE_debugCast(et);tt.L_.add(4),await __PRIVATE_disableNetworkInternal(tt),tt.q_.set("Unknown"),tt.L_.delete(4),await __PRIVATE_enableNetworkInternal(tt)}(this))})}),this.q_=new __PRIVATE_OnlineStateTracker(h,g)}}async function __PRIVATE_enableNetworkInternal(s){if(__PRIVATE_canUseNetwork(s))for(const e of s.B_)await e(!0)}async function __PRIVATE_disableNetworkInternal(s){for(const e of s.B_)await e(!1)}function __PRIVATE_remoteStoreListen(s,e){const d=__PRIVATE_debugCast(s);d.N_.has(e.targetId)||(d.N_.set(e.targetId,e),__PRIVATE_shouldStartWatchStream(d)?__PRIVATE_startWatchStream(d):__PRIVATE_ensureWatchStream(d).r_()&&__PRIVATE_sendWatchRequest(d,e))}function __PRIVATE_remoteStoreUnlisten(s,e){const d=__PRIVATE_debugCast(s),h=__PRIVATE_ensureWatchStream(d);d.N_.delete(e),h.r_()&&__PRIVATE_sendUnwatchRequest(d,e),d.N_.size===0&&(h.r_()?h.o_():__PRIVATE_canUseNetwork(d)&&d.q_.set("Unknown"))}function __PRIVATE_sendWatchRequest(s,e){if(s.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(SnapshotVersion.min())>0){const d=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(d)}__PRIVATE_ensureWatchStream(s).A_(e)}function __PRIVATE_sendUnwatchRequest(s,e){s.Q_.xe(e),__PRIVATE_ensureWatchStream(s).R_(e)}function __PRIVATE_startWatchStream(s){s.Q_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>s.N_.get(e)||null,tt:()=>s.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(s).start(),s.q_.v_()}function __PRIVATE_shouldStartWatchStream(s){return __PRIVATE_canUseNetwork(s)&&!__PRIVATE_ensureWatchStream(s).n_()&&s.N_.size>0}function __PRIVATE_canUseNetwork(s){return __PRIVATE_debugCast(s).L_.size===0}function __PRIVATE_cleanUpWatchStreamState(s){s.Q_=void 0}async function __PRIVATE_onWatchStreamConnected(s){s.q_.set("Online")}async function __PRIVATE_onWatchStreamOpen(s){s.N_.forEach((e,d)=>{__PRIVATE_sendWatchRequest(s,e)})}async function __PRIVATE_onWatchStreamClose(s,e){__PRIVATE_cleanUpWatchStreamState(s),__PRIVATE_shouldStartWatchStream(s)?(s.q_.M_(e),__PRIVATE_startWatchStream(s)):s.q_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(s,e,d){if(s.q_.set("Online"),e instanceof __PRIVATE_WatchTargetChange&&e.state===2&&e.cause)try{await async function(g,_){const j=_.cause;for(const $ of _.targetIds)g.N_.has($)&&(await g.remoteSyncer.rejectListen($,j),g.N_.delete($),g.Q_.removeTarget($))}(s,e)}catch(h){__PRIVATE_logDebug("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),h),await __PRIVATE_disableNetworkUntilRecovery(s,h)}else if(e instanceof __PRIVATE_DocumentWatchChange?s.Q_.Ke(e):e instanceof __PRIVATE_ExistenceFilterChange?s.Q_.He(e):s.Q_.We(e),!d.isEqual(SnapshotVersion.min()))try{const h=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(s.localStore);d.compareTo(h)>=0&&await function(_,j){const $=_.Q_.rt(j);return $.targetChanges.forEach((et,tt)=>{if(et.resumeToken.approximateByteSize()>0){const nt=_.N_.get(tt);nt&&_.N_.set(tt,nt.withResumeToken(et.resumeToken,j))}}),$.targetMismatches.forEach((et,tt)=>{const nt=_.N_.get(et);if(!nt)return;_.N_.set(et,nt.withResumeToken(ByteString.EMPTY_BYTE_STRING,nt.snapshotVersion)),__PRIVATE_sendUnwatchRequest(_,et);const rt=new TargetData(nt.target,et,tt,nt.sequenceNumber);__PRIVATE_sendWatchRequest(_,rt)}),_.remoteSyncer.applyRemoteEvent($)}(s,d)}catch(h){__PRIVATE_logDebug("RemoteStore","Failed to raise snapshot:",h),await __PRIVATE_disableNetworkUntilRecovery(s,h)}}async function __PRIVATE_disableNetworkUntilRecovery(s,e,d){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;s.L_.add(1),await __PRIVATE_disableNetworkInternal(s),s.q_.set("Offline"),d||(d=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug("RemoteStore","Retrying IndexedDB access"),await d(),s.L_.delete(1),await __PRIVATE_enableNetworkInternal(s)})}function __PRIVATE_executeWithRecovery(s,e){return e().catch(d=>__PRIVATE_disableNetworkUntilRecovery(s,d,e))}async function __PRIVATE_fillWritePipeline(s){const e=__PRIVATE_debugCast(s),d=__PRIVATE_ensureWriteStream(e);let h=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;__PRIVATE_canAddToWritePipeline(e);)try{const g=await __PRIVATE_localStoreGetNextMutationBatch(e.localStore,h);if(g===null){e.O_.length===0&&d.o_();break}h=g.batchId,__PRIVATE_addToWritePipeline(e,g)}catch(g){await __PRIVATE_disableNetworkUntilRecovery(e,g)}__PRIVATE_shouldStartWriteStream(e)&&__PRIVATE_startWriteStream(e)}function __PRIVATE_canAddToWritePipeline(s){return __PRIVATE_canUseNetwork(s)&&s.O_.length<10}function __PRIVATE_addToWritePipeline(s,e){s.O_.push(e);const d=__PRIVATE_ensureWriteStream(s);d.r_()&&d.V_&&d.m_(e.mutations)}function __PRIVATE_shouldStartWriteStream(s){return __PRIVATE_canUseNetwork(s)&&!__PRIVATE_ensureWriteStream(s).n_()&&s.O_.length>0}function __PRIVATE_startWriteStream(s){__PRIVATE_ensureWriteStream(s).start()}async function __PRIVATE_onWriteStreamOpen(s){__PRIVATE_ensureWriteStream(s).p_()}async function __PRIVATE_onWriteHandshakeComplete(s){const e=__PRIVATE_ensureWriteStream(s);for(const d of s.O_)e.m_(d.mutations)}async function __PRIVATE_onMutationResult(s,e,d){const h=s.O_.shift(),g=MutationBatchResult.from(h,e,d);await __PRIVATE_executeWithRecovery(s,()=>s.remoteSyncer.applySuccessfulWrite(g)),await __PRIVATE_fillWritePipeline(s)}async function __PRIVATE_onWriteStreamClose(s,e){e&&__PRIVATE_ensureWriteStream(s).V_&&await async function(h,g){if(function(j){return __PRIVATE_isPermanentError(j)&&j!==D.ABORTED}(g.code)){const _=h.O_.shift();__PRIVATE_ensureWriteStream(h).s_(),await __PRIVATE_executeWithRecovery(h,()=>h.remoteSyncer.rejectFailedWrite(_.batchId,g)),await __PRIVATE_fillWritePipeline(h)}}(s,e),__PRIVATE_shouldStartWriteStream(s)&&__PRIVATE_startWriteStream(s)}async function __PRIVATE_remoteStoreHandleCredentialChange(s,e){const d=__PRIVATE_debugCast(s);d.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("RemoteStore","RemoteStore received new credentials");const h=__PRIVATE_canUseNetwork(d);d.L_.add(3),await __PRIVATE_disableNetworkInternal(d),h&&d.q_.set("Unknown"),await d.remoteSyncer.handleCredentialChange(e),d.L_.delete(3),await __PRIVATE_enableNetworkInternal(d)}async function __PRIVATE_remoteStoreApplyPrimaryState(s,e){const d=__PRIVATE_debugCast(s);e?(d.L_.delete(2),await __PRIVATE_enableNetworkInternal(d)):e||(d.L_.add(2),await __PRIVATE_disableNetworkInternal(d),d.q_.set("Unknown"))}function __PRIVATE_ensureWatchStream(s){return s.K_||(s.K_=function(d,h,g){const _=__PRIVATE_debugCast(d);return _.w_(),new __PRIVATE_PersistentListenStream(h,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,g)}(s.datastore,s.asyncQueue,{Eo:__PRIVATE_onWatchStreamConnected.bind(null,s),Ro:__PRIVATE_onWatchStreamOpen.bind(null,s),mo:__PRIVATE_onWatchStreamClose.bind(null,s),d_:__PRIVATE_onWatchStreamChange.bind(null,s)}),s.B_.push(async e=>{e?(s.K_.s_(),__PRIVATE_shouldStartWatchStream(s)?__PRIVATE_startWatchStream(s):s.q_.set("Unknown")):(await s.K_.stop(),__PRIVATE_cleanUpWatchStreamState(s))})),s.K_}function __PRIVATE_ensureWriteStream(s){return s.U_||(s.U_=function(d,h,g){const _=__PRIVATE_debugCast(d);return _.w_(),new __PRIVATE_PersistentWriteStream(h,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,g)}(s.datastore,s.asyncQueue,{Eo:()=>Promise.resolve(),Ro:__PRIVATE_onWriteStreamOpen.bind(null,s),mo:__PRIVATE_onWriteStreamClose.bind(null,s),f_:__PRIVATE_onWriteHandshakeComplete.bind(null,s),g_:__PRIVATE_onMutationResult.bind(null,s)}),s.B_.push(async e=>{e?(s.U_.s_(),await __PRIVATE_fillWritePipeline(s)):(await s.U_.stop(),s.O_.length>0&&(__PRIVATE_logDebug("RemoteStore",`Stopping write stream with ${s.O_.length} pending writes`),s.O_=[]))})),s.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(e,d,h,g,_){this.asyncQueue=e,this.timerId=d,this.targetTimeMs=h,this.op=g,this.removalCallback=_,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(j=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,d,h,g,_){const j=Date.now()+h,$=new DelayedOperation(e,d,j,g,_);return $.start(h),$}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(s,e){if(__PRIVATE_logError("AsyncQueue",`${e}: ${s}`),__PRIVATE_isIndexedDbTransactionError(s))return new FirestoreError(D.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{constructor(e){this.comparator=e?(d,h)=>e(d,h)||DocumentKey.comparator(d.key,h.key):(d,h)=>DocumentKey.comparator(d.key,h.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}static emptySet(e){return new DocumentSet(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const d=this.keyedMap.get(e);return d?this.sortedSet.indexOf(d):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((d,h)=>(e(d),!1))}add(e){const d=this.delete(e.key);return d.copy(d.keyedMap.insert(e.key,e),d.sortedSet.insert(e,null))}delete(e){const d=this.get(e);return d?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(d)):this}isEqual(e){if(!(e instanceof DocumentSet)||this.size!==e.size)return!1;const d=this.sortedSet.getIterator(),h=e.sortedSet.getIterator();for(;d.hasNext();){const g=d.getNext().key,_=h.getNext().key;if(!g.isEqual(_))return!1}return!0}toString(){const e=[];return this.forEach(d=>{e.push(d.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,d){const h=new DocumentSet;return h.comparator=this.comparator,h.keyedMap=e,h.sortedSet=d,h}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.W_=new SortedMap(DocumentKey.comparator)}track(e){const d=e.doc.key,h=this.W_.get(d);h?e.type!==0&&h.type===3?this.W_=this.W_.insert(d,e):e.type===3&&h.type!==1?this.W_=this.W_.insert(d,{type:h.type,doc:e.doc}):e.type===2&&h.type===2?this.W_=this.W_.insert(d,{type:2,doc:e.doc}):e.type===2&&h.type===0?this.W_=this.W_.insert(d,{type:0,doc:e.doc}):e.type===1&&h.type===0?this.W_=this.W_.remove(d):e.type===1&&h.type===2?this.W_=this.W_.insert(d,{type:1,doc:h.doc}):e.type===0&&h.type===1?this.W_=this.W_.insert(d,{type:2,doc:e.doc}):fail():this.W_=this.W_.insert(d,e)}G_(){const e=[];return this.W_.inorderTraversal((d,h)=>{e.push(h)}),e}}class ViewSnapshot{constructor(e,d,h,g,_,j,$,et,tt){this.query=e,this.docs=d,this.oldDocs=h,this.docChanges=g,this.mutatedKeys=_,this.fromCache=j,this.syncStateChanged=$,this.excludesMetadataChanges=et,this.hasCachedResults=tt}static fromInitialDocuments(e,d,h,g,_){const j=[];return d.forEach($=>{j.push({type:0,doc:$})}),new ViewSnapshot(e,d,DocumentSet.emptySet(d),j,h,g,!0,!1,_)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&__PRIVATE_queryEquals(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const d=this.docChanges,h=e.docChanges;if(d.length!==h.length)return!1;for(let g=0;g<d.length;g++)if(d[g].type!==h[g].type||!d[g].doc.isEqual(h[g].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(d,h){const g=__PRIVATE_debugCast(d),_=g.queries;g.queries=__PRIVATE_newQueriesObjectMap(),_.forEach((j,$)=>{for(const et of $.j_)et.onError(h)})})(this,new FirestoreError(D.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap(s=>__PRIVATE_canonifyQuery(s),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(s,e){const d=__PRIVATE_debugCast(s);let h=3;const g=e.query;let _=d.queries.get(g);_?!_.H_()&&e.J_()&&(h=2):(_=new __PRIVATE_QueryListenersInfo,h=e.J_()?0:1);try{switch(h){case 0:_.z_=await d.onListen(g,!0);break;case 1:_.z_=await d.onListen(g,!1);break;case 2:await d.onFirstRemoteStoreListen(g)}}catch(j){const $=__PRIVATE_wrapInUserErrorIfRecoverable(j,`Initialization of query '${__PRIVATE_stringifyQuery(e.query)}' failed`);return void e.onError($)}d.queries.set(g,_),_.j_.push(e),e.Z_(d.onlineState),_.z_&&e.X_(_.z_)&&__PRIVATE_raiseSnapshotsInSyncEvent(d)}async function __PRIVATE_eventManagerUnlisten(s,e){const d=__PRIVATE_debugCast(s),h=e.query;let g=3;const _=d.queries.get(h);if(_){const j=_.j_.indexOf(e);j>=0&&(_.j_.splice(j,1),_.j_.length===0?g=e.J_()?0:1:!_.H_()&&e.J_()&&(g=2))}switch(g){case 0:return d.queries.delete(h),d.onUnlisten(h,!0);case 1:return d.queries.delete(h),d.onUnlisten(h,!1);case 2:return d.onLastRemoteStoreUnlisten(h);default:return}}function __PRIVATE_eventManagerOnWatchChange(s,e){const d=__PRIVATE_debugCast(s);let h=!1;for(const g of e){const _=g.query,j=d.queries.get(_);if(j){for(const $ of j.j_)$.X_(g)&&(h=!0);j.z_=g}}h&&__PRIVATE_raiseSnapshotsInSyncEvent(d)}function __PRIVATE_eventManagerOnWatchError(s,e,d){const h=__PRIVATE_debugCast(s),g=h.queries.get(e);if(g)for(const _ of g.j_)_.onError(d);h.queries.delete(e)}function __PRIVATE_raiseSnapshotsInSyncEvent(s){s.Y_.forEach(e=>{e.next()})}var pe,ye;(ye=pe||(pe={})).ea="default",ye.Cache="cache";class __PRIVATE_QueryListener{constructor(e,d,h){this.query=e,this.ta=d,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=h||{}}X_(e){if(!this.options.includeMetadataChanges){const h=[];for(const g of e.docChanges)g.type!==3&&h.push(g);e=new ViewSnapshot(e.query,e.docs,e.oldDocs,h,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let d=!1;return this.na?this.ia(e)&&(this.ta.next(e),d=!0):this.sa(e,this.onlineState)&&(this.oa(e),d=!0),this.ra=e,d}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let d=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),d=!0),d}sa(e,d){if(!e.fromCache||!this.J_())return!0;const h=d!=="Offline";return(!this.options._a||!h)&&(!e.docs.isEmpty()||e.hasCachedResults||d==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const d=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!d)&&this.options.includeMetadataChanges===!0}oa(e){e=ViewSnapshot.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==pe.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_RemovedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_View{constructor(e,d){this.query=e,this.Ta=d,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.Aa=__PRIVATE_newQueryComparator(e),this.Ra=new DocumentSet(this.Aa)}get Va(){return this.Ta}ma(e,d){const h=d?d.fa:new __PRIVATE_DocumentChangeSet,g=d?d.Ra:this.Ra;let _=d?d.mutatedKeys:this.mutatedKeys,j=g,$=!1;const et=this.query.limitType==="F"&&g.size===this.query.limit?g.last():null,tt=this.query.limitType==="L"&&g.size===this.query.limit?g.first():null;if(e.inorderTraversal((nt,rt)=>{const it=g.get(nt),st=__PRIVATE_queryMatches(this.query,rt)?rt:null,ot=!!it&&this.mutatedKeys.has(it.key),lt=!!st&&(st.hasLocalMutations||this.mutatedKeys.has(st.key)&&st.hasCommittedMutations);let dt=!1;it&&st?it.data.isEqual(st.data)?ot!==lt&&(h.track({type:3,doc:st}),dt=!0):this.ga(it,st)||(h.track({type:2,doc:st}),dt=!0,(et&&this.Aa(st,et)>0||tt&&this.Aa(st,tt)<0)&&($=!0)):!it&&st?(h.track({type:0,doc:st}),dt=!0):it&&!st&&(h.track({type:1,doc:it}),dt=!0,(et||tt)&&($=!0)),dt&&(st?(j=j.add(st),_=lt?_.add(nt):_.delete(nt)):(j=j.delete(nt),_=_.delete(nt)))}),this.query.limit!==null)for(;j.size>this.query.limit;){const nt=this.query.limitType==="F"?j.last():j.first();j=j.delete(nt.key),_=_.delete(nt.key),h.track({type:1,doc:nt})}return{Ra:j,fa:h,ns:$,mutatedKeys:_}}ga(e,d){return e.hasLocalMutations&&d.hasCommittedMutations&&!d.hasLocalMutations}applyChanges(e,d,h,g){const _=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const j=e.fa.G_();j.sort((nt,rt)=>function(st,ot){const lt=dt=>{switch(dt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return lt(st)-lt(ot)}(nt.type,rt.type)||this.Aa(nt.doc,rt.doc)),this.pa(h),g=g!=null&&g;const $=d&&!g?this.ya():[],et=this.da.size===0&&this.current&&!g?1:0,tt=et!==this.Ea;return this.Ea=et,j.length!==0||tt?{snapshot:new ViewSnapshot(this.query,e.Ra,_,j,e.mutatedKeys,et===0,tt,!1,!!h&&h.resumeToken.approximateByteSize()>0),wa:$}:{wa:$}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(d=>this.Ta=this.Ta.add(d)),e.modifiedDocuments.forEach(d=>{}),e.removedDocuments.forEach(d=>this.Ta=this.Ta.delete(d)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=__PRIVATE_documentKeySet(),this.Ra.forEach(h=>{this.Sa(h.key)&&(this.da=this.da.add(h.key))});const d=[];return e.forEach(h=>{this.da.has(h)||d.push(new __PRIVATE_RemovedLimboDocument(h))}),this.da.forEach(h=>{e.has(h)||d.push(new __PRIVATE_AddedLimboDocument(h))}),d}ba(e){this.Ta=e.Ts,this.da=__PRIVATE_documentKeySet();const d=this.ma(e.documents);return this.applyChanges(d,!0)}Da(){return ViewSnapshot.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor(e,d,h){this.query=e,this.targetId=d,this.view=h}}class LimboResolution{constructor(e){this.key=e,this.va=!1}}class __PRIVATE_SyncEngineImpl{constructor(e,d,h,g,_,j){this.localStore=e,this.remoteStore=d,this.eventManager=h,this.sharedClientState=g,this.currentUser=_,this.maxConcurrentLimboResolutions=j,this.Ca={},this.Fa=new ObjectMap($=>__PRIVATE_canonifyQuery($),__PRIVATE_queryEquals),this.Ma=new Map,this.xa=new Set,this.Oa=new SortedMap(DocumentKey.comparator),this.Na=new Map,this.La=new __PRIVATE_ReferenceSet,this.Ba={},this.ka=new Map,this.qa=__PRIVATE_TargetIdGenerator.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function __PRIVATE_syncEngineListen(s,e,d=!0){const h=__PRIVATE_ensureWatchCallbacks(s);let g;const _=h.Fa.get(e);return _?(h.sharedClientState.addLocalQueryTarget(_.targetId),g=_.view.Da()):g=await __PRIVATE_allocateTargetAndMaybeListen(h,e,d,!0),g}async function __PRIVATE_triggerRemoteStoreListen(s,e){const d=__PRIVATE_ensureWatchCallbacks(s);await __PRIVATE_allocateTargetAndMaybeListen(d,e,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(s,e,d,h){const g=await __PRIVATE_localStoreAllocateTarget(s.localStore,__PRIVATE_queryToTarget(e)),_=g.targetId,j=s.sharedClientState.addLocalQueryTarget(_,d);let $;return h&&($=await __PRIVATE_initializeViewAndComputeSnapshot(s,e,_,j==="current",g.resumeToken)),s.isPrimaryClient&&d&&__PRIVATE_remoteStoreListen(s.remoteStore,g),$}async function __PRIVATE_initializeViewAndComputeSnapshot(s,e,d,h,g){s.Ka=(rt,it,st)=>async function(lt,dt,at,ut){let pt=dt.view.ma(at);pt.ns&&(pt=await __PRIVATE_localStoreExecuteQuery(lt.localStore,dt.query,!1).then(({documents:gt})=>dt.view.ma(gt,pt)));const vt=ut&&ut.targetChanges.get(dt.targetId),ht=ut&&ut.targetMismatches.get(dt.targetId)!=null,yt=dt.view.applyChanges(pt,lt.isPrimaryClient,vt,ht);return __PRIVATE_updateTrackedLimbos(lt,dt.targetId,yt.wa),yt.snapshot}(s,rt,it,st);const _=await __PRIVATE_localStoreExecuteQuery(s.localStore,e,!0),j=new __PRIVATE_View(e,_.Ts),$=j.ma(_.documents),et=TargetChange.createSynthesizedTargetChangeForCurrentChange(d,h&&s.onlineState!=="Offline",g),tt=j.applyChanges($,s.isPrimaryClient,et);__PRIVATE_updateTrackedLimbos(s,d,tt.wa);const nt=new __PRIVATE_QueryView(e,d,j);return s.Fa.set(e,nt),s.Ma.has(d)?s.Ma.get(d).push(e):s.Ma.set(d,[e]),tt.snapshot}async function __PRIVATE_syncEngineUnlisten(s,e,d){const h=__PRIVATE_debugCast(s),g=h.Fa.get(e),_=h.Ma.get(g.targetId);if(_.length>1)return h.Ma.set(g.targetId,_.filter(j=>!__PRIVATE_queryEquals(j,e))),void h.Fa.delete(e);h.isPrimaryClient?(h.sharedClientState.removeLocalQueryTarget(g.targetId),h.sharedClientState.isActiveQueryTarget(g.targetId)||await __PRIVATE_localStoreReleaseTarget(h.localStore,g.targetId,!1).then(()=>{h.sharedClientState.clearQueryState(g.targetId),d&&__PRIVATE_remoteStoreUnlisten(h.remoteStore,g.targetId),__PRIVATE_removeAndCleanupTarget(h,g.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(h,g.targetId),await __PRIVATE_localStoreReleaseTarget(h.localStore,g.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(s,e){const d=__PRIVATE_debugCast(s),h=d.Fa.get(e),g=d.Ma.get(h.targetId);d.isPrimaryClient&&g.length===1&&(d.sharedClientState.removeLocalQueryTarget(h.targetId),__PRIVATE_remoteStoreUnlisten(d.remoteStore,h.targetId))}async function __PRIVATE_syncEngineWrite(s,e,d){const h=__PRIVATE_syncEngineEnsureWriteCallbacks(s);try{const g=await function(j,$){const et=__PRIVATE_debugCast(j),tt=Timestamp.now(),nt=$.reduce((st,ot)=>st.add(ot.key),__PRIVATE_documentKeySet());let rt,it;return et.persistence.runTransaction("Locally write mutations","readwrite",st=>{let ot=__PRIVATE_mutableDocumentMap(),lt=__PRIVATE_documentKeySet();return et.cs.getEntries(st,nt).next(dt=>{ot=dt,ot.forEach((at,ut)=>{ut.isValidDocument()||(lt=lt.add(at))})}).next(()=>et.localDocuments.getOverlayedDocuments(st,ot)).next(dt=>{rt=dt;const at=[];for(const ut of $){const pt=__PRIVATE_mutationExtractBaseValue(ut,rt.get(ut.key).overlayedDocument);pt!=null&&at.push(new __PRIVATE_PatchMutation(ut.key,pt,__PRIVATE_extractFieldMask(pt.value.mapValue),Precondition.exists(!0)))}return et.mutationQueue.addMutationBatch(st,tt,at,$)}).next(dt=>{it=dt;const at=dt.applyToLocalDocumentSet(rt,lt);return et.documentOverlayCache.saveOverlays(st,dt.batchId,at)})}).then(()=>({batchId:it.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(rt)}))}(h.localStore,e);h.sharedClientState.addPendingMutation(g.batchId),function(j,$,et){let tt=j.Ba[j.currentUser.toKey()];tt||(tt=new SortedMap(__PRIVATE_primitiveComparator)),tt=tt.insert($,et),j.Ba[j.currentUser.toKey()]=tt}(h,g.batchId,d),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(h,g.changes),await __PRIVATE_fillWritePipeline(h.remoteStore)}catch(g){const _=__PRIVATE_wrapInUserErrorIfRecoverable(g,"Failed to persist write");d.reject(_)}}async function __PRIVATE_syncEngineApplyRemoteEvent(s,e){const d=__PRIVATE_debugCast(s);try{const h=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(d.localStore,e);e.targetChanges.forEach((g,_)=>{const j=d.Na.get(_);j&&(__PRIVATE_hardAssert(g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size<=1),g.addedDocuments.size>0?j.va=!0:g.modifiedDocuments.size>0?__PRIVATE_hardAssert(j.va):g.removedDocuments.size>0&&(__PRIVATE_hardAssert(j.va),j.va=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(d,h,e)}catch(h){await __PRIVATE_ignoreIfPrimaryLeaseLoss(h)}}function __PRIVATE_syncEngineApplyOnlineStateChange(s,e,d){const h=__PRIVATE_debugCast(s);if(h.isPrimaryClient&&d===0||!h.isPrimaryClient&&d===1){const g=[];h.Fa.forEach((_,j)=>{const $=j.view.Z_(e);$.snapshot&&g.push($.snapshot)}),function(j,$){const et=__PRIVATE_debugCast(j);et.onlineState=$;let tt=!1;et.queries.forEach((nt,rt)=>{for(const it of rt.j_)it.Z_($)&&(tt=!0)}),tt&&__PRIVATE_raiseSnapshotsInSyncEvent(et)}(h.eventManager,e),g.length&&h.Ca.d_(g),h.onlineState=e,h.isPrimaryClient&&h.sharedClientState.setOnlineState(e)}}async function __PRIVATE_syncEngineRejectListen(s,e,d){const h=__PRIVATE_debugCast(s);h.sharedClientState.updateQueryState(e,"rejected",d);const g=h.Na.get(e),_=g&&g.key;if(_){let j=new SortedMap(DocumentKey.comparator);j=j.insert(_,MutableDocument.newNoDocument(_,SnapshotVersion.min()));const $=__PRIVATE_documentKeySet().add(_),et=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),j,$);await __PRIVATE_syncEngineApplyRemoteEvent(h,et),h.Oa=h.Oa.remove(_),h.Na.delete(e),__PRIVATE_pumpEnqueuedLimboResolutions(h)}else await __PRIVATE_localStoreReleaseTarget(h.localStore,e,!1).then(()=>__PRIVATE_removeAndCleanupTarget(h,e,d)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(s,e){const d=__PRIVATE_debugCast(s),h=e.batch.batchId;try{const g=await __PRIVATE_localStoreAcknowledgeBatch(d.localStore,e);__PRIVATE_processUserCallback(d,h,null),__PRIVATE_triggerPendingWritesCallbacks(d,h),d.sharedClientState.updateMutationState(h,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(d,g)}catch(g){await __PRIVATE_ignoreIfPrimaryLeaseLoss(g)}}async function __PRIVATE_syncEngineRejectFailedWrite(s,e,d){const h=__PRIVATE_debugCast(s);try{const g=await function(j,$){const et=__PRIVATE_debugCast(j);return et.persistence.runTransaction("Reject batch","readwrite-primary",tt=>{let nt;return et.mutationQueue.lookupMutationBatch(tt,$).next(rt=>(__PRIVATE_hardAssert(rt!==null),nt=rt.keys(),et.mutationQueue.removeMutationBatch(tt,rt))).next(()=>et.mutationQueue.performConsistencyCheck(tt)).next(()=>et.documentOverlayCache.removeOverlaysForBatchId(tt,nt,$)).next(()=>et.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(tt,nt)).next(()=>et.localDocuments.getDocuments(tt,nt))})}(h.localStore,e);__PRIVATE_processUserCallback(h,e,d),__PRIVATE_triggerPendingWritesCallbacks(h,e),h.sharedClientState.updateMutationState(e,"rejected",d),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(h,g)}catch(g){await __PRIVATE_ignoreIfPrimaryLeaseLoss(g)}}function __PRIVATE_triggerPendingWritesCallbacks(s,e){(s.ka.get(e)||[]).forEach(d=>{d.resolve()}),s.ka.delete(e)}function __PRIVATE_processUserCallback(s,e,d){const h=__PRIVATE_debugCast(s);let g=h.Ba[h.currentUser.toKey()];if(g){const _=g.get(e);_&&(d?_.reject(d):_.resolve(),g=g.remove(e)),h.Ba[h.currentUser.toKey()]=g}}function __PRIVATE_removeAndCleanupTarget(s,e,d=null){s.sharedClientState.removeLocalQueryTarget(e);for(const h of s.Ma.get(e))s.Fa.delete(h),d&&s.Ca.$a(h,d);s.Ma.delete(e),s.isPrimaryClient&&s.La.gr(e).forEach(h=>{s.La.containsKey(h)||__PRIVATE_removeLimboTarget(s,h)})}function __PRIVATE_removeLimboTarget(s,e){s.xa.delete(e.path.canonicalString());const d=s.Oa.get(e);d!==null&&(__PRIVATE_remoteStoreUnlisten(s.remoteStore,d),s.Oa=s.Oa.remove(e),s.Na.delete(d),__PRIVATE_pumpEnqueuedLimboResolutions(s))}function __PRIVATE_updateTrackedLimbos(s,e,d){for(const h of d)h instanceof __PRIVATE_AddedLimboDocument?(s.La.addReference(h.key,e),__PRIVATE_trackLimboChange(s,h)):h instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug("SyncEngine","Document no longer in limbo: "+h.key),s.La.removeReference(h.key,e),s.La.containsKey(h.key)||__PRIVATE_removeLimboTarget(s,h.key)):fail()}function __PRIVATE_trackLimboChange(s,e){const d=e.key,h=d.path.canonicalString();s.Oa.get(d)||s.xa.has(h)||(__PRIVATE_logDebug("SyncEngine","New document in limbo: "+d),s.xa.add(h),__PRIVATE_pumpEnqueuedLimboResolutions(s))}function __PRIVATE_pumpEnqueuedLimboResolutions(s){for(;s.xa.size>0&&s.Oa.size<s.maxConcurrentLimboResolutions;){const e=s.xa.values().next().value;s.xa.delete(e);const d=new DocumentKey(ResourcePath.fromString(e)),h=s.qa.next();s.Na.set(h,new LimboResolution(d)),s.Oa=s.Oa.insert(d,h),__PRIVATE_remoteStoreListen(s.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(d.path)),h,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.oe))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(s,e,d){const h=__PRIVATE_debugCast(s),g=[],_=[],j=[];h.Fa.isEmpty()||(h.Fa.forEach(($,et)=>{j.push(h.Ka(et,e,d).then(tt=>{var nt;if((tt||d)&&h.isPrimaryClient){const rt=tt?!tt.fromCache:(nt=d==null?void 0:d.targetChanges.get(et.targetId))===null||nt===void 0?void 0:nt.current;h.sharedClientState.updateQueryState(et.targetId,rt?"current":"not-current")}if(tt){g.push(tt);const rt=__PRIVATE_LocalViewChanges.Wi(et.targetId,tt);_.push(rt)}}))}),await Promise.all(j),h.Ca.d_(g),await async function(et,tt){const nt=__PRIVATE_debugCast(et);try{await nt.persistence.runTransaction("notifyLocalViewChanges","readwrite",rt=>PersistencePromise.forEach(tt,it=>PersistencePromise.forEach(it.$i,st=>nt.persistence.referenceDelegate.addReference(rt,it.targetId,st)).next(()=>PersistencePromise.forEach(it.Ui,st=>nt.persistence.referenceDelegate.removeReference(rt,it.targetId,st)))))}catch(rt){if(!__PRIVATE_isIndexedDbTransactionError(rt))throw rt;__PRIVATE_logDebug("LocalStore","Failed to update sequence numbers: "+rt)}for(const rt of tt){const it=rt.targetId;if(!rt.fromCache){const st=nt.os.get(it),ot=st.snapshotVersion,lt=st.withLastLimboFreeSnapshotVersion(ot);nt.os=nt.os.insert(it,lt)}}}(h.localStore,_))}async function __PRIVATE_syncEngineHandleCredentialChange(s,e){const d=__PRIVATE_debugCast(s);if(!d.currentUser.isEqual(e)){__PRIVATE_logDebug("SyncEngine","User change. New user:",e.toKey());const h=await __PRIVATE_localStoreHandleUserChange(d.localStore,e);d.currentUser=e,function(_,j){_.ka.forEach($=>{$.forEach(et=>{et.reject(new FirestoreError(D.CANCELLED,j))})}),_.ka.clear()}(d,"'waitForPendingWrites' promise is rejected due to a user change."),d.sharedClientState.handleUserChange(e,h.removedBatchIds,h.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(d,h.hs)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(s,e){const d=__PRIVATE_debugCast(s),h=d.Na.get(e);if(h&&h.va)return __PRIVATE_documentKeySet().add(h.key);{let g=__PRIVATE_documentKeySet();const _=d.Ma.get(e);if(!_)return g;for(const j of _){const $=d.Fa.get(j);g=g.unionWith($.view.Va)}return g}}function __PRIVATE_ensureWatchCallbacks(s){const e=__PRIVATE_debugCast(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,e),e.Ca.d_=__PRIVATE_eventManagerOnWatchChange.bind(null,e.eventManager),e.Ca.$a=__PRIVATE_eventManagerOnWatchError.bind(null,e.eventManager),e}function __PRIVATE_syncEngineEnsureWriteCallbacks(s){const e=__PRIVATE_debugCast(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,e),e}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=__PRIVATE_newSerializer(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,d){return null}Ha(e,d){return null}za(e){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,e.initialUser,this.serializer)}Ga(e){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Zr,this.serializer)}Wa(e){return new __PRIVATE_MemorySharedClientState}async terminate(){var e,d;(e=this.gcScheduler)===null||e===void 0||e.stop(),(d=this.indexBackfillerScheduler)===null||d===void 0||d.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class OnlineComponentProvider{async initialize(e,d){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(d),this.remoteStore=this.createRemoteStore(d),this.eventManager=this.createEventManager(d),this.syncEngine=this.createSyncEngine(d,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=h=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,h,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(e){const d=__PRIVATE_newSerializer(e.databaseInfo.databaseId),h=function(_){return new __PRIVATE_WebChannelConnection(_)}(e.databaseInfo);return function(_,j,$,et){return new __PRIVATE_DatastoreImpl(_,j,$,et)}(e.authCredentials,e.appCheckCredentials,h,d)}createRemoteStore(e){return function(h,g,_,j,$){return new __PRIVATE_RemoteStoreImpl(h,g,_,j,$)}(this.localStore,this.datastore,e.asyncQueue,d=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,d,0),function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(e,d){return function(g,_,j,$,et,tt,nt){const rt=new __PRIVATE_SyncEngineImpl(g,_,j,$,et,tt);return nt&&(rt.Qa=!0),rt}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,d)}async terminate(){var e,d;await async function(g){const _=__PRIVATE_debugCast(g);__PRIVATE_logDebug("RemoteStore","RemoteStore shutting down."),_.L_.add(5),await __PRIVATE_disableNetworkInternal(_),_.k_.shutdown(),_.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(d=this.eventManager)===null||d===void 0||d.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):__PRIVATE_logError("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,d){setTimeout(()=>{this.muted||e(d)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreClient{constructor(e,d,h,g,_){this.authCredentials=e,this.appCheckCredentials=d,this.asyncQueue=h,this.databaseInfo=g,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=_,this.authCredentials.start(h,async j=>{__PRIVATE_logDebug("FirestoreClient","Received user=",j.uid),await this.authCredentialListener(j),this.user=j}),this.appCheckCredentials.start(h,j=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",j),this.appCheckCredentialListener(j,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(d){const h=__PRIVATE_wrapInUserErrorIfRecoverable(d,"Failed to shutdown persistence");e.reject(h)}}),e.promise}}async function __PRIVATE_setOfflineComponentProvider(s,e){s.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("FirestoreClient","Initializing OfflineComponentProvider");const d=s.configuration;await e.initialize(d);let h=d.initialUser;s.setCredentialChangeListener(async g=>{h.isEqual(g)||(await __PRIVATE_localStoreHandleUserChange(e.localStore,g),h=g)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function __PRIVATE_setOnlineComponentProvider(s,e){s.asyncQueue.verifyOperationInProgress();const d=await __PRIVATE_ensureOfflineComponents(s);__PRIVATE_logDebug("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(d,s.configuration),s.setCredentialChangeListener(h=>__PRIVATE_remoteStoreHandleCredentialChange(e.remoteStore,h)),s.setAppCheckTokenChangeListener((h,g)=>__PRIVATE_remoteStoreHandleCredentialChange(e.remoteStore,g)),s._onlineComponents=e}async function __PRIVATE_ensureOfflineComponents(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){__PRIVATE_logDebug("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(s,s._uninitializedComponentsProvider._offline)}catch(e){const d=e;if(!function(g){return g.name==="FirebaseError"?g.code===D.FAILED_PRECONDITION||g.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&g instanceof DOMException)||g.code===22||g.code===20||g.code===11}(d))throw d;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+d),await __PRIVATE_setOfflineComponentProvider(s,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug("FirestoreClient","Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(s,new __PRIVATE_MemoryOfflineComponentProvider);return s._offlineComponents}async function __PRIVATE_ensureOnlineComponents(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(__PRIVATE_logDebug("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(s,s._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug("FirestoreClient","Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(s,new OnlineComponentProvider))),s._onlineComponents}function __PRIVATE_getSyncEngine(s){return __PRIVATE_ensureOnlineComponents(s).then(e=>e.syncEngine)}async function __PRIVATE_getEventManager(s){const e=await __PRIVATE_ensureOnlineComponents(s),d=e.eventManager;return d.onListen=__PRIVATE_syncEngineListen.bind(null,e.syncEngine),d.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,e.syncEngine),d.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,e.syncEngine),d.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,e.syncEngine),d}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(s,e,d={}){const h=new __PRIVATE_Deferred;return s.asyncQueue.enqueueAndForget(async()=>function(_,j,$,et,tt){const nt=new __PRIVATE_AsyncObserver({next:it=>{nt.Za(),j.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(_,rt));const st=it.docs.has($);!st&&it.fromCache?tt.reject(new FirestoreError(D.UNAVAILABLE,"Failed to get document because the client is offline.")):st&&it.fromCache&&et&&et.source==="server"?tt.reject(new FirestoreError(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):tt.resolve(it)},error:it=>tt.reject(it)}),rt=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath($.path),nt,{includeMetadataChanges:!0,_a:!0});return __PRIVATE_eventManagerListen(_,rt)}(await __PRIVATE_getEventManager(s),s.asyncQueue,e,d,h)),h.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(s,e,d={}){const h=new __PRIVATE_Deferred;return s.asyncQueue.enqueueAndForget(async()=>function(_,j,$,et,tt){const nt=new __PRIVATE_AsyncObserver({next:it=>{nt.Za(),j.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(_,rt)),it.fromCache&&et.source==="server"?tt.reject(new FirestoreError(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):tt.resolve(it)},error:it=>tt.reject(it)}),rt=new __PRIVATE_QueryListener($,nt,{includeMetadataChanges:!0,_a:!0});return __PRIVATE_eventManagerListen(_,rt)}(await __PRIVATE_getEventManager(s),s.asyncQueue,e,d,h)),h.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(s,e,d){if(!d)throw new FirestoreError(D.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function __PRIVATE_validateIsNotUsedTogether(s,e,d,h){if(e===!0&&h===!0)throw new FirestoreError(D.INVALID_ARGUMENT,`${s} and ${d} cannot be used together.`)}function __PRIVATE_validateDocumentPath(s){if(!DocumentKey.isDocumentKey(s))throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function __PRIVATE_validateCollectionPath(s){if(DocumentKey.isDocumentKey(s))throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function __PRIVATE_valueDescription(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(h){return h.constructor?h.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":fail()}function __PRIVATE_cast(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new FirestoreError(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const d=__PRIVATE_valueDescription(s);throw new FirestoreError(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${d}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreSettingsImpl{constructor(e){var d,h;if(e.host===void 0){if(e.ssl!==void 0)throw new FirestoreError(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(d=e.ssl)===null||d===void 0||d;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new FirestoreError(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((h=e.experimentalLongPollingOptions)!==null&&h!==void 0?h:{}),function(_){if(_.timeoutSeconds!==void 0){if(isNaN(_.timeoutSeconds))throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (must not be NaN)`);if(_.timeoutSeconds<5)throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (minimum allowed value is 5)`);if(_.timeoutSeconds>30)throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(h,g){return h.timeoutSeconds===g.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Firestore$1{constructor(e,d,h,g){this._authCredentials=e,this._appCheckCredentials=d,this._databaseId=h,this._app=g,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new FirestoreError(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(e),e.credentials!==void 0&&(this._authCredentials=function(h){if(!h)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(h.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(h.sessionIndex||"0",h.iamToken||null,h.authTokenFactory||null);case"provider":return h.client;default:throw new FirestoreError(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(d){const h=we.get(d);h&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),we.delete(d),h.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(s,e,d,h={}){var g;const _=(s=__PRIVATE_cast(s,Firestore$1))._getSettings(),j=`${e}:${d}`;if(_.host!=="firestore.googleapis.com"&&_.host!==j&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},_),{host:j,ssl:!1})),h.mockUserToken){let $,et;if(typeof h.mockUserToken=="string")$=h.mockUserToken,et=User.MOCK_USER;else{$=createMockUserToken(h.mockUserToken,(g=s._app)===null||g===void 0?void 0:g.options.projectId);const tt=h.mockUserToken.sub||h.mockUserToken.user_id;if(!tt)throw new FirestoreError(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");et=new User(tt)}s._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken($,et))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(e,d,h){this.converter=d,this._query=h,this.type="query",this.firestore=e}withConverter(e){return new Query(this.firestore,e,this._query)}}class DocumentReference{constructor(e,d,h){this.converter=d,this._key=h,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new DocumentReference(this.firestore,e,this._key)}}class CollectionReference extends Query{constructor(e,d,h){super(e,d,__PRIVATE_newQueryForPath(h)),this._path=h,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(e))}withConverter(e){return new CollectionReference(this.firestore,e,this._path)}}function collection(s,e,...d){if(s=getModularInstance(s),__PRIVATE_validateNonEmptyArgument("collection","path",e),s instanceof Firestore$1){const h=ResourcePath.fromString(e,...d);return __PRIVATE_validateCollectionPath(h),new CollectionReference(s,null,h)}{if(!(s instanceof DocumentReference||s instanceof CollectionReference))throw new FirestoreError(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const h=s._path.child(ResourcePath.fromString(e,...d));return __PRIVATE_validateCollectionPath(h),new CollectionReference(s.firestore,null,h)}}function doc(s,e,...d){if(s=getModularInstance(s),arguments.length===1&&(e=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",e),s instanceof Firestore$1){const h=ResourcePath.fromString(e,...d);return __PRIVATE_validateDocumentPath(h),new DocumentReference(s,null,new DocumentKey(h))}{if(!(s instanceof DocumentReference||s instanceof CollectionReference))throw new FirestoreError(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const h=s._path.child(ResourcePath.fromString(e,...d));return __PRIVATE_validateDocumentPath(h),new DocumentReference(s.firestore,s instanceof CollectionReference?s.converter:null,new DocumentKey(h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncQueueImpl{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.Vu=()=>{const h=getDocument$1();h&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+h.visibilityState),this.t_.jo()},this.mu=e;const d=getDocument$1();d&&typeof d.addEventListener=="function"&&d.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const d=getDocument$1();d&&typeof d.removeEventListener=="function"&&d.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const d=new __PRIVATE_Deferred;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(d.resolve,d.reject),d.promise)).then(()=>d.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const d=this.mu.then(()=>(this.du=!0,e().catch(h=>{this.Eu=h,this.du=!1;const g=function(j){let $=j.message||"";return j.stack&&($=j.stack.includes(j.message)?j.stack:j.message+`
`+j.stack),$}(h);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",g),h}).then(h=>(this.du=!1,h))));return this.mu=d,d}enqueueAfterDelay(e,d,h){this.fu(),this.Ru.indexOf(e)>-1&&(d=0);const g=DelayedOperation.createAndSchedule(this,e,d,h,_=>this.yu(_));return this.Tu.push(g),g}fu(){this.Eu&&fail()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const d of this.Tu)if(d.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((d,h)=>d.targetTimeMs-h.targetTimeMs);for(const d of this.Tu)if(d.skipDelay(),e!=="all"&&d.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const d=this.Tu.indexOf(e);this.Tu.splice(d,1)}}function __PRIVATE_isPartialObserver(s){return function(d,h){if(typeof d!="object"||d===null)return!1;const g=d;for(const _ of h)if(_ in g&&typeof g[_]=="function")return!0;return!1}(s,["next","error","complete"])}class Firestore extends Firestore$1{constructor(e,d,h,g){super(e,d,h,g),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(g==null?void 0:g.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(e),this._firestoreClient=void 0,await e}}}function getFirestore(s,e){const d=typeof s=="object"?s:getApp(),h=typeof s=="string"?s:"(default)",g=_getProvider(d,"firestore").getImmediate({identifier:h});if(!g._initialized){const _=getDefaultEmulatorHostnameAndPort("firestore");_&&connectFirestoreEmulator(g,..._)}return g}function ensureFirestoreConfigured(s){if(s._terminated)throw new FirestoreError(D.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||__PRIVATE_configureFirestore(s),s._firestoreClient}function __PRIVATE_configureFirestore(s){var e,d,h;const g=s._freezeSettings(),_=function($,et,tt,nt){return new DatabaseInfo($,et,tt,nt.host,nt.ssl,nt.experimentalForceLongPolling,nt.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(nt.experimentalLongPollingOptions),nt.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,g);s._componentsProvider||!((d=g.localCache)===null||d===void 0)&&d._offlineComponentProvider&&(!((h=g.localCache)===null||h===void 0)&&h._onlineComponentProvider)&&(s._componentsProvider={_offline:g.localCache._offlineComponentProvider,_online:g.localCache._onlineComponentProvider}),s._firestoreClient=new FirestoreClient(s._authCredentials,s._appCheckCredentials,s._queue,_,s._componentsProvider&&function($){const et=$==null?void 0:$._online.build();return{_offline:$==null?void 0:$._offline.build(et),_online:et}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bytes(ByteString.fromBase64String(e))}catch(d){throw new FirestoreError(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+d)}}static fromUint8Array(e){return new Bytes(ByteString.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...e){for(let d=0;d<e.length;++d)if(e[d].length===0)throw new FirestoreError(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(e,d){if(!isFinite(e)||e<-90||e>90)throw new FirestoreError(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(d)||d<-180||d>180)throw new FirestoreError(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+d);this._lat=e,this._long=d}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return __PRIVATE_primitiveComparator(this._lat,e._lat)||__PRIVATE_primitiveComparator(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor(e){this._values=(e||[]).map(d=>d)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(h,g){if(h.length!==g.length)return!1;for(let _=0;_<h.length;++_)if(h[_]!==g[_])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be=/^__.*__$/;class ParsedSetData{constructor(e,d,h){this.data=e,this.fieldMask=d,this.fieldTransforms=h}toMutation(e,d){return this.fieldMask!==null?new __PRIVATE_PatchMutation(e,this.data,this.fieldMask,d,this.fieldTransforms):new __PRIVATE_SetMutation(e,this.data,d,this.fieldTransforms)}}class ParsedUpdateData{constructor(e,d,h){this.data=e,this.fieldMask=d,this.fieldTransforms=h}toMutation(e,d){return new __PRIVATE_PatchMutation(e,this.data,this.fieldMask,d,this.fieldTransforms)}}function __PRIVATE_isWrite(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(e,d,h,g,_,j){this.settings=e,this.databaseId=d,this.serializer=h,this.ignoreUndefinedProperties=g,_===void 0&&this.vu(),this.fieldTransforms=_||[],this.fieldMask=j||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var d;const h=(d=this.path)===null||d===void 0?void 0:d.child(e),g=this.Fu({path:h,xu:!1});return g.Ou(e),g}Nu(e){var d;const h=(d=this.path)===null||d===void 0?void 0:d.child(e),g=this.Fu({path:h,xu:!1});return g.vu(),g}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return __PRIVATE_createError(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(d=>e.isPrefixOf(d))!==void 0||this.fieldTransforms.find(d=>e.isPrefixOf(d.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(__PRIVATE_isWrite(this.Cu)&&be.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(e,d,h){this.databaseId=e,this.ignoreUndefinedProperties=d,this.serializer=h||__PRIVATE_newSerializer(e)}Qu(e,d,h,g=!1){return new __PRIVATE_ParseContextImpl({Cu:e,methodName:d,qu:h,path:FieldPath$1.emptyPath(),xu:!1,ku:g},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(s){const e=s._freezeSettings(),d=__PRIVATE_newSerializer(s._databaseId);return new __PRIVATE_UserDataReader(s._databaseId,!!e.ignoreUndefinedProperties,d)}function __PRIVATE_parseSetData(s,e,d,h,g,_={}){const j=s.Qu(_.merge||_.mergeFields?2:0,e,d,g);__PRIVATE_validatePlainObject("Data must be an object, but it was:",j,h);const $=__PRIVATE_parseObject(h,j);let et,tt;if(_.merge)et=new FieldMask(j.fieldMask),tt=j.fieldTransforms;else if(_.mergeFields){const nt=[];for(const rt of _.mergeFields){const it=__PRIVATE_fieldPathFromArgument$1(e,rt,d);if(!j.contains(it))throw new FirestoreError(D.INVALID_ARGUMENT,`Field '${it}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(nt,it)||nt.push(it)}et=new FieldMask(nt),tt=j.fieldTransforms.filter(rt=>et.covers(rt.field))}else et=null,tt=j.fieldTransforms;return new ParsedSetData(new ObjectValue($),et,tt)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof __PRIVATE_DeleteFieldValueImpl}}function __PRIVATE_createSentinelChildContext(s,e,d){return new __PRIVATE_ParseContextImpl({Cu:3,qu:e.settings.qu,methodName:s._methodName,xu:d},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class __PRIVATE_ArrayUnionFieldValueImpl extends FieldValue{constructor(e,d){super(e),this.Ku=d}_toFieldTransform(e){const d=__PRIVATE_createSentinelChildContext(this,e,!0),h=this.Ku.map(_=>__PRIVATE_parseData(_,d)),g=new __PRIVATE_ArrayUnionTransformOperation(h);return new FieldTransform(e.path,g)}isEqual(e){return e instanceof __PRIVATE_ArrayUnionFieldValueImpl&&deepEqual(this.Ku,e.Ku)}}function __PRIVATE_parseUpdateData(s,e,d,h){const g=s.Qu(1,e,d);__PRIVATE_validatePlainObject("Data must be an object, but it was:",g,h);const _=[],j=ObjectValue.empty();forEach(h,(et,tt)=>{const nt=__PRIVATE_fieldPathFromDotSeparatedString(e,et,d);tt=getModularInstance(tt);const rt=g.Nu(nt);if(tt instanceof __PRIVATE_DeleteFieldValueImpl)_.push(nt);else{const it=__PRIVATE_parseData(tt,rt);it!=null&&(_.push(nt),j.set(nt,it))}});const $=new FieldMask(_);return new ParsedUpdateData(j,$,g.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(s,e,d,h,g,_){const j=s.Qu(1,e,d),$=[__PRIVATE_fieldPathFromArgument$1(e,h,d)],et=[g];if(_.length%2!=0)throw new FirestoreError(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let it=0;it<_.length;it+=2)$.push(__PRIVATE_fieldPathFromArgument$1(e,_[it])),et.push(_[it+1]);const tt=[],nt=ObjectValue.empty();for(let it=$.length-1;it>=0;--it)if(!__PRIVATE_fieldMaskContains(tt,$[it])){const st=$[it];let ot=et[it];ot=getModularInstance(ot);const lt=j.Nu(st);if(ot instanceof __PRIVATE_DeleteFieldValueImpl)tt.push(st);else{const dt=__PRIVATE_parseData(ot,lt);dt!=null&&(tt.push(st),nt.set(st,dt))}}const rt=new FieldMask(tt);return new ParsedUpdateData(nt,rt,j.fieldTransforms)}function __PRIVATE_parseData(s,e){if(__PRIVATE_looksLikeJsonObject(s=getModularInstance(s)))return __PRIVATE_validatePlainObject("Unsupported field value:",e,s),__PRIVATE_parseObject(s,e);if(s instanceof FieldValue)return function(h,g){if(!__PRIVATE_isWrite(g.Cu))throw g.Bu(`${h._methodName}() can only be used with update() and set()`);if(!g.path)throw g.Bu(`${h._methodName}() is not currently supported inside arrays`);const _=h._toFieldTransform(g);_&&g.fieldTransforms.push(_)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(h,g){const _=[];let j=0;for(const $ of h){let et=__PRIVATE_parseData($,g.Lu(j));et==null&&(et={nullValue:"NULL_VALUE"}),_.push(et),j++}return{arrayValue:{values:_}}}(s,e)}return function(h,g){if((h=getModularInstance(h))===null)return{nullValue:"NULL_VALUE"};if(typeof h=="number")return toNumber(g.serializer,h);if(typeof h=="boolean")return{booleanValue:h};if(typeof h=="string")return{stringValue:h};if(h instanceof Date){const _=Timestamp.fromDate(h);return{timestampValue:toTimestamp(g.serializer,_)}}if(h instanceof Timestamp){const _=new Timestamp(h.seconds,1e3*Math.floor(h.nanoseconds/1e3));return{timestampValue:toTimestamp(g.serializer,_)}}if(h instanceof GeoPoint)return{geoPointValue:{latitude:h.latitude,longitude:h.longitude}};if(h instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(g.serializer,h._byteString)};if(h instanceof DocumentReference){const _=g.databaseId,j=h.firestore._databaseId;if(!j.isEqual(_))throw g.Bu(`Document reference is for database ${j.projectId}/${j.database} but should be for database ${_.projectId}/${_.database}`);return{referenceValue:__PRIVATE_toResourceName(h.firestore._databaseId||g.databaseId,h._key.path)}}if(h instanceof VectorValue)return function(j,$){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:j.toArray().map(et=>{if(typeof et!="number")throw $.Bu("VectorValues must only contain numeric values.");return __PRIVATE_toDouble($.serializer,et)})}}}}}}(h,g);throw g.Bu(`Unsupported field value: ${__PRIVATE_valueDescription(h)}`)}(s,e)}function __PRIVATE_parseObject(s,e){const d={};return isEmpty(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):forEach(s,(h,g)=>{const _=__PRIVATE_parseData(g,e.Mu(h));_!=null&&(d[h]=_)}),{mapValue:{fields:d}}}function __PRIVATE_looksLikeJsonObject(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Timestamp||s instanceof GeoPoint||s instanceof Bytes||s instanceof DocumentReference||s instanceof FieldValue||s instanceof VectorValue)}function __PRIVATE_validatePlainObject(s,e,d){if(!__PRIVATE_looksLikeJsonObject(d)||!function(g){return typeof g=="object"&&g!==null&&(Object.getPrototypeOf(g)===Object.prototype||Object.getPrototypeOf(g)===null)}(d)){const h=__PRIVATE_valueDescription(d);throw h==="an object"?e.Bu(s+" a custom object"):e.Bu(s+" "+h)}}function __PRIVATE_fieldPathFromArgument$1(s,e,d){if((e=getModularInstance(e))instanceof FieldPath)return e._internalPath;if(typeof e=="string")return __PRIVATE_fieldPathFromDotSeparatedString(s,e);throw __PRIVATE_createError("Field path arguments must be of type string or ",s,!1,void 0,d)}const De=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(s,e,d){if(e.search(De)>=0)throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,d);try{return new FieldPath(...e.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,d)}}function __PRIVATE_createError(s,e,d,h,g){const _=h&&!h.isEmpty(),j=g!==void 0;let $=`Function ${e}() called with invalid data`;d&&($+=" (via `toFirestore()`)"),$+=". ";let et="";return(_||j)&&(et+=" (found",_&&(et+=` in field ${h}`),j&&(et+=` in document ${g}`),et+=")"),new FirestoreError(D.INVALID_ARGUMENT,$+s+et)}function __PRIVATE_fieldMaskContains(s,e){return s.some(d=>d.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(e,d,h,g,_){this._firestore=e,this._userDataWriter=d,this._key=h,this._document=g,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const d=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(d!==null)return this._userDataWriter.convertValue(d)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(s,e){return typeof e=="string"?__PRIVATE_fieldPathFromDotSeparatedString(s,e):e instanceof FieldPath?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new FirestoreError(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AbstractUserDataWriter{convertValue(e,d="none"){switch(__PRIVATE_typeOrder(e)){case 0:return null;case 1:return e.booleanValue;case 2:return __PRIVATE_normalizeNumber(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,d);case 5:return e.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,d);case 11:return this.convertObject(e.mapValue,d);case 10:return this.convertVectorValue(e.mapValue);default:throw fail()}}convertObject(e,d){return this.convertObjectMap(e.fields,d)}convertObjectMap(e,d="none"){const h={};return forEach(e,(g,_)=>{h[g]=this.convertValue(_,d)}),h}convertVectorValue(e){var d,h,g;const _=(g=(h=(d=e.fields)===null||d===void 0?void 0:d.value.arrayValue)===null||h===void 0?void 0:h.values)===null||g===void 0?void 0:g.map(j=>__PRIVATE_normalizeNumber(j.doubleValue));return new VectorValue(_)}convertGeoPoint(e){return new GeoPoint(__PRIVATE_normalizeNumber(e.latitude),__PRIVATE_normalizeNumber(e.longitude))}convertArray(e,d){return(e.values||[]).map(h=>this.convertValue(h,d))}convertServerTimestamp(e,d){switch(d){case"previous":const h=__PRIVATE_getPreviousValue(e);return h==null?null:this.convertValue(h,d);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(e));default:return null}}convertTimestamp(e){const d=__PRIVATE_normalizeTimestamp(e);return new Timestamp(d.seconds,d.nanos)}convertDocumentKey(e,d){const h=ResourcePath.fromString(e);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(h));const g=new DatabaseId(h.get(1),h.get(3)),_=new DocumentKey(h.popFirst(5));return g.isEqual(d)||__PRIVATE_logError(`Document ${_} contains a document reference within a different database (${g.projectId}/${g.database}) which is not supported. It will be treated as a reference in the current database (${d.projectId}/${d.database}) instead.`),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(s,e,d){let h;return h=s?s.toFirestore(e):e,h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(e,d){this.hasPendingWrites=e,this.fromCache=d}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(e,d,h,g,_,j){super(e,d,h,g,j),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const d=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(d,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,d={}){if(this._document){const h=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(h!==null)return this._userDataWriter.convertValue(h,d.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(e={}){return super.data(e)}}class QuerySnapshot{constructor(e,d,h,g){this._firestore=e,this._userDataWriter=d,this._snapshot=g,this.metadata=new SnapshotMetadata(g.hasPendingWrites,g.fromCache),this.query=h}get docs(){const e=[];return this.forEach(d=>e.push(d)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,d){this._snapshot.docs.forEach(h=>{e.call(d,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,h.key,h,new SnapshotMetadata(this._snapshot.mutatedKeys.has(h.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const d=!!e.includeMetadataChanges;if(d&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===d||(this._cachedChanges=function(g,_){if(g._snapshot.oldDocs.isEmpty()){let j=0;return g._snapshot.docChanges.map($=>{const et=new QueryDocumentSnapshot(g._firestore,g._userDataWriter,$.doc.key,$.doc,new SnapshotMetadata(g._snapshot.mutatedKeys.has($.doc.key),g._snapshot.fromCache),g.query.converter);return $.doc,{type:"added",doc:et,oldIndex:-1,newIndex:j++}})}{let j=g._snapshot.oldDocs;return g._snapshot.docChanges.filter($=>_||$.type!==3).map($=>{const et=new QueryDocumentSnapshot(g._firestore,g._userDataWriter,$.doc.key,$.doc,new SnapshotMetadata(g._snapshot.mutatedKeys.has($.doc.key),g._snapshot.fromCache),g.query.converter);let tt=-1,nt=-1;return $.type!==0&&(tt=j.indexOf($.doc.key),j=j.delete($.doc.key)),$.type!==1&&(j=j.add($.doc),nt=j.indexOf($.doc.key)),{type:__PRIVATE_resultChangeType($.type),doc:et,oldIndex:tt,newIndex:nt}})}}(this,d),this._cachedChangesIncludeMetadataChanges=d),this._cachedChanges}}function __PRIVATE_resultChangeType(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(s){s=__PRIVATE_cast(s,DocumentReference);const e=__PRIVATE_cast(s.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(e),s._key).then(d=>__PRIVATE_convertToDocSnapshot(e,s,d))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bytes(e)}convertReference(e){const d=this.convertDocumentKey(e,this.firestore._databaseId);return new DocumentReference(this.firestore,null,d)}}function getDocs(s){s=__PRIVATE_cast(s,Query);const e=__PRIVATE_cast(s.firestore,Firestore),d=ensureFirestoreConfigured(e),h=new __PRIVATE_ExpUserDataWriter(e);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(s._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(d,s._query).then(g=>new QuerySnapshot(e,h,s,g))}function setDoc(s,e,d){s=__PRIVATE_cast(s,DocumentReference);const h=__PRIVATE_cast(s.firestore,Firestore),g=__PRIVATE_applyFirestoreDataConverter(s.converter,e);return executeWrite(h,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(h),"setDoc",s._key,g,s.converter!==null,d).toMutation(s._key,Precondition.none())])}function updateDoc(s,e,d,...h){s=__PRIVATE_cast(s,DocumentReference);const g=__PRIVATE_cast(s.firestore,Firestore),_=__PRIVATE_newUserDataReader(g);let j;return j=typeof(e=getModularInstance(e))=="string"||e instanceof FieldPath?__PRIVATE_parseUpdateVarargs(_,"updateDoc",s._key,e,d,h):__PRIVATE_parseUpdateData(_,"updateDoc",s._key,e),executeWrite(g,[j.toMutation(s._key,Precondition.exists(!0))])}function deleteDoc(s){return executeWrite(__PRIVATE_cast(s.firestore,Firestore),[new __PRIVATE_DeleteMutation(s._key,Precondition.none())])}function addDoc(s,e){const d=__PRIVATE_cast(s.firestore,Firestore),h=doc(s),g=__PRIVATE_applyFirestoreDataConverter(s.converter,e);return executeWrite(d,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(s.firestore),"addDoc",h._key,g,s.converter!==null,{}).toMutation(h._key,Precondition.exists(!1))]).then(()=>h)}function onSnapshot(s,...e){var d,h,g;s=getModularInstance(s);let _={includeMetadataChanges:!1,source:"default"},j=0;typeof e[j]!="object"||__PRIVATE_isPartialObserver(e[j])||(_=e[j],j++);const $={includeMetadataChanges:_.includeMetadataChanges,source:_.source};if(__PRIVATE_isPartialObserver(e[j])){const rt=e[j];e[j]=(d=rt.next)===null||d===void 0?void 0:d.bind(rt),e[j+1]=(h=rt.error)===null||h===void 0?void 0:h.bind(rt),e[j+2]=(g=rt.complete)===null||g===void 0?void 0:g.bind(rt)}let et,tt,nt;if(s instanceof DocumentReference)tt=__PRIVATE_cast(s.firestore,Firestore),nt=__PRIVATE_newQueryForPath(s._key.path),et={next:rt=>{e[j]&&e[j](__PRIVATE_convertToDocSnapshot(tt,s,rt))},error:e[j+1],complete:e[j+2]};else{const rt=__PRIVATE_cast(s,Query);tt=__PRIVATE_cast(rt.firestore,Firestore),nt=rt._query;const it=new __PRIVATE_ExpUserDataWriter(tt);et={next:st=>{e[j]&&e[j](new QuerySnapshot(tt,it,rt,st))},error:e[j+1],complete:e[j+2]},__PRIVATE_validateHasExplicitOrderByForLimitToLast(s._query)}return function(it,st,ot,lt){const dt=new __PRIVATE_AsyncObserver(lt),at=new __PRIVATE_QueryListener(st,dt,ot);return it.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerListen(await __PRIVATE_getEventManager(it),at)),()=>{dt.Za(),it.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerUnlisten(await __PRIVATE_getEventManager(it),at))}}(ensureFirestoreConfigured(tt),nt,$,et)}function executeWrite(s,e){return function(h,g){const _=new __PRIVATE_Deferred;return h.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(h),g,_)),_.promise}(ensureFirestoreConfigured(s),e)}function __PRIVATE_convertToDocSnapshot(s,e,d){const h=d.docs.get(e._key),g=new __PRIVATE_ExpUserDataWriter(s);return new DocumentSnapshot(s,g,e._key,h,new SnapshotMetadata(d.hasPendingWrites,d.fromCache),e.converter)}function arrayUnion(...s){return new __PRIVATE_ArrayUnionFieldValueImpl("arrayUnion",s)}(function(e,d=!0){(function(g){S=g})(SDK_VERSION),_registerComponent(new Component("firestore",(h,{instanceIdentifier:g,options:_})=>{const j=h.getProvider("app").getImmediate(),$=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(h.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(h.getProvider("app-check-internal")),function(tt,nt){if(!Object.prototype.hasOwnProperty.apply(tt.options,["projectId"]))throw new FirestoreError(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(tt.options.projectId,nt)}(j,g),j);return _=Object.assign({useFetchStreams:d},_),$._setSettings(_),$},"PUBLIC").setMultipleInstances(!0)),registerVersion(w,"4.7.3",e),registerVersion(w,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=2*60*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(e,d,h=0){super(prependCode(e),`Firebase Storage: ${d} (${prependCode(e)})`),this.status_=h,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return prependCode(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode(s){return"storage/"+s}function unknown(){const s="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,s)}function objectNotFound(s){return new StorageError(StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function quotaExceeded(s){return new StorageError(StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError(StorageErrorCode.UNAUTHENTICATED,s)}function unauthorizedApp(){return new StorageError(StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function unauthorized(s){return new StorageError(StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl(s){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+s+"'.")}function invalidDefaultBucket(s){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function noDefaultBucket(){return new StorageError(StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CONFIG_STORAGE_BUCKET_KEY+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError(StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function noDownloadURL(){return new StorageError(StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function missingPolyFill(s){return new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function invalidArgument(s){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,s)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(s){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat(s,e){return new StorageError(StorageErrorCode.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function internalError(s){throw new StorageError(StorageErrorCode.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(e,d){this.bucket=e,this.path_=d}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,d){let h;try{h=Location.makeFromUrl(e,d)}catch{return new Location(e,"")}if(h.path==="")return h;throw invalidDefaultBucket(e)}static makeFromUrl(e,d){let h=null;const g="([A-Za-z0-9.\\-_]+)";function _(vt){vt.path.charAt(vt.path.length-1)==="/"&&(vt.path_=vt.path_.slice(0,-1))}const j="(/(.*))?$",$=new RegExp("^gs://"+g+j,"i"),et={bucket:1,path:3};function tt(vt){vt.path_=decodeURIComponent(vt.path)}const nt="v[A-Za-z0-9_]+",rt=d.replace(/[.]/g,"\\."),it="(/([^?#]*).*)?$",st=new RegExp(`^https?://${rt}/${nt}/b/${g}/o${it}`,"i"),ot={bucket:1,path:3},lt=d===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":d,dt="([^?#]*)",at=new RegExp(`^https?://${lt}/${g}/${dt}`,"i"),pt=[{regex:$,indices:et,postModify:_},{regex:st,indices:ot,postModify:tt},{regex:at,indices:{bucket:1,path:2},postModify:tt}];for(let vt=0;vt<pt.length;vt++){const ht=pt[vt],yt=ht.regex.exec(e);if(yt){const gt=yt[ht.indices.bucket];let ft=yt[ht.indices.path];ft||(ft=""),h=new Location(gt,ft),ht.postModify(h);break}}if(h==null)throw invalidUrl(e);return h}}class FailRequest{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(s,e,d){let h=1,g=null,_=null,j=!1,$=0;function et(){return $===2}let tt=!1;function nt(...dt){tt||(tt=!0,e.apply(null,dt))}function rt(dt){g=setTimeout(()=>{g=null,s(st,et())},dt)}function it(){_&&clearTimeout(_)}function st(dt,...at){if(tt){it();return}if(dt){it(),nt.call(null,dt,...at);return}if(et()||j){it(),nt.call(null,dt,...at);return}h<64&&(h*=2);let pt;$===1?($=2,pt=0):pt=(h+Math.random())*1e3,rt(pt)}let ot=!1;function lt(dt){ot||(ot=!0,it(),!tt&&(g!==null?(dt||($=2),clearTimeout(g),rt(0)):dt||($=1)))}return rt(0),_=setTimeout(()=>{j=!0,lt(!0)},d),lt}function stop(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(s){return s!==void 0}function isNonArrayObject(s){return typeof s=="object"&&!Array.isArray(s)}function isString(s){return typeof s=="string"||s instanceof String}function isNativeBlob(s){return isNativeBlobDefined()&&s instanceof Blob}function isNativeBlobDefined(){return typeof Blob<"u"}function validateNumber(s,e,d,h){if(h<e)throw invalidArgument(`Invalid value for '${s}'. Expected ${e} or greater.`);if(h>d)throw invalidArgument(`Invalid value for '${s}'. Expected ${d} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl(s,e,d){let h=e;return d==null&&(h=`https://${e}`),`${d}://${h}/v0${s}`}function makeQueryString(s){const e=encodeURIComponent;let d="?";for(const h in s)if(s.hasOwnProperty(h)){const g=e(h)+"="+e(s[h]);d=d+g+"&"}return d=d.slice(0,-1),d}var ErrorCode;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(s,e){const d=s>=500&&s<600,g=[408,429].indexOf(s)!==-1,_=e.indexOf(s)!==-1;return d||g||_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(e,d,h,g,_,j,$,et,tt,nt,rt,it=!0){this.url_=e,this.method_=d,this.headers_=h,this.body_=g,this.successCodes_=_,this.additionalRetryCodes_=j,this.callback_=$,this.errorCallback_=et,this.timeout_=tt,this.progressCallback_=nt,this.connectionFactory_=rt,this.retry=it,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((st,ot)=>{this.resolve_=st,this.reject_=ot,this.start_()})}start_(){const e=(h,g)=>{if(g){h(!1,new RequestEndStatus(!1,null,!0));return}const _=this.connectionFactory_();this.pendingConnection_=_;const j=$=>{const et=$.loaded,tt=$.lengthComputable?$.total:-1;this.progressCallback_!==null&&this.progressCallback_(et,tt)};this.progressCallback_!==null&&_.addUploadProgressListener(j),_.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&_.removeUploadProgressListener(j),this.pendingConnection_=null;const $=_.getErrorCode()===ErrorCode.NO_ERROR,et=_.getStatus();if(!$||isRetryStatusCode(et,this.additionalRetryCodes_)&&this.retry){const nt=_.getErrorCode()===ErrorCode.ABORT;h(!1,new RequestEndStatus(!1,null,nt));return}const tt=this.successCodes_.indexOf(et)!==-1;h(!0,new RequestEndStatus(tt,_))})},d=(h,g)=>{const _=this.resolve_,j=this.reject_,$=g.connection;if(g.wasSuccessCode)try{const et=this.callback_($,$.getResponse());isJustDef(et)?_(et):_()}catch(et){j(et)}else if($!==null){const et=unknown();et.serverResponse=$.getErrorText(),this.errorCallback_?j(this.errorCallback_($,et)):j(et)}else if(g.canceled){const et=this.appDelete_?appDeleted():canceled();j(et)}else{const et=retryLimitExceeded();j(et)}};this.canceled_?d(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(e,d,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(e,d,h){this.wasSuccessCode=e,this.connection=d,this.canceled=!!h}}function addAuthHeader_(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function addVersionHeader_(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function addGmpidHeader_(s,e){e&&(s["X-Firebase-GMPID"]=e)}function addAppCheckHeader_(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function makeRequest(s,e,d,h,g,_,j=!0){const $=makeQueryString(s.urlParams),et=s.url+$,tt=Object.assign({},s.headers);return addGmpidHeader_(tt,e),addAuthHeader_(tt,d),addVersionHeader_(tt,_),addAppCheckHeader_(tt,h),new NetworkRequest(et,s.method,tt,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,g,j)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function getBlob$1(...s){const e=getBlobBuilder();if(e!==void 0){const d=new e;for(let h=0;h<s.length;h++)d.append(s[h]);return d.getBlob()}else{if(isNativeBlobDefined())return new Blob(s);throw new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sliceBlob(s,e,d){return s.webkitSlice?s.webkitSlice(e,d):s.mozSlice?s.mozSlice(e,d):s.slice?s.slice(e,d):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64(s){if(typeof atob>"u")throw missingPolyFill("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class StringData{constructor(e,d){this.data=e,this.contentType=d||null}}function dataFromString(s,e){switch(s){case StringFormat.RAW:return new StringData(utf8Bytes_(e));case StringFormat.BASE64:case StringFormat.BASE64URL:return new StringData(base64Bytes_(s,e));case StringFormat.DATA_URL:return new StringData(dataURLBytes_(e),dataURLContentType_(e))}throw unknown()}function utf8Bytes_(s){const e=[];for(let d=0;d<s.length;d++){let h=s.charCodeAt(d);if(h<=127)e.push(h);else if(h<=2047)e.push(192|h>>6,128|h&63);else if((h&64512)===55296)if(!(d<s.length-1&&(s.charCodeAt(d+1)&64512)===56320))e.push(239,191,189);else{const _=h,j=s.charCodeAt(++d);h=65536|(_&1023)<<10|j&1023,e.push(240|h>>18,128|h>>12&63,128|h>>6&63,128|h&63)}else(h&64512)===56320?e.push(239,191,189):e.push(224|h>>12,128|h>>6&63,128|h&63)}return new Uint8Array(e)}function percentEncodedBytes_(s){let e;try{e=decodeURIComponent(s)}catch{throw invalidFormat(StringFormat.DATA_URL,"Malformed data URL.")}return utf8Bytes_(e)}function base64Bytes_(s,e){switch(s){case StringFormat.BASE64:{const g=e.indexOf("-")!==-1,_=e.indexOf("_")!==-1;if(g||_)throw invalidFormat(s,"Invalid character '"+(g?"-":"_")+"' found: is it base64url encoded?");break}case StringFormat.BASE64URL:{const g=e.indexOf("+")!==-1,_=e.indexOf("/")!==-1;if(g||_)throw invalidFormat(s,"Invalid character '"+(g?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let d;try{d=decodeBase64(e)}catch(g){throw g.message.includes("polyfill")?g:invalidFormat(s,"Invalid character found")}const h=new Uint8Array(d.length);for(let g=0;g<d.length;g++)h[g]=d.charCodeAt(g);return h}class DataURLParts{constructor(e){this.base64=!1,this.contentType=null;const d=e.match(/^data:([^,]+)?,/);if(d===null)throw invalidFormat(StringFormat.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const h=d[1]||null;h!=null&&(this.base64=endsWith(h,";base64"),this.contentType=this.base64?h.substring(0,h.length-7):h),this.rest=e.substring(e.indexOf(",")+1)}}function dataURLBytes_(s){const e=new DataURLParts(s);return e.base64?base64Bytes_(StringFormat.BASE64,e.rest):percentEncodedBytes_(e.rest)}function dataURLContentType_(s){return new DataURLParts(s).contentType}function endsWith(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FbsBlob{constructor(e,d){let h=0,g="";isNativeBlob(e)?(this.data_=e,h=e.size,g=e.type):e instanceof ArrayBuffer?(d?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),h=this.data_.length):e instanceof Uint8Array&&(d?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),h=e.length),this.size_=h,this.type_=g}size(){return this.size_}type(){return this.type_}slice(e,d){if(isNativeBlob(this.data_)){const h=this.data_,g=sliceBlob(h,e,d);return g===null?null:new FbsBlob(g)}else{const h=new Uint8Array(this.data_.buffer,e,d-e);return new FbsBlob(h,!0)}}static getBlob(...e){if(isNativeBlobDefined()){const d=e.map(h=>h instanceof FbsBlob?h.data_:h);return new FbsBlob(getBlob$1.apply(null,d))}else{const d=e.map(j=>isString(j)?dataFromString(StringFormat.RAW,j).data:j.data_);let h=0;d.forEach(j=>{h+=j.byteLength});const g=new Uint8Array(h);let _=0;return d.forEach(j=>{for(let $=0;$<j.length;$++)g[_++]=j[$]}),new FbsBlob(g,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull(s){let e;try{e=JSON.parse(s)}catch{return null}return isNonArrayObject(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function child(s,e){const d=e.split("/").filter(h=>h.length>0).join("/");return s.length===0?d:s+"/"+d}function lastComponent(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_(s,e){return e}class Mapping{constructor(e,d,h,g){this.server=e,this.local=d||e,this.writable=!!h,this.xform=g||noXform_}}let mappings_=null;function xformPath(s){return!isString(s)||s.length<2?s:lastComponent(s)}function getMappings(){if(mappings_)return mappings_;const s=[];s.push(new Mapping("bucket")),s.push(new Mapping("generation")),s.push(new Mapping("metageneration")),s.push(new Mapping("name","fullPath",!0));function e(_,j){return xformPath(j)}const d=new Mapping("name");d.xform=e,s.push(d);function h(_,j){return j!==void 0?Number(j):j}const g=new Mapping("size");return g.xform=h,s.push(g),s.push(new Mapping("timeCreated")),s.push(new Mapping("updated")),s.push(new Mapping("md5Hash",null,!0)),s.push(new Mapping("cacheControl",null,!0)),s.push(new Mapping("contentDisposition",null,!0)),s.push(new Mapping("contentEncoding",null,!0)),s.push(new Mapping("contentLanguage",null,!0)),s.push(new Mapping("contentType",null,!0)),s.push(new Mapping("metadata","customMetadata",!0)),mappings_=s,mappings_}function addRef(s,e){function d(){const h=s.bucket,g=s.fullPath,_=new Location(h,g);return e._makeStorageReference(_)}Object.defineProperty(s,"ref",{get:d})}function fromResource(s,e,d){const h={};h.type="file";const g=d.length;for(let _=0;_<g;_++){const j=d[_];h[j.local]=j.xform(h,e[j.server])}return addRef(h,s),h}function fromResourceString(s,e,d){const h=jsonObjectOrNull(e);return h===null?null:fromResource(s,h,d)}function downloadUrlFromResourceString(s,e,d,h){const g=jsonObjectOrNull(e);if(g===null||!isString(g.downloadTokens))return null;const _=g.downloadTokens;if(_.length===0)return null;const j=encodeURIComponent;return _.split(",").map(tt=>{const nt=s.bucket,rt=s.fullPath,it="/b/"+j(nt)+"/o/"+j(rt),st=makeUrl(it,d,h),ot=makeQueryString({alt:"media",token:tt});return st+ot})[0]}function toResourceString(s,e){const d={},h=e.length;for(let g=0;g<h;g++){const _=e[g];_.writable&&(d[_.server]=s[_.local])}return JSON.stringify(d)}class RequestInfo{constructor(e,d,h,g){this.url=e,this.method=d,this.handler=h,this.timeout=g,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck(s){if(!s)throw unknown()}function metadataHandler(s,e){function d(h,g){const _=fromResourceString(s,g,e);return handlerCheck(_!==null),_}return d}function downloadUrlHandler(s,e){function d(h,g){const _=fromResourceString(s,g,e);return handlerCheck(_!==null),downloadUrlFromResourceString(_,g,s.host,s._protocol)}return d}function sharedErrorHandler(s){function e(d,h){let g;return d.getStatus()===401?d.getErrorText().includes("Firebase App Check token is invalid")?g=unauthorizedApp():g=unauthenticated():d.getStatus()===402?g=quotaExceeded(s.bucket):d.getStatus()===403?g=unauthorized(s.path):g=h,g.status=d.getStatus(),g.serverResponse=h.serverResponse,g}return e}function objectErrorHandler(s){const e=sharedErrorHandler(s);function d(h,g){let _=e(h,g);return h.getStatus()===404&&(_=objectNotFound(s.path)),_.serverResponse=g.serverResponse,_}return d}function getDownloadUrl(s,e,d){const h=e.fullServerUrl(),g=makeUrl(h,s.host,s._protocol),_="GET",j=s.maxOperationRetryTime,$=new RequestInfo(g,_,downloadUrlHandler(s,d),j);return $.errorHandler=objectErrorHandler(e),$}function determineContentType_(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function metadataForUpload_(s,e,d){const h=Object.assign({},d);return h.fullPath=s.path,h.size=e.size(),h.contentType||(h.contentType=determineContentType_(null,e)),h}function multipartUpload(s,e,d,h,g){const _=e.bucketOnlyServerUrl(),j={"X-Goog-Upload-Protocol":"multipart"};function $(){let pt="";for(let vt=0;vt<2;vt++)pt=pt+Math.random().toString().slice(2);return pt}const et=$();j["Content-Type"]="multipart/related; boundary="+et;const tt=metadataForUpload_(e,h,g),nt=toResourceString(tt,d),rt="--"+et+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+nt+`\r
--`+et+`\r
Content-Type: `+tt.contentType+`\r
\r
`,it=`\r
--`+et+"--",st=FbsBlob.getBlob(rt,h,it);if(st===null)throw cannotSliceBlob();const ot={name:tt.fullPath},lt=makeUrl(_,s.host,s._protocol),dt="POST",at=s.maxUploadRetryTime,ut=new RequestInfo(lt,dt,metadataHandler(s,d),at);return ut.urlParams=ot,ut.headers=j,ut.body=st.uploadData(),ut.errorHandler=sharedErrorHandler(e),ut}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ErrorCode.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ErrorCode.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ErrorCode.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,d,h,g){if(this.sent_)throw internalError("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(d,e,!0),g!==void 0)for(const _ in g)g.hasOwnProperty(_)&&this.xhr_.setRequestHeader(_,g[_].toString());return h!==void 0?this.xhr_.send(h):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(e,d){this._service=e,d instanceof Location?this._location=d:this._location=Location.makeFromUrl(d,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,d){return new Reference(e,d)}get root(){const e=new Location(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const e=parent(this._location.path);if(e===null)return null;const d=new Location(this._location.bucket,e);return new Reference(this._service,d)}_throwIfRoot(e){if(this._location.path==="")throw invalidRootOperation(e)}}function uploadBytes$1(s,e,d){s._throwIfRoot("uploadBytes");const h=multipartUpload(s.storage,s._location,getMappings(),new FbsBlob(e,!0),d);return s.storage.makeRequestWithTokens(h,newTextConnection).then(g=>({metadata:g,ref:s}))}function getDownloadURL$1(s){s._throwIfRoot("getDownloadURL");const e=getDownloadUrl(s.storage,s._location,getMappings());return s.storage.makeRequestWithTokens(e,newTextConnection).then(d=>{if(d===null)throw noDownloadURL();return d})}function _getChild$1(s,e){const d=child(s._location.path,e),h=new Location(s._location.bucket,d);return new Reference(s.storage,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isUrl(s){return/^[A-Za-z]+:\/\//.test(s)}function refFromURL(s,e){return new Reference(s,e)}function refFromPath(s,e){if(s instanceof FirebaseStorageImpl){const d=s;if(d._bucket==null)throw noDefaultBucket();const h=new Reference(d,d._bucket);return e!=null?refFromPath(h,e):h}else return e!==void 0?_getChild$1(s,e):s}function ref$1(s,e){if(e&&isUrl(e)){if(s instanceof FirebaseStorageImpl)return refFromURL(s,e);throw invalidArgument("To use ref(service, url), the first argument must be a Storage instance.")}else return refFromPath(s,e)}function extractBucket(s,e){const d=e==null?void 0:e[CONFIG_STORAGE_BUCKET_KEY];return d==null?null:Location.makeFromBucketSpec(d,s)}function connectStorageEmulator$1(s,e,d,h={}){s.host=`${e}:${d}`,s._protocol="http";const{mockUserToken:g}=h;g&&(s._overrideAuthToken=typeof g=="string"?g:createMockUserToken(g,s.app.options.projectId))}class FirebaseStorageImpl{constructor(e,d,h,g,_){this.app=e,this._authProvider=d,this._appCheckProvider=h,this._url=g,this._firebaseVersion=_,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,g!=null?this._bucket=Location.makeFromBucketSpec(g,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,e):this._bucket=extractBucket(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){validateNumber("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){validateNumber("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const d=await e.getToken();if(d!==null)return d.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Reference(this,e)}_makeRequest(e,d,h,g,_=!0){if(this._deleted)return new FailRequest(appDeleted());{const j=makeRequest(e,this._appId,h,g,d,this._firebaseVersion,_);return this._requests.add(j),j.getPromise().then(()=>this._requests.delete(j),()=>this._requests.delete(j)),j}}async makeRequestWithTokens(e,d){const[h,g]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,d,h,g).getPromise()}}const name="@firebase/storage",version$1="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function uploadBytes(s,e,d){return s=getModularInstance(s),uploadBytes$1(s,e,d)}function getDownloadURL(s){return s=getModularInstance(s),getDownloadURL$1(s)}function ref(s,e){return s=getModularInstance(s),ref$1(s,e)}function getStorage(s=getApp(),e){s=getModularInstance(s);const h=_getProvider(s,STORAGE_TYPE).getImmediate({identifier:e}),g=getDefaultEmulatorHostnameAndPort("storage");return g&&connectStorageEmulator(h,...g),h}function connectStorageEmulator(s,e,d,h={}){connectStorageEmulator$1(s,e,d,h)}function factory(s,{instanceIdentifier:e}){const d=s.getProvider("app").getImmediate(),h=s.getProvider("auth-internal"),g=s.getProvider("app-check-internal");return new FirebaseStorageImpl(d,h,g,e,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version$1,""),registerVersion(name,version$1,"esm2017")}registerStorage();const firebaseConfig={apiKey:"AIzaSyA9wYfjjjjp6w8QhslmOu72idKolgsXXCo",authDomain:"proyectointeg-e37de.firebaseapp.com",projectId:"proyectointeg-e37de",storageBucket:"proyectointeg-e37de.appspot.com",messagingSenderId:"1073149596999",appId:"1:1073149596999:web:1c3753054380b74332a862",measurementId:"G-8QZ7R79ZLR"},app=initializeApp(firebaseConfig);getAuth(app);const db=getFirestore(app),storage=getStorage(app);function Login(){const[s,e]=reactExports.useState(""),[d,h]=reactExports.useState("");reactExports.useState("");const[g,_]=reactExports.useState(!1),[j,$]=reactExports.useState(""),[et,tt]=reactExports.useState(""),nt=useNavigate(),rt=(ot,lt)=>{lt(ot.target.value),$(""),tt("")},it=ot=>{console.log(`Menu seleccionado: ${ot}`),nt("/cuentas")},st=async ot=>{if(ot.preventDefault(),!s||!d){$("Por favor, completa todos los campos.");return}try{const lt=await getDoc(doc(db,"Usuarios",s));lt.exists()&&lt.data().password===d?(console.log("Usuario encontrado:",lt.data()),localStorage.setItem("user",JSON.stringify({name:lt.data().name,email:s})),$(""),nt("/home")):tt("Credenciales incorrectas.")}catch{tt("Error al acceder a los datos del usuario.")}};return jsxRuntimeExports.jsx("div",{className:"app-container",style:{backgroundImage:`url(${FondoAPP})`,backgroundSize:"cover",backgroundPosition:"center"},children:jsxRuntimeExports.jsxs("div",{className:"login-container",children:[jsxRuntimeExports.jsxs("div",{className:"login-form",children:[jsxRuntimeExports.jsx("h2",{children:g?"Registro de Usuario":"Inicio de Sesión"}),j&&jsxRuntimeExports.jsx("div",{className:"alert",children:j}),et&&jsxRuntimeExports.jsx("p",{className:"error",children:et}),jsxRuntimeExports.jsxs("form",{onSubmit:st,children:[jsxRuntimeExports.jsxs("div",{className:"input-group",children:[jsxRuntimeExports.jsx("label",{children:"Correo Electrónico"}),jsxRuntimeExports.jsx("input",{type:"email",value:s,onChange:ot=>rt(ot,e),placeholder:"Correo Electrónico",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"input-group",children:[jsxRuntimeExports.jsx("label",{children:"Contraseña"}),jsxRuntimeExports.jsx("input",{type:"password",value:d,onChange:ot=>rt(ot,h),placeholder:"Contraseña",required:!0})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"login-button",children:"Login"})]}),jsxRuntimeExports.jsxs("div",{className:"toggle-form",children:[jsxRuntimeExports.jsx("p",{children:"¿No tienes cuenta?"}),jsxRuntimeExports.jsx("button",{onClick:()=>it("Cuentas"),children:"Registrarse"})]})]}),jsxRuntimeExports.jsx("div",{className:"login-image",children:jsxRuntimeExports.jsx("img",{src:logo,alt:"Logo"})})]})})}const noop$1=()=>{};let _WINDOW={},_DOCUMENT={},_MUTATION_OBSERVER=null,_PERFORMANCE={mark:noop$1,measure:noop$1};try{typeof window<"u"&&(_WINDOW=window),typeof document<"u"&&(_DOCUMENT=document),typeof MutationObserver<"u"&&(_MUTATION_OBSERVER=MutationObserver),typeof performance<"u"&&(_PERFORMANCE=performance)}catch{}const{userAgent=""}=_WINDOW.navigator||{},WINDOW=_WINDOW,DOCUMENT=_DOCUMENT,MUTATION_OBSERVER=_MUTATION_OBSERVER,PERFORMANCE=_PERFORMANCE;WINDOW.document;const IS_DOM=!!DOCUMENT.documentElement&&!!DOCUMENT.head&&typeof DOCUMENT.addEventListener=="function"&&typeof DOCUMENT.createElement=="function",IS_IE=~userAgent.indexOf("MSIE")||~userAgent.indexOf("Trident/");var a="classic",t="duotone",r="sharp",o="sharp-duotone",c$3=[a,t,r,o],et$1={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},bt={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},Ct=["kit"],Dt=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,Kt=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,ao={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},eo={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},lo={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},y={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},no={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},fo={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},ho={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},x$1=["solid","regular","light","thin","duotone","brands"],u$1=[1,2,3,4,5,6,7,8,9,10],m$1=u$1.concat([11,12,13,14,15,16,17,18,19,20]),t$1={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},yo=[...Object.keys(y),...x$1,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",t$1.GROUP,t$1.SWAP_OPACITY,t$1.PRIMARY,t$1.SECONDARY].concat(u$1.map(s=>"".concat(s,"x"))).concat(m$1.map(s=>"w-".concat(s))),mo={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Io={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},Fo={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},So={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}};const NAMESPACE_IDENTIFIER="___FONT_AWESOME___",UNITS_IN_GRID=16,DEFAULT_CSS_PREFIX="fa",DEFAULT_REPLACEMENT_CLASS="svg-inline--fa",DATA_FA_I2SVG="data-fa-i2svg",DATA_FA_PSEUDO_ELEMENT="data-fa-pseudo-element",DATA_FA_PSEUDO_ELEMENT_PENDING="data-fa-pseudo-element-pending",DATA_PREFIX="data-prefix",DATA_ICON="data-icon",HTML_CLASS_I2SVG_BASE_CLASS="fontawesome-i2svg",MUTATION_APPROACH_ASYNC="async",TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS=["HTML","HEAD","STYLE","SCRIPT"],PRODUCTION$1=(()=>{try{return!0}catch{return!1}})(),FAMILIES=[a,r,o];function familyProxy(s){return new Proxy(s,{get(e,d){return d in e?e[d]:e[a]}})}const _PREFIX_TO_STYLE={...ho};_PREFIX_TO_STYLE[a]={...ho[a],...bt.kit,...bt["kit-duotone"]};const PREFIX_TO_STYLE=familyProxy(_PREFIX_TO_STYLE),_STYLE_TO_PREFIX={...fo};_STYLE_TO_PREFIX[a]={..._STYLE_TO_PREFIX[a],...So.kit,...So["kit-duotone"]};const STYLE_TO_PREFIX=familyProxy(_STYLE_TO_PREFIX),_PREFIX_TO_LONG_STYLE={...no};_PREFIX_TO_LONG_STYLE[a]={..._PREFIX_TO_LONG_STYLE[a],...Fo.kit};const PREFIX_TO_LONG_STYLE=familyProxy(_PREFIX_TO_LONG_STYLE),_LONG_STYLE_TO_PREFIX={...lo};_LONG_STYLE_TO_PREFIX[a]={..._LONG_STYLE_TO_PREFIX[a],...Io.kit};const LONG_STYLE_TO_PREFIX=familyProxy(_LONG_STYLE_TO_PREFIX),ICON_SELECTION_SYNTAX_PATTERN=Dt,LAYERS_TEXT_CLASSNAME="fa-layers-text",FONT_FAMILY_PATTERN=Kt,_FONT_WEIGHT_TO_PREFIX={...et$1};familyProxy(_FONT_WEIGHT_TO_PREFIX);const ATTRIBUTES_WATCHED_FOR_MUTATION=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],DUOTONE_CLASSES=t$1,prefixes=new Set;Object.keys(STYLE_TO_PREFIX[a]).map(prefixes.add.bind(prefixes));Object.keys(STYLE_TO_PREFIX[r]).map(prefixes.add.bind(prefixes));Object.keys(STYLE_TO_PREFIX[o]).map(prefixes.add.bind(prefixes));const RESERVED_CLASSES=[...Ct,...yo],initial=WINDOW.FontAwesomeConfig||{};function getAttrConfig(s){var e=DOCUMENT.querySelector("script["+s+"]");if(e)return e.getAttribute(s)}function coerce(s){return s===""?!0:s==="false"?!1:s==="true"?!0:s}DOCUMENT&&typeof DOCUMENT.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[d,h]=e;const g=coerce(getAttrConfig(d));g!=null&&(initial[h]=g)});const _default={styleDefault:"solid",familyDefault:"classic",cssPrefix:DEFAULT_CSS_PREFIX,replacementClass:DEFAULT_REPLACEMENT_CLASS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};initial.familyPrefix&&(initial.cssPrefix=initial.familyPrefix);const _config={..._default,...initial};_config.autoReplaceSvg||(_config.observeMutations=!1);const config={};Object.keys(_default).forEach(s=>{Object.defineProperty(config,s,{enumerable:!0,set:function(e){_config[s]=e,_onChangeCb.forEach(d=>d(config))},get:function(){return _config[s]}})});Object.defineProperty(config,"familyPrefix",{enumerable:!0,set:function(s){_config.cssPrefix=s,_onChangeCb.forEach(e=>e(config))},get:function(){return _config.cssPrefix}});WINDOW.FontAwesomeConfig=config;const _onChangeCb=[];function onChange(s){return _onChangeCb.push(s),()=>{_onChangeCb.splice(_onChangeCb.indexOf(s),1)}}const d$2=UNITS_IN_GRID,meaninglessTransform={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function insertCss(s){if(!s||!IS_DOM)return;const e=DOCUMENT.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=s;const d=DOCUMENT.head.childNodes;let h=null;for(let g=d.length-1;g>-1;g--){const _=d[g],j=(_.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(j)>-1&&(h=_)}return DOCUMENT.head.insertBefore(e,h),s}const idPool="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nextUniqueId(){let s=12,e="";for(;s-- >0;)e+=idPool[Math.random()*62|0];return e}function toArray(s){const e=[];for(let d=(s||[]).length>>>0;d--;)e[d]=s[d];return e}function classArray(s){return s.classList?toArray(s.classList):(s.getAttribute("class")||"").split(" ").filter(e=>e)}function htmlEscape(s){return"".concat(s).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function joinAttributes(s){return Object.keys(s||{}).reduce((e,d)=>e+"".concat(d,'="').concat(htmlEscape(s[d]),'" '),"").trim()}function joinStyles(s){return Object.keys(s||{}).reduce((e,d)=>e+"".concat(d,": ").concat(s[d].trim(),";"),"")}function transformIsMeaningful(s){return s.size!==meaninglessTransform.size||s.x!==meaninglessTransform.x||s.y!==meaninglessTransform.y||s.rotate!==meaninglessTransform.rotate||s.flipX||s.flipY}function transformForSvg(s){let{transform:e,containerWidth:d,iconWidth:h}=s;const g={transform:"translate(".concat(d/2," 256)")},_="translate(".concat(e.x*32,", ").concat(e.y*32,") "),j="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),$="rotate(".concat(e.rotate," 0 0)"),et={transform:"".concat(_," ").concat(j," ").concat($)},tt={transform:"translate(".concat(h/2*-1," -256)")};return{outer:g,inner:et,path:tt}}function transformForCss(s){let{transform:e,width:d=UNITS_IN_GRID,height:h=UNITS_IN_GRID,startCentered:g=!1}=s,_="";return g&&IS_IE?_+="translate(".concat(e.x/d$2-d/2,"em, ").concat(e.y/d$2-h/2,"em) "):g?_+="translate(calc(-50% + ".concat(e.x/d$2,"em), calc(-50% + ").concat(e.y/d$2,"em)) "):_+="translate(".concat(e.x/d$2,"em, ").concat(e.y/d$2,"em) "),_+="scale(".concat(e.size/d$2*(e.flipX?-1:1),", ").concat(e.size/d$2*(e.flipY?-1:1),") "),_+="rotate(".concat(e.rotate,"deg) "),_}var baseStyles=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function css(){const s=DEFAULT_CSS_PREFIX,e=DEFAULT_REPLACEMENT_CLASS,d=config.cssPrefix,h=config.replacementClass;let g=baseStyles;if(d!==s||h!==e){const _=new RegExp("\\.".concat(s,"\\-"),"g"),j=new RegExp("\\--".concat(s,"\\-"),"g"),$=new RegExp("\\.".concat(e),"g");g=g.replace(_,".".concat(d,"-")).replace(j,"--".concat(d,"-")).replace($,".".concat(h))}return g}let _cssInserted=!1;function ensureCss(){config.autoAddCss&&!_cssInserted&&(insertCss(css()),_cssInserted=!0)}var InjectCSS={mixout(){return{dom:{css,insertCss:ensureCss}}},hooks(){return{beforeDOMElementCreation(){ensureCss()},beforeI2svg(){ensureCss()}}}};const w$1=WINDOW||{};w$1[NAMESPACE_IDENTIFIER]||(w$1[NAMESPACE_IDENTIFIER]={});w$1[NAMESPACE_IDENTIFIER].styles||(w$1[NAMESPACE_IDENTIFIER].styles={});w$1[NAMESPACE_IDENTIFIER].hooks||(w$1[NAMESPACE_IDENTIFIER].hooks={});w$1[NAMESPACE_IDENTIFIER].shims||(w$1[NAMESPACE_IDENTIFIER].shims=[]);var namespace=w$1[NAMESPACE_IDENTIFIER];const functions=[],listener=function(){DOCUMENT.removeEventListener("DOMContentLoaded",listener),loaded=1,functions.map(s=>s())};let loaded=!1;IS_DOM&&(loaded=(DOCUMENT.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(DOCUMENT.readyState),loaded||DOCUMENT.addEventListener("DOMContentLoaded",listener));function domready(s){IS_DOM&&(loaded?setTimeout(s,0):functions.push(s))}function toHtml(s){const{tag:e,attributes:d={},children:h=[]}=s;return typeof s=="string"?htmlEscape(s):"<".concat(e," ").concat(joinAttributes(d),">").concat(h.map(toHtml).join(""),"</").concat(e,">")}function iconFromMapping(s,e,d){if(s&&s[e]&&s[e][d])return{prefix:e,iconName:d,icon:s[e][d]}}var reduce=function(e,d,h,g){var _=Object.keys(e),j=_.length,$=d,et,tt,nt;for(h===void 0?(et=1,nt=e[_[0]]):(et=0,nt=h);et<j;et++)tt=_[et],nt=$(nt,e[tt],tt,e);return nt};function ucs2decode(s){const e=[];let d=0;const h=s.length;for(;d<h;){const g=s.charCodeAt(d++);if(g>=55296&&g<=56319&&d<h){const _=s.charCodeAt(d++);(_&64512)==56320?e.push(((g&1023)<<10)+(_&1023)+65536):(e.push(g),d--)}else e.push(g)}return e}function toHex(s){const e=ucs2decode(s);return e.length===1?e[0].toString(16):null}function codePointAt(s,e){const d=s.length;let h=s.charCodeAt(e),g;return h>=55296&&h<=56319&&d>e+1&&(g=s.charCodeAt(e+1),g>=56320&&g<=57343)?(h-55296)*1024+g-56320+65536:h}function normalizeIcons(s){return Object.keys(s).reduce((e,d)=>{const h=s[d];return!!h.icon?e[h.iconName]=h.icon:e[d]=h,e},{})}function defineIcons(s,e){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:h=!1}=d,g=normalizeIcons(e);typeof namespace.hooks.addPack=="function"&&!h?namespace.hooks.addPack(s,normalizeIcons(e)):namespace.styles[s]={...namespace.styles[s]||{},...g},s==="fas"&&defineIcons("fa",e)}const{styles,shims}=namespace,LONG_STYLE={[a]:Object.values(PREFIX_TO_LONG_STYLE[a]),[r]:Object.values(PREFIX_TO_LONG_STYLE[r]),[o]:Object.values(PREFIX_TO_LONG_STYLE[o])};let _defaultUsablePrefix=null,_byUnicode={},_byLigature={},_byOldName={},_byOldUnicode={},_byAlias={};const PREFIXES={[a]:Object.keys(PREFIX_TO_STYLE[a]),[r]:Object.keys(PREFIX_TO_STYLE[r]),[o]:Object.keys(PREFIX_TO_STYLE[o])};function isReserved(s){return~RESERVED_CLASSES.indexOf(s)}function getIconName(s,e){const d=e.split("-"),h=d[0],g=d.slice(1).join("-");return h===s&&g!==""&&!isReserved(g)?g:null}const build=()=>{const s=h=>reduce(styles,(g,_,j)=>(g[j]=reduce(_,h,{}),g),{});_byUnicode=s((h,g,_)=>(g[3]&&(h[g[3]]=_),g[2]&&g[2].filter($=>typeof $=="number").forEach($=>{h[$.toString(16)]=_}),h)),_byLigature=s((h,g,_)=>(h[_]=_,g[2]&&g[2].filter($=>typeof $=="string").forEach($=>{h[$]=_}),h)),_byAlias=s((h,g,_)=>{const j=g[2];return h[_]=_,j.forEach($=>{h[$]=_}),h});const e="far"in styles||config.autoFetchSvg,d=reduce(shims,(h,g)=>{const _=g[0];let j=g[1];const $=g[2];return j==="far"&&!e&&(j="fas"),typeof _=="string"&&(h.names[_]={prefix:j,iconName:$}),typeof _=="number"&&(h.unicodes[_.toString(16)]={prefix:j,iconName:$}),h},{names:{},unicodes:{}});_byOldName=d.names,_byOldUnicode=d.unicodes,_defaultUsablePrefix=getCanonicalPrefix(config.styleDefault,{family:config.familyDefault})};onChange(s=>{_defaultUsablePrefix=getCanonicalPrefix(s.styleDefault,{family:config.familyDefault})});build();function byUnicode(s,e){return(_byUnicode[s]||{})[e]}function byLigature(s,e){return(_byLigature[s]||{})[e]}function byAlias(s,e){return(_byAlias[s]||{})[e]}function byOldName(s){return _byOldName[s]||{prefix:null,iconName:null}}function byOldUnicode(s){const e=_byOldUnicode[s],d=byUnicode("fas",s);return e||(d?{prefix:"fas",iconName:d}:null)||{prefix:null,iconName:null}}function getDefaultUsablePrefix(){return _defaultUsablePrefix}const emptyCanonicalIcon=()=>({prefix:null,iconName:null,rest:[]});function getCanonicalPrefix(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:d=a}=e,h=PREFIX_TO_STYLE[d][s],g=STYLE_TO_PREFIX[d][s]||STYLE_TO_PREFIX[d][h],_=s in namespace.styles?s:null;return g||_||null}const PREFIXES_FOR_FAMILY={[a]:Object.keys(PREFIX_TO_LONG_STYLE[a]),[r]:Object.keys(PREFIX_TO_LONG_STYLE[r]),[o]:Object.keys(PREFIX_TO_LONG_STYLE[o])};function getCanonicalIcon(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:d=!1}=e,h={[a]:"".concat(config.cssPrefix,"-").concat(a),[r]:"".concat(config.cssPrefix,"-").concat(r),[o]:"".concat(config.cssPrefix,"-").concat(o)};let g=null,_=a;const j=c$3.filter(et=>et!==t);j.forEach(et=>{(s.includes(h[et])||s.some(tt=>PREFIXES_FOR_FAMILY[et].includes(tt)))&&(_=et)});const $=s.reduce((et,tt)=>{const nt=getIconName(config.cssPrefix,tt);if(styles[tt]?(tt=LONG_STYLE[_].includes(tt)?LONG_STYLE_TO_PREFIX[_][tt]:tt,g=tt,et.prefix=tt):PREFIXES[_].indexOf(tt)>-1?(g=tt,et.prefix=getCanonicalPrefix(tt,{family:_})):nt?et.iconName=nt:tt!==config.replacementClass&&!j.some(rt=>tt===h[rt])&&et.rest.push(tt),!d&&et.prefix&&et.iconName){const rt=g==="fa"?byOldName(et.iconName):{},it=byAlias(et.prefix,et.iconName);rt.prefix&&(g=null),et.iconName=rt.iconName||it||et.iconName,et.prefix=rt.prefix||et.prefix,et.prefix==="far"&&!styles.far&&styles.fas&&!config.autoFetchSvg&&(et.prefix="fas")}return et},emptyCanonicalIcon());return(s.includes("fa-brands")||s.includes("fab"))&&($.prefix="fab"),(s.includes("fa-duotone")||s.includes("fad"))&&($.prefix="fad"),!$.prefix&&_===r&&(styles.fass||config.autoFetchSvg)&&($.prefix="fass",$.iconName=byAlias($.prefix,$.iconName)||$.iconName),!$.prefix&&_===o&&(styles.fasds||config.autoFetchSvg)&&($.prefix="fasds",$.iconName=byAlias($.prefix,$.iconName)||$.iconName),($.prefix==="fa"||g==="fa")&&($.prefix=getDefaultUsablePrefix()||"fas"),$}class Library{constructor(){this.definitions={}}add(){for(var e=arguments.length,d=new Array(e),h=0;h<e;h++)d[h]=arguments[h];const g=d.reduce(this._pullDefinitions,{});Object.keys(g).forEach(_=>{this.definitions[_]={...this.definitions[_]||{},...g[_]},defineIcons(_,g[_]);const j=PREFIX_TO_LONG_STYLE[a][_];j&&defineIcons(j,g[_]),build()})}reset(){this.definitions={}}_pullDefinitions(e,d){const h=d.prefix&&d.iconName&&d.icon?{0:d}:d;return Object.keys(h).map(g=>{const{prefix:_,iconName:j,icon:$}=h[g],et=$[2];e[_]||(e[_]={}),et.length>0&&et.forEach(tt=>{typeof tt=="string"&&(e[_][tt]=$)}),e[_][j]=$}),e}}let _plugins=[],_hooks={};const providers={},defaultProviderKeys=Object.keys(providers);function registerPlugins(s,e){let{mixoutsTo:d}=e;return _plugins=s,_hooks={},Object.keys(providers).forEach(h=>{defaultProviderKeys.indexOf(h)===-1&&delete providers[h]}),_plugins.forEach(h=>{const g=h.mixout?h.mixout():{};if(Object.keys(g).forEach(_=>{typeof g[_]=="function"&&(d[_]=g[_]),typeof g[_]=="object"&&Object.keys(g[_]).forEach(j=>{d[_]||(d[_]={}),d[_][j]=g[_][j]})}),h.hooks){const _=h.hooks();Object.keys(_).forEach(j=>{_hooks[j]||(_hooks[j]=[]),_hooks[j].push(_[j])})}h.provides&&h.provides(providers)}),d}function chainHooks(s,e){for(var d=arguments.length,h=new Array(d>2?d-2:0),g=2;g<d;g++)h[g-2]=arguments[g];return(_hooks[s]||[]).forEach(j=>{e=j.apply(null,[e,...h])}),e}function callHooks(s){for(var e=arguments.length,d=new Array(e>1?e-1:0),h=1;h<e;h++)d[h-1]=arguments[h];(_hooks[s]||[]).forEach(_=>{_.apply(null,d)})}function callProvided(){const s=arguments[0],e=Array.prototype.slice.call(arguments,1);return providers[s]?providers[s].apply(null,e):void 0}function findIconDefinition(s){s.prefix==="fa"&&(s.prefix="fas");let{iconName:e}=s;const d=s.prefix||getDefaultUsablePrefix();if(e)return e=byAlias(d,e)||e,iconFromMapping(library.definitions,d,e)||iconFromMapping(namespace.styles,d,e)}const library=new Library,noAuto=()=>{config.autoReplaceSvg=!1,config.observeMutations=!1,callHooks("noAuto")},dom={i2svg:function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return IS_DOM?(callHooks("beforeI2svg",s),callProvided("pseudoElements2svg",s),callProvided("i2svg",s)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=s;config.autoReplaceSvg===!1&&(config.autoReplaceSvg=!0),config.observeMutations=!0,domready(()=>{autoReplace({autoReplaceSvgRoot:e}),callHooks("watch",s)})}},parse$2={icon:s=>{if(s===null)return null;if(typeof s=="object"&&s.prefix&&s.iconName)return{prefix:s.prefix,iconName:byAlias(s.prefix,s.iconName)||s.iconName};if(Array.isArray(s)&&s.length===2){const e=s[1].indexOf("fa-")===0?s[1].slice(3):s[1],d=getCanonicalPrefix(s[0]);return{prefix:d,iconName:byAlias(d,e)||e}}if(typeof s=="string"&&(s.indexOf("".concat(config.cssPrefix,"-"))>-1||s.match(ICON_SELECTION_SYNTAX_PATTERN))){const e=getCanonicalIcon(s.split(" "),{skipLookups:!0});return{prefix:e.prefix||getDefaultUsablePrefix(),iconName:byAlias(e.prefix,e.iconName)||e.iconName}}if(typeof s=="string"){const e=getDefaultUsablePrefix();return{prefix:e,iconName:byAlias(e,s)||s}}}},api={noAuto,config,dom,parse:parse$2,library,findIconDefinition,toHtml},autoReplace=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=DOCUMENT}=s;(Object.keys(namespace.styles).length>0||config.autoFetchSvg)&&IS_DOM&&config.autoReplaceSvg&&api.dom.i2svg({node:e})};function domVariants(s,e){return Object.defineProperty(s,"abstract",{get:e}),Object.defineProperty(s,"html",{get:function(){return s.abstract.map(d=>toHtml(d))}}),Object.defineProperty(s,"node",{get:function(){if(!IS_DOM)return;const d=DOCUMENT.createElement("div");return d.innerHTML=s.html,d.children}}),s}function asIcon(s){let{children:e,main:d,mask:h,attributes:g,styles:_,transform:j}=s;if(transformIsMeaningful(j)&&d.found&&!h.found){const{width:$,height:et}=d,tt={x:$/et/2,y:.5};g.style=joinStyles({..._,"transform-origin":"".concat(tt.x+j.x/16,"em ").concat(tt.y+j.y/16,"em")})}return[{tag:"svg",attributes:g,children:e}]}function asSymbol(s){let{prefix:e,iconName:d,children:h,attributes:g,symbol:_}=s;const j=_===!0?"".concat(e,"-").concat(config.cssPrefix,"-").concat(d):_;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...g,id:j},children:h}]}]}function makeInlineSvgAbstract(s){const{icons:{main:e,mask:d},prefix:h,iconName:g,transform:_,symbol:j,title:$,maskId:et,titleId:tt,extra:nt,watchable:rt=!1}=s,{width:it,height:st}=d.found?d:e,ot=h==="fak",lt=[config.replacementClass,g?"".concat(config.cssPrefix,"-").concat(g):""].filter(ht=>nt.classes.indexOf(ht)===-1).filter(ht=>ht!==""||!!ht).concat(nt.classes).join(" ");let dt={children:[],attributes:{...nt.attributes,"data-prefix":h,"data-icon":g,class:lt,role:nt.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(it," ").concat(st)}};const at=ot&&!~nt.classes.indexOf("fa-fw")?{width:"".concat(it/st*16*.0625,"em")}:{};rt&&(dt.attributes[DATA_FA_I2SVG]=""),$&&(dt.children.push({tag:"title",attributes:{id:dt.attributes["aria-labelledby"]||"title-".concat(tt||nextUniqueId())},children:[$]}),delete dt.attributes.title);const ut={...dt,prefix:h,iconName:g,main:e,mask:d,maskId:et,transform:_,symbol:j,styles:{...at,...nt.styles}},{children:pt,attributes:vt}=d.found&&e.found?callProvided("generateAbstractMask",ut)||{children:[],attributes:{}}:callProvided("generateAbstractIcon",ut)||{children:[],attributes:{}};return ut.children=pt,ut.attributes=vt,j?asSymbol(ut):asIcon(ut)}function makeLayersTextAbstract(s){const{content:e,width:d,height:h,transform:g,title:_,extra:j,watchable:$=!1}=s,et={...j.attributes,..._?{title:_}:{},class:j.classes.join(" ")};$&&(et[DATA_FA_I2SVG]="");const tt={...j.styles};transformIsMeaningful(g)&&(tt.transform=transformForCss({transform:g,startCentered:!0,width:d,height:h}),tt["-webkit-transform"]=tt.transform);const nt=joinStyles(tt);nt.length>0&&(et.style=nt);const rt=[];return rt.push({tag:"span",attributes:et,children:[e]}),_&&rt.push({tag:"span",attributes:{class:"sr-only"},children:[_]}),rt}function makeLayersCounterAbstract(s){const{content:e,title:d,extra:h}=s,g={...h.attributes,...d?{title:d}:{},class:h.classes.join(" ")},_=joinStyles(h.styles);_.length>0&&(g.style=_);const j=[];return j.push({tag:"span",attributes:g,children:[e]}),d&&j.push({tag:"span",attributes:{class:"sr-only"},children:[d]}),j}const{styles:styles$1}=namespace;function asFoundIcon(s){const e=s[0],d=s[1],[h]=s.slice(4);let g=null;return Array.isArray(h)?g={tag:"g",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.GROUP)},children:[{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.SECONDARY),fill:"currentColor",d:h[0]}},{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.PRIMARY),fill:"currentColor",d:h[1]}}]}:g={tag:"path",attributes:{fill:"currentColor",d:h}},{found:!0,width:e,height:d,icon:g}}const missingIconResolutionMixin={found:!1,width:512,height:512};function maybeNotifyMissing(s,e){!PRODUCTION$1&&!config.showMissingIcons&&s&&console.error('Icon with name "'.concat(s,'" and prefix "').concat(e,'" is missing.'))}function findIcon(s,e){let d=e;return e==="fa"&&config.styleDefault!==null&&(e=getDefaultUsablePrefix()),new Promise((h,g)=>{if(d==="fa"){const _=byOldName(s)||{};s=_.iconName||s,e=_.prefix||e}if(s&&e&&styles$1[e]&&styles$1[e][s]){const _=styles$1[e][s];return h(asFoundIcon(_))}maybeNotifyMissing(s,e),h({...missingIconResolutionMixin,icon:config.showMissingIcons&&s?callProvided("missingIconAbstract")||{}:{}})})}const noop$1$1=()=>{},p$2=config.measurePerformance&&PERFORMANCE&&PERFORMANCE.mark&&PERFORMANCE.measure?PERFORMANCE:{mark:noop$1$1,measure:noop$1$1},preamble='FA "6.6.0"',begin=s=>(p$2.mark("".concat(preamble," ").concat(s," begins")),()=>end(s)),end=s=>{p$2.mark("".concat(preamble," ").concat(s," ends")),p$2.measure("".concat(preamble," ").concat(s),"".concat(preamble," ").concat(s," begins"),"".concat(preamble," ").concat(s," ends"))};var perf={begin,end};const noop$2=()=>{};function isWatched(s){return typeof(s.getAttribute?s.getAttribute(DATA_FA_I2SVG):null)=="string"}function hasPrefixAndIcon(s){const e=s.getAttribute?s.getAttribute(DATA_PREFIX):null,d=s.getAttribute?s.getAttribute(DATA_ICON):null;return e&&d}function hasBeenReplaced(s){return s&&s.classList&&s.classList.contains&&s.classList.contains(config.replacementClass)}function getMutator(){return config.autoReplaceSvg===!0?mutators.replace:mutators[config.autoReplaceSvg]||mutators.replace}function createElementNS(s){return DOCUMENT.createElementNS("http://www.w3.org/2000/svg",s)}function createElement$1(s){return DOCUMENT.createElement(s)}function convertSVG(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:d=s.tag==="svg"?createElementNS:createElement$1}=e;if(typeof s=="string")return DOCUMENT.createTextNode(s);const h=d(s.tag);return Object.keys(s.attributes||[]).forEach(function(_){h.setAttribute(_,s.attributes[_])}),(s.children||[]).forEach(function(_){h.appendChild(convertSVG(_,{ceFn:d}))}),h}function nodeAsComment(s){let e=" ".concat(s.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const mutators={replace:function(s){const e=s[0];if(e.parentNode)if(s[1].forEach(d=>{e.parentNode.insertBefore(convertSVG(d),e)}),e.getAttribute(DATA_FA_I2SVG)===null&&config.keepOriginalSource){let d=DOCUMENT.createComment(nodeAsComment(e));e.parentNode.replaceChild(d,e)}else e.remove()},nest:function(s){const e=s[0],d=s[1];if(~classArray(e).indexOf(config.replacementClass))return mutators.replace(s);const h=new RegExp("".concat(config.cssPrefix,"-.*"));if(delete d[0].attributes.id,d[0].attributes.class){const _=d[0].attributes.class.split(" ").reduce((j,$)=>($===config.replacementClass||$.match(h)?j.toSvg.push($):j.toNode.push($),j),{toNode:[],toSvg:[]});d[0].attributes.class=_.toSvg.join(" "),_.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",_.toNode.join(" "))}const g=d.map(_=>toHtml(_)).join(`
`);e.setAttribute(DATA_FA_I2SVG,""),e.innerHTML=g}};function performOperationSync(s){s()}function perform(s,e){const d=typeof e=="function"?e:noop$2;if(s.length===0)d();else{let h=performOperationSync;config.mutateApproach===MUTATION_APPROACH_ASYNC&&(h=WINDOW.requestAnimationFrame||performOperationSync),h(()=>{const g=getMutator(),_=perf.begin("mutate");s.map(g),_(),d()})}}let disabled=!1;function disableObservation(){disabled=!0}function enableObservation(){disabled=!1}let mo$1=null;function observe(s){if(!MUTATION_OBSERVER||!config.observeMutations)return;const{treeCallback:e=noop$2,nodeCallback:d=noop$2,pseudoElementsCallback:h=noop$2,observeMutationsRoot:g=DOCUMENT}=s;mo$1=new MUTATION_OBSERVER(_=>{if(disabled)return;const j=getDefaultUsablePrefix();toArray(_).forEach($=>{if($.type==="childList"&&$.addedNodes.length>0&&!isWatched($.addedNodes[0])&&(config.searchPseudoElements&&h($.target),e($.target)),$.type==="attributes"&&$.target.parentNode&&config.searchPseudoElements&&h($.target.parentNode),$.type==="attributes"&&isWatched($.target)&&~ATTRIBUTES_WATCHED_FOR_MUTATION.indexOf($.attributeName))if($.attributeName==="class"&&hasPrefixAndIcon($.target)){const{prefix:et,iconName:tt}=getCanonicalIcon(classArray($.target));$.target.setAttribute(DATA_PREFIX,et||j),tt&&$.target.setAttribute(DATA_ICON,tt)}else hasBeenReplaced($.target)&&d($.target)})}),IS_DOM&&mo$1.observe(g,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function disconnect(){mo$1&&mo$1.disconnect()}function styleParser(s){const e=s.getAttribute("style");let d=[];return e&&(d=e.split(";").reduce((h,g)=>{const _=g.split(":"),j=_[0],$=_.slice(1);return j&&$.length>0&&(h[j]=$.join(":").trim()),h},{})),d}function classParser(s){const e=s.getAttribute("data-prefix"),d=s.getAttribute("data-icon"),h=s.innerText!==void 0?s.innerText.trim():"";let g=getCanonicalIcon(classArray(s));return g.prefix||(g.prefix=getDefaultUsablePrefix()),e&&d&&(g.prefix=e,g.iconName=d),g.iconName&&g.prefix||(g.prefix&&h.length>0&&(g.iconName=byLigature(g.prefix,s.innerText)||byUnicode(g.prefix,toHex(s.innerText))),!g.iconName&&config.autoFetchSvg&&s.firstChild&&s.firstChild.nodeType===Node.TEXT_NODE&&(g.iconName=s.firstChild.data)),g}function attributesParser(s){const e=toArray(s.attributes).reduce((g,_)=>(g.name!=="class"&&g.name!=="style"&&(g[_.name]=_.value),g),{}),d=s.getAttribute("title"),h=s.getAttribute("data-fa-title-id");return config.autoA11y&&(d?e["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(h||nextUniqueId()):(e["aria-hidden"]="true",e.focusable="false")),e}function blankMeta(){return{iconName:null,title:null,titleId:null,prefix:null,transform:meaninglessTransform,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function parseMeta(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:d,prefix:h,rest:g}=classParser(s),_=attributesParser(s),j=chainHooks("parseNodeAttributes",{},s);let $=e.styleParser?styleParser(s):[];return{iconName:d,title:s.getAttribute("title"),titleId:s.getAttribute("data-fa-title-id"),prefix:h,transform:meaninglessTransform,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:g,styles:$,attributes:_},...j}}const{styles:styles$2}=namespace;function generateMutation(s){const e=config.autoReplaceSvg==="nest"?parseMeta(s,{styleParser:!1}):parseMeta(s);return~e.extra.classes.indexOf(LAYERS_TEXT_CLASSNAME)?callProvided("generateLayersText",s,e):callProvided("generateSvgReplacementMutation",s,e)}let knownPrefixes=new Set;FAMILIES.map(s=>{knownPrefixes.add("fa-".concat(s))});Object.keys(PREFIX_TO_STYLE[a]).map(knownPrefixes.add.bind(knownPrefixes));Object.keys(PREFIX_TO_STYLE[r]).map(knownPrefixes.add.bind(knownPrefixes));Object.keys(PREFIX_TO_STYLE[o]).map(knownPrefixes.add.bind(knownPrefixes));knownPrefixes=[...knownPrefixes];function onTree(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!IS_DOM)return Promise.resolve();const d=DOCUMENT.documentElement.classList,h=nt=>d.add("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(nt)),g=nt=>d.remove("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(nt)),_=config.autoFetchSvg?knownPrefixes:FAMILIES.map(nt=>"fa-".concat(nt)).concat(Object.keys(styles$2));_.includes("fa")||_.push("fa");const j=[".".concat(LAYERS_TEXT_CLASSNAME,":not([").concat(DATA_FA_I2SVG,"])")].concat(_.map(nt=>".".concat(nt,":not([").concat(DATA_FA_I2SVG,"])"))).join(", ");if(j.length===0)return Promise.resolve();let $=[];try{$=toArray(s.querySelectorAll(j))}catch{}if($.length>0)h("pending"),g("complete");else return Promise.resolve();const et=perf.begin("onTree"),tt=$.reduce((nt,rt)=>{try{const it=generateMutation(rt);it&&nt.push(it)}catch(it){PRODUCTION$1||it.name==="MissingIcon"&&console.error(it)}return nt},[]);return new Promise((nt,rt)=>{Promise.all(tt).then(it=>{perform(it,()=>{h("active"),h("complete"),g("pending"),typeof e=="function"&&e(),et(),nt()})}).catch(it=>{et(),rt(it)})})}function onNode(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;generateMutation(s).then(d=>{d&&perform([d],e)})}function resolveIcons(s){return function(e){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const h=(e||{}).icon?e:findIconDefinition(e||{});let{mask:g}=d;return g&&(g=(g||{}).icon?g:findIconDefinition(g||{})),s(h,{...d,mask:g})}}const render=function(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:d=meaninglessTransform,symbol:h=!1,mask:g=null,maskId:_=null,title:j=null,titleId:$=null,classes:et=[],attributes:tt={},styles:nt={}}=e;if(!s)return;const{prefix:rt,iconName:it,icon:st}=s;return domVariants({type:"icon",...s},()=>(callHooks("beforeDOMElementCreation",{iconDefinition:s,params:e}),config.autoA11y&&(j?tt["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat($||nextUniqueId()):(tt["aria-hidden"]="true",tt.focusable="false")),makeInlineSvgAbstract({icons:{main:asFoundIcon(st),mask:g?asFoundIcon(g.icon):{found:!1,width:null,height:null,icon:{}}},prefix:rt,iconName:it,transform:{...meaninglessTransform,...d},symbol:h,title:j,maskId:_,titleId:$,extra:{attributes:tt,styles:nt,classes:et}})))};var ReplaceElements={mixout(){return{icon:resolveIcons(render)}},hooks(){return{mutationObserverCallbacks(s){return s.treeCallback=onTree,s.nodeCallback=onNode,s}}},provides(s){s.i2svg=function(e){const{node:d=DOCUMENT,callback:h=()=>{}}=e;return onTree(d,h)},s.generateSvgReplacementMutation=function(e,d){const{iconName:h,title:g,titleId:_,prefix:j,transform:$,symbol:et,mask:tt,maskId:nt,extra:rt}=d;return new Promise((it,st)=>{Promise.all([findIcon(h,j),tt.iconName?findIcon(tt.iconName,tt.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(ot=>{let[lt,dt]=ot;it([e,makeInlineSvgAbstract({icons:{main:lt,mask:dt},prefix:j,iconName:h,transform:$,symbol:et,maskId:nt,title:g,titleId:_,extra:rt,watchable:!0})])}).catch(st)})},s.generateAbstractIcon=function(e){let{children:d,attributes:h,main:g,transform:_,styles:j}=e;const $=joinStyles(j);$.length>0&&(h.style=$);let et;return transformIsMeaningful(_)&&(et=callProvided("generateAbstractTransformGrouping",{main:g,transform:_,containerWidth:g.width,iconWidth:g.width})),d.push(et||g.icon),{children:d,attributes:h}}}},Layers={mixout(){return{layer(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:d=[]}=e;return domVariants({type:"layer"},()=>{callHooks("beforeDOMElementCreation",{assembler:s,params:e});let h=[];return s(g=>{Array.isArray(g)?g.map(_=>{h=h.concat(_.abstract)}):h=h.concat(g.abstract)}),[{tag:"span",attributes:{class:["".concat(config.cssPrefix,"-layers"),...d].join(" ")},children:h}]})}}}},LayersCounter={mixout(){return{counter(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:d=null,classes:h=[],attributes:g={},styles:_={}}=e;return domVariants({type:"counter",content:s},()=>(callHooks("beforeDOMElementCreation",{content:s,params:e}),makeLayersCounterAbstract({content:s.toString(),title:d,extra:{attributes:g,styles:_,classes:["".concat(config.cssPrefix,"-layers-counter"),...h]}})))}}}},LayersText={mixout(){return{text(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:d=meaninglessTransform,title:h=null,classes:g=[],attributes:_={},styles:j={}}=e;return domVariants({type:"text",content:s},()=>(callHooks("beforeDOMElementCreation",{content:s,params:e}),makeLayersTextAbstract({content:s,transform:{...meaninglessTransform,...d},title:h,extra:{attributes:_,styles:j,classes:["".concat(config.cssPrefix,"-layers-text"),...g]}})))}}},provides(s){s.generateLayersText=function(e,d){const{title:h,transform:g,extra:_}=d;let j=null,$=null;if(IS_IE){const et=parseInt(getComputedStyle(e).fontSize,10),tt=e.getBoundingClientRect();j=tt.width/et,$=tt.height/et}return config.autoA11y&&!h&&(_.attributes["aria-hidden"]="true"),Promise.resolve([e,makeLayersTextAbstract({content:e.innerHTML,width:j,height:$,transform:g,title:h,extra:_,watchable:!0})])}}};const CLEAN_CONTENT_PATTERN=new RegExp('"',"ug"),SECONDARY_UNICODE_RANGE=[1105920,1112319],_FONT_FAMILY_WEIGHT_TO_PREFIX={FontAwesome:{normal:"fas",400:"fas"},...eo,...ao,...mo},FONT_FAMILY_WEIGHT_TO_PREFIX=Object.keys(_FONT_FAMILY_WEIGHT_TO_PREFIX).reduce((s,e)=>(s[e.toLowerCase()]=_FONT_FAMILY_WEIGHT_TO_PREFIX[e],s),{}),FONT_FAMILY_WEIGHT_FALLBACK=Object.keys(FONT_FAMILY_WEIGHT_TO_PREFIX).reduce((s,e)=>{const d=FONT_FAMILY_WEIGHT_TO_PREFIX[e];return s[e]=d[900]||[...Object.entries(d)][0][1],s},{});function hexValueFromContent(s){const e=s.replace(CLEAN_CONTENT_PATTERN,""),d=codePointAt(e,0),h=d>=SECONDARY_UNICODE_RANGE[0]&&d<=SECONDARY_UNICODE_RANGE[1],g=e.length===2?e[0]===e[1]:!1;return{value:toHex(g?e[0]:e),isSecondary:h||g}}function getPrefix(s,e){const d=s.replace(/^['"]|['"]$/g,"").toLowerCase(),h=parseInt(e),g=isNaN(h)?"normal":h;return(FONT_FAMILY_WEIGHT_TO_PREFIX[d]||{})[g]||FONT_FAMILY_WEIGHT_FALLBACK[d]}function replaceForPosition(s,e){const d="".concat(DATA_FA_PSEUDO_ELEMENT_PENDING).concat(e.replace(":","-"));return new Promise((h,g)=>{if(s.getAttribute(d)!==null)return h();const j=toArray(s.children).filter(it=>it.getAttribute(DATA_FA_PSEUDO_ELEMENT)===e)[0],$=WINDOW.getComputedStyle(s,e),et=$.getPropertyValue("font-family"),tt=et.match(FONT_FAMILY_PATTERN),nt=$.getPropertyValue("font-weight"),rt=$.getPropertyValue("content");if(j&&!tt)return s.removeChild(j),h();if(tt&&rt!=="none"&&rt!==""){const it=$.getPropertyValue("content");let st=getPrefix(et,nt);const{value:ot,isSecondary:lt}=hexValueFromContent(it),dt=tt[0].startsWith("FontAwesome");let at=byUnicode(st,ot),ut=at;if(dt){const pt=byOldUnicode(ot);pt.iconName&&pt.prefix&&(at=pt.iconName,st=pt.prefix)}if(at&&!lt&&(!j||j.getAttribute(DATA_PREFIX)!==st||j.getAttribute(DATA_ICON)!==ut)){s.setAttribute(d,ut),j&&s.removeChild(j);const pt=blankMeta(),{extra:vt}=pt;vt.attributes[DATA_FA_PSEUDO_ELEMENT]=e,findIcon(at,st).then(ht=>{const yt=makeInlineSvgAbstract({...pt,icons:{main:ht,mask:emptyCanonicalIcon()},prefix:st,iconName:ut,extra:vt,watchable:!0}),gt=DOCUMENT.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?s.insertBefore(gt,s.firstChild):s.appendChild(gt),gt.outerHTML=yt.map(ft=>toHtml(ft)).join(`
`),s.removeAttribute(d),h()}).catch(g)}else h()}else h()})}function replace(s){return Promise.all([replaceForPosition(s,"::before"),replaceForPosition(s,"::after")])}function processable(s){return s.parentNode!==document.head&&!~TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS.indexOf(s.tagName.toUpperCase())&&!s.getAttribute(DATA_FA_PSEUDO_ELEMENT)&&(!s.parentNode||s.parentNode.tagName!=="svg")}function searchPseudoElements(s){if(IS_DOM)return new Promise((e,d)=>{const h=toArray(s.querySelectorAll("*")).filter(processable).map(replace),g=perf.begin("searchPseudoElements");disableObservation(),Promise.all(h).then(()=>{g(),enableObservation(),e()}).catch(()=>{g(),enableObservation(),d()})})}var PseudoElements={hooks(){return{mutationObserverCallbacks(s){return s.pseudoElementsCallback=searchPseudoElements,s}}},provides(s){s.pseudoElements2svg=function(e){const{node:d=DOCUMENT}=e;config.searchPseudoElements&&searchPseudoElements(d)}}};let _unwatched=!1;var MutationObserver$1={mixout(){return{dom:{unwatch(){disableObservation(),_unwatched=!0}}}},hooks(){return{bootstrap(){observe(chainHooks("mutationObserverCallbacks",{}))},noAuto(){disconnect()},watch(s){const{observeMutationsRoot:e}=s;_unwatched?enableObservation():observe(chainHooks("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const parseTransformString=s=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return s.toLowerCase().split(" ").reduce((d,h)=>{const g=h.toLowerCase().split("-"),_=g[0];let j=g.slice(1).join("-");if(_&&j==="h")return d.flipX=!0,d;if(_&&j==="v")return d.flipY=!0,d;if(j=parseFloat(j),isNaN(j))return d;switch(_){case"grow":d.size=d.size+j;break;case"shrink":d.size=d.size-j;break;case"left":d.x=d.x-j;break;case"right":d.x=d.x+j;break;case"up":d.y=d.y-j;break;case"down":d.y=d.y+j;break;case"rotate":d.rotate=d.rotate+j;break}return d},e)};var PowerTransforms={mixout(){return{parse:{transform:s=>parseTransformString(s)}}},hooks(){return{parseNodeAttributes(s,e){const d=e.getAttribute("data-fa-transform");return d&&(s.transform=parseTransformString(d)),s}}},provides(s){s.generateAbstractTransformGrouping=function(e){let{main:d,transform:h,containerWidth:g,iconWidth:_}=e;const j={transform:"translate(".concat(g/2," 256)")},$="translate(".concat(h.x*32,", ").concat(h.y*32,") "),et="scale(".concat(h.size/16*(h.flipX?-1:1),", ").concat(h.size/16*(h.flipY?-1:1),") "),tt="rotate(".concat(h.rotate," 0 0)"),nt={transform:"".concat($," ").concat(et," ").concat(tt)},rt={transform:"translate(".concat(_/2*-1," -256)")},it={outer:j,inner:nt,path:rt};return{tag:"g",attributes:{...it.outer},children:[{tag:"g",attributes:{...it.inner},children:[{tag:d.icon.tag,children:d.icon.children,attributes:{...d.icon.attributes,...it.path}}]}]}}}};const ALL_SPACE={x:0,y:0,width:"100%",height:"100%"};function fillBlack(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return s.attributes&&(s.attributes.fill||e)&&(s.attributes.fill="black"),s}function deGroup(s){return s.tag==="g"?s.children:[s]}var Masks={hooks(){return{parseNodeAttributes(s,e){const d=e.getAttribute("data-fa-mask"),h=d?getCanonicalIcon(d.split(" ").map(g=>g.trim())):emptyCanonicalIcon();return h.prefix||(h.prefix=getDefaultUsablePrefix()),s.mask=h,s.maskId=e.getAttribute("data-fa-mask-id"),s}}},provides(s){s.generateAbstractMask=function(e){let{children:d,attributes:h,main:g,mask:_,maskId:j,transform:$}=e;const{width:et,icon:tt}=g,{width:nt,icon:rt}=_,it=transformForSvg({transform:$,containerWidth:nt,iconWidth:et}),st={tag:"rect",attributes:{...ALL_SPACE,fill:"white"}},ot=tt.children?{children:tt.children.map(fillBlack)}:{},lt={tag:"g",attributes:{...it.inner},children:[fillBlack({tag:tt.tag,attributes:{...tt.attributes,...it.path},...ot})]},dt={tag:"g",attributes:{...it.outer},children:[lt]},at="mask-".concat(j||nextUniqueId()),ut="clip-".concat(j||nextUniqueId()),pt={tag:"mask",attributes:{...ALL_SPACE,id:at,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[st,dt]},vt={tag:"defs",children:[{tag:"clipPath",attributes:{id:ut},children:deGroup(rt)},pt]};return d.push(vt,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(ut,")"),mask:"url(#".concat(at,")"),...ALL_SPACE}}),{children:d,attributes:h}}}},MissingIconIndicator={provides(s){let e=!1;WINDOW.matchMedia&&(e=WINDOW.matchMedia("(prefers-reduced-motion: reduce)").matches),s.missingIconAbstract=function(){const d=[],h={fill:"currentColor"},g={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};d.push({tag:"path",attributes:{...h,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const _={...g,attributeName:"opacity"},j={tag:"circle",attributes:{...h,cx:"256",cy:"364",r:"28"},children:[]};return e||j.children.push({tag:"animate",attributes:{...g,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{..._,values:"1;0;1;1;0;1;"}}),d.push(j),d.push({tag:"path",attributes:{...h,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:e?[]:[{tag:"animate",attributes:{..._,values:"1;0;0;0;0;1;"}}]}),e||d.push({tag:"path",attributes:{...h,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{..._,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:d}}}},SvgSymbols={hooks(){return{parseNodeAttributes(s,e){const d=e.getAttribute("data-fa-symbol"),h=d===null?!1:d===""?!0:d;return s.symbol=h,s}}}},plugins=[InjectCSS,ReplaceElements,Layers,LayersCounter,LayersText,PseudoElements,MutationObserver$1,PowerTransforms,Masks,MissingIconIndicator,SvgSymbols];registerPlugins(plugins,{mixoutsTo:api});api.noAuto;api.config;api.library;api.dom;const parse$1$1=api.parse;api.findIconDefinition;api.toHtml;const icon=api.icon;api.layer;api.text;api.counter;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function s(h,g,_,j,$,et){if(et!==ReactPropTypesSecret){var tt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw tt.name="Invariant Violation",tt}}s.isRequired=s;function e(){return s}var d={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:e,element:s,elementType:s,instanceOf:e,node:s,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return d.PropTypes=d,d};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);function ownKeys(s,e){var d=Object.keys(s);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(s);e&&(h=h.filter(function(g){return Object.getOwnPropertyDescriptor(s,g).enumerable})),d.push.apply(d,h)}return d}function _objectSpread2(s){for(var e=1;e<arguments.length;e++){var d=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(d),!0).forEach(function(h){_defineProperty(s,h,d[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(d)):ownKeys(Object(d)).forEach(function(h){Object.defineProperty(s,h,Object.getOwnPropertyDescriptor(d,h))})}return s}function _typeof(s){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(s)}function _defineProperty(s,e,d){return e in s?Object.defineProperty(s,e,{value:d,enumerable:!0,configurable:!0,writable:!0}):s[e]=d,s}function _objectWithoutPropertiesLoose(s,e){if(s==null)return{};var d={},h=Object.keys(s),g,_;for(_=0;_<h.length;_++)g=h[_],!(e.indexOf(g)>=0)&&(d[g]=s[g]);return d}function _objectWithoutProperties(s,e){if(s==null)return{};var d=_objectWithoutPropertiesLoose(s,e),h,g;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(s);for(g=0;g<_.length;g++)h=_[g],!(e.indexOf(h)>=0)&&Object.prototype.propertyIsEnumerable.call(s,h)&&(d[h]=s[h])}return d}function _toConsumableArray(s){return _arrayWithoutHoles(s)||_iterableToArray(s)||_unsupportedIterableToArray(s)||_nonIterableSpread()}function _arrayWithoutHoles(s){if(Array.isArray(s))return _arrayLikeToArray(s)}function _iterableToArray(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function _unsupportedIterableToArray(s,e){if(s){if(typeof s=="string")return _arrayLikeToArray(s,e);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return _arrayLikeToArray(s,e)}}function _arrayLikeToArray(s,e){(e==null||e>s.length)&&(e=s.length);for(var d=0,h=new Array(e);d<e;d++)h[d]=s[d];return h}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function classList(s){var e,d=s.beat,h=s.fade,g=s.beatFade,_=s.bounce,j=s.shake,$=s.flash,et=s.spin,tt=s.spinPulse,nt=s.spinReverse,rt=s.pulse,it=s.fixedWidth,st=s.inverse,ot=s.border,lt=s.listItem,dt=s.flip,at=s.size,ut=s.rotation,pt=s.pull,vt=(e={"fa-beat":d,"fa-fade":h,"fa-beat-fade":g,"fa-bounce":_,"fa-shake":j,"fa-flash":$,"fa-spin":et,"fa-spin-reverse":nt,"fa-spin-pulse":tt,"fa-pulse":rt,"fa-fw":it,"fa-inverse":st,"fa-border":ot,"fa-li":lt,"fa-flip":dt===!0,"fa-flip-horizontal":dt==="horizontal"||dt==="both","fa-flip-vertical":dt==="vertical"||dt==="both"},_defineProperty(e,"fa-".concat(at),typeof at<"u"&&at!==null),_defineProperty(e,"fa-rotate-".concat(ut),typeof ut<"u"&&ut!==null&&ut!==0),_defineProperty(e,"fa-pull-".concat(pt),typeof pt<"u"&&pt!==null),_defineProperty(e,"fa-swap-opacity",s.swapOpacity),e);return Object.keys(vt).map(function(ht){return vt[ht]?ht:null}).filter(function(ht){return ht})}function _isNumerical(s){return s=s-0,s===s}function camelize(s){return _isNumerical(s)?s:(s=s.replace(/[\-_\s]+(.)?/g,function(e,d){return d?d.toUpperCase():""}),s.substr(0,1).toLowerCase()+s.substr(1))}var _excluded=["style"];function capitalize(s){return s.charAt(0).toUpperCase()+s.slice(1)}function styleToObject(s){return s.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,d){var h=d.indexOf(":"),g=camelize(d.slice(0,h)),_=d.slice(h+1).trim();return g.startsWith("webkit")?e[capitalize(g)]=_:e[g]=_,e},{})}function convert(s,e){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var h=(e.children||[]).map(function(et){return convert(s,et)}),g=Object.keys(e.attributes||{}).reduce(function(et,tt){var nt=e.attributes[tt];switch(tt){case"class":et.attrs.className=nt,delete e.attributes.class;break;case"style":et.attrs.style=styleToObject(nt);break;default:tt.indexOf("aria-")===0||tt.indexOf("data-")===0?et.attrs[tt.toLowerCase()]=nt:et.attrs[camelize(tt)]=nt}return et},{attrs:{}}),_=d.style,j=_===void 0?{}:_,$=_objectWithoutProperties(d,_excluded);return g.attrs.style=_objectSpread2(_objectSpread2({},g.attrs.style),j),s.apply(void 0,[e.tag,_objectSpread2(_objectSpread2({},g.attrs),$)].concat(_toConsumableArray(h)))}var PRODUCTION=!1;try{PRODUCTION=!0}catch{}function log(){if(!PRODUCTION&&console&&typeof console.error=="function"){var s;(s=console).error.apply(s,arguments)}}function normalizeIconArgs(s){if(s&&_typeof(s)==="object"&&s.prefix&&s.iconName&&s.icon)return s;if(parse$1$1.icon)return parse$1$1.icon(s);if(s===null)return null;if(s&&_typeof(s)==="object"&&s.prefix&&s.iconName)return s;if(Array.isArray(s)&&s.length===2)return{prefix:s[0],iconName:s[1]};if(typeof s=="string")return{prefix:"fas",iconName:s}}function objectWithKey(s,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?_defineProperty({},s,e):{}}var defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},FontAwesomeIcon=React.forwardRef(function(s,e){var d=_objectSpread2(_objectSpread2({},defaultProps),s),h=d.icon,g=d.mask,_=d.symbol,j=d.className,$=d.title,et=d.titleId,tt=d.maskId,nt=normalizeIconArgs(h),rt=objectWithKey("classes",[].concat(_toConsumableArray(classList(d)),_toConsumableArray((j||"").split(" ")))),it=objectWithKey("transform",typeof d.transform=="string"?parse$1$1.transform(d.transform):d.transform),st=objectWithKey("mask",normalizeIconArgs(g)),ot=icon(nt,_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},rt),it),st),{},{symbol:_,title:$,titleId:et,maskId:tt}));if(!ot)return log("Could not find icon",nt),null;var lt=ot.abstract,dt={ref:e};return Object.keys(d).forEach(function(at){defaultProps.hasOwnProperty(at)||(dt[at]=d[at])}),convertCurry(lt[0],dt)});FontAwesomeIcon.displayName="FontAwesomeIcon";FontAwesomeIcon.propTypes={beat:PropTypes.bool,border:PropTypes.bool,beatFade:PropTypes.bool,bounce:PropTypes.bool,className:PropTypes.string,fade:PropTypes.bool,flash:PropTypes.bool,mask:PropTypes.oneOfType([PropTypes.object,PropTypes.array,PropTypes.string]),maskId:PropTypes.string,fixedWidth:PropTypes.bool,inverse:PropTypes.bool,flip:PropTypes.oneOf([!0,!1,"horizontal","vertical","both"]),icon:PropTypes.oneOfType([PropTypes.object,PropTypes.array,PropTypes.string]),listItem:PropTypes.bool,pull:PropTypes.oneOf(["right","left"]),pulse:PropTypes.bool,rotation:PropTypes.oneOf([0,90,180,270]),shake:PropTypes.bool,size:PropTypes.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:PropTypes.bool,spinPulse:PropTypes.bool,spinReverse:PropTypes.bool,symbol:PropTypes.oneOfType([PropTypes.bool,PropTypes.string]),title:PropTypes.string,titleId:PropTypes.string,transform:PropTypes.oneOfType([PropTypes.string,PropTypes.object]),swapOpacity:PropTypes.bool};var convertCurry=convert.bind(null,React.createElement);const faFileLines={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM112 256l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},faFileAlt=faFileLines,faRightFromBracket={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"]},faSignOutAlt=faRightFromBracket,faSquareCheck={prefix:"fas",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},faCheckSquare=faSquareCheck,faList={prefix:"fas",iconName:"list",icon:[512,512,["list-squares"],"f03a","M40 48C26.7 48 16 58.7 16 72l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24L40 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM16 232l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0z"]},faPenToSquare={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},faEdit=faPenToSquare,faUser={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},faChartBar={prefix:"fas",iconName:"chart-bar",icon:[512,512,["bar-chart"],"f080","M32 32c17.7 0 32 14.3 32 32l0 336c0 8.8 7.2 16 16 16l400 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 480c-44.2 0-80-35.8-80-80L0 64C0 46.3 14.3 32 32 32zm96 96c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32zm32 64l128 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 96l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},faFileContract={prefix:"fas",iconName:"file-contract",icon:[384,512,[],"f56c","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM80 64l64 0c8.8 0 16 7.2 16 16s-7.2 16-16 16L80 96c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l64 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-64 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm54.2 253.8c-6.1 20.3-24.8 34.2-46 34.2L80 416c-8.8 0-16-7.2-16-16s7.2-16 16-16l8.2 0c7.1 0 13.3-4.6 15.3-11.4l14.9-49.5c3.4-11.3 13.8-19.1 25.6-19.1s22.2 7.7 25.6 19.1l11.6 38.6c7.4-6.2 16.8-9.7 26.8-9.7c15.9 0 30.4 9 37.5 23.2l4.4 8.8 54.1 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-64 0c-6.1 0-11.6-3.4-14.3-8.8l-8.8-17.7c-1.7-3.4-5.1-5.5-8.8-5.5s-7.2 2.1-8.8 5.5l-8.8 17.7c-2.9 5.9-9.2 9.4-15.7 8.8s-12.1-5.1-13.9-11.3L144 349l-9.8 32.8z"]},faEye={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},faTrash={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},faPlus={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},faBook={prefix:"fas",iconName:"book",icon:[448,512,[128212],"f02d","M96 0C43 0 0 43 0 96L0 416c0 53 43 96 96 96l288 0 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-64c17.7 0 32-14.3 32-32l0-320c0-17.7-14.3-32-32-32L384 0 96 0zm0 384l256 0 0 64L96 448c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16l192 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-192 0c-8.8 0-16-7.2-16-16zm16 48l192 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-192 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},faCircleXmark={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]},faTimesCircle=faCircleXmark,faMagnifyingGlassPlus={prefix:"fas",iconName:"magnifying-glass-plus",icon:[512,512,["search-plus"],"f00e","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM184 296c0 13.3 10.7 24 24 24s24-10.7 24-24l0-64 64 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-64 0 0-64c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 64-64 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l64 0 0 64z"]},faSearchPlus=faMagnifyingGlassPlus,NuevoCurso=({cursoSeleccionado:s,onActualizarCurso:e,onCancelar:d})=>{const[h,g]=reactExports.useState(""),[_,j]=reactExports.useState(""),[$,et]=reactExports.useState(""),[tt,nt]=reactExports.useState(""),[rt,it]=reactExports.useState([]),[st,ot]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{try{const pt=(await getDocs(collection(db,"Listas"))).docs.map(vt=>({id:vt.id,name:vt.data().Nombre}));ot(pt)}catch(ut){console.error("Error al cargar las listas:",ut)}})()},[]),reactExports.useEffect(()=>{s&&(g(s.cursoNombre||""),j(s.asesor||""),et(s.fechaInicio||""),nt(s.fechaFin||""),it(s.listas||[]))},[s]);const lt=at=>{const{value:ut,checked:pt}=at.target;it(vt=>pt?[...vt,ut]:vt.filter(ht=>ht!==ut))},dt=async()=>{if(!h||!_||!$||!tt){alert("Por favor, completa todos los campos.");return}try{const at={cursoNombre:h,asesor:_,fechaInicio:$,fechaFin:tt,listas:rt};if(s)await updateDoc(doc(db,"Cursos",s.id),at),alert("Curso actualizado exitosamente"),e(s.id,at);else{const ut=await addDoc(collection(db,"Cursos"),at);alert("Curso creado exitosamente");for(const pt of rt){const vt=doc(db,"Listas",pt);(await getDocs(collection(vt,"Alumnos"))).forEach(async yt=>{const gt=yt.id;await updateDoc(doc(db,"Alumnos",gt),{Cursos:arrayUnion(at.cursoNombre)})})}e(ut.id,at)}}catch(at){console.error("Error al crear o actualizar el curso:",at),alert("Hubo un error al crear o actualizar el curso.")}g(""),j(""),et(""),nt(""),it([]),d()};return jsxRuntimeExports.jsxs("div",{className:"nuevo-curso-container",children:[jsxRuntimeExports.jsxs("div",{className:"form-section",children:[jsxRuntimeExports.jsx("h2",{children:s?"Editar Curso":"Nuevo Curso"}),jsxRuntimeExports.jsx("label",{children:"Nombre del curso"}),jsxRuntimeExports.jsx("input",{type:"text",value:h,onChange:at=>g(at.target.value),placeholder:"Nombre del curso"}),jsxRuntimeExports.jsx("label",{children:"Asesor del curso"}),jsxRuntimeExports.jsx("input",{type:"text",value:_,onChange:at=>j(at.target.value),placeholder:"Asesor del curso"}),jsxRuntimeExports.jsx("label",{children:"Fecha de Inicio"}),jsxRuntimeExports.jsx("input",{type:"date",value:$,onChange:at=>et(at.target.value)}),jsxRuntimeExports.jsx("label",{children:"Fecha de Finalización"}),jsxRuntimeExports.jsx("input",{type:"date",value:tt,onChange:at=>nt(at.target.value)}),jsxRuntimeExports.jsx("label",{children:"Listas"}),jsxRuntimeExports.jsx("div",{className:"listas",children:st.map(at=>jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:at.id,onChange:lt,checked:rt.includes(at.id)}),at.name]})},at.id))})]}),jsxRuntimeExports.jsxs("div",{className:"preview-section",children:[jsxRuntimeExports.jsx("h3",{children:"Vista Previa"}),jsxRuntimeExports.jsxs("table",{className:"preview-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Curso"}),jsxRuntimeExports.jsx("th",{children:"Asesor"}),jsxRuntimeExports.jsx("th",{children:"Fecha de Inicio"}),jsxRuntimeExports.jsx("th",{children:"Fecha de Finalización"}),jsxRuntimeExports.jsx("th",{children:"Listas"})]})}),jsxRuntimeExports.jsx("tbody",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:h}),jsxRuntimeExports.jsx("td",{children:_}),jsxRuntimeExports.jsx("td",{children:$}),jsxRuntimeExports.jsx("td",{children:tt}),jsxRuntimeExports.jsx("td",{children:rt.map(at=>{var ut;return(ut=st.find(pt=>pt.id===at))==null?void 0:ut.name}).filter(Boolean).join(", ")})]})})]}),jsxRuntimeExports.jsxs("div",{className:"actions",children:[jsxRuntimeExports.jsx("button",{className:"cancel-button",onClick:d,children:"Cancelar"}),jsxRuntimeExports.jsx("button",{className:"create-button",onClick:dt,children:s?"Actualizar":"Crear"})]})]})]})};function Courses(){const[s,e]=reactExports.useState(!1),[d,h]=reactExports.useState([]),[g,_]=reactExports.useState(""),[j,$]=reactExports.useState(null),[et,tt]=reactExports.useState(null),[nt,rt]=reactExports.useState([]),[it,st]=reactExports.useState(""),ot=async()=>{try{const ft=(await getDocs(collection(db,"Cursos"))).docs.map(_t=>({id:_t.id,..._t.data()}));h(ft)}catch(gt){console.error("Error al cargar los cursos:",gt)}},lt=async()=>{try{const ft=(await getDocs(collection(db,"Listas"))).docs.map(_t=>({id:_t.id,name:_t.data().Nombre}));rt(ft)}catch(gt){console.error("Error al cargar las listas:",gt)}},dt=gt=>!gt||gt.length===0?"Sin listas asociadas":gt.map(ft=>{var _t;return((_t=nt.find(Et=>Et.id===ft))==null?void 0:_t.name)||"Lista no encontrada"}).join(", ");reactExports.useEffect(()=>{ot(),lt()},[]),reactExports.useEffect(()=>{et!=null&&et.listas&&st(dt(et.listas))},[et,nt]);const at=gt=>{$(gt),e(!0),tt(null)},ut=async gt=>{if(window.confirm("¿Estás seguro de que deseas eliminar este curso?"))try{await deleteDoc(doc(db,"Cursos",gt)),ot()}catch(_t){console.error("Error al eliminar el curso:",_t)}},pt=()=>{e(!1),$(null)},vt=gt=>{tt(gt),e(!1)},ht=(gt,ft)=>{h(_t=>_t.map(Et=>Et.id===gt?{...Et,...ft}:Et)),pt()},yt=d.filter(gt=>{var ft;return(ft=gt.cursoNombre)==null?void 0:ft.toLowerCase().includes(g.toLowerCase())});return jsxRuntimeExports.jsx("div",{className:"courses-container",children:s?jsxRuntimeExports.jsx(NuevoCurso,{cursoSeleccionado:j,onActualizarCurso:ht,onCancelar:pt}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"courses-left",children:[jsxRuntimeExports.jsxs("div",{className:"header-container",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Buscar curso...",value:g,onChange:gt=>_(gt.target.value),className:"search-input"}),jsxRuntimeExports.jsxs("button",{onClick:()=>e(!0),className:"add-course-button",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faPlus})," Agregar Curso"]})]}),jsxRuntimeExports.jsx("div",{className:"courses-section",children:yt.map(gt=>jsxRuntimeExports.jsxs("div",{className:"course-card",children:[jsxRuntimeExports.jsx("h3",{children:gt.cursoNombre}),jsxRuntimeExports.jsx("p",{children:gt.fechaInicio}),jsxRuntimeExports.jsxs("div",{className:"course-actions",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>vt(gt),children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faEye})," Ver"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>at(gt),children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faEdit})," Editar"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>ut(gt.id),children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faTrash})," Eliminar"]})]})]},gt.id))})]}),et&&jsxRuntimeExports.jsx("div",{className:"overlay",children:jsxRuntimeExports.jsxs("div",{className:"modal",children:[jsxRuntimeExports.jsx("h2",{children:"Detalles del curso"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Nombre:"})," ",et.cursoNombre]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Asesor:"})," ",et.asesor]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Fecha:"})," ",et.fechaInicio]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Listas:"})," ",it]}),jsxRuntimeExports.jsx("div",{className:"modal-buttons",children:jsxRuntimeExports.jsx("button",{onClick:()=>tt(null),children:"Cerrar"})})]})})]})})}const CrearLista=({listaSeleccionada:s,onCancelar:e,onSave:d})=>{const[h,g]=reactExports.useState(""),[_,j]=reactExports.useState(""),[$,et]=reactExports.useState([]),[tt,nt]=reactExports.useState([]),[rt,it]=reactExports.useState(""),[st,ot]=reactExports.useState("Todos los cargos"),[lt,dt]=reactExports.useState(!1);reactExports.useEffect(()=>{if(s){g(s.Nombre||""),j(s.Fecha||"");const ht=$.filter(yt=>s.Alumnos.some(gt=>gt.Nombres===yt.Nombres&&gt.ApellidoP===yt.ApellidoP&&gt.ApellidoM===yt.ApellidoM));nt(ht)}else g(""),j(""),nt([])},[s,$]);const at=async()=>{try{const yt=(await getDocs(collection(db,"Alumnos"))).docs.map(gt=>({id:gt.id,...gt.data()}));et(yt)}catch(ht){console.error("Error al cargar los estudiantes:",ht)}};reactExports.useEffect(()=>{at()},[]);const ut=ht=>{const yt=tt.find(gt=>gt.id===ht.id);nt(yt?tt.filter(gt=>gt.id!==ht.id):[...tt,ht])},pt=async()=>{if(!h.trim()){alert("Por favor, introduce el nombre de la lista.");return}if(!_.trim()){alert("Por favor, selecciona una fecha.");return}if(tt.length===0){alert("Agrega al menos un participante.");return}const ht={Nombre:h.trim(),Fecha:_.trim(),Alumnos:tt.map(yt=>({Nombres:yt.Nombres||"Nombre no especificado",ApellidoP:yt.ApellidoP||"Apellido Paterno no especificado",ApellidoM:yt.ApellidoM||"Apellido Materno no especificado",Puesto:yt.Puesto||"Sin puesto"}))};try{s!=null&&s.id?(await updateDoc(doc(db,"Listas",s.id),ht),alert("Lista actualizada exitosamente.")):(await addDoc(collection(db,"Listas"),ht),alert("Lista creada exitosamente.")),g(""),j(""),nt([]),d()}catch(yt){console.error("Error al guardar la lista:",yt),alert("Hubo un error al guardar la lista.")}},vt=$.filter(ht=>{var ft,_t,Et;const yt=((ft=ht.Nombres)==null?void 0:ft.toLowerCase().includes(rt.toLowerCase()))||((_t=ht.ApellidoP)==null?void 0:_t.toLowerCase().includes(rt.toLowerCase()))||((Et=ht.ApellidoM)==null?void 0:Et.toLowerCase().includes(rt.toLowerCase())),gt=st==="Todos los cargos"||ht.Puesto===st;return yt&&gt});return jsxRuntimeExports.jsxs("div",{className:"crear-lista-container",children:[jsxRuntimeExports.jsx("h2",{children:s?"Editar Lista":"Nueva Lista"}),jsxRuntimeExports.jsxs("div",{className:"list-name-section",children:[jsxRuntimeExports.jsx("label",{htmlFor:"listName",children:"Nombre de la Lista"}),jsxRuntimeExports.jsx("input",{type:"text",id:"listName",value:h,onChange:ht=>g(ht.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"date-section",children:[jsxRuntimeExports.jsx("label",{htmlFor:"listDate",children:"Fecha de la Lista"}),jsxRuntimeExports.jsx("input",{type:"date",id:"listDate",value:_,onChange:ht=>j(ht.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"participant-section",children:[jsxRuntimeExports.jsxs("div",{className:"form-left",children:[jsxRuntimeExports.jsx("h3",{children:"Buscar Participante"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Filtrar alumnos...",value:rt,onChange:ht=>it(ht.target.value)}),jsxRuntimeExports.jsxs("select",{value:st,onChange:ht=>ot(ht.target.value),children:[jsxRuntimeExports.jsx("option",{value:"Todos los cargos",children:"Todos los cargos"}),jsxRuntimeExports.jsx("option",{value:"Administrador",children:"Administrador"}),jsxRuntimeExports.jsx("option",{value:"Sistemas",children:"Sistemas"}),jsxRuntimeExports.jsx("option",{value:"Maestro",children:"Maestro"}),jsxRuntimeExports.jsx("option",{value:"Otro",children:"Otro"})]}),jsxRuntimeExports.jsxs("table",{children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Seleccionar"}),jsxRuntimeExports.jsx("th",{children:"Nombre"}),jsxRuntimeExports.jsx("th",{children:"Apellido Paterno"}),jsxRuntimeExports.jsx("th",{children:"Apellido Materno"}),jsxRuntimeExports.jsx("th",{children:"Cargo"})]})}),jsxRuntimeExports.jsx("tbody",{children:vt.map(ht=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("input",{type:"checkbox",checked:tt.some(yt=>yt.id===ht.id),onChange:()=>ut(ht)})}),jsxRuntimeExports.jsx("td",{children:ht.Nombres}),jsxRuntimeExports.jsx("td",{children:ht.ApellidoP}),jsxRuntimeExports.jsx("td",{children:ht.ApellidoM}),jsxRuntimeExports.jsx("td",{children:ht.Puesto||"Sin puesto"})]},ht.id))})]})]}),lt&&jsxRuntimeExports.jsxs("div",{className:"form-right",children:[jsxRuntimeExports.jsx("h3",{children:"Vista Previa de la Lista"}),jsxRuntimeExports.jsxs("table",{children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Nombre"}),jsxRuntimeExports.jsx("th",{children:"Apellido Paterno"}),jsxRuntimeExports.jsx("th",{children:"Apellido Materno"}),jsxRuntimeExports.jsx("th",{children:"Cargo"})]})}),jsxRuntimeExports.jsx("tbody",{children:tt.map((ht,yt)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:ht.Nombres}),jsxRuntimeExports.jsx("td",{children:ht.ApellidoP}),jsxRuntimeExports.jsx("td",{children:ht.ApellidoM}),jsxRuntimeExports.jsx("td",{children:ht.Puesto||"Sin puesto"})]},yt))})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"create-list-button-container",children:[jsxRuntimeExports.jsx("button",{onClick:pt,children:s?"Actualizar Lista":"Crear Lista"}),jsxRuntimeExports.jsx("button",{onClick:()=>dt(!lt),children:lt?"Ocultar Vista Previa":"Mostrar Vista Previa"}),jsxRuntimeExports.jsx("button",{onClick:e,children:"Cancelar"})]})]})};function Lists(){const[s,e]=reactExports.useState(!1),[d,h]=reactExports.useState([]),[g,_]=reactExports.useState(""),[j,$]=reactExports.useState(null),[et,tt]=reactExports.useState(null),nt=async()=>{try{const at=(await getDocs(collection(db,"Listas"))).docs.map(ut=>({id:ut.id,...ut.data()}));console.log("Listas cargadas:",at),h(at)}catch(dt){console.error("Error al cargar las listas:",dt)}};reactExports.useEffect(()=>{nt()},[]);const rt=dt=>{$(dt),e(!0)},it=async dt=>{if(window.confirm("¿Estás seguro de que deseas eliminar esta lista?"))try{await deleteDoc(doc(db,"Listas",dt)),nt(),alert("Lista eliminada exitosamente.")}catch(ut){console.error("Error al eliminar la lista:",ut)}},st=()=>{e(!1),$(null),nt()},ot=()=>{e(!1),$(null)},lt=dt=>{tt(dt)};return jsxRuntimeExports.jsx("div",{className:"lists-container",children:s?jsxRuntimeExports.jsx(CrearLista,{listaSeleccionada:j,onCancelar:ot,onSave:st}):et?jsxRuntimeExports.jsxs("div",{className:"list-details",children:[jsxRuntimeExports.jsxs("h2",{children:["Detalles de la Lista: ",et.Nombre]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Fecha:"})," ",et.Fecha||"Sin fecha"]}),jsxRuntimeExports.jsx("h3",{children:"Participantes:"}),jsxRuntimeExports.jsxs("table",{children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Nombre"}),jsxRuntimeExports.jsx("th",{children:"Apellido Paterno"}),jsxRuntimeExports.jsx("th",{children:"Apellido Materno"})]})}),jsxRuntimeExports.jsx("tbody",{children:et.Alumnos&&et.Alumnos.length>0?et.Alumnos.map((dt,at)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:dt.Nombres}),jsxRuntimeExports.jsx("td",{children:dt.ApellidoP}),jsxRuntimeExports.jsx("td",{children:dt.ApellidoM})]},at)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"3",children:"No hay participantes en esta lista."})})})]}),jsxRuntimeExports.jsx("button",{onClick:()=>tt(null),children:"Volver"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h2",{className:"title-lists",children:"Listas"}),jsxRuntimeExports.jsxs("div",{className:"search-container",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Buscar lista...",value:g,onChange:dt=>_(dt.target.value),className:"search-input"}),jsxRuntimeExports.jsxs("button",{className:"search-button",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faSearchPlus})," Buscar"]})]}),jsxRuntimeExports.jsx("div",{className:"add-list-container",children:jsxRuntimeExports.jsxs("button",{onClick:()=>{$(null),e(!0)},className:"add-list-button",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faPlus})," Agregar Lista"]})}),jsxRuntimeExports.jsx("div",{className:"lists-grid",children:d.filter(dt=>{var at;return(at=dt.Nombre)==null?void 0:at.toLowerCase().includes(g.toLowerCase())}).map(dt=>jsxRuntimeExports.jsxs("div",{className:"list-card",onClick:()=>lt(dt),children:[jsxRuntimeExports.jsx("h3",{children:dt.Nombre||"Sin Nombre"}),jsxRuntimeExports.jsxs("p",{children:["Fecha: ",dt.Fecha||"Sin fecha"]}),jsxRuntimeExports.jsxs("div",{className:"list-actions",children:[jsxRuntimeExports.jsxs("button",{className:"edit-button",onClick:at=>{at.stopPropagation(),rt(dt)},children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faEdit})," Editar"]}),jsxRuntimeExports.jsxs("button",{className:"delete-button",onClick:at=>{at.stopPropagation(),it(dt.id)},children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faTrash})," Eliminar"]})]})]},dt.id))})]})})}function isObject$3(s){return s!==null&&typeof s=="object"&&"constructor"in s&&s.constructor===Object}function extend$2(s,e){s===void 0&&(s={}),e===void 0&&(e={}),Object.keys(e).forEach(d=>{typeof s[d]>"u"?s[d]=e[d]:isObject$3(e[d])&&isObject$3(s[d])&&Object.keys(e[d]).length>0&&extend$2(s[d],e[d])})}const ssrDocument={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function getDocument(){const s=typeof document<"u"?document:{};return extend$2(s,ssrDocument),s}const ssrWindow={document:ssrDocument,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(s){return typeof setTimeout>"u"?(s(),null):setTimeout(s,0)},cancelAnimationFrame(s){typeof setTimeout>"u"||clearTimeout(s)}};function getWindow(){const s=typeof window<"u"?window:{};return extend$2(s,ssrWindow),s}function classesToTokens(s){return s===void 0&&(s=""),s.trim().split(" ").filter(e=>!!e.trim())}function deleteProps(s){const e=s;Object.keys(e).forEach(d=>{try{e[d]=null}catch{}try{delete e[d]}catch{}})}function nextTick(s,e){return e===void 0&&(e=0),setTimeout(s,e)}function now(){return Date.now()}function getComputedStyle$2(s){const e=getWindow();let d;return e.getComputedStyle&&(d=e.getComputedStyle(s,null)),!d&&s.currentStyle&&(d=s.currentStyle),d||(d=s.style),d}function getTranslate(s,e){e===void 0&&(e="x");const d=getWindow();let h,g,_;const j=getComputedStyle$2(s);return d.WebKitCSSMatrix?(g=j.transform||j.webkitTransform,g.split(",").length>6&&(g=g.split(", ").map($=>$.replace(",",".")).join(", ")),_=new d.WebKitCSSMatrix(g==="none"?"":g)):(_=j.MozTransform||j.OTransform||j.MsTransform||j.msTransform||j.transform||j.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),h=_.toString().split(",")),e==="x"&&(d.WebKitCSSMatrix?g=_.m41:h.length===16?g=parseFloat(h[12]):g=parseFloat(h[4])),e==="y"&&(d.WebKitCSSMatrix?g=_.m42:h.length===16?g=parseFloat(h[13]):g=parseFloat(h[5])),g||0}function isObject$2(s){return typeof s=="object"&&s!==null&&s.constructor&&Object.prototype.toString.call(s).slice(8,-1)==="Object"}function isNode(s){return typeof window<"u"&&typeof window.HTMLElement<"u"?s instanceof HTMLElement:s&&(s.nodeType===1||s.nodeType===11)}function extend$1(){const s=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let d=1;d<arguments.length;d+=1){const h=d<0||arguments.length<=d?void 0:arguments[d];if(h!=null&&!isNode(h)){const g=Object.keys(Object(h)).filter(_=>e.indexOf(_)<0);for(let _=0,j=g.length;_<j;_+=1){const $=g[_],et=Object.getOwnPropertyDescriptor(h,$);et!==void 0&&et.enumerable&&(isObject$2(s[$])&&isObject$2(h[$])?h[$].__swiper__?s[$]=h[$]:extend$1(s[$],h[$]):!isObject$2(s[$])&&isObject$2(h[$])?(s[$]={},h[$].__swiper__?s[$]=h[$]:extend$1(s[$],h[$])):s[$]=h[$])}}}return s}function setCSSProperty(s,e,d){s.style.setProperty(e,d)}function animateCSSModeScroll(s){let{swiper:e,targetPosition:d,side:h}=s;const g=getWindow(),_=-e.translate;let j=null,$;const et=e.params.speed;e.wrapperEl.style.scrollSnapType="none",g.cancelAnimationFrame(e.cssModeFrameID);const tt=d>_?"next":"prev",nt=(it,st)=>tt==="next"&&it>=st||tt==="prev"&&it<=st,rt=()=>{$=new Date().getTime(),j===null&&(j=$);const it=Math.max(Math.min(($-j)/et,1),0),st=.5-Math.cos(it*Math.PI)/2;let ot=_+st*(d-_);if(nt(ot,d)&&(ot=d),e.wrapperEl.scrollTo({[h]:ot}),nt(ot,d)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[h]:ot})}),g.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=g.requestAnimationFrame(rt)};rt()}function elementChildren(s,e){e===void 0&&(e="");const d=[...s.children];return s instanceof HTMLSlotElement&&d.push(...s.assignedElements()),e?d.filter(h=>h.matches(e)):d}function elementIsChildOf(s,e){const d=e.contains(s);return!d&&e instanceof HTMLSlotElement?[...e.assignedElements()].includes(s):d}function showWarning(s){try{console.warn(s);return}catch{}}function createElement(s,e){e===void 0&&(e=[]);const d=document.createElement(s);return d.classList.add(...Array.isArray(e)?e:classesToTokens(e)),d}function elementPrevAll(s,e){const d=[];for(;s.previousElementSibling;){const h=s.previousElementSibling;e?h.matches(e)&&d.push(h):d.push(h),s=h}return d}function elementNextAll(s,e){const d=[];for(;s.nextElementSibling;){const h=s.nextElementSibling;e?h.matches(e)&&d.push(h):d.push(h),s=h}return d}function elementStyle(s,e){return getWindow().getComputedStyle(s,null).getPropertyValue(e)}function elementIndex(s){let e=s,d;if(e){for(d=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(d+=1);return d}}function elementParents(s,e){const d=[];let h=s.parentElement;for(;h;)e?h.matches(e)&&d.push(h):d.push(h),h=h.parentElement;return d}function elementOuterSize(s,e,d){const h=getWindow();return s[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(h.getComputedStyle(s,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(h.getComputedStyle(s,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function makeElementsArray(s){return(Array.isArray(s)?s:[s]).filter(e=>!!e)}let support;function calcSupport(){const s=getWindow(),e=getDocument();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in s||s.DocumentTouch&&e instanceof s.DocumentTouch)}}function getSupport(){return support||(support=calcSupport()),support}let deviceCached;function calcDevice(s){let{userAgent:e}=s===void 0?{}:s;const d=getSupport(),h=getWindow(),g=h.navigator.platform,_=e||h.navigator.userAgent,j={ios:!1,android:!1},$=h.screen.width,et=h.screen.height,tt=_.match(/(Android);?[\s\/]+([\d.]+)?/);let nt=_.match(/(iPad).*OS\s([\d_]+)/);const rt=_.match(/(iPod)(.*OS\s([\d_]+))?/),it=!nt&&_.match(/(iPhone\sOS|iOS)\s([\d_]+)/),st=g==="Win32";let ot=g==="MacIntel";const lt=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!nt&&ot&&d.touch&&lt.indexOf(`${$}x${et}`)>=0&&(nt=_.match(/(Version)\/([\d.]+)/),nt||(nt=[0,1,"13_0_0"]),ot=!1),tt&&!st&&(j.os="android",j.android=!0),(nt||it||rt)&&(j.os="ios",j.ios=!0),j}function getDevice(s){return s===void 0&&(s={}),deviceCached||(deviceCached=calcDevice(s)),deviceCached}let browser$1;function calcBrowser(){const s=getWindow(),e=getDevice();let d=!1;function h(){const $=s.navigator.userAgent.toLowerCase();return $.indexOf("safari")>=0&&$.indexOf("chrome")<0&&$.indexOf("android")<0}if(h()){const $=String(s.navigator.userAgent);if($.includes("Version/")){const[et,tt]=$.split("Version/")[1].split(" ")[0].split(".").map(nt=>Number(nt));d=et<16||et===16&&tt<2}}const g=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(s.navigator.userAgent),_=h(),j=_||g&&e.ios;return{isSafari:d||_,needPerspectiveFix:d,need3dFix:j,isWebView:g}}function getBrowser(){return browser$1||(browser$1=calcBrowser()),browser$1}function Resize(s){let{swiper:e,on:d,emit:h}=s;const g=getWindow();let _=null,j=null;const $=()=>{!e||e.destroyed||!e.initialized||(h("beforeResize"),h("resize"))},et=()=>{!e||e.destroyed||!e.initialized||(_=new ResizeObserver(rt=>{j=g.requestAnimationFrame(()=>{const{width:it,height:st}=e;let ot=it,lt=st;rt.forEach(dt=>{let{contentBoxSize:at,contentRect:ut,target:pt}=dt;pt&&pt!==e.el||(ot=ut?ut.width:(at[0]||at).inlineSize,lt=ut?ut.height:(at[0]||at).blockSize)}),(ot!==it||lt!==st)&&$()})}),_.observe(e.el))},tt=()=>{j&&g.cancelAnimationFrame(j),_&&_.unobserve&&e.el&&(_.unobserve(e.el),_=null)},nt=()=>{!e||e.destroyed||!e.initialized||h("orientationchange")};d("init",()=>{if(e.params.resizeObserver&&typeof g.ResizeObserver<"u"){et();return}g.addEventListener("resize",$),g.addEventListener("orientationchange",nt)}),d("destroy",()=>{tt(),g.removeEventListener("resize",$),g.removeEventListener("orientationchange",nt)})}function Observer(s){let{swiper:e,extendParams:d,on:h,emit:g}=s;const _=[],j=getWindow(),$=function(nt,rt){rt===void 0&&(rt={});const it=j.MutationObserver||j.WebkitMutationObserver,st=new it(ot=>{if(e.__preventObserver__)return;if(ot.length===1){g("observerUpdate",ot[0]);return}const lt=function(){g("observerUpdate",ot[0])};j.requestAnimationFrame?j.requestAnimationFrame(lt):j.setTimeout(lt,0)});st.observe(nt,{attributes:typeof rt.attributes>"u"?!0:rt.attributes,childList:e.isElement||(typeof rt.childList>"u"?!0:rt).childList,characterData:typeof rt.characterData>"u"?!0:rt.characterData}),_.push(st)},et=()=>{if(e.params.observer){if(e.params.observeParents){const nt=elementParents(e.hostEl);for(let rt=0;rt<nt.length;rt+=1)$(nt[rt])}$(e.hostEl,{childList:e.params.observeSlideChildren}),$(e.wrapperEl,{attributes:!1})}},tt=()=>{_.forEach(nt=>{nt.disconnect()}),_.splice(0,_.length)};d({observer:!1,observeParents:!1,observeSlideChildren:!1}),h("init",et),h("destroy",tt)}var eventsEmitter={on(s,e,d){const h=this;if(!h.eventsListeners||h.destroyed||typeof e!="function")return h;const g=d?"unshift":"push";return s.split(" ").forEach(_=>{h.eventsListeners[_]||(h.eventsListeners[_]=[]),h.eventsListeners[_][g](e)}),h},once(s,e,d){const h=this;if(!h.eventsListeners||h.destroyed||typeof e!="function")return h;function g(){h.off(s,g),g.__emitterProxy&&delete g.__emitterProxy;for(var _=arguments.length,j=new Array(_),$=0;$<_;$++)j[$]=arguments[$];e.apply(h,j)}return g.__emitterProxy=e,h.on(s,g,d)},onAny(s,e){const d=this;if(!d.eventsListeners||d.destroyed||typeof s!="function")return d;const h=e?"unshift":"push";return d.eventsAnyListeners.indexOf(s)<0&&d.eventsAnyListeners[h](s),d},offAny(s){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const d=e.eventsAnyListeners.indexOf(s);return d>=0&&e.eventsAnyListeners.splice(d,1),e},off(s,e){const d=this;return!d.eventsListeners||d.destroyed||!d.eventsListeners||s.split(" ").forEach(h=>{typeof e>"u"?d.eventsListeners[h]=[]:d.eventsListeners[h]&&d.eventsListeners[h].forEach((g,_)=>{(g===e||g.__emitterProxy&&g.__emitterProxy===e)&&d.eventsListeners[h].splice(_,1)})}),d},emit(){const s=this;if(!s.eventsListeners||s.destroyed||!s.eventsListeners)return s;let e,d,h;for(var g=arguments.length,_=new Array(g),j=0;j<g;j++)_[j]=arguments[j];return typeof _[0]=="string"||Array.isArray(_[0])?(e=_[0],d=_.slice(1,_.length),h=s):(e=_[0].events,d=_[0].data,h=_[0].context||s),d.unshift(h),(Array.isArray(e)?e:e.split(" ")).forEach(et=>{s.eventsAnyListeners&&s.eventsAnyListeners.length&&s.eventsAnyListeners.forEach(tt=>{tt.apply(h,[et,...d])}),s.eventsListeners&&s.eventsListeners[et]&&s.eventsListeners[et].forEach(tt=>{tt.apply(h,d)})}),s}};function updateSize(){const s=this;let e,d;const h=s.el;typeof s.params.width<"u"&&s.params.width!==null?e=s.params.width:e=h.clientWidth,typeof s.params.height<"u"&&s.params.height!==null?d=s.params.height:d=h.clientHeight,!(e===0&&s.isHorizontal()||d===0&&s.isVertical())&&(e=e-parseInt(elementStyle(h,"padding-left")||0,10)-parseInt(elementStyle(h,"padding-right")||0,10),d=d-parseInt(elementStyle(h,"padding-top")||0,10)-parseInt(elementStyle(h,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(d)&&(d=0),Object.assign(s,{width:e,height:d,size:s.isHorizontal()?e:d}))}function updateSlides(){const s=this;function e(Et,mt){return parseFloat(Et.getPropertyValue(s.getDirectionLabel(mt))||0)}const d=s.params,{wrapperEl:h,slidesEl:g,size:_,rtlTranslate:j,wrongRTL:$}=s,et=s.virtual&&d.virtual.enabled,tt=et?s.virtual.slides.length:s.slides.length,nt=elementChildren(g,`.${s.params.slideClass}, swiper-slide`),rt=et?s.virtual.slides.length:nt.length;let it=[];const st=[],ot=[];let lt=d.slidesOffsetBefore;typeof lt=="function"&&(lt=d.slidesOffsetBefore.call(s));let dt=d.slidesOffsetAfter;typeof dt=="function"&&(dt=d.slidesOffsetAfter.call(s));const at=s.snapGrid.length,ut=s.slidesGrid.length;let pt=d.spaceBetween,vt=-lt,ht=0,yt=0;if(typeof _>"u")return;typeof pt=="string"&&pt.indexOf("%")>=0?pt=parseFloat(pt.replace("%",""))/100*_:typeof pt=="string"&&(pt=parseFloat(pt)),s.virtualSize=-pt,nt.forEach(Et=>{j?Et.style.marginLeft="":Et.style.marginRight="",Et.style.marginBottom="",Et.style.marginTop=""}),d.centeredSlides&&d.cssMode&&(setCSSProperty(h,"--swiper-centered-offset-before",""),setCSSProperty(h,"--swiper-centered-offset-after",""));const gt=d.grid&&d.grid.rows>1&&s.grid;gt?s.grid.initSlides(nt):s.grid&&s.grid.unsetSlides();let ft;const _t=d.slidesPerView==="auto"&&d.breakpoints&&Object.keys(d.breakpoints).filter(Et=>typeof d.breakpoints[Et].slidesPerView<"u").length>0;for(let Et=0;Et<rt;Et+=1){ft=0;let mt;if(nt[Et]&&(mt=nt[Et]),gt&&s.grid.updateSlide(Et,mt,nt),!(nt[Et]&&elementStyle(mt,"display")==="none")){if(d.slidesPerView==="auto"){_t&&(nt[Et].style[s.getDirectionLabel("width")]="");const xt=getComputedStyle(mt),St=mt.style.transform,Ut=mt.style.webkitTransform;if(St&&(mt.style.transform="none"),Ut&&(mt.style.webkitTransform="none"),d.roundLengths)ft=s.isHorizontal()?elementOuterSize(mt,"width"):elementOuterSize(mt,"height");else{const kt=e(xt,"width"),Bt=e(xt,"padding-left"),$t=e(xt,"padding-right"),Gt=e(xt,"margin-left"),Ft=e(xt,"margin-right"),Wt=xt.getPropertyValue("box-sizing");if(Wt&&Wt==="border-box")ft=kt+Gt+Ft;else{const{clientWidth:tn,offsetWidth:Lt}=mt;ft=kt+Bt+$t+Gt+Ft+(Lt-tn)}}St&&(mt.style.transform=St),Ut&&(mt.style.webkitTransform=Ut),d.roundLengths&&(ft=Math.floor(ft))}else ft=(_-(d.slidesPerView-1)*pt)/d.slidesPerView,d.roundLengths&&(ft=Math.floor(ft)),nt[Et]&&(nt[Et].style[s.getDirectionLabel("width")]=`${ft}px`);nt[Et]&&(nt[Et].swiperSlideSize=ft),ot.push(ft),d.centeredSlides?(vt=vt+ft/2+ht/2+pt,ht===0&&Et!==0&&(vt=vt-_/2-pt),Et===0&&(vt=vt-_/2-pt),Math.abs(vt)<1/1e3&&(vt=0),d.roundLengths&&(vt=Math.floor(vt)),yt%d.slidesPerGroup===0&&it.push(vt),st.push(vt)):(d.roundLengths&&(vt=Math.floor(vt)),(yt-Math.min(s.params.slidesPerGroupSkip,yt))%s.params.slidesPerGroup===0&&it.push(vt),st.push(vt),vt=vt+ft+pt),s.virtualSize+=ft+pt,ht=ft,yt+=1}}if(s.virtualSize=Math.max(s.virtualSize,_)+dt,j&&$&&(d.effect==="slide"||d.effect==="coverflow")&&(h.style.width=`${s.virtualSize+pt}px`),d.setWrapperSize&&(h.style[s.getDirectionLabel("width")]=`${s.virtualSize+pt}px`),gt&&s.grid.updateWrapperSize(ft,it),!d.centeredSlides){const Et=[];for(let mt=0;mt<it.length;mt+=1){let xt=it[mt];d.roundLengths&&(xt=Math.floor(xt)),it[mt]<=s.virtualSize-_&&Et.push(xt)}it=Et,Math.floor(s.virtualSize-_)-Math.floor(it[it.length-1])>1&&it.push(s.virtualSize-_)}if(et&&d.loop){const Et=ot[0]+pt;if(d.slidesPerGroup>1){const mt=Math.ceil((s.virtual.slidesBefore+s.virtual.slidesAfter)/d.slidesPerGroup),xt=Et*d.slidesPerGroup;for(let St=0;St<mt;St+=1)it.push(it[it.length-1]+xt)}for(let mt=0;mt<s.virtual.slidesBefore+s.virtual.slidesAfter;mt+=1)d.slidesPerGroup===1&&it.push(it[it.length-1]+Et),st.push(st[st.length-1]+Et),s.virtualSize+=Et}if(it.length===0&&(it=[0]),pt!==0){const Et=s.isHorizontal()&&j?"marginLeft":s.getDirectionLabel("marginRight");nt.filter((mt,xt)=>!d.cssMode||d.loop?!0:xt!==nt.length-1).forEach(mt=>{mt.style[Et]=`${pt}px`})}if(d.centeredSlides&&d.centeredSlidesBounds){let Et=0;ot.forEach(xt=>{Et+=xt+(pt||0)}),Et-=pt;const mt=Et>_?Et-_:0;it=it.map(xt=>xt<=0?-lt:xt>mt?mt+dt:xt)}if(d.centerInsufficientSlides){let Et=0;ot.forEach(xt=>{Et+=xt+(pt||0)}),Et-=pt;const mt=(d.slidesOffsetBefore||0)+(d.slidesOffsetAfter||0);if(Et+mt<_){const xt=(_-Et-mt)/2;it.forEach((St,Ut)=>{it[Ut]=St-xt}),st.forEach((St,Ut)=>{st[Ut]=St+xt})}}if(Object.assign(s,{slides:nt,snapGrid:it,slidesGrid:st,slidesSizesGrid:ot}),d.centeredSlides&&d.cssMode&&!d.centeredSlidesBounds){setCSSProperty(h,"--swiper-centered-offset-before",`${-it[0]}px`),setCSSProperty(h,"--swiper-centered-offset-after",`${s.size/2-ot[ot.length-1]/2}px`);const Et=-s.snapGrid[0],mt=-s.slidesGrid[0];s.snapGrid=s.snapGrid.map(xt=>xt+Et),s.slidesGrid=s.slidesGrid.map(xt=>xt+mt)}if(rt!==tt&&s.emit("slidesLengthChange"),it.length!==at&&(s.params.watchOverflow&&s.checkOverflow(),s.emit("snapGridLengthChange")),st.length!==ut&&s.emit("slidesGridLengthChange"),d.watchSlidesProgress&&s.updateSlidesOffset(),s.emit("slidesUpdated"),!et&&!d.cssMode&&(d.effect==="slide"||d.effect==="fade")){const Et=`${d.containerModifierClass}backface-hidden`,mt=s.el.classList.contains(Et);rt<=d.maxBackfaceHiddenSlides?mt||s.el.classList.add(Et):mt&&s.el.classList.remove(Et)}}function updateAutoHeight(s){const e=this,d=[],h=e.virtual&&e.params.virtual.enabled;let g=0,_;typeof s=="number"?e.setTransition(s):s===!0&&e.setTransition(e.params.speed);const j=$=>h?e.slides[e.getSlideIndexByData($)]:e.slides[$];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach($=>{d.push($)});else for(_=0;_<Math.ceil(e.params.slidesPerView);_+=1){const $=e.activeIndex+_;if($>e.slides.length&&!h)break;d.push(j($))}else d.push(j(e.activeIndex));for(_=0;_<d.length;_+=1)if(typeof d[_]<"u"){const $=d[_].offsetHeight;g=$>g?$:g}(g||g===0)&&(e.wrapperEl.style.height=`${g}px`)}function updateSlidesOffset(){const s=this,e=s.slides,d=s.isElement?s.isHorizontal()?s.wrapperEl.offsetLeft:s.wrapperEl.offsetTop:0;for(let h=0;h<e.length;h+=1)e[h].swiperSlideOffset=(s.isHorizontal()?e[h].offsetLeft:e[h].offsetTop)-d-s.cssOverflowAdjustment()}const toggleSlideClasses$1=(s,e,d)=>{e&&!s.classList.contains(d)?s.classList.add(d):!e&&s.classList.contains(d)&&s.classList.remove(d)};function updateSlidesProgress(s){s===void 0&&(s=this&&this.translate||0);const e=this,d=e.params,{slides:h,rtlTranslate:g,snapGrid:_}=e;if(h.length===0)return;typeof h[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let j=-s;g&&(j=s),e.visibleSlidesIndexes=[],e.visibleSlides=[];let $=d.spaceBetween;typeof $=="string"&&$.indexOf("%")>=0?$=parseFloat($.replace("%",""))/100*e.size:typeof $=="string"&&($=parseFloat($));for(let et=0;et<h.length;et+=1){const tt=h[et];let nt=tt.swiperSlideOffset;d.cssMode&&d.centeredSlides&&(nt-=h[0].swiperSlideOffset);const rt=(j+(d.centeredSlides?e.minTranslate():0)-nt)/(tt.swiperSlideSize+$),it=(j-_[0]+(d.centeredSlides?e.minTranslate():0)-nt)/(tt.swiperSlideSize+$),st=-(j-nt),ot=st+e.slidesSizesGrid[et],lt=st>=0&&st<=e.size-e.slidesSizesGrid[et],dt=st>=0&&st<e.size-1||ot>1&&ot<=e.size||st<=0&&ot>=e.size;dt&&(e.visibleSlides.push(tt),e.visibleSlidesIndexes.push(et)),toggleSlideClasses$1(tt,dt,d.slideVisibleClass),toggleSlideClasses$1(tt,lt,d.slideFullyVisibleClass),tt.progress=g?-rt:rt,tt.originalProgress=g?-it:it}}function updateProgress(s){const e=this;if(typeof s>"u"){const nt=e.rtlTranslate?-1:1;s=e&&e.translate&&e.translate*nt||0}const d=e.params,h=e.maxTranslate()-e.minTranslate();let{progress:g,isBeginning:_,isEnd:j,progressLoop:$}=e;const et=_,tt=j;if(h===0)g=0,_=!0,j=!0;else{g=(s-e.minTranslate())/h;const nt=Math.abs(s-e.minTranslate())<1,rt=Math.abs(s-e.maxTranslate())<1;_=nt||g<=0,j=rt||g>=1,nt&&(g=0),rt&&(g=1)}if(d.loop){const nt=e.getSlideIndexByData(0),rt=e.getSlideIndexByData(e.slides.length-1),it=e.slidesGrid[nt],st=e.slidesGrid[rt],ot=e.slidesGrid[e.slidesGrid.length-1],lt=Math.abs(s);lt>=it?$=(lt-it)/ot:$=(lt+ot-st)/ot,$>1&&($-=1)}Object.assign(e,{progress:g,progressLoop:$,isBeginning:_,isEnd:j}),(d.watchSlidesProgress||d.centeredSlides&&d.autoHeight)&&e.updateSlidesProgress(s),_&&!et&&e.emit("reachBeginning toEdge"),j&&!tt&&e.emit("reachEnd toEdge"),(et&&!_||tt&&!j)&&e.emit("fromEdge"),e.emit("progress",g)}const toggleSlideClasses=(s,e,d)=>{e&&!s.classList.contains(d)?s.classList.add(d):!e&&s.classList.contains(d)&&s.classList.remove(d)};function updateSlidesClasses(){const s=this,{slides:e,params:d,slidesEl:h,activeIndex:g}=s,_=s.virtual&&d.virtual.enabled,j=s.grid&&d.grid&&d.grid.rows>1,$=rt=>elementChildren(h,`.${d.slideClass}${rt}, swiper-slide${rt}`)[0];let et,tt,nt;if(_)if(d.loop){let rt=g-s.virtual.slidesBefore;rt<0&&(rt=s.virtual.slides.length+rt),rt>=s.virtual.slides.length&&(rt-=s.virtual.slides.length),et=$(`[data-swiper-slide-index="${rt}"]`)}else et=$(`[data-swiper-slide-index="${g}"]`);else j?(et=e.filter(rt=>rt.column===g)[0],nt=e.filter(rt=>rt.column===g+1)[0],tt=e.filter(rt=>rt.column===g-1)[0]):et=e[g];et&&(j||(nt=elementNextAll(et,`.${d.slideClass}, swiper-slide`)[0],d.loop&&!nt&&(nt=e[0]),tt=elementPrevAll(et,`.${d.slideClass}, swiper-slide`)[0],d.loop&&!tt===0&&(tt=e[e.length-1]))),e.forEach(rt=>{toggleSlideClasses(rt,rt===et,d.slideActiveClass),toggleSlideClasses(rt,rt===nt,d.slideNextClass),toggleSlideClasses(rt,rt===tt,d.slidePrevClass)}),s.emitSlidesClasses()}const processLazyPreloader=(s,e)=>{if(!s||s.destroyed||!s.params)return;const d=()=>s.isElement?"swiper-slide":`.${s.params.slideClass}`,h=e.closest(d());if(h){let g=h.querySelector(`.${s.params.lazyPreloaderClass}`);!g&&s.isElement&&(h.shadowRoot?g=h.shadowRoot.querySelector(`.${s.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{h.shadowRoot&&(g=h.shadowRoot.querySelector(`.${s.params.lazyPreloaderClass}`),g&&g.remove())})),g&&g.remove()}},unlazy=(s,e)=>{if(!s.slides[e])return;const d=s.slides[e].querySelector('[loading="lazy"]');d&&d.removeAttribute("loading")},preload=s=>{if(!s||s.destroyed||!s.params)return;let e=s.params.lazyPreloadPrevNext;const d=s.slides.length;if(!d||!e||e<0)return;e=Math.min(e,d);const h=s.params.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(s.params.slidesPerView),g=s.activeIndex;if(s.params.grid&&s.params.grid.rows>1){const j=g,$=[j-e];$.push(...Array.from({length:e}).map((et,tt)=>j+h+tt)),s.slides.forEach((et,tt)=>{$.includes(et.column)&&unlazy(s,tt)});return}const _=g+h-1;if(s.params.rewind||s.params.loop)for(let j=g-e;j<=_+e;j+=1){const $=(j%d+d)%d;($<g||$>_)&&unlazy(s,$)}else for(let j=Math.max(g-e,0);j<=Math.min(_+e,d-1);j+=1)j!==g&&(j>_||j<g)&&unlazy(s,j)};function getActiveIndexByTranslate(s){const{slidesGrid:e,params:d}=s,h=s.rtlTranslate?s.translate:-s.translate;let g;for(let _=0;_<e.length;_+=1)typeof e[_+1]<"u"?h>=e[_]&&h<e[_+1]-(e[_+1]-e[_])/2?g=_:h>=e[_]&&h<e[_+1]&&(g=_+1):h>=e[_]&&(g=_);return d.normalizeSlideIndex&&(g<0||typeof g>"u")&&(g=0),g}function updateActiveIndex(s){const e=this,d=e.rtlTranslate?e.translate:-e.translate,{snapGrid:h,params:g,activeIndex:_,realIndex:j,snapIndex:$}=e;let et=s,tt;const nt=st=>{let ot=st-e.virtual.slidesBefore;return ot<0&&(ot=e.virtual.slides.length+ot),ot>=e.virtual.slides.length&&(ot-=e.virtual.slides.length),ot};if(typeof et>"u"&&(et=getActiveIndexByTranslate(e)),h.indexOf(d)>=0)tt=h.indexOf(d);else{const st=Math.min(g.slidesPerGroupSkip,et);tt=st+Math.floor((et-st)/g.slidesPerGroup)}if(tt>=h.length&&(tt=h.length-1),et===_&&!e.params.loop){tt!==$&&(e.snapIndex=tt,e.emit("snapIndexChange"));return}if(et===_&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=nt(et);return}const rt=e.grid&&g.grid&&g.grid.rows>1;let it;if(e.virtual&&g.virtual.enabled&&g.loop)it=nt(et);else if(rt){const st=e.slides.filter(lt=>lt.column===et)[0];let ot=parseInt(st.getAttribute("data-swiper-slide-index"),10);Number.isNaN(ot)&&(ot=Math.max(e.slides.indexOf(st),0)),it=Math.floor(ot/g.grid.rows)}else if(e.slides[et]){const st=e.slides[et].getAttribute("data-swiper-slide-index");st?it=parseInt(st,10):it=et}else it=et;Object.assign(e,{previousSnapIndex:$,snapIndex:tt,previousRealIndex:j,realIndex:it,previousIndex:_,activeIndex:et}),e.initialized&&preload(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(j!==it&&e.emit("realIndexChange"),e.emit("slideChange"))}function updateClickedSlide(s,e){const d=this,h=d.params;let g=s.closest(`.${h.slideClass}, swiper-slide`);!g&&d.isElement&&e&&e.length>1&&e.includes(s)&&[...e.slice(e.indexOf(s)+1,e.length)].forEach($=>{!g&&$.matches&&$.matches(`.${h.slideClass}, swiper-slide`)&&(g=$)});let _=!1,j;if(g){for(let $=0;$<d.slides.length;$+=1)if(d.slides[$]===g){_=!0,j=$;break}}if(g&&_)d.clickedSlide=g,d.virtual&&d.params.virtual.enabled?d.clickedIndex=parseInt(g.getAttribute("data-swiper-slide-index"),10):d.clickedIndex=j;else{d.clickedSlide=void 0,d.clickedIndex=void 0;return}h.slideToClickedSlide&&d.clickedIndex!==void 0&&d.clickedIndex!==d.activeIndex&&d.slideToClickedSlide()}var update={updateSize,updateSlides,updateAutoHeight,updateSlidesOffset,updateSlidesProgress,updateProgress,updateSlidesClasses,updateActiveIndex,updateClickedSlide};function getSwiperTranslate(s){s===void 0&&(s=this.isHorizontal()?"x":"y");const e=this,{params:d,rtlTranslate:h,translate:g,wrapperEl:_}=e;if(d.virtualTranslate)return h?-g:g;if(d.cssMode)return g;let j=getTranslate(_,s);return j+=e.cssOverflowAdjustment(),h&&(j=-j),j||0}function setTranslate(s,e){const d=this,{rtlTranslate:h,params:g,wrapperEl:_,progress:j}=d;let $=0,et=0;const tt=0;d.isHorizontal()?$=h?-s:s:et=s,g.roundLengths&&($=Math.floor($),et=Math.floor(et)),d.previousTranslate=d.translate,d.translate=d.isHorizontal()?$:et,g.cssMode?_[d.isHorizontal()?"scrollLeft":"scrollTop"]=d.isHorizontal()?-$:-et:g.virtualTranslate||(d.isHorizontal()?$-=d.cssOverflowAdjustment():et-=d.cssOverflowAdjustment(),_.style.transform=`translate3d(${$}px, ${et}px, ${tt}px)`);let nt;const rt=d.maxTranslate()-d.minTranslate();rt===0?nt=0:nt=(s-d.minTranslate())/rt,nt!==j&&d.updateProgress(s),d.emit("setTranslate",d.translate,e)}function minTranslate(){return-this.snapGrid[0]}function maxTranslate(){return-this.snapGrid[this.snapGrid.length-1]}function translateTo(s,e,d,h,g){s===void 0&&(s=0),e===void 0&&(e=this.params.speed),d===void 0&&(d=!0),h===void 0&&(h=!0);const _=this,{params:j,wrapperEl:$}=_;if(_.animating&&j.preventInteractionOnTransition)return!1;const et=_.minTranslate(),tt=_.maxTranslate();let nt;if(h&&s>et?nt=et:h&&s<tt?nt=tt:nt=s,_.updateProgress(nt),j.cssMode){const rt=_.isHorizontal();if(e===0)$[rt?"scrollLeft":"scrollTop"]=-nt;else{if(!_.support.smoothScroll)return animateCSSModeScroll({swiper:_,targetPosition:-nt,side:rt?"left":"top"}),!0;$.scrollTo({[rt?"left":"top"]:-nt,behavior:"smooth"})}return!0}return e===0?(_.setTransition(0),_.setTranslate(nt),d&&(_.emit("beforeTransitionStart",e,g),_.emit("transitionEnd"))):(_.setTransition(e),_.setTranslate(nt),d&&(_.emit("beforeTransitionStart",e,g),_.emit("transitionStart")),_.animating||(_.animating=!0,_.onTranslateToWrapperTransitionEnd||(_.onTranslateToWrapperTransitionEnd=function(it){!_||_.destroyed||it.target===this&&(_.wrapperEl.removeEventListener("transitionend",_.onTranslateToWrapperTransitionEnd),_.onTranslateToWrapperTransitionEnd=null,delete _.onTranslateToWrapperTransitionEnd,_.animating=!1,d&&_.emit("transitionEnd"))}),_.wrapperEl.addEventListener("transitionend",_.onTranslateToWrapperTransitionEnd))),!0}var translate$1={getTranslate:getSwiperTranslate,setTranslate,minTranslate,maxTranslate,translateTo};function setTransition(s,e){const d=this;d.params.cssMode||(d.wrapperEl.style.transitionDuration=`${s}ms`,d.wrapperEl.style.transitionDelay=s===0?"0ms":""),d.emit("setTransition",s,e)}function transitionEmit(s){let{swiper:e,runCallbacks:d,direction:h,step:g}=s;const{activeIndex:_,previousIndex:j}=e;let $=h;if($||(_>j?$="next":_<j?$="prev":$="reset"),e.emit(`transition${g}`),d&&_!==j){if($==="reset"){e.emit(`slideResetTransition${g}`);return}e.emit(`slideChangeTransition${g}`),$==="next"?e.emit(`slideNextTransition${g}`):e.emit(`slidePrevTransition${g}`)}}function transitionStart(s,e){s===void 0&&(s=!0);const d=this,{params:h}=d;h.cssMode||(h.autoHeight&&d.updateAutoHeight(),transitionEmit({swiper:d,runCallbacks:s,direction:e,step:"Start"}))}function transitionEnd(s,e){s===void 0&&(s=!0);const d=this,{params:h}=d;d.animating=!1,!h.cssMode&&(d.setTransition(0),transitionEmit({swiper:d,runCallbacks:s,direction:e,step:"End"}))}var transition={setTransition,transitionStart,transitionEnd};function slideTo(s,e,d,h,g){s===void 0&&(s=0),d===void 0&&(d=!0),typeof s=="string"&&(s=parseInt(s,10));const _=this;let j=s;j<0&&(j=0);const{params:$,snapGrid:et,slidesGrid:tt,previousIndex:nt,activeIndex:rt,rtlTranslate:it,wrapperEl:st,enabled:ot}=_;if(!ot&&!h&&!g||_.destroyed||_.animating&&$.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=_.params.speed);const lt=Math.min(_.params.slidesPerGroupSkip,j);let dt=lt+Math.floor((j-lt)/_.params.slidesPerGroup);dt>=et.length&&(dt=et.length-1);const at=-et[dt];if($.normalizeSlideIndex)for(let ht=0;ht<tt.length;ht+=1){const yt=-Math.floor(at*100),gt=Math.floor(tt[ht]*100),ft=Math.floor(tt[ht+1]*100);typeof tt[ht+1]<"u"?yt>=gt&&yt<ft-(ft-gt)/2?j=ht:yt>=gt&&yt<ft&&(j=ht+1):yt>=gt&&(j=ht)}if(_.initialized&&j!==rt&&(!_.allowSlideNext&&(it?at>_.translate&&at>_.minTranslate():at<_.translate&&at<_.minTranslate())||!_.allowSlidePrev&&at>_.translate&&at>_.maxTranslate()&&(rt||0)!==j))return!1;j!==(nt||0)&&d&&_.emit("beforeSlideChangeStart"),_.updateProgress(at);let ut;j>rt?ut="next":j<rt?ut="prev":ut="reset";const pt=_.virtual&&_.params.virtual.enabled;if(!(pt&&g)&&(it&&-at===_.translate||!it&&at===_.translate))return _.updateActiveIndex(j),$.autoHeight&&_.updateAutoHeight(),_.updateSlidesClasses(),$.effect!=="slide"&&_.setTranslate(at),ut!=="reset"&&(_.transitionStart(d,ut),_.transitionEnd(d,ut)),!1;if($.cssMode){const ht=_.isHorizontal(),yt=it?at:-at;if(e===0)pt&&(_.wrapperEl.style.scrollSnapType="none",_._immediateVirtual=!0),pt&&!_._cssModeVirtualInitialSet&&_.params.initialSlide>0?(_._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{st[ht?"scrollLeft":"scrollTop"]=yt})):st[ht?"scrollLeft":"scrollTop"]=yt,pt&&requestAnimationFrame(()=>{_.wrapperEl.style.scrollSnapType="",_._immediateVirtual=!1});else{if(!_.support.smoothScroll)return animateCSSModeScroll({swiper:_,targetPosition:yt,side:ht?"left":"top"}),!0;st.scrollTo({[ht?"left":"top"]:yt,behavior:"smooth"})}return!0}return _.setTransition(e),_.setTranslate(at),_.updateActiveIndex(j),_.updateSlidesClasses(),_.emit("beforeTransitionStart",e,h),_.transitionStart(d,ut),e===0?_.transitionEnd(d,ut):_.animating||(_.animating=!0,_.onSlideToWrapperTransitionEnd||(_.onSlideToWrapperTransitionEnd=function(yt){!_||_.destroyed||yt.target===this&&(_.wrapperEl.removeEventListener("transitionend",_.onSlideToWrapperTransitionEnd),_.onSlideToWrapperTransitionEnd=null,delete _.onSlideToWrapperTransitionEnd,_.transitionEnd(d,ut))}),_.wrapperEl.addEventListener("transitionend",_.onSlideToWrapperTransitionEnd)),!0}function slideToLoop(s,e,d,h){s===void 0&&(s=0),d===void 0&&(d=!0),typeof s=="string"&&(s=parseInt(s,10));const g=this;if(g.destroyed)return;typeof e>"u"&&(e=g.params.speed);const _=g.grid&&g.params.grid&&g.params.grid.rows>1;let j=s;if(g.params.loop)if(g.virtual&&g.params.virtual.enabled)j=j+g.virtual.slidesBefore;else{let $;if(_){const it=j*g.params.grid.rows;$=g.slides.filter(st=>st.getAttribute("data-swiper-slide-index")*1===it)[0].column}else $=g.getSlideIndexByData(j);const et=_?Math.ceil(g.slides.length/g.params.grid.rows):g.slides.length,{centeredSlides:tt}=g.params;let nt=g.params.slidesPerView;nt==="auto"?nt=g.slidesPerViewDynamic():(nt=Math.ceil(parseFloat(g.params.slidesPerView,10)),tt&&nt%2===0&&(nt=nt+1));let rt=et-$<nt;if(tt&&(rt=rt||$<Math.ceil(nt/2)),h&&tt&&g.params.slidesPerView!=="auto"&&!_&&(rt=!1),rt){const it=tt?$<g.activeIndex?"prev":"next":$-g.activeIndex-1<g.params.slidesPerView?"next":"prev";g.loopFix({direction:it,slideTo:!0,activeSlideIndex:it==="next"?$+1:$-et+1,slideRealIndex:it==="next"?g.realIndex:void 0})}if(_){const it=j*g.params.grid.rows;j=g.slides.filter(st=>st.getAttribute("data-swiper-slide-index")*1===it)[0].column}else j=g.getSlideIndexByData(j)}return requestAnimationFrame(()=>{g.slideTo(j,e,d,h)}),g}function slideNext(s,e,d){e===void 0&&(e=!0);const h=this,{enabled:g,params:_,animating:j}=h;if(!g||h.destroyed)return h;typeof s>"u"&&(s=h.params.speed);let $=_.slidesPerGroup;_.slidesPerView==="auto"&&_.slidesPerGroup===1&&_.slidesPerGroupAuto&&($=Math.max(h.slidesPerViewDynamic("current",!0),1));const et=h.activeIndex<_.slidesPerGroupSkip?1:$,tt=h.virtual&&_.virtual.enabled;if(_.loop){if(j&&!tt&&_.loopPreventsSliding)return!1;if(h.loopFix({direction:"next"}),h._clientLeft=h.wrapperEl.clientLeft,h.activeIndex===h.slides.length-1&&_.cssMode)return requestAnimationFrame(()=>{h.slideTo(h.activeIndex+et,s,e,d)}),!0}return _.rewind&&h.isEnd?h.slideTo(0,s,e,d):h.slideTo(h.activeIndex+et,s,e,d)}function slidePrev(s,e,d){e===void 0&&(e=!0);const h=this,{params:g,snapGrid:_,slidesGrid:j,rtlTranslate:$,enabled:et,animating:tt}=h;if(!et||h.destroyed)return h;typeof s>"u"&&(s=h.params.speed);const nt=h.virtual&&g.virtual.enabled;if(g.loop){if(tt&&!nt&&g.loopPreventsSliding)return!1;h.loopFix({direction:"prev"}),h._clientLeft=h.wrapperEl.clientLeft}const rt=$?h.translate:-h.translate;function it(at){return at<0?-Math.floor(Math.abs(at)):Math.floor(at)}const st=it(rt),ot=_.map(at=>it(at));let lt=_[ot.indexOf(st)-1];if(typeof lt>"u"&&g.cssMode){let at;_.forEach((ut,pt)=>{st>=ut&&(at=pt)}),typeof at<"u"&&(lt=_[at>0?at-1:at])}let dt=0;if(typeof lt<"u"&&(dt=j.indexOf(lt),dt<0&&(dt=h.activeIndex-1),g.slidesPerView==="auto"&&g.slidesPerGroup===1&&g.slidesPerGroupAuto&&(dt=dt-h.slidesPerViewDynamic("previous",!0)+1,dt=Math.max(dt,0))),g.rewind&&h.isBeginning){const at=h.params.virtual&&h.params.virtual.enabled&&h.virtual?h.virtual.slides.length-1:h.slides.length-1;return h.slideTo(at,s,e,d)}else if(g.loop&&h.activeIndex===0&&g.cssMode)return requestAnimationFrame(()=>{h.slideTo(dt,s,e,d)}),!0;return h.slideTo(dt,s,e,d)}function slideReset(s,e,d){e===void 0&&(e=!0);const h=this;if(!h.destroyed)return typeof s>"u"&&(s=h.params.speed),h.slideTo(h.activeIndex,s,e,d)}function slideToClosest(s,e,d,h){e===void 0&&(e=!0),h===void 0&&(h=.5);const g=this;if(g.destroyed)return;typeof s>"u"&&(s=g.params.speed);let _=g.activeIndex;const j=Math.min(g.params.slidesPerGroupSkip,_),$=j+Math.floor((_-j)/g.params.slidesPerGroup),et=g.rtlTranslate?g.translate:-g.translate;if(et>=g.snapGrid[$]){const tt=g.snapGrid[$],nt=g.snapGrid[$+1];et-tt>(nt-tt)*h&&(_+=g.params.slidesPerGroup)}else{const tt=g.snapGrid[$-1],nt=g.snapGrid[$];et-tt<=(nt-tt)*h&&(_-=g.params.slidesPerGroup)}return _=Math.max(_,0),_=Math.min(_,g.slidesGrid.length-1),g.slideTo(_,s,e,d)}function slideToClickedSlide(){const s=this;if(s.destroyed)return;const{params:e,slidesEl:d}=s,h=e.slidesPerView==="auto"?s.slidesPerViewDynamic():e.slidesPerView;let g=s.clickedIndex,_;const j=s.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(s.animating)return;_=parseInt(s.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?g<s.loopedSlides-h/2||g>s.slides.length-s.loopedSlides+h/2?(s.loopFix(),g=s.getSlideIndex(elementChildren(d,`${j}[data-swiper-slide-index="${_}"]`)[0]),nextTick(()=>{s.slideTo(g)})):s.slideTo(g):g>s.slides.length-h?(s.loopFix(),g=s.getSlideIndex(elementChildren(d,`${j}[data-swiper-slide-index="${_}"]`)[0]),nextTick(()=>{s.slideTo(g)})):s.slideTo(g)}else s.slideTo(g)}var slide={slideTo,slideToLoop,slideNext,slidePrev,slideReset,slideToClosest,slideToClickedSlide};function loopCreate(s){const e=this,{params:d,slidesEl:h}=e;if(!d.loop||e.virtual&&e.params.virtual.enabled)return;const g=()=>{elementChildren(h,`.${d.slideClass}, swiper-slide`).forEach((rt,it)=>{rt.setAttribute("data-swiper-slide-index",it)})},_=e.grid&&d.grid&&d.grid.rows>1,j=d.slidesPerGroup*(_?d.grid.rows:1),$=e.slides.length%j!==0,et=_&&e.slides.length%d.grid.rows!==0,tt=nt=>{for(let rt=0;rt<nt;rt+=1){const it=e.isElement?createElement("swiper-slide",[d.slideBlankClass]):createElement("div",[d.slideClass,d.slideBlankClass]);e.slidesEl.append(it)}};if($){if(d.loopAddBlankSlides){const nt=j-e.slides.length%j;tt(nt),e.recalcSlides(),e.updateSlides()}else showWarning("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");g()}else if(et){if(d.loopAddBlankSlides){const nt=d.grid.rows-e.slides.length%d.grid.rows;tt(nt),e.recalcSlides(),e.updateSlides()}else showWarning("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");g()}else g();e.loopFix({slideRealIndex:s,direction:d.centeredSlides?void 0:"next"})}function loopFix(s){let{slideRealIndex:e,slideTo:d=!0,direction:h,setTranslate:g,activeSlideIndex:_,byController:j,byMousewheel:$}=s===void 0?{}:s;const et=this;if(!et.params.loop)return;et.emit("beforeLoopFix");const{slides:tt,allowSlidePrev:nt,allowSlideNext:rt,slidesEl:it,params:st}=et,{centeredSlides:ot}=st;if(et.allowSlidePrev=!0,et.allowSlideNext=!0,et.virtual&&st.virtual.enabled){d&&(!st.centeredSlides&&et.snapIndex===0?et.slideTo(et.virtual.slides.length,0,!1,!0):st.centeredSlides&&et.snapIndex<st.slidesPerView?et.slideTo(et.virtual.slides.length+et.snapIndex,0,!1,!0):et.snapIndex===et.snapGrid.length-1&&et.slideTo(et.virtual.slidesBefore,0,!1,!0)),et.allowSlidePrev=nt,et.allowSlideNext=rt,et.emit("loopFix");return}let lt=st.slidesPerView;lt==="auto"?lt=et.slidesPerViewDynamic():(lt=Math.ceil(parseFloat(st.slidesPerView,10)),ot&&lt%2===0&&(lt=lt+1));const dt=st.slidesPerGroupAuto?lt:st.slidesPerGroup;let at=dt;at%dt!==0&&(at+=dt-at%dt),at+=st.loopAdditionalSlides,et.loopedSlides=at;const ut=et.grid&&st.grid&&st.grid.rows>1;tt.length<lt+at?showWarning("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):ut&&st.grid.fill==="row"&&showWarning("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const pt=[],vt=[];let ht=et.activeIndex;typeof _>"u"?_=et.getSlideIndex(tt.filter(St=>St.classList.contains(st.slideActiveClass))[0]):ht=_;const yt=h==="next"||!h,gt=h==="prev"||!h;let ft=0,_t=0;const Et=ut?Math.ceil(tt.length/st.grid.rows):tt.length,xt=(ut?tt[_].column:_)+(ot&&typeof g>"u"?-lt/2+.5:0);if(xt<at){ft=Math.max(at-xt,dt);for(let St=0;St<at-xt;St+=1){const Ut=St-Math.floor(St/Et)*Et;if(ut){const kt=Et-Ut-1;for(let Bt=tt.length-1;Bt>=0;Bt-=1)tt[Bt].column===kt&&pt.push(Bt)}else pt.push(Et-Ut-1)}}else if(xt+lt>Et-at){_t=Math.max(xt-(Et-at*2),dt);for(let St=0;St<_t;St+=1){const Ut=St-Math.floor(St/Et)*Et;ut?tt.forEach((kt,Bt)=>{kt.column===Ut&&vt.push(Bt)}):vt.push(Ut)}}if(et.__preventObserver__=!0,requestAnimationFrame(()=>{et.__preventObserver__=!1}),gt&&pt.forEach(St=>{tt[St].swiperLoopMoveDOM=!0,it.prepend(tt[St]),tt[St].swiperLoopMoveDOM=!1}),yt&&vt.forEach(St=>{tt[St].swiperLoopMoveDOM=!0,it.append(tt[St]),tt[St].swiperLoopMoveDOM=!1}),et.recalcSlides(),st.slidesPerView==="auto"?et.updateSlides():ut&&(pt.length>0&&gt||vt.length>0&&yt)&&et.slides.forEach((St,Ut)=>{et.grid.updateSlide(Ut,St,et.slides)}),st.watchSlidesProgress&&et.updateSlidesOffset(),d){if(pt.length>0&&gt){if(typeof e>"u"){const St=et.slidesGrid[ht],kt=et.slidesGrid[ht+ft]-St;$?et.setTranslate(et.translate-kt):(et.slideTo(ht+Math.ceil(ft),0,!1,!0),g&&(et.touchEventsData.startTranslate=et.touchEventsData.startTranslate-kt,et.touchEventsData.currentTranslate=et.touchEventsData.currentTranslate-kt))}else if(g){const St=ut?pt.length/st.grid.rows:pt.length;et.slideTo(et.activeIndex+St,0,!1,!0),et.touchEventsData.currentTranslate=et.translate}}else if(vt.length>0&&yt)if(typeof e>"u"){const St=et.slidesGrid[ht],kt=et.slidesGrid[ht-_t]-St;$?et.setTranslate(et.translate-kt):(et.slideTo(ht-_t,0,!1,!0),g&&(et.touchEventsData.startTranslate=et.touchEventsData.startTranslate-kt,et.touchEventsData.currentTranslate=et.touchEventsData.currentTranslate-kt))}else{const St=ut?vt.length/st.grid.rows:vt.length;et.slideTo(et.activeIndex-St,0,!1,!0)}}if(et.allowSlidePrev=nt,et.allowSlideNext=rt,et.controller&&et.controller.control&&!j){const St={slideRealIndex:e,direction:h,setTranslate:g,activeSlideIndex:_,byController:!0};Array.isArray(et.controller.control)?et.controller.control.forEach(Ut=>{!Ut.destroyed&&Ut.params.loop&&Ut.loopFix({...St,slideTo:Ut.params.slidesPerView===st.slidesPerView?d:!1})}):et.controller.control instanceof et.constructor&&et.controller.control.params.loop&&et.controller.control.loopFix({...St,slideTo:et.controller.control.params.slidesPerView===st.slidesPerView?d:!1})}et.emit("loopFix")}function loopDestroy(){const s=this,{params:e,slidesEl:d}=s;if(!e.loop||s.virtual&&s.params.virtual.enabled)return;s.recalcSlides();const h=[];s.slides.forEach(g=>{const _=typeof g.swiperSlideIndex>"u"?g.getAttribute("data-swiper-slide-index")*1:g.swiperSlideIndex;h[_]=g}),s.slides.forEach(g=>{g.removeAttribute("data-swiper-slide-index")}),h.forEach(g=>{d.append(g)}),s.recalcSlides(),s.slideTo(s.realIndex,0)}var loop={loopCreate,loopFix,loopDestroy};function setGrabCursor(s){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const d=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),d.style.cursor="move",d.style.cursor=s?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function unsetGrabCursor(){const s=this;s.params.watchOverflow&&s.isLocked||s.params.cssMode||(s.isElement&&(s.__preventObserver__=!0),s[s.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",s.isElement&&requestAnimationFrame(()=>{s.__preventObserver__=!1}))}var grabCursor={setGrabCursor,unsetGrabCursor};function closestElement(s,e){e===void 0&&(e=this);function d(h){if(!h||h===getDocument()||h===getWindow())return null;h.assignedSlot&&(h=h.assignedSlot);const g=h.closest(s);return!g&&!h.getRootNode?null:g||d(h.getRootNode().host)}return d(e)}function preventEdgeSwipe(s,e,d){const h=getWindow(),{params:g}=s,_=g.edgeSwipeDetection,j=g.edgeSwipeThreshold;return _&&(d<=j||d>=h.innerWidth-j)?_==="prevent"?(e.preventDefault(),!0):!1:!0}function onTouchStart(s){const e=this,d=getDocument();let h=s;h.originalEvent&&(h=h.originalEvent);const g=e.touchEventsData;if(h.type==="pointerdown"){if(g.pointerId!==null&&g.pointerId!==h.pointerId)return;g.pointerId=h.pointerId}else h.type==="touchstart"&&h.targetTouches.length===1&&(g.touchId=h.targetTouches[0].identifier);if(h.type==="touchstart"){preventEdgeSwipe(e,h,h.targetTouches[0].pageX);return}const{params:_,touches:j,enabled:$}=e;if(!$||!_.simulateTouch&&h.pointerType==="mouse"||e.animating&&_.preventInteractionOnTransition)return;!e.animating&&_.cssMode&&_.loop&&e.loopFix();let et=h.target;if(_.touchEventsTarget==="wrapper"&&!elementIsChildOf(et,e.wrapperEl)||"which"in h&&h.which===3||"button"in h&&h.button>0||g.isTouched&&g.isMoved)return;const tt=!!_.noSwipingClass&&_.noSwipingClass!=="",nt=h.composedPath?h.composedPath():h.path;tt&&h.target&&h.target.shadowRoot&&nt&&(et=nt[0]);const rt=_.noSwipingSelector?_.noSwipingSelector:`.${_.noSwipingClass}`,it=!!(h.target&&h.target.shadowRoot);if(_.noSwiping&&(it?closestElement(rt,et):et.closest(rt))){e.allowClick=!0;return}if(_.swipeHandler&&!et.closest(_.swipeHandler))return;j.currentX=h.pageX,j.currentY=h.pageY;const st=j.currentX,ot=j.currentY;if(!preventEdgeSwipe(e,h,st))return;Object.assign(g,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),j.startX=st,j.startY=ot,g.touchStartTime=now(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,_.threshold>0&&(g.allowThresholdMove=!1);let lt=!0;et.matches(g.focusableElements)&&(lt=!1,et.nodeName==="SELECT"&&(g.isTouched=!1)),d.activeElement&&d.activeElement.matches(g.focusableElements)&&d.activeElement!==et&&(h.pointerType==="mouse"||h.pointerType!=="mouse"&&!et.matches(g.focusableElements))&&d.activeElement.blur();const dt=lt&&e.allowTouchMove&&_.touchStartPreventDefault;(_.touchStartForcePreventDefault||dt)&&!et.isContentEditable&&h.preventDefault(),_.freeMode&&_.freeMode.enabled&&e.freeMode&&e.animating&&!_.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",h)}function onTouchMove(s){const e=getDocument(),d=this,h=d.touchEventsData,{params:g,touches:_,rtlTranslate:j,enabled:$}=d;if(!$||!g.simulateTouch&&s.pointerType==="mouse")return;let et=s;if(et.originalEvent&&(et=et.originalEvent),et.type==="pointermove"&&(h.touchId!==null||et.pointerId!==h.pointerId))return;let tt;if(et.type==="touchmove"){if(tt=[...et.changedTouches].filter(yt=>yt.identifier===h.touchId)[0],!tt||tt.identifier!==h.touchId)return}else tt=et;if(!h.isTouched){h.startMoving&&h.isScrolling&&d.emit("touchMoveOpposite",et);return}const nt=tt.pageX,rt=tt.pageY;if(et.preventedByNestedSwiper){_.startX=nt,_.startY=rt;return}if(!d.allowTouchMove){et.target.matches(h.focusableElements)||(d.allowClick=!1),h.isTouched&&(Object.assign(_,{startX:nt,startY:rt,currentX:nt,currentY:rt}),h.touchStartTime=now());return}if(g.touchReleaseOnEdges&&!g.loop){if(d.isVertical()){if(rt<_.startY&&d.translate<=d.maxTranslate()||rt>_.startY&&d.translate>=d.minTranslate()){h.isTouched=!1,h.isMoved=!1;return}}else if(nt<_.startX&&d.translate<=d.maxTranslate()||nt>_.startX&&d.translate>=d.minTranslate())return}if(e.activeElement&&e.activeElement.matches(h.focusableElements)&&e.activeElement!==et.target&&et.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&et.target===e.activeElement&&et.target.matches(h.focusableElements)){h.isMoved=!0,d.allowClick=!1;return}h.allowTouchCallbacks&&d.emit("touchMove",et),_.previousX=_.currentX,_.previousY=_.currentY,_.currentX=nt,_.currentY=rt;const it=_.currentX-_.startX,st=_.currentY-_.startY;if(d.params.threshold&&Math.sqrt(it**2+st**2)<d.params.threshold)return;if(typeof h.isScrolling>"u"){let yt;d.isHorizontal()&&_.currentY===_.startY||d.isVertical()&&_.currentX===_.startX?h.isScrolling=!1:it*it+st*st>=25&&(yt=Math.atan2(Math.abs(st),Math.abs(it))*180/Math.PI,h.isScrolling=d.isHorizontal()?yt>g.touchAngle:90-yt>g.touchAngle)}if(h.isScrolling&&d.emit("touchMoveOpposite",et),typeof h.startMoving>"u"&&(_.currentX!==_.startX||_.currentY!==_.startY)&&(h.startMoving=!0),h.isScrolling||et.type==="touchmove"&&h.preventTouchMoveFromPointerMove){h.isTouched=!1;return}if(!h.startMoving)return;d.allowClick=!1,!g.cssMode&&et.cancelable&&et.preventDefault(),g.touchMoveStopPropagation&&!g.nested&&et.stopPropagation();let ot=d.isHorizontal()?it:st,lt=d.isHorizontal()?_.currentX-_.previousX:_.currentY-_.previousY;g.oneWayMovement&&(ot=Math.abs(ot)*(j?1:-1),lt=Math.abs(lt)*(j?1:-1)),_.diff=ot,ot*=g.touchRatio,j&&(ot=-ot,lt=-lt);const dt=d.touchesDirection;d.swipeDirection=ot>0?"prev":"next",d.touchesDirection=lt>0?"prev":"next";const at=d.params.loop&&!g.cssMode,ut=d.touchesDirection==="next"&&d.allowSlideNext||d.touchesDirection==="prev"&&d.allowSlidePrev;if(!h.isMoved){if(at&&ut&&d.loopFix({direction:d.swipeDirection}),h.startTranslate=d.getTranslate(),d.setTransition(0),d.animating){const yt=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});d.wrapperEl.dispatchEvent(yt)}h.allowMomentumBounce=!1,g.grabCursor&&(d.allowSlideNext===!0||d.allowSlidePrev===!0)&&d.setGrabCursor(!0),d.emit("sliderFirstMove",et)}let pt;if(new Date().getTime(),h.isMoved&&h.allowThresholdMove&&dt!==d.touchesDirection&&at&&ut&&Math.abs(ot)>=1){Object.assign(_,{startX:nt,startY:rt,currentX:nt,currentY:rt,startTranslate:h.currentTranslate}),h.loopSwapReset=!0,h.startTranslate=h.currentTranslate;return}d.emit("sliderMove",et),h.isMoved=!0,h.currentTranslate=ot+h.startTranslate;let vt=!0,ht=g.resistanceRatio;if(g.touchReleaseOnEdges&&(ht=0),ot>0?(at&&ut&&!pt&&h.allowThresholdMove&&h.currentTranslate>(g.centeredSlides?d.minTranslate()-d.slidesSizesGrid[d.activeIndex+1]-(g.slidesPerView!=="auto"&&d.slides.length-g.slidesPerView>=2?d.slidesSizesGrid[d.activeIndex+1]+d.params.spaceBetween:0)-d.params.spaceBetween:d.minTranslate())&&d.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),h.currentTranslate>d.minTranslate()&&(vt=!1,g.resistance&&(h.currentTranslate=d.minTranslate()-1+(-d.minTranslate()+h.startTranslate+ot)**ht))):ot<0&&(at&&ut&&!pt&&h.allowThresholdMove&&h.currentTranslate<(g.centeredSlides?d.maxTranslate()+d.slidesSizesGrid[d.slidesSizesGrid.length-1]+d.params.spaceBetween+(g.slidesPerView!=="auto"&&d.slides.length-g.slidesPerView>=2?d.slidesSizesGrid[d.slidesSizesGrid.length-1]+d.params.spaceBetween:0):d.maxTranslate())&&d.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:d.slides.length-(g.slidesPerView==="auto"?d.slidesPerViewDynamic():Math.ceil(parseFloat(g.slidesPerView,10)))}),h.currentTranslate<d.maxTranslate()&&(vt=!1,g.resistance&&(h.currentTranslate=d.maxTranslate()+1-(d.maxTranslate()-h.startTranslate-ot)**ht))),vt&&(et.preventedByNestedSwiper=!0),!d.allowSlideNext&&d.swipeDirection==="next"&&h.currentTranslate<h.startTranslate&&(h.currentTranslate=h.startTranslate),!d.allowSlidePrev&&d.swipeDirection==="prev"&&h.currentTranslate>h.startTranslate&&(h.currentTranslate=h.startTranslate),!d.allowSlidePrev&&!d.allowSlideNext&&(h.currentTranslate=h.startTranslate),g.threshold>0)if(Math.abs(ot)>g.threshold||h.allowThresholdMove){if(!h.allowThresholdMove){h.allowThresholdMove=!0,_.startX=_.currentX,_.startY=_.currentY,h.currentTranslate=h.startTranslate,_.diff=d.isHorizontal()?_.currentX-_.startX:_.currentY-_.startY;return}}else{h.currentTranslate=h.startTranslate;return}!g.followFinger||g.cssMode||((g.freeMode&&g.freeMode.enabled&&d.freeMode||g.watchSlidesProgress)&&(d.updateActiveIndex(),d.updateSlidesClasses()),g.freeMode&&g.freeMode.enabled&&d.freeMode&&d.freeMode.onTouchMove(),d.updateProgress(h.currentTranslate),d.setTranslate(h.currentTranslate))}function onTouchEnd(s){const e=this,d=e.touchEventsData;let h=s;h.originalEvent&&(h=h.originalEvent);let g;if(h.type==="touchend"||h.type==="touchcancel"){if(g=[...h.changedTouches].filter(ht=>ht.identifier===d.touchId)[0],!g||g.identifier!==d.touchId)return}else{if(d.touchId!==null||h.pointerId!==d.pointerId)return;g=h}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(h.type)&&!(["pointercancel","contextmenu"].includes(h.type)&&(e.browser.isSafari||e.browser.isWebView)))return;d.pointerId=null,d.touchId=null;const{params:j,touches:$,rtlTranslate:et,slidesGrid:tt,enabled:nt}=e;if(!nt||!j.simulateTouch&&h.pointerType==="mouse")return;if(d.allowTouchCallbacks&&e.emit("touchEnd",h),d.allowTouchCallbacks=!1,!d.isTouched){d.isMoved&&j.grabCursor&&e.setGrabCursor(!1),d.isMoved=!1,d.startMoving=!1;return}j.grabCursor&&d.isMoved&&d.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const rt=now(),it=rt-d.touchStartTime;if(e.allowClick){const ht=h.path||h.composedPath&&h.composedPath();e.updateClickedSlide(ht&&ht[0]||h.target,ht),e.emit("tap click",h),it<300&&rt-d.lastClickTime<300&&e.emit("doubleTap doubleClick",h)}if(d.lastClickTime=now(),nextTick(()=>{e.destroyed||(e.allowClick=!0)}),!d.isTouched||!d.isMoved||!e.swipeDirection||$.diff===0&&!d.loopSwapReset||d.currentTranslate===d.startTranslate&&!d.loopSwapReset){d.isTouched=!1,d.isMoved=!1,d.startMoving=!1;return}d.isTouched=!1,d.isMoved=!1,d.startMoving=!1;let st;if(j.followFinger?st=et?e.translate:-e.translate:st=-d.currentTranslate,j.cssMode)return;if(j.freeMode&&j.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:st});return}const ot=st>=-e.maxTranslate()&&!e.params.loop;let lt=0,dt=e.slidesSizesGrid[0];for(let ht=0;ht<tt.length;ht+=ht<j.slidesPerGroupSkip?1:j.slidesPerGroup){const yt=ht<j.slidesPerGroupSkip-1?1:j.slidesPerGroup;typeof tt[ht+yt]<"u"?(ot||st>=tt[ht]&&st<tt[ht+yt])&&(lt=ht,dt=tt[ht+yt]-tt[ht]):(ot||st>=tt[ht])&&(lt=ht,dt=tt[tt.length-1]-tt[tt.length-2])}let at=null,ut=null;j.rewind&&(e.isBeginning?ut=j.virtual&&j.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(at=0));const pt=(st-tt[lt])/dt,vt=lt<j.slidesPerGroupSkip-1?1:j.slidesPerGroup;if(it>j.longSwipesMs){if(!j.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(pt>=j.longSwipesRatio?e.slideTo(j.rewind&&e.isEnd?at:lt+vt):e.slideTo(lt)),e.swipeDirection==="prev"&&(pt>1-j.longSwipesRatio?e.slideTo(lt+vt):ut!==null&&pt<0&&Math.abs(pt)>j.longSwipesRatio?e.slideTo(ut):e.slideTo(lt))}else{if(!j.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(h.target===e.navigation.nextEl||h.target===e.navigation.prevEl)?h.target===e.navigation.nextEl?e.slideTo(lt+vt):e.slideTo(lt):(e.swipeDirection==="next"&&e.slideTo(at!==null?at:lt+vt),e.swipeDirection==="prev"&&e.slideTo(ut!==null?ut:lt))}}function onResize(){const s=this,{params:e,el:d}=s;if(d&&d.offsetWidth===0)return;e.breakpoints&&s.setBreakpoint();const{allowSlideNext:h,allowSlidePrev:g,snapGrid:_}=s,j=s.virtual&&s.params.virtual.enabled;s.allowSlideNext=!0,s.allowSlidePrev=!0,s.updateSize(),s.updateSlides(),s.updateSlidesClasses();const $=j&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&s.isEnd&&!s.isBeginning&&!s.params.centeredSlides&&!$?s.slideTo(s.slides.length-1,0,!1,!0):s.params.loop&&!j?s.slideToLoop(s.realIndex,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0),s.autoplay&&s.autoplay.running&&s.autoplay.paused&&(clearTimeout(s.autoplay.resizeTimeout),s.autoplay.resizeTimeout=setTimeout(()=>{s.autoplay&&s.autoplay.running&&s.autoplay.paused&&s.autoplay.resume()},500)),s.allowSlidePrev=g,s.allowSlideNext=h,s.params.watchOverflow&&_!==s.snapGrid&&s.checkOverflow()}function onClick(s){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&s.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(s.stopPropagation(),s.stopImmediatePropagation())))}function onScroll(){const s=this,{wrapperEl:e,rtlTranslate:d,enabled:h}=s;if(!h)return;s.previousTranslate=s.translate,s.isHorizontal()?s.translate=-e.scrollLeft:s.translate=-e.scrollTop,s.translate===0&&(s.translate=0),s.updateActiveIndex(),s.updateSlidesClasses();let g;const _=s.maxTranslate()-s.minTranslate();_===0?g=0:g=(s.translate-s.minTranslate())/_,g!==s.progress&&s.updateProgress(d?-s.translate:s.translate),s.emit("setTranslate",s.translate,!1)}function onLoad(s){const e=this;processLazyPreloader(e,s.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function onDocumentTouchStart(){const s=this;s.documentTouchHandlerProceeded||(s.documentTouchHandlerProceeded=!0,s.params.touchReleaseOnEdges&&(s.el.style.touchAction="auto"))}const events=(s,e)=>{const d=getDocument(),{params:h,el:g,wrapperEl:_,device:j}=s,$=!!h.nested,et=e==="on"?"addEventListener":"removeEventListener",tt=e;!g||typeof g=="string"||(d[et]("touchstart",s.onDocumentTouchStart,{passive:!1,capture:$}),g[et]("touchstart",s.onTouchStart,{passive:!1}),g[et]("pointerdown",s.onTouchStart,{passive:!1}),d[et]("touchmove",s.onTouchMove,{passive:!1,capture:$}),d[et]("pointermove",s.onTouchMove,{passive:!1,capture:$}),d[et]("touchend",s.onTouchEnd,{passive:!0}),d[et]("pointerup",s.onTouchEnd,{passive:!0}),d[et]("pointercancel",s.onTouchEnd,{passive:!0}),d[et]("touchcancel",s.onTouchEnd,{passive:!0}),d[et]("pointerout",s.onTouchEnd,{passive:!0}),d[et]("pointerleave",s.onTouchEnd,{passive:!0}),d[et]("contextmenu",s.onTouchEnd,{passive:!0}),(h.preventClicks||h.preventClicksPropagation)&&g[et]("click",s.onClick,!0),h.cssMode&&_[et]("scroll",s.onScroll),h.updateOnWindowResize?s[tt](j.ios||j.android?"resize orientationchange observerUpdate":"resize observerUpdate",onResize,!0):s[tt]("observerUpdate",onResize,!0),g[et]("load",s.onLoad,{capture:!0}))};function attachEvents(){const s=this,{params:e}=s;s.onTouchStart=onTouchStart.bind(s),s.onTouchMove=onTouchMove.bind(s),s.onTouchEnd=onTouchEnd.bind(s),s.onDocumentTouchStart=onDocumentTouchStart.bind(s),e.cssMode&&(s.onScroll=onScroll.bind(s)),s.onClick=onClick.bind(s),s.onLoad=onLoad.bind(s),events(s,"on")}function detachEvents(){events(this,"off")}var events$1={attachEvents,detachEvents};const isGridEnabled=(s,e)=>s.grid&&e.grid&&e.grid.rows>1;function setBreakpoint(){const s=this,{realIndex:e,initialized:d,params:h,el:g}=s,_=h.breakpoints;if(!_||_&&Object.keys(_).length===0)return;const j=s.getBreakpoint(_,s.params.breakpointsBase,s.el);if(!j||s.currentBreakpoint===j)return;const et=(j in _?_[j]:void 0)||s.originalParams,tt=isGridEnabled(s,h),nt=isGridEnabled(s,et),rt=s.params.grabCursor,it=et.grabCursor,st=h.enabled;tt&&!nt?(g.classList.remove(`${h.containerModifierClass}grid`,`${h.containerModifierClass}grid-column`),s.emitContainerClasses()):!tt&&nt&&(g.classList.add(`${h.containerModifierClass}grid`),(et.grid.fill&&et.grid.fill==="column"||!et.grid.fill&&h.grid.fill==="column")&&g.classList.add(`${h.containerModifierClass}grid-column`),s.emitContainerClasses()),rt&&!it?s.unsetGrabCursor():!rt&&it&&s.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(pt=>{if(typeof et[pt]>"u")return;const vt=h[pt]&&h[pt].enabled,ht=et[pt]&&et[pt].enabled;vt&&!ht&&s[pt].disable(),!vt&&ht&&s[pt].enable()});const ot=et.direction&&et.direction!==h.direction,lt=h.loop&&(et.slidesPerView!==h.slidesPerView||ot),dt=h.loop;ot&&d&&s.changeDirection(),extend$1(s.params,et);const at=s.params.enabled,ut=s.params.loop;Object.assign(s,{allowTouchMove:s.params.allowTouchMove,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev}),st&&!at?s.disable():!st&&at&&s.enable(),s.currentBreakpoint=j,s.emit("_beforeBreakpoint",et),d&&(lt?(s.loopDestroy(),s.loopCreate(e),s.updateSlides()):!dt&&ut?(s.loopCreate(e),s.updateSlides()):dt&&!ut&&s.loopDestroy()),s.emit("breakpoint",et)}function getBreakpoint(s,e,d){if(e===void 0&&(e="window"),!s||e==="container"&&!d)return;let h=!1;const g=getWindow(),_=e==="window"?g.innerHeight:d.clientHeight,j=Object.keys(s).map($=>{if(typeof $=="string"&&$.indexOf("@")===0){const et=parseFloat($.substr(1));return{value:_*et,point:$}}return{value:$,point:$}});j.sort(($,et)=>parseInt($.value,10)-parseInt(et.value,10));for(let $=0;$<j.length;$+=1){const{point:et,value:tt}=j[$];e==="window"?g.matchMedia(`(min-width: ${tt}px)`).matches&&(h=et):tt<=d.clientWidth&&(h=et)}return h||"max"}var breakpoints={setBreakpoint,getBreakpoint};function prepareClasses(s,e){const d=[];return s.forEach(h=>{typeof h=="object"?Object.keys(h).forEach(g=>{h[g]&&d.push(e+g)}):typeof h=="string"&&d.push(e+h)}),d}function addClasses(){const s=this,{classNames:e,params:d,rtl:h,el:g,device:_}=s,j=prepareClasses(["initialized",d.direction,{"free-mode":s.params.freeMode&&d.freeMode.enabled},{autoheight:d.autoHeight},{rtl:h},{grid:d.grid&&d.grid.rows>1},{"grid-column":d.grid&&d.grid.rows>1&&d.grid.fill==="column"},{android:_.android},{ios:_.ios},{"css-mode":d.cssMode},{centered:d.cssMode&&d.centeredSlides},{"watch-progress":d.watchSlidesProgress}],d.containerModifierClass);e.push(...j),g.classList.add(...e),s.emitContainerClasses()}function removeClasses(){const s=this,{el:e,classNames:d}=s;!e||typeof e=="string"||(e.classList.remove(...d),s.emitContainerClasses())}var classes={addClasses,removeClasses};function checkOverflow(){const s=this,{isLocked:e,params:d}=s,{slidesOffsetBefore:h}=d;if(h){const g=s.slides.length-1,_=s.slidesGrid[g]+s.slidesSizesGrid[g]+h*2;s.isLocked=s.size>_}else s.isLocked=s.snapGrid.length===1;d.allowSlideNext===!0&&(s.allowSlideNext=!s.isLocked),d.allowSlidePrev===!0&&(s.allowSlidePrev=!s.isLocked),e&&e!==s.isLocked&&(s.isEnd=!1),e!==s.isLocked&&s.emit(s.isLocked?"lock":"unlock")}var checkOverflow$1={checkOverflow},defaults$1={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function moduleExtendParams(s,e){return function(h){h===void 0&&(h={});const g=Object.keys(h)[0],_=h[g];if(typeof _!="object"||_===null){extend$1(e,h);return}if(s[g]===!0&&(s[g]={enabled:!0}),g==="navigation"&&s[g]&&s[g].enabled&&!s[g].prevEl&&!s[g].nextEl&&(s[g].auto=!0),["pagination","scrollbar"].indexOf(g)>=0&&s[g]&&s[g].enabled&&!s[g].el&&(s[g].auto=!0),!(g in s&&"enabled"in _)){extend$1(e,h);return}typeof s[g]=="object"&&!("enabled"in s[g])&&(s[g].enabled=!0),s[g]||(s[g]={enabled:!1}),extend$1(e,h)}}const prototypes={eventsEmitter,update,translate:translate$1,transition,slide,loop,grabCursor,events:events$1,breakpoints,checkOverflow:checkOverflow$1,classes},extendedDefaults={};let Swiper$1=class As{constructor(){let e,d;for(var h=arguments.length,g=new Array(h),_=0;_<h;_++)g[_]=arguments[_];g.length===1&&g[0].constructor&&Object.prototype.toString.call(g[0]).slice(8,-1)==="Object"?d=g[0]:[e,d]=g,d||(d={}),d=extend$1({},d),e&&!d.el&&(d.el=e);const j=getDocument();if(d.el&&typeof d.el=="string"&&j.querySelectorAll(d.el).length>1){const nt=[];return j.querySelectorAll(d.el).forEach(rt=>{const it=extend$1({},d,{el:rt});nt.push(new As(it))}),nt}const $=this;$.__swiper__=!0,$.support=getSupport(),$.device=getDevice({userAgent:d.userAgent}),$.browser=getBrowser(),$.eventsListeners={},$.eventsAnyListeners=[],$.modules=[...$.__modules__],d.modules&&Array.isArray(d.modules)&&$.modules.push(...d.modules);const et={};$.modules.forEach(nt=>{nt({params:d,swiper:$,extendParams:moduleExtendParams(d,et),on:$.on.bind($),once:$.once.bind($),off:$.off.bind($),emit:$.emit.bind($)})});const tt=extend$1({},defaults$1,et);return $.params=extend$1({},tt,extendedDefaults,d),$.originalParams=extend$1({},$.params),$.passedParams=extend$1({},d),$.params&&$.params.on&&Object.keys($.params.on).forEach(nt=>{$.on(nt,$.params.on[nt])}),$.params&&$.params.onAny&&$.onAny($.params.onAny),Object.assign($,{enabled:$.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return $.params.direction==="horizontal"},isVertical(){return $.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:$.params.allowSlideNext,allowSlidePrev:$.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:$.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:$.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),$.emit("_swiper"),$.params.init&&$.init(),$}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:d,params:h}=this,g=elementChildren(d,`.${h.slideClass}, swiper-slide`),_=elementIndex(g[0]);return elementIndex(e)-_}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(d=>d.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:d,params:h}=e;e.slides=elementChildren(d,`.${h.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,d){const h=this;e=Math.min(Math.max(e,0),1);const g=h.minTranslate(),j=(h.maxTranslate()-g)*e+g;h.translateTo(j,typeof d>"u"?0:d),h.updateActiveIndex(),h.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const d=e.el.className.split(" ").filter(h=>h.indexOf("swiper")===0||h.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",d.join(" "))}getSlideClasses(e){const d=this;return d.destroyed?"":e.className.split(" ").filter(h=>h.indexOf("swiper-slide")===0||h.indexOf(d.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const d=[];e.slides.forEach(h=>{const g=e.getSlideClasses(h);d.push({slideEl:h,classNames:g}),e.emit("_slideClass",h,g)}),e.emit("_slideClasses",d)}slidesPerViewDynamic(e,d){e===void 0&&(e="current"),d===void 0&&(d=!1);const h=this,{params:g,slides:_,slidesGrid:j,slidesSizesGrid:$,size:et,activeIndex:tt}=h;let nt=1;if(typeof g.slidesPerView=="number")return g.slidesPerView;if(g.centeredSlides){let rt=_[tt]?Math.ceil(_[tt].swiperSlideSize):0,it;for(let st=tt+1;st<_.length;st+=1)_[st]&&!it&&(rt+=Math.ceil(_[st].swiperSlideSize),nt+=1,rt>et&&(it=!0));for(let st=tt-1;st>=0;st-=1)_[st]&&!it&&(rt+=_[st].swiperSlideSize,nt+=1,rt>et&&(it=!0))}else if(e==="current")for(let rt=tt+1;rt<_.length;rt+=1)(d?j[rt]+$[rt]-j[tt]<et:j[rt]-j[tt]<et)&&(nt+=1);else for(let rt=tt-1;rt>=0;rt-=1)j[tt]-j[rt]<et&&(nt+=1);return nt}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:d,params:h}=e;h.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(j=>{j.complete&&processLazyPreloader(e,j)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function g(){const j=e.rtlTranslate?e.translate*-1:e.translate,$=Math.min(Math.max(j,e.maxTranslate()),e.minTranslate());e.setTranslate($),e.updateActiveIndex(),e.updateSlidesClasses()}let _;if(h.freeMode&&h.freeMode.enabled&&!h.cssMode)g(),h.autoHeight&&e.updateAutoHeight();else{if((h.slidesPerView==="auto"||h.slidesPerView>1)&&e.isEnd&&!h.centeredSlides){const j=e.virtual&&h.virtual.enabled?e.virtual.slides:e.slides;_=e.slideTo(j.length-1,0,!1,!0)}else _=e.slideTo(e.activeIndex,0,!1,!0);_||g()}h.watchOverflow&&d!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,d){d===void 0&&(d=!0);const h=this,g=h.params.direction;return e||(e=g==="horizontal"?"vertical":"horizontal"),e===g||e!=="horizontal"&&e!=="vertical"||(h.el.classList.remove(`${h.params.containerModifierClass}${g}`),h.el.classList.add(`${h.params.containerModifierClass}${e}`),h.emitContainerClasses(),h.params.direction=e,h.slides.forEach(_=>{e==="vertical"?_.style.width="":_.style.height=""}),h.emit("changeDirection"),d&&h.update()),h}changeLanguageDirection(e){const d=this;d.rtl&&e==="rtl"||!d.rtl&&e==="ltr"||(d.rtl=e==="rtl",d.rtlTranslate=d.params.direction==="horizontal"&&d.rtl,d.rtl?(d.el.classList.add(`${d.params.containerModifierClass}rtl`),d.el.dir="rtl"):(d.el.classList.remove(`${d.params.containerModifierClass}rtl`),d.el.dir="ltr"),d.update())}mount(e){const d=this;if(d.mounted)return!0;let h=e||d.params.el;if(typeof h=="string"&&(h=document.querySelector(h)),!h)return!1;h.swiper=d,h.parentNode&&h.parentNode.host&&h.parentNode.host.nodeName===d.params.swiperElementNodeName.toUpperCase()&&(d.isElement=!0);const g=()=>`.${(d.params.wrapperClass||"").trim().split(" ").join(".")}`;let j=h&&h.shadowRoot&&h.shadowRoot.querySelector?h.shadowRoot.querySelector(g()):elementChildren(h,g())[0];return!j&&d.params.createElements&&(j=createElement("div",d.params.wrapperClass),h.append(j),elementChildren(h,`.${d.params.slideClass}`).forEach($=>{j.append($)})),Object.assign(d,{el:h,wrapperEl:j,slidesEl:d.isElement&&!h.parentNode.host.slideSlots?h.parentNode.host:j,hostEl:d.isElement?h.parentNode.host:h,mounted:!0,rtl:h.dir.toLowerCase()==="rtl"||elementStyle(h,"direction")==="rtl",rtlTranslate:d.params.direction==="horizontal"&&(h.dir.toLowerCase()==="rtl"||elementStyle(h,"direction")==="rtl"),wrongRTL:elementStyle(j,"display")==="-webkit-box"}),!0}init(e){const d=this;if(d.initialized||d.mount(e)===!1)return d;d.emit("beforeInit"),d.params.breakpoints&&d.setBreakpoint(),d.addClasses(),d.updateSize(),d.updateSlides(),d.params.watchOverflow&&d.checkOverflow(),d.params.grabCursor&&d.enabled&&d.setGrabCursor(),d.params.loop&&d.virtual&&d.params.virtual.enabled?d.slideTo(d.params.initialSlide+d.virtual.slidesBefore,0,d.params.runCallbacksOnInit,!1,!0):d.slideTo(d.params.initialSlide,0,d.params.runCallbacksOnInit,!1,!0),d.params.loop&&d.loopCreate(),d.attachEvents();const g=[...d.el.querySelectorAll('[loading="lazy"]')];return d.isElement&&g.push(...d.hostEl.querySelectorAll('[loading="lazy"]')),g.forEach(_=>{_.complete?processLazyPreloader(d,_):_.addEventListener("load",j=>{processLazyPreloader(d,j.target)})}),preload(d),d.initialized=!0,preload(d),d.emit("init"),d.emit("afterInit"),d}destroy(e,d){e===void 0&&(e=!0),d===void 0&&(d=!0);const h=this,{params:g,el:_,wrapperEl:j,slides:$}=h;return typeof h.params>"u"||h.destroyed||(h.emit("beforeDestroy"),h.initialized=!1,h.detachEvents(),g.loop&&h.loopDestroy(),d&&(h.removeClasses(),_&&typeof _!="string"&&_.removeAttribute("style"),j&&j.removeAttribute("style"),$&&$.length&&$.forEach(et=>{et.classList.remove(g.slideVisibleClass,g.slideFullyVisibleClass,g.slideActiveClass,g.slideNextClass,g.slidePrevClass),et.removeAttribute("style"),et.removeAttribute("data-swiper-slide-index")})),h.emit("destroy"),Object.keys(h.eventsListeners).forEach(et=>{h.off(et)}),e!==!1&&(h.el&&typeof h.el!="string"&&(h.el.swiper=null),deleteProps(h)),h.destroyed=!0),null}static extendDefaults(e){extend$1(extendedDefaults,e)}static get extendedDefaults(){return extendedDefaults}static get defaults(){return defaults$1}static installModule(e){As.prototype.__modules__||(As.prototype.__modules__=[]);const d=As.prototype.__modules__;typeof e=="function"&&d.indexOf(e)<0&&d.push(e)}static use(e){return Array.isArray(e)?(e.forEach(d=>As.installModule(d)),As):(As.installModule(e),As)}};Object.keys(prototypes).forEach(s=>{Object.keys(prototypes[s]).forEach(e=>{Swiper$1.prototype[e]=prototypes[s][e]})});Swiper$1.use([Resize,Observer]);const paramsList=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function isObject$1(s){return typeof s=="object"&&s!==null&&s.constructor&&Object.prototype.toString.call(s).slice(8,-1)==="Object"&&!s.__swiper__}function extend(s,e){const d=["__proto__","constructor","prototype"];Object.keys(e).filter(h=>d.indexOf(h)<0).forEach(h=>{typeof s[h]>"u"?s[h]=e[h]:isObject$1(e[h])&&isObject$1(s[h])&&Object.keys(e[h]).length>0?e[h].__swiper__?s[h]=e[h]:extend(s[h],e[h]):s[h]=e[h]})}function needsNavigation(s){return s===void 0&&(s={}),s.navigation&&typeof s.navigation.nextEl>"u"&&typeof s.navigation.prevEl>"u"}function needsPagination(s){return s===void 0&&(s={}),s.pagination&&typeof s.pagination.el>"u"}function needsScrollbar(s){return s===void 0&&(s={}),s.scrollbar&&typeof s.scrollbar.el>"u"}function uniqueClasses(s){s===void 0&&(s="");const e=s.split(" ").map(h=>h.trim()).filter(h=>!!h),d=[];return e.forEach(h=>{d.indexOf(h)<0&&d.push(h)}),d.join(" ")}function wrapperClass(s){return s===void 0&&(s=""),s?s.includes("swiper-wrapper")?s:`swiper-wrapper ${s}`:"swiper-wrapper"}function updateSwiper(s){let{swiper:e,slides:d,passedParams:h,changedParams:g,nextEl:_,prevEl:j,scrollbarEl:$,paginationEl:et}=s;const tt=g.filter(_t=>_t!=="children"&&_t!=="direction"&&_t!=="wrapperClass"),{params:nt,pagination:rt,navigation:it,scrollbar:st,virtual:ot,thumbs:lt}=e;let dt,at,ut,pt,vt,ht,yt,gt;g.includes("thumbs")&&h.thumbs&&h.thumbs.swiper&&!h.thumbs.swiper.destroyed&&nt.thumbs&&(!nt.thumbs.swiper||nt.thumbs.swiper.destroyed)&&(dt=!0),g.includes("controller")&&h.controller&&h.controller.control&&nt.controller&&!nt.controller.control&&(at=!0),g.includes("pagination")&&h.pagination&&(h.pagination.el||et)&&(nt.pagination||nt.pagination===!1)&&rt&&!rt.el&&(ut=!0),g.includes("scrollbar")&&h.scrollbar&&(h.scrollbar.el||$)&&(nt.scrollbar||nt.scrollbar===!1)&&st&&!st.el&&(pt=!0),g.includes("navigation")&&h.navigation&&(h.navigation.prevEl||j)&&(h.navigation.nextEl||_)&&(nt.navigation||nt.navigation===!1)&&it&&!it.prevEl&&!it.nextEl&&(vt=!0);const ft=_t=>{e[_t]&&(e[_t].destroy(),_t==="navigation"?(e.isElement&&(e[_t].prevEl.remove(),e[_t].nextEl.remove()),nt[_t].prevEl=void 0,nt[_t].nextEl=void 0,e[_t].prevEl=void 0,e[_t].nextEl=void 0):(e.isElement&&e[_t].el.remove(),nt[_t].el=void 0,e[_t].el=void 0))};g.includes("loop")&&e.isElement&&(nt.loop&&!h.loop?ht=!0:!nt.loop&&h.loop?yt=!0:gt=!0),tt.forEach(_t=>{if(isObject$1(nt[_t])&&isObject$1(h[_t]))Object.assign(nt[_t],h[_t]),(_t==="navigation"||_t==="pagination"||_t==="scrollbar")&&"enabled"in h[_t]&&!h[_t].enabled&&ft(_t);else{const Et=h[_t];(Et===!0||Et===!1)&&(_t==="navigation"||_t==="pagination"||_t==="scrollbar")?Et===!1&&ft(_t):nt[_t]=h[_t]}}),tt.includes("controller")&&!at&&e.controller&&e.controller.control&&nt.controller&&nt.controller.control&&(e.controller.control=nt.controller.control),g.includes("children")&&d&&ot&&nt.virtual.enabled?(ot.slides=d,ot.update(!0)):g.includes("virtual")&&ot&&nt.virtual.enabled&&(d&&(ot.slides=d),ot.update(!0)),g.includes("children")&&d&&nt.loop&&(gt=!0),dt&&lt.init()&&lt.update(!0),at&&(e.controller.control=nt.controller.control),ut&&(e.isElement&&(!et||typeof et=="string")&&(et=document.createElement("div"),et.classList.add("swiper-pagination"),et.part.add("pagination"),e.el.appendChild(et)),et&&(nt.pagination.el=et),rt.init(),rt.render(),rt.update()),pt&&(e.isElement&&(!$||typeof $=="string")&&($=document.createElement("div"),$.classList.add("swiper-scrollbar"),$.part.add("scrollbar"),e.el.appendChild($)),$&&(nt.scrollbar.el=$),st.init(),st.updateSize(),st.setTranslate()),vt&&(e.isElement&&((!_||typeof _=="string")&&(_=document.createElement("div"),_.classList.add("swiper-button-next"),_.innerHTML=e.hostEl.constructor.nextButtonSvg,_.part.add("button-next"),e.el.appendChild(_)),(!j||typeof j=="string")&&(j=document.createElement("div"),j.classList.add("swiper-button-prev"),j.innerHTML=e.hostEl.constructor.prevButtonSvg,j.part.add("button-prev"),e.el.appendChild(j))),_&&(nt.navigation.nextEl=_),j&&(nt.navigation.prevEl=j),it.init(),it.update()),g.includes("allowSlideNext")&&(e.allowSlideNext=h.allowSlideNext),g.includes("allowSlidePrev")&&(e.allowSlidePrev=h.allowSlidePrev),g.includes("direction")&&e.changeDirection(h.direction,!1),(ht||gt)&&e.loopDestroy(),(yt||gt)&&e.loopCreate(),e.update()}function getParams(s,e){s===void 0&&(s={}),e===void 0&&(e=!0);const d={on:{}},h={},g={};extend(d,defaults$1),d._emitClasses=!0,d.init=!1;const _={},j=paramsList.map(et=>et.replace(/_/,"")),$=Object.assign({},s);return Object.keys($).forEach(et=>{typeof s[et]>"u"||(j.indexOf(et)>=0?isObject$1(s[et])?(d[et]={},g[et]={},extend(d[et],s[et]),extend(g[et],s[et])):(d[et]=s[et],g[et]=s[et]):et.search(/on[A-Z]/)===0&&typeof s[et]=="function"?e?h[`${et[2].toLowerCase()}${et.substr(3)}`]=s[et]:d.on[`${et[2].toLowerCase()}${et.substr(3)}`]=s[et]:_[et]=s[et])}),["navigation","pagination","scrollbar"].forEach(et=>{d[et]===!0&&(d[et]={}),d[et]===!1&&delete d[et]}),{params:d,passedParams:g,rest:_,events:h}}function mountSwiper(s,e){let{el:d,nextEl:h,prevEl:g,paginationEl:_,scrollbarEl:j,swiper:$}=s;needsNavigation(e)&&h&&g&&($.params.navigation.nextEl=h,$.originalParams.navigation.nextEl=h,$.params.navigation.prevEl=g,$.originalParams.navigation.prevEl=g),needsPagination(e)&&_&&($.params.pagination.el=_,$.originalParams.pagination.el=_),needsScrollbar(e)&&j&&($.params.scrollbar.el=j,$.originalParams.scrollbar.el=j),$.init(d)}function getChangedParams(s,e,d,h,g){const _=[];if(!e)return _;const j=et=>{_.indexOf(et)<0&&_.push(et)};if(d&&h){const et=h.map(g),tt=d.map(g);et.join("")!==tt.join("")&&j("children"),h.length!==d.length&&j("children")}return paramsList.filter(et=>et[0]==="_").map(et=>et.replace(/_/,"")).forEach(et=>{if(et in s&&et in e)if(isObject$1(s[et])&&isObject$1(e[et])){const tt=Object.keys(s[et]),nt=Object.keys(e[et]);tt.length!==nt.length?j(et):(tt.forEach(rt=>{s[et][rt]!==e[et][rt]&&j(et)}),nt.forEach(rt=>{s[et][rt]!==e[et][rt]&&j(et)}))}else s[et]!==e[et]&&j(et)}),_}const updateOnVirtualData=s=>{!s||s.destroyed||!s.params.virtual||s.params.virtual&&!s.params.virtual.enabled||(s.updateSlides(),s.updateProgress(),s.updateSlidesClasses(),s.parallax&&s.params.parallax&&s.params.parallax.enabled&&s.parallax.setTranslate())};function _extends(){return _extends=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var d=arguments[e];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(s[h]=d[h])}return s},_extends.apply(this,arguments)}function isChildSwiperSlide(s){return s.type&&s.type.displayName&&s.type.displayName.includes("SwiperSlide")}function processChildren(s){const e=[];return React.Children.toArray(s).forEach(d=>{isChildSwiperSlide(d)?e.push(d):d.props&&d.props.children&&processChildren(d.props.children).forEach(h=>e.push(h))}),e}function getChildren(s){const e=[],d={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return React.Children.toArray(s).forEach(h=>{if(isChildSwiperSlide(h))e.push(h);else if(h.props&&h.props.slot&&d[h.props.slot])d[h.props.slot].push(h);else if(h.props&&h.props.children){const g=processChildren(h.props.children);g.length>0?g.forEach(_=>e.push(_)):d["container-end"].push(h)}else d["container-end"].push(h)}),{slides:e,slots:d}}function renderVirtual(s,e,d){if(!d)return null;const h=nt=>{let rt=nt;return nt<0?rt=e.length+nt:rt>=e.length&&(rt=rt-e.length),rt},g=s.isHorizontal()?{[s.rtlTranslate?"right":"left"]:`${d.offset}px`}:{top:`${d.offset}px`},{from:_,to:j}=d,$=s.params.loop?-e.length:0,et=s.params.loop?e.length*2:e.length,tt=[];for(let nt=$;nt<et;nt+=1)nt>=_&&nt<=j&&tt.push(e[h(nt)]);return tt.map((nt,rt)=>React.cloneElement(nt,{swiper:s,style:g,key:nt.props.virtualIndex||nt.key||`slide-${rt}`}))}function useIsomorphicLayoutEffect(s,e){return typeof window>"u"?reactExports.useEffect(s,e):reactExports.useLayoutEffect(s,e)}const SwiperSlideContext=reactExports.createContext(null),SwiperContext=reactExports.createContext(null),Swiper=reactExports.forwardRef(function(s,e){let{className:d,tag:h="div",wrapperTag:g="div",children:_,onSwiper:j,...$}=s===void 0?{}:s,et=!1;const[tt,nt]=reactExports.useState("swiper"),[rt,it]=reactExports.useState(null),[st,ot]=reactExports.useState(!1),lt=reactExports.useRef(!1),dt=reactExports.useRef(null),at=reactExports.useRef(null),ut=reactExports.useRef(null),pt=reactExports.useRef(null),vt=reactExports.useRef(null),ht=reactExports.useRef(null),yt=reactExports.useRef(null),gt=reactExports.useRef(null),{params:ft,passedParams:_t,rest:Et,events:mt}=getParams($),{slides:xt,slots:St}=getChildren(_),Ut=()=>{ot(!st)};Object.assign(ft.on,{_containerClasses(Ft,Wt){nt(Wt)}});const kt=()=>{Object.assign(ft.on,mt),et=!0;const Ft={...ft};if(delete Ft.wrapperClass,at.current=new Swiper$1(Ft),at.current.virtual&&at.current.params.virtual.enabled){at.current.virtual.slides=xt;const Wt={cache:!1,slides:xt,renderExternal:it,renderExternalUpdate:!1};extend(at.current.params.virtual,Wt),extend(at.current.originalParams.virtual,Wt)}};dt.current||kt(),at.current&&at.current.on("_beforeBreakpoint",Ut);const Bt=()=>{et||!mt||!at.current||Object.keys(mt).forEach(Ft=>{at.current.on(Ft,mt[Ft])})},$t=()=>{!mt||!at.current||Object.keys(mt).forEach(Ft=>{at.current.off(Ft,mt[Ft])})};reactExports.useEffect(()=>()=>{at.current&&at.current.off("_beforeBreakpoint",Ut)}),reactExports.useEffect(()=>{!lt.current&&at.current&&(at.current.emitSlidesClasses(),lt.current=!0)}),useIsomorphicLayoutEffect(()=>{if(e&&(e.current=dt.current),!!dt.current)return at.current.destroyed&&kt(),mountSwiper({el:dt.current,nextEl:vt.current,prevEl:ht.current,paginationEl:yt.current,scrollbarEl:gt.current,swiper:at.current},ft),j&&!at.current.destroyed&&j(at.current),()=>{at.current&&!at.current.destroyed&&at.current.destroy(!0,!1)}},[]),useIsomorphicLayoutEffect(()=>{Bt();const Ft=getChangedParams(_t,ut.current,xt,pt.current,Wt=>Wt.key);return ut.current=_t,pt.current=xt,Ft.length&&at.current&&!at.current.destroyed&&updateSwiper({swiper:at.current,slides:xt,passedParams:_t,changedParams:Ft,nextEl:vt.current,prevEl:ht.current,scrollbarEl:gt.current,paginationEl:yt.current}),()=>{$t()}}),useIsomorphicLayoutEffect(()=>{updateOnVirtualData(at.current)},[rt]);function Gt(){return ft.virtual?renderVirtual(at.current,xt,rt):xt.map((Ft,Wt)=>React.cloneElement(Ft,{swiper:at.current,swiperSlideIndex:Wt}))}return React.createElement(h,_extends({ref:dt,className:uniqueClasses(`${tt}${d?` ${d}`:""}`)},Et),React.createElement(SwiperContext.Provider,{value:at.current},St["container-start"],React.createElement(g,{className:wrapperClass(ft.wrapperClass)},St["wrapper-start"],Gt(),St["wrapper-end"]),needsNavigation(ft)&&React.createElement(React.Fragment,null,React.createElement("div",{ref:ht,className:"swiper-button-prev"}),React.createElement("div",{ref:vt,className:"swiper-button-next"})),needsScrollbar(ft)&&React.createElement("div",{ref:gt,className:"swiper-scrollbar"}),needsPagination(ft)&&React.createElement("div",{ref:yt,className:"swiper-pagination"}),St["container-end"]))});Swiper.displayName="Swiper";const SwiperSlide=reactExports.forwardRef(function(s,e){let{tag:d="div",children:h,className:g="",swiper:_,zoom:j,lazy:$,virtualIndex:et,swiperSlideIndex:tt,...nt}=s===void 0?{}:s;const rt=reactExports.useRef(null),[it,st]=reactExports.useState("swiper-slide"),[ot,lt]=reactExports.useState(!1);function dt(vt,ht,yt){ht===rt.current&&st(yt)}useIsomorphicLayoutEffect(()=>{if(typeof tt<"u"&&(rt.current.swiperSlideIndex=tt),e&&(e.current=rt.current),!(!rt.current||!_)){if(_.destroyed){it!=="swiper-slide"&&st("swiper-slide");return}return _.on("_slideClass",dt),()=>{_&&_.off("_slideClass",dt)}}}),useIsomorphicLayoutEffect(()=>{_&&rt.current&&!_.destroyed&&st(_.getSlideClasses(rt.current))},[_]);const at={isActive:it.indexOf("swiper-slide-active")>=0,isVisible:it.indexOf("swiper-slide-visible")>=0,isPrev:it.indexOf("swiper-slide-prev")>=0,isNext:it.indexOf("swiper-slide-next")>=0},ut=()=>typeof h=="function"?h(at):h,pt=()=>{lt(!0)};return React.createElement(d,_extends({ref:rt,className:uniqueClasses(`${it}${g?` ${g}`:""}`),"data-swiper-slide-index":et,onLoad:pt},nt),j&&React.createElement(SwiperSlideContext.Provider,{value:at},React.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof j=="number"?j:void 0},ut(),$&&!ot&&React.createElement("div",{className:"swiper-lazy-preloader"}))),!j&&React.createElement(SwiperSlideContext.Provider,{value:at},ut(),$&&!ot&&React.createElement("div",{className:"swiper-lazy-preloader"})))});SwiperSlide.displayName="SwiperSlide";function createElementIfNotDefined(s,e,d,h){return s.params.createElements&&Object.keys(h).forEach(g=>{if(!d[g]&&d.auto===!0){let _=elementChildren(s.el,`.${h[g]}`)[0];_||(_=createElement("div",h[g]),_.className=h[g],s.el.append(_)),d[g]=_,e[g]=_}}),d}function Navigation(s){let{swiper:e,extendParams:d,on:h,emit:g}=s;d({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function _(ot){let lt;return ot&&typeof ot=="string"&&e.isElement&&(lt=e.el.querySelector(ot)||e.hostEl.querySelector(ot),lt)?lt:(ot&&(typeof ot=="string"&&(lt=[...document.querySelectorAll(ot)]),e.params.uniqueNavElements&&typeof ot=="string"&&lt&&lt.length>1&&e.el.querySelectorAll(ot).length===1?lt=e.el.querySelector(ot):lt&&lt.length===1&&(lt=lt[0])),ot&&!lt?ot:lt)}function j(ot,lt){const dt=e.params.navigation;ot=makeElementsArray(ot),ot.forEach(at=>{at&&(at.classList[lt?"add":"remove"](...dt.disabledClass.split(" ")),at.tagName==="BUTTON"&&(at.disabled=lt),e.params.watchOverflow&&e.enabled&&at.classList[e.isLocked?"add":"remove"](dt.lockClass))})}function $(){const{nextEl:ot,prevEl:lt}=e.navigation;if(e.params.loop){j(lt,!1),j(ot,!1);return}j(lt,e.isBeginning&&!e.params.rewind),j(ot,e.isEnd&&!e.params.rewind)}function et(ot){ot.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),g("navigationPrev"))}function tt(ot){ot.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),g("navigationNext"))}function nt(){const ot=e.params.navigation;if(e.params.navigation=createElementIfNotDefined(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(ot.nextEl||ot.prevEl))return;let lt=_(ot.nextEl),dt=_(ot.prevEl);Object.assign(e.navigation,{nextEl:lt,prevEl:dt}),lt=makeElementsArray(lt),dt=makeElementsArray(dt);const at=(ut,pt)=>{ut&&ut.addEventListener("click",pt==="next"?tt:et),!e.enabled&&ut&&ut.classList.add(...ot.lockClass.split(" "))};lt.forEach(ut=>at(ut,"next")),dt.forEach(ut=>at(ut,"prev"))}function rt(){let{nextEl:ot,prevEl:lt}=e.navigation;ot=makeElementsArray(ot),lt=makeElementsArray(lt);const dt=(at,ut)=>{at.removeEventListener("click",ut==="next"?tt:et),at.classList.remove(...e.params.navigation.disabledClass.split(" "))};ot.forEach(at=>dt(at,"next")),lt.forEach(at=>dt(at,"prev"))}h("init",()=>{e.params.navigation.enabled===!1?st():(nt(),$())}),h("toEdge fromEdge lock unlock",()=>{$()}),h("destroy",()=>{rt()}),h("enable disable",()=>{let{nextEl:ot,prevEl:lt}=e.navigation;if(ot=makeElementsArray(ot),lt=makeElementsArray(lt),e.enabled){$();return}[...ot,...lt].filter(dt=>!!dt).forEach(dt=>dt.classList.add(e.params.navigation.lockClass))}),h("click",(ot,lt)=>{let{nextEl:dt,prevEl:at}=e.navigation;dt=makeElementsArray(dt),at=makeElementsArray(at);const ut=lt.target;let pt=at.includes(ut)||dt.includes(ut);if(e.isElement&&!pt){const vt=lt.path||lt.composedPath&&lt.composedPath();vt&&(pt=vt.find(ht=>dt.includes(ht)||at.includes(ht)))}if(e.params.navigation.hideOnClick&&!pt){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===ut||e.pagination.el.contains(ut)))return;let vt;dt.length?vt=dt[0].classList.contains(e.params.navigation.hiddenClass):at.length&&(vt=at[0].classList.contains(e.params.navigation.hiddenClass)),g(vt===!0?"navigationShow":"navigationHide"),[...dt,...at].filter(ht=>!!ht).forEach(ht=>ht.classList.toggle(e.params.navigation.hiddenClass))}});const it=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),nt(),$()},st=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),rt()};Object.assign(e.navigation,{enable:it,disable:st,update:$,init:nt,destroy:rt})}function classesToSelector(s){return s===void 0&&(s=""),`.${s.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Pagination(s){let{swiper:e,extendParams:d,on:h,emit:g}=s;const _="swiper-pagination";d({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:ut=>ut,formatFractionTotal:ut=>ut,bulletClass:`${_}-bullet`,bulletActiveClass:`${_}-bullet-active`,modifierClass:`${_}-`,currentClass:`${_}-current`,totalClass:`${_}-total`,hiddenClass:`${_}-hidden`,progressbarFillClass:`${_}-progressbar-fill`,progressbarOppositeClass:`${_}-progressbar-opposite`,clickableClass:`${_}-clickable`,lockClass:`${_}-lock`,horizontalClass:`${_}-horizontal`,verticalClass:`${_}-vertical`,paginationDisabledClass:`${_}-disabled`}}),e.pagination={el:null,bullets:[]};let j,$=0;function et(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function tt(ut,pt){const{bulletActiveClass:vt}=e.params.pagination;ut&&(ut=ut[`${pt==="prev"?"previous":"next"}ElementSibling`],ut&&(ut.classList.add(`${vt}-${pt}`),ut=ut[`${pt==="prev"?"previous":"next"}ElementSibling`],ut&&ut.classList.add(`${vt}-${pt}-${pt}`)))}function nt(ut,pt,vt){if(ut=ut%vt,pt=pt%vt,pt===ut+1)return"next";if(pt===ut-1)return"previous"}function rt(ut){const pt=ut.target.closest(classesToSelector(e.params.pagination.bulletClass));if(!pt)return;ut.preventDefault();const vt=elementIndex(pt)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===vt)return;const ht=nt(e.realIndex,vt,e.slides.length);ht==="next"?e.slideNext():ht==="previous"?e.slidePrev():e.slideToLoop(vt)}else e.slideTo(vt)}function it(){const ut=e.rtl,pt=e.params.pagination;if(et())return;let vt=e.pagination.el;vt=makeElementsArray(vt);let ht,yt;const gt=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,ft=e.params.loop?Math.ceil(gt/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(yt=e.previousRealIndex||0,ht=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(ht=e.snapIndex,yt=e.previousSnapIndex):(yt=e.previousIndex||0,ht=e.activeIndex||0),pt.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const _t=e.pagination.bullets;let Et,mt,xt;if(pt.dynamicBullets&&(j=elementOuterSize(_t[0],e.isHorizontal()?"width":"height"),vt.forEach(St=>{St.style[e.isHorizontal()?"width":"height"]=`${j*(pt.dynamicMainBullets+4)}px`}),pt.dynamicMainBullets>1&&yt!==void 0&&($+=ht-(yt||0),$>pt.dynamicMainBullets-1?$=pt.dynamicMainBullets-1:$<0&&($=0)),Et=Math.max(ht-$,0),mt=Et+(Math.min(_t.length,pt.dynamicMainBullets)-1),xt=(mt+Et)/2),_t.forEach(St=>{const Ut=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(kt=>`${pt.bulletActiveClass}${kt}`)].map(kt=>typeof kt=="string"&&kt.includes(" ")?kt.split(" "):kt).flat();St.classList.remove(...Ut)}),vt.length>1)_t.forEach(St=>{const Ut=elementIndex(St);Ut===ht?St.classList.add(...pt.bulletActiveClass.split(" ")):e.isElement&&St.setAttribute("part","bullet"),pt.dynamicBullets&&(Ut>=Et&&Ut<=mt&&St.classList.add(...`${pt.bulletActiveClass}-main`.split(" ")),Ut===Et&&tt(St,"prev"),Ut===mt&&tt(St,"next"))});else{const St=_t[ht];if(St&&St.classList.add(...pt.bulletActiveClass.split(" ")),e.isElement&&_t.forEach((Ut,kt)=>{Ut.setAttribute("part",kt===ht?"bullet-active":"bullet")}),pt.dynamicBullets){const Ut=_t[Et],kt=_t[mt];for(let Bt=Et;Bt<=mt;Bt+=1)_t[Bt]&&_t[Bt].classList.add(...`${pt.bulletActiveClass}-main`.split(" "));tt(Ut,"prev"),tt(kt,"next")}}if(pt.dynamicBullets){const St=Math.min(_t.length,pt.dynamicMainBullets+4),Ut=(j*St-j)/2-xt*j,kt=ut?"right":"left";_t.forEach(Bt=>{Bt.style[e.isHorizontal()?kt:"top"]=`${Ut}px`})}}vt.forEach((_t,Et)=>{if(pt.type==="fraction"&&(_t.querySelectorAll(classesToSelector(pt.currentClass)).forEach(mt=>{mt.textContent=pt.formatFractionCurrent(ht+1)}),_t.querySelectorAll(classesToSelector(pt.totalClass)).forEach(mt=>{mt.textContent=pt.formatFractionTotal(ft)})),pt.type==="progressbar"){let mt;pt.progressbarOpposite?mt=e.isHorizontal()?"vertical":"horizontal":mt=e.isHorizontal()?"horizontal":"vertical";const xt=(ht+1)/ft;let St=1,Ut=1;mt==="horizontal"?St=xt:Ut=xt,_t.querySelectorAll(classesToSelector(pt.progressbarFillClass)).forEach(kt=>{kt.style.transform=`translate3d(0,0,0) scaleX(${St}) scaleY(${Ut})`,kt.style.transitionDuration=`${e.params.speed}ms`})}pt.type==="custom"&&pt.renderCustom?(_t.innerHTML=pt.renderCustom(e,ht+1,ft),Et===0&&g("paginationRender",_t)):(Et===0&&g("paginationRender",_t),g("paginationUpdate",_t)),e.params.watchOverflow&&e.enabled&&_t.classList[e.isLocked?"add":"remove"](pt.lockClass)})}function st(){const ut=e.params.pagination;if(et())return;const pt=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let vt=e.pagination.el;vt=makeElementsArray(vt);let ht="";if(ut.type==="bullets"){let yt=e.params.loop?Math.ceil(pt/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&yt>pt&&(yt=pt);for(let gt=0;gt<yt;gt+=1)ut.renderBullet?ht+=ut.renderBullet.call(e,gt,ut.bulletClass):ht+=`<${ut.bulletElement} ${e.isElement?'part="bullet"':""} class="${ut.bulletClass}"></${ut.bulletElement}>`}ut.type==="fraction"&&(ut.renderFraction?ht=ut.renderFraction.call(e,ut.currentClass,ut.totalClass):ht=`<span class="${ut.currentClass}"></span> / <span class="${ut.totalClass}"></span>`),ut.type==="progressbar"&&(ut.renderProgressbar?ht=ut.renderProgressbar.call(e,ut.progressbarFillClass):ht=`<span class="${ut.progressbarFillClass}"></span>`),e.pagination.bullets=[],vt.forEach(yt=>{ut.type!=="custom"&&(yt.innerHTML=ht||""),ut.type==="bullets"&&e.pagination.bullets.push(...yt.querySelectorAll(classesToSelector(ut.bulletClass)))}),ut.type!=="custom"&&g("paginationRender",vt[0])}function ot(){e.params.pagination=createElementIfNotDefined(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const ut=e.params.pagination;if(!ut.el)return;let pt;typeof ut.el=="string"&&e.isElement&&(pt=e.el.querySelector(ut.el)),!pt&&typeof ut.el=="string"&&(pt=[...document.querySelectorAll(ut.el)]),pt||(pt=ut.el),!(!pt||pt.length===0)&&(e.params.uniqueNavElements&&typeof ut.el=="string"&&Array.isArray(pt)&&pt.length>1&&(pt=[...e.el.querySelectorAll(ut.el)],pt.length>1&&(pt=pt.filter(vt=>elementParents(vt,".swiper")[0]===e.el)[0])),Array.isArray(pt)&&pt.length===1&&(pt=pt[0]),Object.assign(e.pagination,{el:pt}),pt=makeElementsArray(pt),pt.forEach(vt=>{ut.type==="bullets"&&ut.clickable&&vt.classList.add(...(ut.clickableClass||"").split(" ")),vt.classList.add(ut.modifierClass+ut.type),vt.classList.add(e.isHorizontal()?ut.horizontalClass:ut.verticalClass),ut.type==="bullets"&&ut.dynamicBullets&&(vt.classList.add(`${ut.modifierClass}${ut.type}-dynamic`),$=0,ut.dynamicMainBullets<1&&(ut.dynamicMainBullets=1)),ut.type==="progressbar"&&ut.progressbarOpposite&&vt.classList.add(ut.progressbarOppositeClass),ut.clickable&&vt.addEventListener("click",rt),e.enabled||vt.classList.add(ut.lockClass)}))}function lt(){const ut=e.params.pagination;if(et())return;let pt=e.pagination.el;pt&&(pt=makeElementsArray(pt),pt.forEach(vt=>{vt.classList.remove(ut.hiddenClass),vt.classList.remove(ut.modifierClass+ut.type),vt.classList.remove(e.isHorizontal()?ut.horizontalClass:ut.verticalClass),ut.clickable&&(vt.classList.remove(...(ut.clickableClass||"").split(" ")),vt.removeEventListener("click",rt))})),e.pagination.bullets&&e.pagination.bullets.forEach(vt=>vt.classList.remove(...ut.bulletActiveClass.split(" ")))}h("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const ut=e.params.pagination;let{el:pt}=e.pagination;pt=makeElementsArray(pt),pt.forEach(vt=>{vt.classList.remove(ut.horizontalClass,ut.verticalClass),vt.classList.add(e.isHorizontal()?ut.horizontalClass:ut.verticalClass)})}),h("init",()=>{e.params.pagination.enabled===!1?at():(ot(),st(),it())}),h("activeIndexChange",()=>{typeof e.snapIndex>"u"&&it()}),h("snapIndexChange",()=>{it()}),h("snapGridLengthChange",()=>{st(),it()}),h("destroy",()=>{lt()}),h("enable disable",()=>{let{el:ut}=e.pagination;ut&&(ut=makeElementsArray(ut),ut.forEach(pt=>pt.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),h("lock unlock",()=>{it()}),h("click",(ut,pt)=>{const vt=pt.target,ht=makeElementsArray(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&ht&&ht.length>0&&!vt.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&vt===e.navigation.nextEl||e.navigation.prevEl&&vt===e.navigation.prevEl))return;const yt=ht[0].classList.contains(e.params.pagination.hiddenClass);g(yt===!0?"paginationShow":"paginationHide"),ht.forEach(gt=>gt.classList.toggle(e.params.pagination.hiddenClass))}});const dt=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:ut}=e.pagination;ut&&(ut=makeElementsArray(ut),ut.forEach(pt=>pt.classList.remove(e.params.pagination.paginationDisabledClass))),ot(),st(),it()},at=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:ut}=e.pagination;ut&&(ut=makeElementsArray(ut),ut.forEach(pt=>pt.classList.add(e.params.pagination.paginationDisabledClass))),lt()};Object.assign(e.pagination,{enable:dt,disable:at,render:st,update:it,init:ot,destroy:lt})}const Asistencia=()=>{var st,ot;const[s,e]=reactExports.useState([]),[d,h]=reactExports.useState(null),[g,_]=reactExports.useState(!1);reactExports.useEffect(()=>{j()},[]);const j=async()=>{try{const dt=(await getDocs(collection(db,"Cursos"))).docs.map(at=>({id:at.id,...at.data()}));e($(dt))}catch(lt){console.error("Error al cargar los cursos:",lt)}},$=lt=>lt.map(dt=>({...dt,asesor:dt.asesor||"No disponible",asistencia:dt.asistencia||[],reportes:dt.reportes||[],imagenes:Array.isArray(dt.imagenes)?dt.imagenes:[]})),et=lt=>lt?lt.charAt(0).toUpperCase()+lt.slice(1).toLowerCase():"",tt=(lt,dt)=>{if(!lt||!dt)return"No disponible";const at=lt[dt]??"No disponible";return["nombres","apellidoP","apellidoM"].includes(dt)?et(at):at},nt=async lt=>{if(window.confirm("¿Estás seguro de que deseas eliminar este curso?"))try{await deleteDoc(doc(db,"Cursos",lt)),e(dt=>dt.filter(at=>at.id!==lt)),alert("Curso eliminado con éxito.")}catch(dt){console.error("Error al eliminar el curso:",dt),alert("Hubo un error al eliminar el curso.")}},rt=lt=>{h(lt),_(!0)},it=()=>{_(!1),h(null)};return jsxRuntimeExports.jsxs("div",{className:"asistencia-container",children:[jsxRuntimeExports.jsx("div",{className:"asistencia-grid",children:s.length===0?jsxRuntimeExports.jsx("p",{children:"No hay cursos disponibles."}):s.map(lt=>jsxRuntimeExports.jsxs("div",{className:"asistencia-card",children:[jsxRuntimeExports.jsx("h3",{children:tt(lt,"cursoNombre")}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Fecha de inicio:"})," ",tt(lt,"fechaInicio")]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Fecha de finalización:"})," ",tt(lt,"fechaFin")]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Asesor:"})," ",tt(lt,"asesor")]}),jsxRuntimeExports.jsxs("div",{className:"card-actions",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>rt(lt),className:"btn-ver",children:[jsxRuntimeExports.jsx("i",{className:"icon-eye"})," Ver"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>nt(lt.id),className:"btn-eliminar",children:[jsxRuntimeExports.jsx("i",{className:"icon-trash"})," Eliminar"]})]})]},lt.id))}),g&&d&&jsxRuntimeExports.jsx("div",{className:"modal-overlay",onClick:it,children:jsxRuntimeExports.jsxs("div",{className:"modal-content",onClick:lt=>lt.stopPropagation(),children:[jsxRuntimeExports.jsx("h3",{children:tt(d,"cursoNombre")}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Asesor:"})," ",tt(d,"asesor")]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Fecha de inicio:"})," ",tt(d,"fechaInicio")]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Fecha de finalización:"})," ",tt(d,"fechaFin")]}),jsxRuntimeExports.jsx("h4",{children:"Lista de Asistencia:"}),jsxRuntimeExports.jsx("div",{className:"table-scroll-container",children:((st=d.asistencia)==null?void 0:st.length)>0?jsxRuntimeExports.jsxs("table",{className:"asistencia-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Nombre"}),jsxRuntimeExports.jsx("th",{children:"Apellido Paterno"}),jsxRuntimeExports.jsx("th",{children:"Apellido Materno"})]})}),jsxRuntimeExports.jsx("tbody",{children:d.asistencia.map((lt,dt)=>lt.estudiantes.map((at,ut)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:et(at.nombres)}),jsxRuntimeExports.jsx("td",{children:et(at.apellidoP)}),jsxRuntimeExports.jsx("td",{children:et(at.apellidoM)})]},`estudiante-${dt}-${ut}`)))})]}):jsxRuntimeExports.jsx("p",{children:"No hay asistencias registradas."})}),jsxRuntimeExports.jsx("h4",{children:"Imágenes:"}),(ot=d.reportes)!=null&&ot.some(lt=>{var dt;return((dt=lt.imagenes)==null?void 0:dt.length)>0})?jsxRuntimeExports.jsx(Swiper,{modules:[Navigation,Pagination],navigation:!0,pagination:{clickable:!0},loop:!0,spaceBetween:10,slidesPerView:1,className:"image-carousel",children:d.reportes.flatMap((lt,dt)=>{var at;return(at=lt.imagenes)==null?void 0:at.map((ut,pt)=>jsxRuntimeExports.jsx(SwiperSlide,{children:jsxRuntimeExports.jsx("div",{className:"image-item",children:jsxRuntimeExports.jsx("img",{src:ut,alt:`Reporte ${dt+1} - Imagen ${pt+1}`,className:"carousel-image",onError:vt=>{vt.target.src="https://via.placeholder.com/150?text=No+disponible"}})})},`reporte-${dt}-image-${pt}`))})}):jsxRuntimeExports.jsx("p",{children:"No hay imágenes disponibles."}),jsxRuntimeExports.jsx("div",{className:"modal-actions",children:jsxRuntimeExports.jsx("button",{onClick:it,className:"btn-close",children:"Cerrar"})})]})})]})};function Asistencias(){const[s,e]=reactExports.useState([]),[d,h]=reactExports.useState(""),[g,_]=reactExports.useState(!1),[j,$]=reactExports.useState(null),[et,tt]=reactExports.useState({Nombres:"",ApellidoP:"",ApellidoM:"",Puesto:"",Correo:""}),nt=async()=>{try{const dt=collection(db,"Alumnos"),at=await getDocs(dt),ut=[];at.forEach(pt=>{const vt=pt.data();ut.push({id:pt.id,firstName:vt.Nombres,lastNameP:vt.ApellidoP,lastNameM:vt.ApellidoM,position:vt.Puesto,email:vt.Correo})}),e(ut)}catch(dt){console.error("Error al cargar los estudiantes:",dt)}};reactExports.useEffect(()=>{nt()},[]);const rt=dt=>{const{name:at,value:ut}=dt.target;tt({...et,[at]:ut})},it=async dt=>{dt.preventDefault();try{if(j){const at=doc(db,"Alumnos",j.id);await updateDoc(at,et),alert("Alumno actualizado exitosamente")}else await addDoc(collection(db,"Alumnos"),et),alert("Alumno agregado exitosamente");tt({Nombres:"",ApellidoP:"",ApellidoM:"",Puesto:"",Correo:""}),$(null),_(!1),nt()}catch(at){console.error("Error al guardar el alumno:",at),alert("Error al guardar el alumno")}},st=dt=>{$(dt),tt({Nombres:dt.firstName,ApellidoP:dt.lastNameP,ApellidoM:dt.lastNameM,Puesto:dt.position,Correo:dt.email}),_(!0)},ot=async dt=>{if(window.confirm("¿Estás seguro de que deseas eliminar este alumno?"))try{await deleteDoc(doc(db,"Alumnos",dt)),nt(),alert("Alumno eliminado exitosamente")}catch(at){console.error("Error al eliminar el alumno:",at),alert("Error al eliminar el alumno")}},lt=()=>{_(!1),$(null),tt({Nombres:"",ApellidoP:"",ApellidoM:"",Puesto:"",Correo:""})};return jsxRuntimeExports.jsxs("div",{className:"asistencias-container",children:[jsxRuntimeExports.jsxs("div",{className:"search-container",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Buscar alumno...",className:"search-input",value:d,onChange:dt=>h(dt.target.value)}),jsxRuntimeExports.jsx("button",{className:"search-button",children:"Buscar"}),jsxRuntimeExports.jsx("button",{className:"add-button",onClick:()=>_(!0),children:"Agregar Alumno"})]}),jsxRuntimeExports.jsx("div",{className:"lists-grid",children:s.filter(dt=>`${dt.firstName} ${dt.lastNameP}`.toLowerCase().includes(d.toLowerCase())).map(dt=>jsxRuntimeExports.jsxs("div",{className:"list-card",children:[jsxRuntimeExports.jsxs("h3",{children:[dt.firstName," ",dt.lastNameP," ",dt.lastNameM]}),jsxRuntimeExports.jsxs("p",{children:["Cargo: ",dt.position]}),jsxRuntimeExports.jsxs("p",{children:["Email: ",dt.email]}),jsxRuntimeExports.jsxs("div",{className:"list-actions",children:[jsxRuntimeExports.jsx("button",{onClick:()=>st(dt),children:"Editar"}),jsxRuntimeExports.jsx("button",{onClick:()=>ot(dt.id),children:"Eliminar"})]})]},dt.id))}),g&&jsxRuntimeExports.jsx("div",{className:"modal-overlay",children:jsxRuntimeExports.jsxs("div",{className:"modal-container",children:[jsxRuntimeExports.jsx("h2",{children:j?"Editar Alumno":"Agregar Alumno"}),jsxRuntimeExports.jsxs("form",{onSubmit:it,children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"Nombres",children:"Nombres"}),jsxRuntimeExports.jsx("input",{type:"text",id:"Nombres",name:"Nombres",value:et.Nombres,onChange:rt,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"ApellidoP",children:"Apellido Paterno"}),jsxRuntimeExports.jsx("input",{type:"text",id:"ApellidoP",name:"ApellidoP",value:et.ApellidoP,onChange:rt,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"ApellidoM",children:"Apellido Materno"}),jsxRuntimeExports.jsx("input",{type:"text",id:"ApellidoM",name:"ApellidoM",value:et.ApellidoM,onChange:rt})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"Puesto",children:"Cargo"}),jsxRuntimeExports.jsxs("select",{id:"Puesto",name:"Puesto",value:et.Puesto,onChange:rt,required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"Selecciona un cargo"}),jsxRuntimeExports.jsx("option",{value:"Recursos Humanos",children:"Recursos Humanos"}),jsxRuntimeExports.jsx("option",{value:"Administracion",children:"Administración"}),jsxRuntimeExports.jsx("option",{value:"Sistemas",children:"Sistemas"}),jsxRuntimeExports.jsx("option",{value:"Civil",children:"Civil"}),jsxRuntimeExports.jsx("option",{value:"Industrial",children:"Industrial"}),jsxRuntimeExports.jsx("option",{value:"Otro",children:"Otro"})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"Correo",children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",id:"Correo",name:"Correo",value:et.Correo,onChange:rt,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"button-container",children:[jsxRuntimeExports.jsx("button",{type:"submit",className:"submit-button",children:j?"Actualizar Alumno":"Agregar Alumno"}),jsxRuntimeExports.jsx("button",{type:"button",className:"cancel-button",onClick:lt,children:"Cancelar"})]})]})]})})]})}var FileSaver_min={exports:{}};(function(s,e){(function(d,h){h()})(commonjsGlobal$2,function(){function d(tt,nt){return typeof nt>"u"?nt={autoBom:!1}:typeof nt!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),nt={autoBom:!nt}),nt.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(tt.type)?new Blob(["\uFEFF",tt],{type:tt.type}):tt}function h(tt,nt,rt){var it=new XMLHttpRequest;it.open("GET",tt),it.responseType="blob",it.onload=function(){et(it.response,nt,rt)},it.onerror=function(){console.error("could not download file")},it.send()}function g(tt){var nt=new XMLHttpRequest;nt.open("HEAD",tt,!1);try{nt.send()}catch{}return 200<=nt.status&&299>=nt.status}function _(tt){try{tt.dispatchEvent(new MouseEvent("click"))}catch{var nt=document.createEvent("MouseEvents");nt.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),tt.dispatchEvent(nt)}}var j=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal$2=="object"&&commonjsGlobal$2.global===commonjsGlobal$2?commonjsGlobal$2:void 0,$=j.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),et=j.saveAs||(typeof window!="object"||window!==j?function(){}:"download"in HTMLAnchorElement.prototype&&!$?function(tt,nt,rt){var it=j.URL||j.webkitURL,st=document.createElement("a");nt=nt||tt.name||"download",st.download=nt,st.rel="noopener",typeof tt=="string"?(st.href=tt,st.origin===location.origin?_(st):g(st.href)?h(tt,nt,rt):_(st,st.target="_blank")):(st.href=it.createObjectURL(tt),setTimeout(function(){it.revokeObjectURL(st.href)},4e4),setTimeout(function(){_(st)},0))}:"msSaveOrOpenBlob"in navigator?function(tt,nt,rt){if(nt=nt||tt.name||"download",typeof tt!="string")navigator.msSaveOrOpenBlob(d(tt,rt),nt);else if(g(tt))h(tt,nt,rt);else{var it=document.createElement("a");it.href=tt,it.target="_blank",setTimeout(function(){_(it)})}}:function(tt,nt,rt,it){if(it=it||open("","_blank"),it&&(it.document.title=it.document.body.innerText="downloading..."),typeof tt=="string")return h(tt,nt,rt);var st=tt.type==="application/octet-stream",ot=/constructor/i.test(j.HTMLElement)||j.safari,lt=/CriOS\/[\d]+/.test(navigator.userAgent);if((lt||st&&ot||$)&&typeof FileReader<"u"){var dt=new FileReader;dt.onloadend=function(){var pt=dt.result;pt=lt?pt:pt.replace(/^data:[^;]*;/,"data:attachment/file;"),it?it.location.href=pt:location=pt,it=null},dt.readAsDataURL(tt)}else{var at=j.URL||j.webkitURL,ut=at.createObjectURL(tt);it?it.location=ut:location.href=ut,it=null,setTimeout(function(){at.revokeObjectURL(ut)},4e4)}});j.saveAs=et.saveAs=et,s.exports=et})})(FileSaver_min);var FileSaver_minExports=FileSaver_min.exports;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(s,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var g in h)h.hasOwnProperty(g)&&(d[g]=h[g])},extendStatics(s,e)};function __extends(s,e){extendStatics(s,e);function d(){this.constructor=s}s.prototype=e===null?Object.create(e):(d.prototype=e.prototype,new d)}var __assign=function(){return __assign=Object.assign||function(e){for(var d,h=1,g=arguments.length;h<g;h++){d=arguments[h];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(e[_]=d[_])}return e},__assign.apply(this,arguments)};function __rest(s,e){var d={};for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&e.indexOf(h)<0&&(d[h]=s[h]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,h=Object.getOwnPropertySymbols(s);g<h.length;g++)e.indexOf(h[g])<0&&Object.prototype.propertyIsEnumerable.call(s,h[g])&&(d[h[g]]=s[h[g]]);return d}function __awaiter(s,e,d,h){function g(_){return _ instanceof d?_:new d(function(j){j(_)})}return new(d||(d=Promise))(function(_,j){function $(nt){try{tt(h.next(nt))}catch(rt){j(rt)}}function et(nt){try{tt(h.throw(nt))}catch(rt){j(rt)}}function tt(nt){nt.done?_(nt.value):g(nt.value).then($,et)}tt((h=h.apply(s,[])).next())})}function __generator(s,e){var d={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},h,g,_,j;return j={next:$(0),throw:$(1),return:$(2)},typeof Symbol=="function"&&(j[Symbol.iterator]=function(){return this}),j;function $(tt){return function(nt){return et([tt,nt])}}function et(tt){if(h)throw new TypeError("Generator is already executing.");for(;d;)try{if(h=1,g&&(_=tt[0]&2?g.return:tt[0]?g.throw||((_=g.return)&&_.call(g),0):g.next)&&!(_=_.call(g,tt[1])).done)return _;switch(g=0,_&&(tt=[tt[0]&2,_.value]),tt[0]){case 0:case 1:_=tt;break;case 4:return d.label++,{value:tt[1],done:!1};case 5:d.label++,g=tt[1],tt=[0];continue;case 7:tt=d.ops.pop(),d.trys.pop();continue;default:if(_=d.trys,!(_=_.length>0&&_[_.length-1])&&(tt[0]===6||tt[0]===2)){d=0;continue}if(tt[0]===3&&(!_||tt[1]>_[0]&&tt[1]<_[3])){d.label=tt[1];break}if(tt[0]===6&&d.label<_[1]){d.label=_[1],_=tt;break}if(_&&d.label<_[2]){d.label=_[2],d.ops.push(tt);break}_[2]&&d.ops.pop(),d.trys.pop();continue}tt=e.call(s,d)}catch(nt){tt=[6,nt],g=0}finally{h=_=0}if(tt[0]&5)throw tt[1];return{value:tt[0]?tt[1]:void 0,done:!0}}}function __spreadArrays(){for(var s=0,e=0,d=arguments.length;e<d;e++)s+=arguments[e].length;for(var h=Array(s),g=0,e=0;e<d;e++)for(var _=arguments[e],j=0,$=_.length;j<$;j++,g++)h[g]=_[j];return h}var chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=new Uint8Array(256);for(var i$1=0;i$1<chars$1.length;i$1++)lookup$1[chars$1.charCodeAt(i$1)]=i$1;var encodeToBase64=function(s){for(var e="",d=s.length,h=0;h<d;h+=3)e+=chars$1[s[h]>>2],e+=chars$1[(s[h]&3)<<4|s[h+1]>>4],e+=chars$1[(s[h+1]&15)<<2|s[h+2]>>6],e+=chars$1[s[h+2]&63];return d%3===2?e=e.substring(0,e.length-1)+"=":d%3===1&&(e=e.substring(0,e.length-2)+"=="),e},decodeFromBase64$1=function(s){var e=s.length*.75,d=s.length,h,g=0,_,j,$,et;s[s.length-1]==="="&&(e--,s[s.length-2]==="="&&e--);var tt=new Uint8Array(e);for(h=0;h<d;h+=4)_=lookup$1[s.charCodeAt(h)],j=lookup$1[s.charCodeAt(h+1)],$=lookup$1[s.charCodeAt(h+2)],et=lookup$1[s.charCodeAt(h+3)],tt[g++]=_<<2|j>>4,tt[g++]=(j&15)<<4|$>>2,tt[g++]=($&3)<<6|et&63;return tt},DATA_URI_PREFIX_REGEX=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,decodeFromBase64DataUri=function(s){var e=s.trim(),d=e.substring(0,100),h=d.match(DATA_URI_PREFIX_REGEX);if(!h)return decodeFromBase64$1(e);var g=h[0],_=e.substring(g.length);return decodeFromBase64$1(_)},toCharCode=function(s){return s.charCodeAt(0)},toCodePoint=function(s){return s.codePointAt(0)},toHexStringOfMinLength=function(s,e){return padStart$1(s.toString(16),e,"0").toUpperCase()},toHexString=function(s){return toHexStringOfMinLength(s,2)},charFromCode=function(s){return String.fromCharCode(s)},charFromHexCode=function(s){return charFromCode(parseInt(s,16))},padStart$1=function(s,e,d){for(var h="",g=0,_=e-s.length;g<_;g++)h+=d;return h+s},copyStringIntoBuffer=function(s,e,d){for(var h=s.length,g=0;g<h;g++)e[d++]=s.charCodeAt(g);return h},escapeRegExp=function(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},cleanText=function(s){return s.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},escapedNewlineChars=["\\n","\\f","\\r","\\u000B"],isNewlineChar=function(s){return/^[\n\f\r\u000B]$/.test(s)},lineSplit=function(s){return s.split(/[\n\f\r\u000B]/)},mergeLines=function(s){return s.replace(/[\n\f\r\u000B]/g," ")},charAtIndex=function(s,e){var d=s.charCodeAt(e),h,g=e+1,_=1;return d>=55296&&d<=56319&&s.length>g&&(h=s.charCodeAt(g),h>=56320&&h<=57343&&(_=2)),[s.slice(e,e+_),_]},charSplit=function(s){for(var e=[],d=0,h=s.length;d<h;){var g=charAtIndex(s,d),_=g[0],j=g[1];e.push(_),d+=j}return e},buildWordBreakRegex=function(s){for(var e=escapedNewlineChars.join("|"),d=["$"],h=0,g=s.length;h<g;h++){var _=s[h];if(isNewlineChar(_))throw new TypeError("`wordBreak` must not include "+e);d.push(_===""?".":escapeRegExp(_))}var j=d.join("|");return new RegExp("("+e+")|((.*?)("+j+"))","gm")},breakTextIntoLines=function(s,e,d,h){for(var g=buildWordBreakRegex(e),_=cleanText(s).match(g),j="",$=0,et=[],tt=function(){j!==""&&et.push(j),j="",$=0},nt=0,rt=_.length;nt<rt;nt++){var it=_[nt];if(isNewlineChar(it))tt();else{var st=h(it);$+st>d&&tt(),j+=it,$+=st}}return tt(),et},dateRegex=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,parseDate=function(s){var e=s.match(dateRegex);if(e){var d=e[1],h=e[2],g=h===void 0?"01":h,_=e[3],j=_===void 0?"01":_,$=e[4],et=$===void 0?"00":$,tt=e[5],nt=tt===void 0?"00":tt,rt=e[6],it=rt===void 0?"00":rt,st=e[7],ot=st===void 0?"Z":st,lt=e[8],dt=lt===void 0?"00":lt,at=e[9],ut=at===void 0?"00":at,pt=ot==="Z"?"Z":""+ot+dt+":"+ut,vt=new Date(d+"-"+g+"-"+j+"T"+et+":"+nt+":"+it+pt);return vt}},findLastMatch=function(s,e){for(var d,h=0,g;h<s.length;){var _=s.substring(h).match(e);if(!_)return{match:g,pos:h};g=_,h+=((d=_.index)!==null&&d!==void 0?d:0)+_[0].length}return{match:g,pos:h}},last=function(s){return s[s.length-1]},typedArrayFor=function(s){if(s instanceof Uint8Array)return s;for(var e=s.length,d=new Uint8Array(e),h=0;h<e;h++)d[h]=s.charCodeAt(h);return d},mergeIntoTypedArray=function(){for(var s=[],e=0;e<arguments.length;e++)s[e]=arguments[e];for(var d=s.length,h=[],g=0;g<d;g++){var _=s[g];h[g]=_ instanceof Uint8Array?_:typedArrayFor(_)}for(var j=0,g=0;g<d;g++)j+=s[g].length;for(var $=new Uint8Array(j),et=0,tt=0;tt<d;tt++)for(var nt=h[tt],rt=0,it=nt.length;rt<it;rt++)$[et++]=nt[rt];return $},mergeUint8Arrays=function(s){for(var e=0,d=0,h=s.length;d<h;d++)e+=s[d].length;for(var g=new Uint8Array(e),_=0,d=0,h=s.length;d<h;d++){var j=s[d];g.set(j,_),_+=j.length}return g},arrayAsString=function(s){for(var e="",d=0,h=s.length;d<h;d++)e+=charFromCode(s[d]);return e},byAscendingId=function(s,e){return s.id-e.id},sortedUniq=function(s,e){for(var d=[],h=0,g=s.length;h<g;h++){var _=s[h],j=s[h-1];(h===0||e(_)!==e(j))&&d.push(_)}return d},reverseArray=function(s){for(var e=s.length,d=0,h=Math.floor(e/2);d<h;d++){var g=d,_=e-d-1,j=s[d];s[g]=s[_],s[_]=j}return s},sum=function(s){for(var e=0,d=0,h=s.length;d<h;d++)e+=s[d];return e},range=function(s,e){for(var d=new Array(e-s),h=0,g=d.length;h<g;h++)d[h]=s+h;return d},pluckIndices=function(s,e){for(var d=new Array(e.length),h=0,g=e.length;h<g;h++)d[h]=s[e[h]];return d},canBeConvertedToUint8Array=function(s){return s instanceof Uint8Array||s instanceof ArrayBuffer||typeof s=="string"},toUint8Array=function(s){if(typeof s=="string")return decodeFromBase64DataUri(s);if(s instanceof ArrayBuffer)return new Uint8Array(s);if(s instanceof Uint8Array)return s;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},waitForTick=function(){return new Promise(function(s){setTimeout(function(){return s()},0)})},utf16Encode=function(s,e){e===void 0&&(e=!0);var d=[];e&&d.push(65279);for(var h=0,g=s.length;h<g;){var _=s.codePointAt(h);if(_<65536)d.push(_),h+=1;else if(_<1114112)d.push(highSurrogate(_),lowSurrogate(_)),h+=2;else throw new Error("Invalid code point: 0x"+toHexString(_))}return new Uint16Array(d)},isWithinBMP=function(s){return s>=0&&s<=65535},hasSurrogates=function(s){return s>=65536&&s<=1114111},highSurrogate=function(s){return Math.floor((s-65536)/1024)+55296},lowSurrogate=function(s){return(s-65536)%1024+56320},ByteOrder;(function(s){s.BigEndian="BigEndian",s.LittleEndian="LittleEndian"})(ByteOrder||(ByteOrder={}));var REPLACEMENT="�".codePointAt(0),utf16Decode=function(s,e){if(e===void 0&&(e=!0),s.length<=1)return String.fromCodePoint(REPLACEMENT);for(var d=e?readBOM(s):ByteOrder.BigEndian,h=e?2:0,g=[];s.length-h>=2;){var _=decodeValues(s[h++],s[h++],d);if(isHighSurrogate(_))if(s.length-h<2)g.push(REPLACEMENT);else{var j=decodeValues(s[h++],s[h++],d);isLowSurrogate(j)?g.push(_,j):g.push(REPLACEMENT)}else isLowSurrogate(_)?(h+=2,g.push(REPLACEMENT)):g.push(_)}return h<s.length&&g.push(REPLACEMENT),String.fromCodePoint.apply(String,g)},isHighSurrogate=function(s){return s>=55296&&s<=56319},isLowSurrogate=function(s){return s>=56320&&s<=57343},decodeValues=function(s,e,d){if(d===ByteOrder.LittleEndian)return e<<8|s;if(d===ByteOrder.BigEndian)return s<<8|e;throw new Error("Invalid byteOrder: "+d)},readBOM=function(s){return hasUtf16BigEndianBOM(s)?ByteOrder.BigEndian:hasUtf16LittleEndianBOM(s)?ByteOrder.LittleEndian:ByteOrder.BigEndian},hasUtf16BigEndianBOM=function(s){return s[0]===254&&s[1]===255},hasUtf16LittleEndianBOM=function(s){return s[0]===255&&s[1]===254},hasUtf16BOM=function(s){return hasUtf16BigEndianBOM(s)||hasUtf16LittleEndianBOM(s)},numberToString=function(s){var e=String(s);if(Math.abs(s)<1){var d=parseInt(s.toString().split("e-")[1]);if(d){var h=s<0;h&&(s*=-1),s*=Math.pow(10,d-1),e="0."+new Array(d).join("0")+s.toString().substring(2),h&&(e="-"+e)}}else{var d=parseInt(s.toString().split("+")[1]);d>20&&(d-=20,s/=Math.pow(10,d),e=s.toString()+new Array(d+1).join("0"))}return e},sizeInBytes=function(s){return Math.ceil(s.toString(2).length/8)},bytesFor=function(s){for(var e=new Uint8Array(sizeInBytes(s)),d=1;d<=e.length;d++)e[d-1]=s>>(e.length-d)*8;return e},error=function(s){throw new Error(s)},common$2={};(function(s){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function d(_,j){return Object.prototype.hasOwnProperty.call(_,j)}s.assign=function(_){for(var j=Array.prototype.slice.call(arguments,1);j.length;){var $=j.shift();if($){if(typeof $!="object")throw new TypeError($+"must be non-object");for(var et in $)d($,et)&&(_[et]=$[et])}}return _},s.shrinkBuf=function(_,j){return _.length===j?_:_.subarray?_.subarray(0,j):(_.length=j,_)};var h={arraySet:function(_,j,$,et,tt){if(j.subarray&&_.subarray){_.set(j.subarray($,$+et),tt);return}for(var nt=0;nt<et;nt++)_[tt+nt]=j[$+nt]},flattenChunks:function(_){var j,$,et,tt,nt,rt;for(et=0,j=0,$=_.length;j<$;j++)et+=_[j].length;for(rt=new Uint8Array(et),tt=0,j=0,$=_.length;j<$;j++)nt=_[j],rt.set(nt,tt),tt+=nt.length;return rt}},g={arraySet:function(_,j,$,et,tt){for(var nt=0;nt<et;nt++)_[tt+nt]=j[$+nt]},flattenChunks:function(_){return[].concat.apply([],_)}};s.setTyped=function(_){_?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,h)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,g))},s.setTyped(e)})(common$2);var deflate$e={},deflate$d={},trees$5={},utils$k=common$2,Z_FIXED$5=4,Z_BINARY$2=0,Z_TEXT$2=1,Z_UNKNOWN$5=2;function zero$5(s){for(var e=s.length;--e>=0;)s[e]=0}var STORED_BLOCK$2=0,STATIC_TREES$2=1,DYN_TREES$2=2,MIN_MATCH$5=3,MAX_MATCH$5=258,LENGTH_CODES$5=29,LITERALS$5=256,L_CODES$5=LITERALS$5+1+LENGTH_CODES$5,D_CODES$5=30,BL_CODES$5=19,HEAP_SIZE$5=2*L_CODES$5+1,MAX_BITS$5=15,Buf_size$2=16,MAX_BL_BITS$2=7,END_BLOCK$2=256,REP_3_6$2=16,REPZ_3_10$2=17,REPZ_11_138$2=18,extra_lbits$2=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits$2=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits$2=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order$2=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN$2=512,static_ltree$2=new Array((L_CODES$5+2)*2);zero$5(static_ltree$2);var static_dtree$2=new Array(D_CODES$5*2);zero$5(static_dtree$2);var _dist_code$2=new Array(DIST_CODE_LEN$2);zero$5(_dist_code$2);var _length_code$2=new Array(MAX_MATCH$5-MIN_MATCH$5+1);zero$5(_length_code$2);var base_length$2=new Array(LENGTH_CODES$5);zero$5(base_length$2);var base_dist$2=new Array(D_CODES$5);zero$5(base_dist$2);function StaticTreeDesc$2(s,e,d,h,g){this.static_tree=s,this.extra_bits=e,this.extra_base=d,this.elems=h,this.max_length=g,this.has_stree=s&&s.length}var static_l_desc$2,static_d_desc$2,static_bl_desc$2;function TreeDesc$2(s,e){this.dyn_tree=s,this.max_code=0,this.stat_desc=e}function d_code$2(s){return s<256?_dist_code$2[s]:_dist_code$2[256+(s>>>7)]}function put_short$2(s,e){s.pending_buf[s.pending++]=e&255,s.pending_buf[s.pending++]=e>>>8&255}function send_bits$2(s,e,d){s.bi_valid>Buf_size$2-d?(s.bi_buf|=e<<s.bi_valid&65535,put_short$2(s,s.bi_buf),s.bi_buf=e>>Buf_size$2-s.bi_valid,s.bi_valid+=d-Buf_size$2):(s.bi_buf|=e<<s.bi_valid&65535,s.bi_valid+=d)}function send_code$2(s,e,d){send_bits$2(s,d[e*2],d[e*2+1])}function bi_reverse$2(s,e){var d=0;do d|=s&1,s>>>=1,d<<=1;while(--e>0);return d>>>1}function bi_flush$2(s){s.bi_valid===16?(put_short$2(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):s.bi_valid>=8&&(s.pending_buf[s.pending++]=s.bi_buf&255,s.bi_buf>>=8,s.bi_valid-=8)}function gen_bitlen$2(s,e){var d=e.dyn_tree,h=e.max_code,g=e.stat_desc.static_tree,_=e.stat_desc.has_stree,j=e.stat_desc.extra_bits,$=e.stat_desc.extra_base,et=e.stat_desc.max_length,tt,nt,rt,it,st,ot,lt=0;for(it=0;it<=MAX_BITS$5;it++)s.bl_count[it]=0;for(d[s.heap[s.heap_max]*2+1]=0,tt=s.heap_max+1;tt<HEAP_SIZE$5;tt++)nt=s.heap[tt],it=d[d[nt*2+1]*2+1]+1,it>et&&(it=et,lt++),d[nt*2+1]=it,!(nt>h)&&(s.bl_count[it]++,st=0,nt>=$&&(st=j[nt-$]),ot=d[nt*2],s.opt_len+=ot*(it+st),_&&(s.static_len+=ot*(g[nt*2+1]+st)));if(lt!==0){do{for(it=et-1;s.bl_count[it]===0;)it--;s.bl_count[it]--,s.bl_count[it+1]+=2,s.bl_count[et]--,lt-=2}while(lt>0);for(it=et;it!==0;it--)for(nt=s.bl_count[it];nt!==0;)rt=s.heap[--tt],!(rt>h)&&(d[rt*2+1]!==it&&(s.opt_len+=(it-d[rt*2+1])*d[rt*2],d[rt*2+1]=it),nt--)}}function gen_codes$2(s,e,d){var h=new Array(MAX_BITS$5+1),g=0,_,j;for(_=1;_<=MAX_BITS$5;_++)h[_]=g=g+d[_-1]<<1;for(j=0;j<=e;j++){var $=s[j*2+1];$!==0&&(s[j*2]=bi_reverse$2(h[$]++,$))}}function tr_static_init$2(){var s,e,d,h,g,_=new Array(MAX_BITS$5+1);for(d=0,h=0;h<LENGTH_CODES$5-1;h++)for(base_length$2[h]=d,s=0;s<1<<extra_lbits$2[h];s++)_length_code$2[d++]=h;for(_length_code$2[d-1]=h,g=0,h=0;h<16;h++)for(base_dist$2[h]=g,s=0;s<1<<extra_dbits$2[h];s++)_dist_code$2[g++]=h;for(g>>=7;h<D_CODES$5;h++)for(base_dist$2[h]=g<<7,s=0;s<1<<extra_dbits$2[h]-7;s++)_dist_code$2[256+g++]=h;for(e=0;e<=MAX_BITS$5;e++)_[e]=0;for(s=0;s<=143;)static_ltree$2[s*2+1]=8,s++,_[8]++;for(;s<=255;)static_ltree$2[s*2+1]=9,s++,_[9]++;for(;s<=279;)static_ltree$2[s*2+1]=7,s++,_[7]++;for(;s<=287;)static_ltree$2[s*2+1]=8,s++,_[8]++;for(gen_codes$2(static_ltree$2,L_CODES$5+1,_),s=0;s<D_CODES$5;s++)static_dtree$2[s*2+1]=5,static_dtree$2[s*2]=bi_reverse$2(s,5);static_l_desc$2=new StaticTreeDesc$2(static_ltree$2,extra_lbits$2,LITERALS$5+1,L_CODES$5,MAX_BITS$5),static_d_desc$2=new StaticTreeDesc$2(static_dtree$2,extra_dbits$2,0,D_CODES$5,MAX_BITS$5),static_bl_desc$2=new StaticTreeDesc$2(new Array(0),extra_blbits$2,0,BL_CODES$5,MAX_BL_BITS$2)}function init_block$2(s){var e;for(e=0;e<L_CODES$5;e++)s.dyn_ltree[e*2]=0;for(e=0;e<D_CODES$5;e++)s.dyn_dtree[e*2]=0;for(e=0;e<BL_CODES$5;e++)s.bl_tree[e*2]=0;s.dyn_ltree[END_BLOCK$2*2]=1,s.opt_len=s.static_len=0,s.last_lit=s.matches=0}function bi_windup$2(s){s.bi_valid>8?put_short$2(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0}function copy_block$2(s,e,d,h){bi_windup$2(s),put_short$2(s,d),put_short$2(s,~d),utils$k.arraySet(s.pending_buf,s.window,e,d,s.pending),s.pending+=d}function smaller$2(s,e,d,h){var g=e*2,_=d*2;return s[g]<s[_]||s[g]===s[_]&&h[e]<=h[d]}function pqdownheap$2(s,e,d){for(var h=s.heap[d],g=d<<1;g<=s.heap_len&&(g<s.heap_len&&smaller$2(e,s.heap[g+1],s.heap[g],s.depth)&&g++,!smaller$2(e,h,s.heap[g],s.depth));)s.heap[d]=s.heap[g],d=g,g<<=1;s.heap[d]=h}function compress_block$2(s,e,d){var h,g,_=0,j,$;if(s.last_lit!==0)do h=s.pending_buf[s.d_buf+_*2]<<8|s.pending_buf[s.d_buf+_*2+1],g=s.pending_buf[s.l_buf+_],_++,h===0?send_code$2(s,g,e):(j=_length_code$2[g],send_code$2(s,j+LITERALS$5+1,e),$=extra_lbits$2[j],$!==0&&(g-=base_length$2[j],send_bits$2(s,g,$)),h--,j=d_code$2(h),send_code$2(s,j,d),$=extra_dbits$2[j],$!==0&&(h-=base_dist$2[j],send_bits$2(s,h,$)));while(_<s.last_lit);send_code$2(s,END_BLOCK$2,e)}function build_tree$2(s,e){var d=e.dyn_tree,h=e.stat_desc.static_tree,g=e.stat_desc.has_stree,_=e.stat_desc.elems,j,$,et=-1,tt;for(s.heap_len=0,s.heap_max=HEAP_SIZE$5,j=0;j<_;j++)d[j*2]!==0?(s.heap[++s.heap_len]=et=j,s.depth[j]=0):d[j*2+1]=0;for(;s.heap_len<2;)tt=s.heap[++s.heap_len]=et<2?++et:0,d[tt*2]=1,s.depth[tt]=0,s.opt_len--,g&&(s.static_len-=h[tt*2+1]);for(e.max_code=et,j=s.heap_len>>1;j>=1;j--)pqdownheap$2(s,d,j);tt=_;do j=s.heap[1],s.heap[1]=s.heap[s.heap_len--],pqdownheap$2(s,d,1),$=s.heap[1],s.heap[--s.heap_max]=j,s.heap[--s.heap_max]=$,d[tt*2]=d[j*2]+d[$*2],s.depth[tt]=(s.depth[j]>=s.depth[$]?s.depth[j]:s.depth[$])+1,d[j*2+1]=d[$*2+1]=tt,s.heap[1]=tt++,pqdownheap$2(s,d,1);while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],gen_bitlen$2(s,e),gen_codes$2(d,et,s.bl_count)}function scan_tree$2(s,e,d){var h,g=-1,_,j=e[0*2+1],$=0,et=7,tt=4;for(j===0&&(et=138,tt=3),e[(d+1)*2+1]=65535,h=0;h<=d;h++)_=j,j=e[(h+1)*2+1],!(++$<et&&_===j)&&($<tt?s.bl_tree[_*2]+=$:_!==0?(_!==g&&s.bl_tree[_*2]++,s.bl_tree[REP_3_6$2*2]++):$<=10?s.bl_tree[REPZ_3_10$2*2]++:s.bl_tree[REPZ_11_138$2*2]++,$=0,g=_,j===0?(et=138,tt=3):_===j?(et=6,tt=3):(et=7,tt=4))}function send_tree$2(s,e,d){var h,g=-1,_,j=e[0*2+1],$=0,et=7,tt=4;for(j===0&&(et=138,tt=3),h=0;h<=d;h++)if(_=j,j=e[(h+1)*2+1],!(++$<et&&_===j)){if($<tt)do send_code$2(s,_,s.bl_tree);while(--$!==0);else _!==0?(_!==g&&(send_code$2(s,_,s.bl_tree),$--),send_code$2(s,REP_3_6$2,s.bl_tree),send_bits$2(s,$-3,2)):$<=10?(send_code$2(s,REPZ_3_10$2,s.bl_tree),send_bits$2(s,$-3,3)):(send_code$2(s,REPZ_11_138$2,s.bl_tree),send_bits$2(s,$-11,7));$=0,g=_,j===0?(et=138,tt=3):_===j?(et=6,tt=3):(et=7,tt=4)}}function build_bl_tree$2(s){var e;for(scan_tree$2(s,s.dyn_ltree,s.l_desc.max_code),scan_tree$2(s,s.dyn_dtree,s.d_desc.max_code),build_tree$2(s,s.bl_desc),e=BL_CODES$5-1;e>=3&&s.bl_tree[bl_order$2[e]*2+1]===0;e--);return s.opt_len+=3*(e+1)+5+5+4,e}function send_all_trees$2(s,e,d,h){var g;for(send_bits$2(s,e-257,5),send_bits$2(s,d-1,5),send_bits$2(s,h-4,4),g=0;g<h;g++)send_bits$2(s,s.bl_tree[bl_order$2[g]*2+1],3);send_tree$2(s,s.dyn_ltree,e-1),send_tree$2(s,s.dyn_dtree,d-1)}function detect_data_type$2(s){var e=4093624447,d;for(d=0;d<=31;d++,e>>>=1)if(e&1&&s.dyn_ltree[d*2]!==0)return Z_BINARY$2;if(s.dyn_ltree[9*2]!==0||s.dyn_ltree[10*2]!==0||s.dyn_ltree[13*2]!==0)return Z_TEXT$2;for(d=32;d<LITERALS$5;d++)if(s.dyn_ltree[d*2]!==0)return Z_TEXT$2;return Z_BINARY$2}var static_init_done$2=!1;function _tr_init$2(s){static_init_done$2||(tr_static_init$2(),static_init_done$2=!0),s.l_desc=new TreeDesc$2(s.dyn_ltree,static_l_desc$2),s.d_desc=new TreeDesc$2(s.dyn_dtree,static_d_desc$2),s.bl_desc=new TreeDesc$2(s.bl_tree,static_bl_desc$2),s.bi_buf=0,s.bi_valid=0,init_block$2(s)}function _tr_stored_block$2(s,e,d,h){send_bits$2(s,(STORED_BLOCK$2<<1)+(h?1:0),3),copy_block$2(s,e,d)}function _tr_align$2(s){send_bits$2(s,STATIC_TREES$2<<1,3),send_code$2(s,END_BLOCK$2,static_ltree$2),bi_flush$2(s)}function _tr_flush_block$2(s,e,d,h){var g,_,j=0;s.level>0?(s.strm.data_type===Z_UNKNOWN$5&&(s.strm.data_type=detect_data_type$2(s)),build_tree$2(s,s.l_desc),build_tree$2(s,s.d_desc),j=build_bl_tree$2(s),g=s.opt_len+3+7>>>3,_=s.static_len+3+7>>>3,_<=g&&(g=_)):g=_=d+5,d+4<=g&&e!==-1?_tr_stored_block$2(s,e,d,h):s.strategy===Z_FIXED$5||_===g?(send_bits$2(s,(STATIC_TREES$2<<1)+(h?1:0),3),compress_block$2(s,static_ltree$2,static_dtree$2)):(send_bits$2(s,(DYN_TREES$2<<1)+(h?1:0),3),send_all_trees$2(s,s.l_desc.max_code+1,s.d_desc.max_code+1,j+1),compress_block$2(s,s.dyn_ltree,s.dyn_dtree)),init_block$2(s),h&&bi_windup$2(s)}function _tr_tally$2(s,e,d){return s.pending_buf[s.d_buf+s.last_lit*2]=e>>>8&255,s.pending_buf[s.d_buf+s.last_lit*2+1]=e&255,s.pending_buf[s.l_buf+s.last_lit]=d&255,s.last_lit++,e===0?s.dyn_ltree[d*2]++:(s.matches++,e--,s.dyn_ltree[(_length_code$2[d]+LITERALS$5+1)*2]++,s.dyn_dtree[d_code$2(e)*2]++),s.last_lit===s.lit_bufsize-1}trees$5._tr_init=_tr_init$2;trees$5._tr_stored_block=_tr_stored_block$2;trees$5._tr_flush_block=_tr_flush_block$2;trees$5._tr_tally=_tr_tally$2;trees$5._tr_align=_tr_align$2;function adler32$8(s,e,d,h){for(var g=s&65535|0,_=s>>>16&65535|0,j=0;d!==0;){j=d>2e3?2e3:d,d-=j;do g=g+e[h++]|0,_=_+g|0;while(--j);g%=65521,_%=65521}return g|_<<16|0}var adler32_1$2=adler32$8;function makeTable$2(){for(var s,e=[],d=0;d<256;d++){s=d;for(var h=0;h<8;h++)s=s&1?3988292384^s>>>1:s>>>1;e[d]=s}return e}var crcTable$2=makeTable$2();function crc32$8(s,e,d,h){var g=crcTable$2,_=h+d;s^=-1;for(var j=h;j<_;j++)s=s>>>8^g[(s^e[j])&255];return s^-1}var crc32_1$2=crc32$8,messages$2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},utils$j=common$2,trees$4=trees$5,adler32$7=adler32_1$2,crc32$7=crc32_1$2,msg$8=messages$2,Z_NO_FLUSH$5=0,Z_PARTIAL_FLUSH$2=1,Z_FULL_FLUSH$2=3,Z_FINISH$8=4,Z_BLOCK$5=5,Z_OK$8=0,Z_STREAM_END$8=1,Z_STREAM_ERROR$5=-2,Z_DATA_ERROR$5=-3,Z_BUF_ERROR$5=-5,Z_DEFAULT_COMPRESSION$5=-1,Z_FILTERED$2=1,Z_HUFFMAN_ONLY$2=2,Z_RLE$2=3,Z_FIXED$4=4,Z_DEFAULT_STRATEGY$5=0,Z_UNKNOWN$4=2,Z_DEFLATED$8=8,MAX_MEM_LEVEL$2=9,MAX_WBITS$5=15,DEF_MEM_LEVEL$2=8,LENGTH_CODES$4=29,LITERALS$4=256,L_CODES$4=LITERALS$4+1+LENGTH_CODES$4,D_CODES$4=30,BL_CODES$4=19,HEAP_SIZE$4=2*L_CODES$4+1,MAX_BITS$4=15,MIN_MATCH$4=3,MAX_MATCH$4=258,MIN_LOOKAHEAD$2=MAX_MATCH$4+MIN_MATCH$4+1,PRESET_DICT$2=32,INIT_STATE$2=42,EXTRA_STATE$2=69,NAME_STATE$2=73,COMMENT_STATE$2=91,HCRC_STATE$2=103,BUSY_STATE$2=113,FINISH_STATE$2=666,BS_NEED_MORE$2=1,BS_BLOCK_DONE$2=2,BS_FINISH_STARTED$2=3,BS_FINISH_DONE$2=4,OS_CODE$2=3;function err$2(s,e){return s.msg=msg$8[e],e}function rank$2(s){return(s<<1)-(s>4?9:0)}function zero$4(s){for(var e=s.length;--e>=0;)s[e]=0}function flush_pending$2(s){var e=s.state,d=e.pending;d>s.avail_out&&(d=s.avail_out),d!==0&&(utils$j.arraySet(s.output,e.pending_buf,e.pending_out,d,s.next_out),s.next_out+=d,e.pending_out+=d,s.total_out+=d,s.avail_out-=d,e.pending-=d,e.pending===0&&(e.pending_out=0))}function flush_block_only$2(s,e){trees$4._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,e),s.block_start=s.strstart,flush_pending$2(s.strm)}function put_byte$2(s,e){s.pending_buf[s.pending++]=e}function putShortMSB$2(s,e){s.pending_buf[s.pending++]=e>>>8&255,s.pending_buf[s.pending++]=e&255}function read_buf$2(s,e,d,h){var g=s.avail_in;return g>h&&(g=h),g===0?0:(s.avail_in-=g,utils$j.arraySet(e,s.input,s.next_in,g,d),s.state.wrap===1?s.adler=adler32$7(s.adler,e,g,d):s.state.wrap===2&&(s.adler=crc32$7(s.adler,e,g,d)),s.next_in+=g,s.total_in+=g,g)}function longest_match$2(s,e){var d=s.max_chain_length,h=s.strstart,g,_,j=s.prev_length,$=s.nice_match,et=s.strstart>s.w_size-MIN_LOOKAHEAD$2?s.strstart-(s.w_size-MIN_LOOKAHEAD$2):0,tt=s.window,nt=s.w_mask,rt=s.prev,it=s.strstart+MAX_MATCH$4,st=tt[h+j-1],ot=tt[h+j];s.prev_length>=s.good_match&&(d>>=2),$>s.lookahead&&($=s.lookahead);do if(g=e,!(tt[g+j]!==ot||tt[g+j-1]!==st||tt[g]!==tt[h]||tt[++g]!==tt[h+1])){h+=2,g++;do;while(tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&h<it);if(_=MAX_MATCH$4-(it-h),h=it-MAX_MATCH$4,_>j){if(s.match_start=e,j=_,_>=$)break;st=tt[h+j-1],ot=tt[h+j]}}while((e=rt[e&nt])>et&&--d!==0);return j<=s.lookahead?j:s.lookahead}function fill_window$2(s){var e=s.w_size,d,h,g,_,j;do{if(_=s.window_size-s.lookahead-s.strstart,s.strstart>=e+(e-MIN_LOOKAHEAD$2)){utils$j.arraySet(s.window,s.window,e,e,0),s.match_start-=e,s.strstart-=e,s.block_start-=e,h=s.hash_size,d=h;do g=s.head[--d],s.head[d]=g>=e?g-e:0;while(--h);h=e,d=h;do g=s.prev[--d],s.prev[d]=g>=e?g-e:0;while(--h);_+=e}if(s.strm.avail_in===0)break;if(h=read_buf$2(s.strm,s.window,s.strstart+s.lookahead,_),s.lookahead+=h,s.lookahead+s.insert>=MIN_MATCH$4)for(j=s.strstart-s.insert,s.ins_h=s.window[j],s.ins_h=(s.ins_h<<s.hash_shift^s.window[j+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[j+MIN_MATCH$4-1])&s.hash_mask,s.prev[j&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=j,j++,s.insert--,!(s.lookahead+s.insert<MIN_MATCH$4)););}while(s.lookahead<MIN_LOOKAHEAD$2&&s.strm.avail_in!==0)}function deflate_stored$2(s,e){var d=65535;for(d>s.pending_buf_size-5&&(d=s.pending_buf_size-5);;){if(s.lookahead<=1){if(fill_window$2(s),s.lookahead===0&&e===Z_NO_FLUSH$5)return BS_NEED_MORE$2;if(s.lookahead===0)break}s.strstart+=s.lookahead,s.lookahead=0;var h=s.block_start+d;if((s.strstart===0||s.strstart>=h)&&(s.lookahead=s.strstart-h,s.strstart=h,flush_block_only$2(s,!1),s.strm.avail_out===0)||s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD$2&&(flush_block_only$2(s,!1),s.strm.avail_out===0))return BS_NEED_MORE$2}return s.insert=0,e===Z_FINISH$8?(flush_block_only$2(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED$2:BS_FINISH_DONE$2):(s.strstart>s.block_start&&(flush_block_only$2(s,!1),s.strm.avail_out===0),BS_NEED_MORE$2)}function deflate_fast$2(s,e){for(var d,h;;){if(s.lookahead<MIN_LOOKAHEAD$2){if(fill_window$2(s),s.lookahead<MIN_LOOKAHEAD$2&&e===Z_NO_FLUSH$5)return BS_NEED_MORE$2;if(s.lookahead===0)break}if(d=0,s.lookahead>=MIN_MATCH$4&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH$4-1])&s.hash_mask,d=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),d!==0&&s.strstart-d<=s.w_size-MIN_LOOKAHEAD$2&&(s.match_length=longest_match$2(s,d)),s.match_length>=MIN_MATCH$4)if(h=trees$4._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH$4),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH$4){s.match_length--;do s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH$4-1])&s.hash_mask,d=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart;while(--s.match_length!==0);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else h=trees$4._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(h&&(flush_block_only$2(s,!1),s.strm.avail_out===0))return BS_NEED_MORE$2}return s.insert=s.strstart<MIN_MATCH$4-1?s.strstart:MIN_MATCH$4-1,e===Z_FINISH$8?(flush_block_only$2(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED$2:BS_FINISH_DONE$2):s.last_lit&&(flush_block_only$2(s,!1),s.strm.avail_out===0)?BS_NEED_MORE$2:BS_BLOCK_DONE$2}function deflate_slow$2(s,e){for(var d,h,g;;){if(s.lookahead<MIN_LOOKAHEAD$2){if(fill_window$2(s),s.lookahead<MIN_LOOKAHEAD$2&&e===Z_NO_FLUSH$5)return BS_NEED_MORE$2;if(s.lookahead===0)break}if(d=0,s.lookahead>=MIN_MATCH$4&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH$4-1])&s.hash_mask,d=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=MIN_MATCH$4-1,d!==0&&s.prev_length<s.max_lazy_match&&s.strstart-d<=s.w_size-MIN_LOOKAHEAD$2&&(s.match_length=longest_match$2(s,d),s.match_length<=5&&(s.strategy===Z_FILTERED$2||s.match_length===MIN_MATCH$4&&s.strstart-s.match_start>4096)&&(s.match_length=MIN_MATCH$4-1)),s.prev_length>=MIN_MATCH$4&&s.match_length<=s.prev_length){g=s.strstart+s.lookahead-MIN_MATCH$4,h=trees$4._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH$4),s.lookahead-=s.prev_length-1,s.prev_length-=2;do++s.strstart<=g&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH$4-1])&s.hash_mask,d=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart);while(--s.prev_length!==0);if(s.match_available=0,s.match_length=MIN_MATCH$4-1,s.strstart++,h&&(flush_block_only$2(s,!1),s.strm.avail_out===0))return BS_NEED_MORE$2}else if(s.match_available){if(h=trees$4._tr_tally(s,0,s.window[s.strstart-1]),h&&flush_block_only$2(s,!1),s.strstart++,s.lookahead--,s.strm.avail_out===0)return BS_NEED_MORE$2}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(h=trees$4._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<MIN_MATCH$4-1?s.strstart:MIN_MATCH$4-1,e===Z_FINISH$8?(flush_block_only$2(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED$2:BS_FINISH_DONE$2):s.last_lit&&(flush_block_only$2(s,!1),s.strm.avail_out===0)?BS_NEED_MORE$2:BS_BLOCK_DONE$2}function deflate_rle$2(s,e){for(var d,h,g,_,j=s.window;;){if(s.lookahead<=MAX_MATCH$4){if(fill_window$2(s),s.lookahead<=MAX_MATCH$4&&e===Z_NO_FLUSH$5)return BS_NEED_MORE$2;if(s.lookahead===0)break}if(s.match_length=0,s.lookahead>=MIN_MATCH$4&&s.strstart>0&&(g=s.strstart-1,h=j[g],h===j[++g]&&h===j[++g]&&h===j[++g])){_=s.strstart+MAX_MATCH$4;do;while(h===j[++g]&&h===j[++g]&&h===j[++g]&&h===j[++g]&&h===j[++g]&&h===j[++g]&&h===j[++g]&&h===j[++g]&&g<_);s.match_length=MAX_MATCH$4-(_-g),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=MIN_MATCH$4?(d=trees$4._tr_tally(s,1,s.match_length-MIN_MATCH$4),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(d=trees$4._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),d&&(flush_block_only$2(s,!1),s.strm.avail_out===0))return BS_NEED_MORE$2}return s.insert=0,e===Z_FINISH$8?(flush_block_only$2(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED$2:BS_FINISH_DONE$2):s.last_lit&&(flush_block_only$2(s,!1),s.strm.avail_out===0)?BS_NEED_MORE$2:BS_BLOCK_DONE$2}function deflate_huff$2(s,e){for(var d;;){if(s.lookahead===0&&(fill_window$2(s),s.lookahead===0)){if(e===Z_NO_FLUSH$5)return BS_NEED_MORE$2;break}if(s.match_length=0,d=trees$4._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,d&&(flush_block_only$2(s,!1),s.strm.avail_out===0))return BS_NEED_MORE$2}return s.insert=0,e===Z_FINISH$8?(flush_block_only$2(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED$2:BS_FINISH_DONE$2):s.last_lit&&(flush_block_only$2(s,!1),s.strm.avail_out===0)?BS_NEED_MORE$2:BS_BLOCK_DONE$2}function Config$3(s,e,d,h,g){this.good_length=s,this.max_lazy=e,this.nice_length=d,this.max_chain=h,this.func=g}var configuration_table$2;configuration_table$2=[new Config$3(0,0,0,0,deflate_stored$2),new Config$3(4,4,8,4,deflate_fast$2),new Config$3(4,5,16,8,deflate_fast$2),new Config$3(4,6,32,32,deflate_fast$2),new Config$3(4,4,16,16,deflate_slow$2),new Config$3(8,16,32,32,deflate_slow$2),new Config$3(8,16,128,128,deflate_slow$2),new Config$3(8,32,128,256,deflate_slow$2),new Config$3(32,128,258,1024,deflate_slow$2),new Config$3(32,258,258,4096,deflate_slow$2)];function lm_init$2(s){s.window_size=2*s.w_size,zero$4(s.head),s.max_lazy_match=configuration_table$2[s.level].max_lazy,s.good_match=configuration_table$2[s.level].good_length,s.nice_match=configuration_table$2[s.level].nice_length,s.max_chain_length=configuration_table$2[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=MIN_MATCH$4-1,s.match_available=0,s.ins_h=0}function DeflateState$2(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils$j.Buf16(HEAP_SIZE$4*2),this.dyn_dtree=new utils$j.Buf16((2*D_CODES$4+1)*2),this.bl_tree=new utils$j.Buf16((2*BL_CODES$4+1)*2),zero$4(this.dyn_ltree),zero$4(this.dyn_dtree),zero$4(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils$j.Buf16(MAX_BITS$4+1),this.heap=new utils$j.Buf16(2*L_CODES$4+1),zero$4(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils$j.Buf16(2*L_CODES$4+1),zero$4(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep$2(s){var e;return!s||!s.state?err$2(s,Z_STREAM_ERROR$5):(s.total_in=s.total_out=0,s.data_type=Z_UNKNOWN$4,e=s.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?INIT_STATE$2:BUSY_STATE$2,s.adler=e.wrap===2?0:1,e.last_flush=Z_NO_FLUSH$5,trees$4._tr_init(e),Z_OK$8)}function deflateReset$2(s){var e=deflateResetKeep$2(s);return e===Z_OK$8&&lm_init$2(s.state),e}function deflateSetHeader$2(s,e){return!s||!s.state||s.state.wrap!==2?Z_STREAM_ERROR$5:(s.state.gzhead=e,Z_OK$8)}function deflateInit2$2(s,e,d,h,g,_){if(!s)return Z_STREAM_ERROR$5;var j=1;if(e===Z_DEFAULT_COMPRESSION$5&&(e=6),h<0?(j=0,h=-h):h>15&&(j=2,h-=16),g<1||g>MAX_MEM_LEVEL$2||d!==Z_DEFLATED$8||h<8||h>15||e<0||e>9||_<0||_>Z_FIXED$4)return err$2(s,Z_STREAM_ERROR$5);h===8&&(h=9);var $=new DeflateState$2;return s.state=$,$.strm=s,$.wrap=j,$.gzhead=null,$.w_bits=h,$.w_size=1<<$.w_bits,$.w_mask=$.w_size-1,$.hash_bits=g+7,$.hash_size=1<<$.hash_bits,$.hash_mask=$.hash_size-1,$.hash_shift=~~(($.hash_bits+MIN_MATCH$4-1)/MIN_MATCH$4),$.window=new utils$j.Buf8($.w_size*2),$.head=new utils$j.Buf16($.hash_size),$.prev=new utils$j.Buf16($.w_size),$.lit_bufsize=1<<g+6,$.pending_buf_size=$.lit_bufsize*4,$.pending_buf=new utils$j.Buf8($.pending_buf_size),$.d_buf=1*$.lit_bufsize,$.l_buf=3*$.lit_bufsize,$.level=e,$.strategy=_,$.method=d,deflateReset$2(s)}function deflateInit$2(s,e){return deflateInit2$2(s,e,Z_DEFLATED$8,MAX_WBITS$5,DEF_MEM_LEVEL$2,Z_DEFAULT_STRATEGY$5)}function deflate$c(s,e){var d,h,g,_;if(!s||!s.state||e>Z_BLOCK$5||e<0)return s?err$2(s,Z_STREAM_ERROR$5):Z_STREAM_ERROR$5;if(h=s.state,!s.output||!s.input&&s.avail_in!==0||h.status===FINISH_STATE$2&&e!==Z_FINISH$8)return err$2(s,s.avail_out===0?Z_BUF_ERROR$5:Z_STREAM_ERROR$5);if(h.strm=s,d=h.last_flush,h.last_flush=e,h.status===INIT_STATE$2)if(h.wrap===2)s.adler=0,put_byte$2(h,31),put_byte$2(h,139),put_byte$2(h,8),h.gzhead?(put_byte$2(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),put_byte$2(h,h.gzhead.time&255),put_byte$2(h,h.gzhead.time>>8&255),put_byte$2(h,h.gzhead.time>>16&255),put_byte$2(h,h.gzhead.time>>24&255),put_byte$2(h,h.level===9?2:h.strategy>=Z_HUFFMAN_ONLY$2||h.level<2?4:0),put_byte$2(h,h.gzhead.os&255),h.gzhead.extra&&h.gzhead.extra.length&&(put_byte$2(h,h.gzhead.extra.length&255),put_byte$2(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(s.adler=crc32$7(s.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=EXTRA_STATE$2):(put_byte$2(h,0),put_byte$2(h,0),put_byte$2(h,0),put_byte$2(h,0),put_byte$2(h,0),put_byte$2(h,h.level===9?2:h.strategy>=Z_HUFFMAN_ONLY$2||h.level<2?4:0),put_byte$2(h,OS_CODE$2),h.status=BUSY_STATE$2);else{var j=Z_DEFLATED$8+(h.w_bits-8<<4)<<8,$=-1;h.strategy>=Z_HUFFMAN_ONLY$2||h.level<2?$=0:h.level<6?$=1:h.level===6?$=2:$=3,j|=$<<6,h.strstart!==0&&(j|=PRESET_DICT$2),j+=31-j%31,h.status=BUSY_STATE$2,putShortMSB$2(h,j),h.strstart!==0&&(putShortMSB$2(h,s.adler>>>16),putShortMSB$2(h,s.adler&65535)),s.adler=1}if(h.status===EXTRA_STATE$2)if(h.gzhead.extra){for(g=h.pending;h.gzindex<(h.gzhead.extra.length&65535)&&!(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>g&&(s.adler=crc32$7(s.adler,h.pending_buf,h.pending-g,g)),flush_pending$2(s),g=h.pending,h.pending===h.pending_buf_size));)put_byte$2(h,h.gzhead.extra[h.gzindex]&255),h.gzindex++;h.gzhead.hcrc&&h.pending>g&&(s.adler=crc32$7(s.adler,h.pending_buf,h.pending-g,g)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=NAME_STATE$2)}else h.status=NAME_STATE$2;if(h.status===NAME_STATE$2)if(h.gzhead.name){g=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>g&&(s.adler=crc32$7(s.adler,h.pending_buf,h.pending-g,g)),flush_pending$2(s),g=h.pending,h.pending===h.pending_buf_size)){_=1;break}h.gzindex<h.gzhead.name.length?_=h.gzhead.name.charCodeAt(h.gzindex++)&255:_=0,put_byte$2(h,_)}while(_!==0);h.gzhead.hcrc&&h.pending>g&&(s.adler=crc32$7(s.adler,h.pending_buf,h.pending-g,g)),_===0&&(h.gzindex=0,h.status=COMMENT_STATE$2)}else h.status=COMMENT_STATE$2;if(h.status===COMMENT_STATE$2)if(h.gzhead.comment){g=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>g&&(s.adler=crc32$7(s.adler,h.pending_buf,h.pending-g,g)),flush_pending$2(s),g=h.pending,h.pending===h.pending_buf_size)){_=1;break}h.gzindex<h.gzhead.comment.length?_=h.gzhead.comment.charCodeAt(h.gzindex++)&255:_=0,put_byte$2(h,_)}while(_!==0);h.gzhead.hcrc&&h.pending>g&&(s.adler=crc32$7(s.adler,h.pending_buf,h.pending-g,g)),_===0&&(h.status=HCRC_STATE$2)}else h.status=HCRC_STATE$2;if(h.status===HCRC_STATE$2&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&flush_pending$2(s),h.pending+2<=h.pending_buf_size&&(put_byte$2(h,s.adler&255),put_byte$2(h,s.adler>>8&255),s.adler=0,h.status=BUSY_STATE$2)):h.status=BUSY_STATE$2),h.pending!==0){if(flush_pending$2(s),s.avail_out===0)return h.last_flush=-1,Z_OK$8}else if(s.avail_in===0&&rank$2(e)<=rank$2(d)&&e!==Z_FINISH$8)return err$2(s,Z_BUF_ERROR$5);if(h.status===FINISH_STATE$2&&s.avail_in!==0)return err$2(s,Z_BUF_ERROR$5);if(s.avail_in!==0||h.lookahead!==0||e!==Z_NO_FLUSH$5&&h.status!==FINISH_STATE$2){var et=h.strategy===Z_HUFFMAN_ONLY$2?deflate_huff$2(h,e):h.strategy===Z_RLE$2?deflate_rle$2(h,e):configuration_table$2[h.level].func(h,e);if((et===BS_FINISH_STARTED$2||et===BS_FINISH_DONE$2)&&(h.status=FINISH_STATE$2),et===BS_NEED_MORE$2||et===BS_FINISH_STARTED$2)return s.avail_out===0&&(h.last_flush=-1),Z_OK$8;if(et===BS_BLOCK_DONE$2&&(e===Z_PARTIAL_FLUSH$2?trees$4._tr_align(h):e!==Z_BLOCK$5&&(trees$4._tr_stored_block(h,0,0,!1),e===Z_FULL_FLUSH$2&&(zero$4(h.head),h.lookahead===0&&(h.strstart=0,h.block_start=0,h.insert=0))),flush_pending$2(s),s.avail_out===0))return h.last_flush=-1,Z_OK$8}return e!==Z_FINISH$8?Z_OK$8:h.wrap<=0?Z_STREAM_END$8:(h.wrap===2?(put_byte$2(h,s.adler&255),put_byte$2(h,s.adler>>8&255),put_byte$2(h,s.adler>>16&255),put_byte$2(h,s.adler>>24&255),put_byte$2(h,s.total_in&255),put_byte$2(h,s.total_in>>8&255),put_byte$2(h,s.total_in>>16&255),put_byte$2(h,s.total_in>>24&255)):(putShortMSB$2(h,s.adler>>>16),putShortMSB$2(h,s.adler&65535)),flush_pending$2(s),h.wrap>0&&(h.wrap=-h.wrap),h.pending!==0?Z_OK$8:Z_STREAM_END$8)}function deflateEnd$2(s){var e;return!s||!s.state?Z_STREAM_ERROR$5:(e=s.state.status,e!==INIT_STATE$2&&e!==EXTRA_STATE$2&&e!==NAME_STATE$2&&e!==COMMENT_STATE$2&&e!==HCRC_STATE$2&&e!==BUSY_STATE$2&&e!==FINISH_STATE$2?err$2(s,Z_STREAM_ERROR$5):(s.state=null,e===BUSY_STATE$2?err$2(s,Z_DATA_ERROR$5):Z_OK$8))}function deflateSetDictionary$2(s,e){var d=e.length,h,g,_,j,$,et,tt,nt;if(!s||!s.state||(h=s.state,j=h.wrap,j===2||j===1&&h.status!==INIT_STATE$2||h.lookahead))return Z_STREAM_ERROR$5;for(j===1&&(s.adler=adler32$7(s.adler,e,d,0)),h.wrap=0,d>=h.w_size&&(j===0&&(zero$4(h.head),h.strstart=0,h.block_start=0,h.insert=0),nt=new utils$j.Buf8(h.w_size),utils$j.arraySet(nt,e,d-h.w_size,h.w_size,0),e=nt,d=h.w_size),$=s.avail_in,et=s.next_in,tt=s.input,s.avail_in=d,s.next_in=0,s.input=e,fill_window$2(h);h.lookahead>=MIN_MATCH$4;){g=h.strstart,_=h.lookahead-(MIN_MATCH$4-1);do h.ins_h=(h.ins_h<<h.hash_shift^h.window[g+MIN_MATCH$4-1])&h.hash_mask,h.prev[g&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=g,g++;while(--_);h.strstart=g,h.lookahead=MIN_MATCH$4-1,fill_window$2(h)}return h.strstart+=h.lookahead,h.block_start=h.strstart,h.insert=h.lookahead,h.lookahead=0,h.match_length=h.prev_length=MIN_MATCH$4-1,h.match_available=0,s.next_in=et,s.input=tt,s.avail_in=$,h.wrap=j,Z_OK$8}deflate$d.deflateInit=deflateInit$2;deflate$d.deflateInit2=deflateInit2$2;deflate$d.deflateReset=deflateReset$2;deflate$d.deflateResetKeep=deflateResetKeep$2;deflate$d.deflateSetHeader=deflateSetHeader$2;deflate$d.deflate=deflate$c;deflate$d.deflateEnd=deflateEnd$2;deflate$d.deflateSetDictionary=deflateSetDictionary$2;deflate$d.deflateInfo="pako deflate (from Nodeca project)";var strings$8={},utils$i=common$2,STR_APPLY_OK$2=!0,STR_APPLY_UIA_OK$2=!0;try{String.fromCharCode.apply(null,[0])}catch{STR_APPLY_OK$2=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK$2=!1}var _utf8len$2=new utils$i.Buf8(256);for(var q$2=0;q$2<256;q$2++)_utf8len$2[q$2]=q$2>=252?6:q$2>=248?5:q$2>=240?4:q$2>=224?3:q$2>=192?2:1;_utf8len$2[254]=_utf8len$2[254]=1;strings$8.string2buf=function(s){var e,d,h,g,_,j=s.length,$=0;for(g=0;g<j;g++)d=s.charCodeAt(g),(d&64512)===55296&&g+1<j&&(h=s.charCodeAt(g+1),(h&64512)===56320&&(d=65536+(d-55296<<10)+(h-56320),g++)),$+=d<128?1:d<2048?2:d<65536?3:4;for(e=new utils$i.Buf8($),_=0,g=0;_<$;g++)d=s.charCodeAt(g),(d&64512)===55296&&g+1<j&&(h=s.charCodeAt(g+1),(h&64512)===56320&&(d=65536+(d-55296<<10)+(h-56320),g++)),d<128?e[_++]=d:d<2048?(e[_++]=192|d>>>6,e[_++]=128|d&63):d<65536?(e[_++]=224|d>>>12,e[_++]=128|d>>>6&63,e[_++]=128|d&63):(e[_++]=240|d>>>18,e[_++]=128|d>>>12&63,e[_++]=128|d>>>6&63,e[_++]=128|d&63);return e};function buf2binstring$2(s,e){if(e<65534&&(s.subarray&&STR_APPLY_UIA_OK$2||!s.subarray&&STR_APPLY_OK$2))return String.fromCharCode.apply(null,utils$i.shrinkBuf(s,e));for(var d="",h=0;h<e;h++)d+=String.fromCharCode(s[h]);return d}strings$8.buf2binstring=function(s){return buf2binstring$2(s,s.length)};strings$8.binstring2buf=function(s){for(var e=new utils$i.Buf8(s.length),d=0,h=e.length;d<h;d++)e[d]=s.charCodeAt(d);return e};strings$8.buf2string=function(s,e){var d,h,g,_,j=e||s.length,$=new Array(j*2);for(h=0,d=0;d<j;){if(g=s[d++],g<128){$[h++]=g;continue}if(_=_utf8len$2[g],_>4){$[h++]=65533,d+=_-1;continue}for(g&=_===2?31:_===3?15:7;_>1&&d<j;)g=g<<6|s[d++]&63,_--;if(_>1){$[h++]=65533;continue}g<65536?$[h++]=g:(g-=65536,$[h++]=55296|g>>10&1023,$[h++]=56320|g&1023)}return buf2binstring$2($,h)};strings$8.utf8border=function(s,e){var d;for(e=e||s.length,e>s.length&&(e=s.length),d=e-1;d>=0&&(s[d]&192)===128;)d--;return d<0||d===0?e:d+_utf8len$2[s[d]]>e?d:e};function ZStream$8(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream$2=ZStream$8,zlib_deflate$2=deflate$d,utils$h=common$2,strings$7=strings$8,msg$7=messages$2,ZStream$7=zstream$2,toString$5=Object.prototype.toString,Z_NO_FLUSH$4=0,Z_FINISH$7=4,Z_OK$7=0,Z_STREAM_END$7=1,Z_SYNC_FLUSH$2=2,Z_DEFAULT_COMPRESSION$4=-1,Z_DEFAULT_STRATEGY$4=0,Z_DEFLATED$7=8;function Deflate$2(s){if(!(this instanceof Deflate$2))return new Deflate$2(s);this.options=utils$h.assign({level:Z_DEFAULT_COMPRESSION$4,method:Z_DEFLATED$7,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY$4,to:""},s||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream$7,this.strm.avail_out=0;var d=zlib_deflate$2.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(d!==Z_OK$7)throw new Error(msg$7[d]);if(e.header&&zlib_deflate$2.deflateSetHeader(this.strm,e.header),e.dictionary){var h;if(typeof e.dictionary=="string"?h=strings$7.string2buf(e.dictionary):toString$5.call(e.dictionary)==="[object ArrayBuffer]"?h=new Uint8Array(e.dictionary):h=e.dictionary,d=zlib_deflate$2.deflateSetDictionary(this.strm,h),d!==Z_OK$7)throw new Error(msg$7[d]);this._dict_set=!0}}Deflate$2.prototype.push=function(s,e){var d=this.strm,h=this.options.chunkSize,g,_;if(this.ended)return!1;_=e===~~e?e:e===!0?Z_FINISH$7:Z_NO_FLUSH$4,typeof s=="string"?d.input=strings$7.string2buf(s):toString$5.call(s)==="[object ArrayBuffer]"?d.input=new Uint8Array(s):d.input=s,d.next_in=0,d.avail_in=d.input.length;do{if(d.avail_out===0&&(d.output=new utils$h.Buf8(h),d.next_out=0,d.avail_out=h),g=zlib_deflate$2.deflate(d,_),g!==Z_STREAM_END$7&&g!==Z_OK$7)return this.onEnd(g),this.ended=!0,!1;(d.avail_out===0||d.avail_in===0&&(_===Z_FINISH$7||_===Z_SYNC_FLUSH$2))&&(this.options.to==="string"?this.onData(strings$7.buf2binstring(utils$h.shrinkBuf(d.output,d.next_out))):this.onData(utils$h.shrinkBuf(d.output,d.next_out)))}while((d.avail_in>0||d.avail_out===0)&&g!==Z_STREAM_END$7);return _===Z_FINISH$7?(g=zlib_deflate$2.deflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===Z_OK$7):(_===Z_SYNC_FLUSH$2&&(this.onEnd(Z_OK$7),d.avail_out=0),!0)};Deflate$2.prototype.onData=function(s){this.chunks.push(s)};Deflate$2.prototype.onEnd=function(s){s===Z_OK$7&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils$h.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function deflate$b(s,e){var d=new Deflate$2(e);if(d.push(s,!0),d.err)throw d.msg||msg$7[d.err];return d.result}function deflateRaw$2(s,e){return e=e||{},e.raw=!0,deflate$b(s,e)}function gzip$2(s,e){return e=e||{},e.gzip=!0,deflate$b(s,e)}deflate$e.Deflate=Deflate$2;deflate$e.deflate=deflate$b;deflate$e.deflateRaw=deflateRaw$2;deflate$e.gzip=gzip$2;var inflate$e={},inflate$d={},BAD$5=30,TYPE$5=12,inffast$2=function(e,d){var h,g,_,j,$,et,tt,nt,rt,it,st,ot,lt,dt,at,ut,pt,vt,ht,yt,gt,ft,_t,Et,mt;h=e.state,g=e.next_in,Et=e.input,_=g+(e.avail_in-5),j=e.next_out,mt=e.output,$=j-(d-e.avail_out),et=j+(e.avail_out-257),tt=h.dmax,nt=h.wsize,rt=h.whave,it=h.wnext,st=h.window,ot=h.hold,lt=h.bits,dt=h.lencode,at=h.distcode,ut=(1<<h.lenbits)-1,pt=(1<<h.distbits)-1;e:do{lt<15&&(ot+=Et[g++]<<lt,lt+=8,ot+=Et[g++]<<lt,lt+=8),vt=dt[ot&ut];t:for(;;){if(ht=vt>>>24,ot>>>=ht,lt-=ht,ht=vt>>>16&255,ht===0)mt[j++]=vt&65535;else if(ht&16){yt=vt&65535,ht&=15,ht&&(lt<ht&&(ot+=Et[g++]<<lt,lt+=8),yt+=ot&(1<<ht)-1,ot>>>=ht,lt-=ht),lt<15&&(ot+=Et[g++]<<lt,lt+=8,ot+=Et[g++]<<lt,lt+=8),vt=at[ot&pt];n:for(;;){if(ht=vt>>>24,ot>>>=ht,lt-=ht,ht=vt>>>16&255,ht&16){if(gt=vt&65535,ht&=15,lt<ht&&(ot+=Et[g++]<<lt,lt+=8,lt<ht&&(ot+=Et[g++]<<lt,lt+=8)),gt+=ot&(1<<ht)-1,gt>tt){e.msg="invalid distance too far back",h.mode=BAD$5;break e}if(ot>>>=ht,lt-=ht,ht=j-$,gt>ht){if(ht=gt-ht,ht>rt&&h.sane){e.msg="invalid distance too far back",h.mode=BAD$5;break e}if(ft=0,_t=st,it===0){if(ft+=nt-ht,ht<yt){yt-=ht;do mt[j++]=st[ft++];while(--ht);ft=j-gt,_t=mt}}else if(it<ht){if(ft+=nt+it-ht,ht-=it,ht<yt){yt-=ht;do mt[j++]=st[ft++];while(--ht);if(ft=0,it<yt){ht=it,yt-=ht;do mt[j++]=st[ft++];while(--ht);ft=j-gt,_t=mt}}}else if(ft+=it-ht,ht<yt){yt-=ht;do mt[j++]=st[ft++];while(--ht);ft=j-gt,_t=mt}for(;yt>2;)mt[j++]=_t[ft++],mt[j++]=_t[ft++],mt[j++]=_t[ft++],yt-=3;yt&&(mt[j++]=_t[ft++],yt>1&&(mt[j++]=_t[ft++]))}else{ft=j-gt;do mt[j++]=mt[ft++],mt[j++]=mt[ft++],mt[j++]=mt[ft++],yt-=3;while(yt>2);yt&&(mt[j++]=mt[ft++],yt>1&&(mt[j++]=mt[ft++]))}}else if(ht&64){e.msg="invalid distance code",h.mode=BAD$5;break e}else{vt=at[(vt&65535)+(ot&(1<<ht)-1)];continue n}break}}else if(ht&64)if(ht&32){h.mode=TYPE$5;break e}else{e.msg="invalid literal/length code",h.mode=BAD$5;break e}else{vt=dt[(vt&65535)+(ot&(1<<ht)-1)];continue t}break}}while(g<_&&j<et);yt=lt>>3,g-=yt,lt-=yt<<3,ot&=(1<<lt)-1,e.next_in=g,e.next_out=j,e.avail_in=g<_?5+(_-g):5-(g-_),e.avail_out=j<et?257+(et-j):257-(j-et),h.hold=ot,h.bits=lt},utils$g=common$2,MAXBITS$2=15,ENOUGH_LENS$5=852,ENOUGH_DISTS$5=592,CODES$5=0,LENS$5=1,DISTS$5=2,lbase$2=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext$2=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase$2=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext$2=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],inftrees$2=function(e,d,h,g,_,j,$,et){var tt=et.bits,nt=0,rt=0,it=0,st=0,ot=0,lt=0,dt=0,at=0,ut=0,pt=0,vt,ht,yt,gt,ft,_t=null,Et=0,mt,xt=new utils$g.Buf16(MAXBITS$2+1),St=new utils$g.Buf16(MAXBITS$2+1),Ut=null,kt=0,Bt,$t,Gt;for(nt=0;nt<=MAXBITS$2;nt++)xt[nt]=0;for(rt=0;rt<g;rt++)xt[d[h+rt]]++;for(ot=tt,st=MAXBITS$2;st>=1&&xt[st]===0;st--);if(ot>st&&(ot=st),st===0)return _[j++]=1<<24|64<<16|0,_[j++]=1<<24|64<<16|0,et.bits=1,0;for(it=1;it<st&&xt[it]===0;it++);for(ot<it&&(ot=it),at=1,nt=1;nt<=MAXBITS$2;nt++)if(at<<=1,at-=xt[nt],at<0)return-1;if(at>0&&(e===CODES$5||st!==1))return-1;for(St[1]=0,nt=1;nt<MAXBITS$2;nt++)St[nt+1]=St[nt]+xt[nt];for(rt=0;rt<g;rt++)d[h+rt]!==0&&($[St[d[h+rt]]++]=rt);if(e===CODES$5?(_t=Ut=$,mt=19):e===LENS$5?(_t=lbase$2,Et-=257,Ut=lext$2,kt-=257,mt=256):(_t=dbase$2,Ut=dext$2,mt=-1),pt=0,rt=0,nt=it,ft=j,lt=ot,dt=0,yt=-1,ut=1<<ot,gt=ut-1,e===LENS$5&&ut>ENOUGH_LENS$5||e===DISTS$5&&ut>ENOUGH_DISTS$5)return 1;for(;;){Bt=nt-dt,$[rt]<mt?($t=0,Gt=$[rt]):$[rt]>mt?($t=Ut[kt+$[rt]],Gt=_t[Et+$[rt]]):($t=96,Gt=0),vt=1<<nt-dt,ht=1<<lt,it=ht;do ht-=vt,_[ft+(pt>>dt)+ht]=Bt<<24|$t<<16|Gt|0;while(ht!==0);for(vt=1<<nt-1;pt&vt;)vt>>=1;if(vt!==0?(pt&=vt-1,pt+=vt):pt=0,rt++,--xt[nt]===0){if(nt===st)break;nt=d[h+$[rt]]}if(nt>ot&&(pt&gt)!==yt){for(dt===0&&(dt=ot),ft+=it,lt=nt-dt,at=1<<lt;lt+dt<st&&(at-=xt[lt+dt],!(at<=0));)lt++,at<<=1;if(ut+=1<<lt,e===LENS$5&&ut>ENOUGH_LENS$5||e===DISTS$5&&ut>ENOUGH_DISTS$5)return 1;yt=pt&gt,_[yt]=ot<<24|lt<<16|ft-j|0}}return pt!==0&&(_[ft+pt]=nt-dt<<24|64<<16|0),et.bits=ot,0},utils$f=common$2,adler32$6=adler32_1$2,crc32$6=crc32_1$2,inflate_fast$2=inffast$2,inflate_table$2=inftrees$2,CODES$4=0,LENS$4=1,DISTS$4=2,Z_FINISH$6=4,Z_BLOCK$4=5,Z_TREES$2=6,Z_OK$6=0,Z_STREAM_END$6=1,Z_NEED_DICT$2=2,Z_STREAM_ERROR$4=-2,Z_DATA_ERROR$4=-3,Z_MEM_ERROR$2=-4,Z_BUF_ERROR$4=-5,Z_DEFLATED$6=8,HEAD$2=1,FLAGS$2=2,TIME$2=3,OS$2=4,EXLEN$2=5,EXTRA$2=6,NAME$2=7,COMMENT$2=8,HCRC$2=9,DICTID$2=10,DICT$2=11,TYPE$4=12,TYPEDO$2=13,STORED$2=14,COPY_$2=15,COPY$2=16,TABLE$2=17,LENLENS$2=18,CODELENS$2=19,LEN_$2=20,LEN$2=21,LENEXT$2=22,DIST$2=23,DISTEXT$2=24,MATCH$2=25,LIT$2=26,CHECK$2=27,LENGTH$2=28,DONE$2=29,BAD$4=30,MEM$2=31,SYNC$2=32,ENOUGH_LENS$4=852,ENOUGH_DISTS$4=592,MAX_WBITS$4=15,DEF_WBITS$2=MAX_WBITS$4;function zswap32$2(s){return(s>>>24&255)+(s>>>8&65280)+((s&65280)<<8)+((s&255)<<24)}function InflateState$2(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils$f.Buf16(320),this.work=new utils$f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep$2(s){var e;return!s||!s.state?Z_STREAM_ERROR$4:(e=s.state,s.total_in=s.total_out=e.total=0,s.msg="",e.wrap&&(s.adler=e.wrap&1),e.mode=HEAD$2,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new utils$f.Buf32(ENOUGH_LENS$4),e.distcode=e.distdyn=new utils$f.Buf32(ENOUGH_DISTS$4),e.sane=1,e.back=-1,Z_OK$6)}function inflateReset$2(s){var e;return!s||!s.state?Z_STREAM_ERROR$4:(e=s.state,e.wsize=0,e.whave=0,e.wnext=0,inflateResetKeep$2(s))}function inflateReset2$2(s,e){var d,h;return!s||!s.state||(h=s.state,e<0?(d=0,e=-e):(d=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15))?Z_STREAM_ERROR$4:(h.window!==null&&h.wbits!==e&&(h.window=null),h.wrap=d,h.wbits=e,inflateReset$2(s))}function inflateInit2$2(s,e){var d,h;return s?(h=new InflateState$2,s.state=h,h.window=null,d=inflateReset2$2(s,e),d!==Z_OK$6&&(s.state=null),d):Z_STREAM_ERROR$4}function inflateInit$2(s){return inflateInit2$2(s,DEF_WBITS$2)}var virgin$2=!0,lenfix$2,distfix$2;function fixedtables$2(s){if(virgin$2){var e;for(lenfix$2=new utils$f.Buf32(512),distfix$2=new utils$f.Buf32(32),e=0;e<144;)s.lens[e++]=8;for(;e<256;)s.lens[e++]=9;for(;e<280;)s.lens[e++]=7;for(;e<288;)s.lens[e++]=8;for(inflate_table$2(LENS$4,s.lens,0,288,lenfix$2,0,s.work,{bits:9}),e=0;e<32;)s.lens[e++]=5;inflate_table$2(DISTS$4,s.lens,0,32,distfix$2,0,s.work,{bits:5}),virgin$2=!1}s.lencode=lenfix$2,s.lenbits=9,s.distcode=distfix$2,s.distbits=5}function updatewindow$2(s,e,d,h){var g,_=s.state;return _.window===null&&(_.wsize=1<<_.wbits,_.wnext=0,_.whave=0,_.window=new utils$f.Buf8(_.wsize)),h>=_.wsize?(utils$f.arraySet(_.window,e,d-_.wsize,_.wsize,0),_.wnext=0,_.whave=_.wsize):(g=_.wsize-_.wnext,g>h&&(g=h),utils$f.arraySet(_.window,e,d-h,g,_.wnext),h-=g,h?(utils$f.arraySet(_.window,e,d-h,h,0),_.wnext=h,_.whave=_.wsize):(_.wnext+=g,_.wnext===_.wsize&&(_.wnext=0),_.whave<_.wsize&&(_.whave+=g))),0}function inflate$c(s,e){var d,h,g,_,j,$,et,tt,nt,rt,it,st,ot,lt,dt=0,at,ut,pt,vt,ht,yt,gt,ft,_t=new utils$f.Buf8(4),Et,mt,xt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!s||!s.state||!s.output||!s.input&&s.avail_in!==0)return Z_STREAM_ERROR$4;d=s.state,d.mode===TYPE$4&&(d.mode=TYPEDO$2),j=s.next_out,g=s.output,et=s.avail_out,_=s.next_in,h=s.input,$=s.avail_in,tt=d.hold,nt=d.bits,rt=$,it=et,ft=Z_OK$6;e:for(;;)switch(d.mode){case HEAD$2:if(d.wrap===0){d.mode=TYPEDO$2;break}for(;nt<16;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(d.wrap&2&&tt===35615){d.check=0,_t[0]=tt&255,_t[1]=tt>>>8&255,d.check=crc32$6(d.check,_t,2,0),tt=0,nt=0,d.mode=FLAGS$2;break}if(d.flags=0,d.head&&(d.head.done=!1),!(d.wrap&1)||(((tt&255)<<8)+(tt>>8))%31){s.msg="incorrect header check",d.mode=BAD$4;break}if((tt&15)!==Z_DEFLATED$6){s.msg="unknown compression method",d.mode=BAD$4;break}if(tt>>>=4,nt-=4,gt=(tt&15)+8,d.wbits===0)d.wbits=gt;else if(gt>d.wbits){s.msg="invalid window size",d.mode=BAD$4;break}d.dmax=1<<gt,s.adler=d.check=1,d.mode=tt&512?DICTID$2:TYPE$4,tt=0,nt=0;break;case FLAGS$2:for(;nt<16;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(d.flags=tt,(d.flags&255)!==Z_DEFLATED$6){s.msg="unknown compression method",d.mode=BAD$4;break}if(d.flags&57344){s.msg="unknown header flags set",d.mode=BAD$4;break}d.head&&(d.head.text=tt>>8&1),d.flags&512&&(_t[0]=tt&255,_t[1]=tt>>>8&255,d.check=crc32$6(d.check,_t,2,0)),tt=0,nt=0,d.mode=TIME$2;case TIME$2:for(;nt<32;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}d.head&&(d.head.time=tt),d.flags&512&&(_t[0]=tt&255,_t[1]=tt>>>8&255,_t[2]=tt>>>16&255,_t[3]=tt>>>24&255,d.check=crc32$6(d.check,_t,4,0)),tt=0,nt=0,d.mode=OS$2;case OS$2:for(;nt<16;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}d.head&&(d.head.xflags=tt&255,d.head.os=tt>>8),d.flags&512&&(_t[0]=tt&255,_t[1]=tt>>>8&255,d.check=crc32$6(d.check,_t,2,0)),tt=0,nt=0,d.mode=EXLEN$2;case EXLEN$2:if(d.flags&1024){for(;nt<16;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}d.length=tt,d.head&&(d.head.extra_len=tt),d.flags&512&&(_t[0]=tt&255,_t[1]=tt>>>8&255,d.check=crc32$6(d.check,_t,2,0)),tt=0,nt=0}else d.head&&(d.head.extra=null);d.mode=EXTRA$2;case EXTRA$2:if(d.flags&1024&&(st=d.length,st>$&&(st=$),st&&(d.head&&(gt=d.head.extra_len-d.length,d.head.extra||(d.head.extra=new Array(d.head.extra_len)),utils$f.arraySet(d.head.extra,h,_,st,gt)),d.flags&512&&(d.check=crc32$6(d.check,h,st,_)),$-=st,_+=st,d.length-=st),d.length))break e;d.length=0,d.mode=NAME$2;case NAME$2:if(d.flags&2048){if($===0)break e;st=0;do gt=h[_+st++],d.head&&gt&&d.length<65536&&(d.head.name+=String.fromCharCode(gt));while(gt&&st<$);if(d.flags&512&&(d.check=crc32$6(d.check,h,st,_)),$-=st,_+=st,gt)break e}else d.head&&(d.head.name=null);d.length=0,d.mode=COMMENT$2;case COMMENT$2:if(d.flags&4096){if($===0)break e;st=0;do gt=h[_+st++],d.head&&gt&&d.length<65536&&(d.head.comment+=String.fromCharCode(gt));while(gt&&st<$);if(d.flags&512&&(d.check=crc32$6(d.check,h,st,_)),$-=st,_+=st,gt)break e}else d.head&&(d.head.comment=null);d.mode=HCRC$2;case HCRC$2:if(d.flags&512){for(;nt<16;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(tt!==(d.check&65535)){s.msg="header crc mismatch",d.mode=BAD$4;break}tt=0,nt=0}d.head&&(d.head.hcrc=d.flags>>9&1,d.head.done=!0),s.adler=d.check=0,d.mode=TYPE$4;break;case DICTID$2:for(;nt<32;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}s.adler=d.check=zswap32$2(tt),tt=0,nt=0,d.mode=DICT$2;case DICT$2:if(d.havedict===0)return s.next_out=j,s.avail_out=et,s.next_in=_,s.avail_in=$,d.hold=tt,d.bits=nt,Z_NEED_DICT$2;s.adler=d.check=1,d.mode=TYPE$4;case TYPE$4:if(e===Z_BLOCK$4||e===Z_TREES$2)break e;case TYPEDO$2:if(d.last){tt>>>=nt&7,nt-=nt&7,d.mode=CHECK$2;break}for(;nt<3;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}switch(d.last=tt&1,tt>>>=1,nt-=1,tt&3){case 0:d.mode=STORED$2;break;case 1:if(fixedtables$2(d),d.mode=LEN_$2,e===Z_TREES$2){tt>>>=2,nt-=2;break e}break;case 2:d.mode=TABLE$2;break;case 3:s.msg="invalid block type",d.mode=BAD$4}tt>>>=2,nt-=2;break;case STORED$2:for(tt>>>=nt&7,nt-=nt&7;nt<32;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if((tt&65535)!==(tt>>>16^65535)){s.msg="invalid stored block lengths",d.mode=BAD$4;break}if(d.length=tt&65535,tt=0,nt=0,d.mode=COPY_$2,e===Z_TREES$2)break e;case COPY_$2:d.mode=COPY$2;case COPY$2:if(st=d.length,st){if(st>$&&(st=$),st>et&&(st=et),st===0)break e;utils$f.arraySet(g,h,_,st,j),$-=st,_+=st,et-=st,j+=st,d.length-=st;break}d.mode=TYPE$4;break;case TABLE$2:for(;nt<14;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(d.nlen=(tt&31)+257,tt>>>=5,nt-=5,d.ndist=(tt&31)+1,tt>>>=5,nt-=5,d.ncode=(tt&15)+4,tt>>>=4,nt-=4,d.nlen>286||d.ndist>30){s.msg="too many length or distance symbols",d.mode=BAD$4;break}d.have=0,d.mode=LENLENS$2;case LENLENS$2:for(;d.have<d.ncode;){for(;nt<3;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}d.lens[xt[d.have++]]=tt&7,tt>>>=3,nt-=3}for(;d.have<19;)d.lens[xt[d.have++]]=0;if(d.lencode=d.lendyn,d.lenbits=7,Et={bits:d.lenbits},ft=inflate_table$2(CODES$4,d.lens,0,19,d.lencode,0,d.work,Et),d.lenbits=Et.bits,ft){s.msg="invalid code lengths set",d.mode=BAD$4;break}d.have=0,d.mode=CODELENS$2;case CODELENS$2:for(;d.have<d.nlen+d.ndist;){for(;dt=d.lencode[tt&(1<<d.lenbits)-1],at=dt>>>24,ut=dt>>>16&255,pt=dt&65535,!(at<=nt);){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(pt<16)tt>>>=at,nt-=at,d.lens[d.have++]=pt;else{if(pt===16){for(mt=at+2;nt<mt;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(tt>>>=at,nt-=at,d.have===0){s.msg="invalid bit length repeat",d.mode=BAD$4;break}gt=d.lens[d.have-1],st=3+(tt&3),tt>>>=2,nt-=2}else if(pt===17){for(mt=at+3;nt<mt;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}tt>>>=at,nt-=at,gt=0,st=3+(tt&7),tt>>>=3,nt-=3}else{for(mt=at+7;nt<mt;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}tt>>>=at,nt-=at,gt=0,st=11+(tt&127),tt>>>=7,nt-=7}if(d.have+st>d.nlen+d.ndist){s.msg="invalid bit length repeat",d.mode=BAD$4;break}for(;st--;)d.lens[d.have++]=gt}}if(d.mode===BAD$4)break;if(d.lens[256]===0){s.msg="invalid code -- missing end-of-block",d.mode=BAD$4;break}if(d.lenbits=9,Et={bits:d.lenbits},ft=inflate_table$2(LENS$4,d.lens,0,d.nlen,d.lencode,0,d.work,Et),d.lenbits=Et.bits,ft){s.msg="invalid literal/lengths set",d.mode=BAD$4;break}if(d.distbits=6,d.distcode=d.distdyn,Et={bits:d.distbits},ft=inflate_table$2(DISTS$4,d.lens,d.nlen,d.ndist,d.distcode,0,d.work,Et),d.distbits=Et.bits,ft){s.msg="invalid distances set",d.mode=BAD$4;break}if(d.mode=LEN_$2,e===Z_TREES$2)break e;case LEN_$2:d.mode=LEN$2;case LEN$2:if($>=6&&et>=258){s.next_out=j,s.avail_out=et,s.next_in=_,s.avail_in=$,d.hold=tt,d.bits=nt,inflate_fast$2(s,it),j=s.next_out,g=s.output,et=s.avail_out,_=s.next_in,h=s.input,$=s.avail_in,tt=d.hold,nt=d.bits,d.mode===TYPE$4&&(d.back=-1);break}for(d.back=0;dt=d.lencode[tt&(1<<d.lenbits)-1],at=dt>>>24,ut=dt>>>16&255,pt=dt&65535,!(at<=nt);){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(ut&&!(ut&240)){for(vt=at,ht=ut,yt=pt;dt=d.lencode[yt+((tt&(1<<vt+ht)-1)>>vt)],at=dt>>>24,ut=dt>>>16&255,pt=dt&65535,!(vt+at<=nt);){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}tt>>>=vt,nt-=vt,d.back+=vt}if(tt>>>=at,nt-=at,d.back+=at,d.length=pt,ut===0){d.mode=LIT$2;break}if(ut&32){d.back=-1,d.mode=TYPE$4;break}if(ut&64){s.msg="invalid literal/length code",d.mode=BAD$4;break}d.extra=ut&15,d.mode=LENEXT$2;case LENEXT$2:if(d.extra){for(mt=d.extra;nt<mt;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}d.length+=tt&(1<<d.extra)-1,tt>>>=d.extra,nt-=d.extra,d.back+=d.extra}d.was=d.length,d.mode=DIST$2;case DIST$2:for(;dt=d.distcode[tt&(1<<d.distbits)-1],at=dt>>>24,ut=dt>>>16&255,pt=dt&65535,!(at<=nt);){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(!(ut&240)){for(vt=at,ht=ut,yt=pt;dt=d.distcode[yt+((tt&(1<<vt+ht)-1)>>vt)],at=dt>>>24,ut=dt>>>16&255,pt=dt&65535,!(vt+at<=nt);){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}tt>>>=vt,nt-=vt,d.back+=vt}if(tt>>>=at,nt-=at,d.back+=at,ut&64){s.msg="invalid distance code",d.mode=BAD$4;break}d.offset=pt,d.extra=ut&15,d.mode=DISTEXT$2;case DISTEXT$2:if(d.extra){for(mt=d.extra;nt<mt;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}d.offset+=tt&(1<<d.extra)-1,tt>>>=d.extra,nt-=d.extra,d.back+=d.extra}if(d.offset>d.dmax){s.msg="invalid distance too far back",d.mode=BAD$4;break}d.mode=MATCH$2;case MATCH$2:if(et===0)break e;if(st=it-et,d.offset>st){if(st=d.offset-st,st>d.whave&&d.sane){s.msg="invalid distance too far back",d.mode=BAD$4;break}st>d.wnext?(st-=d.wnext,ot=d.wsize-st):ot=d.wnext-st,st>d.length&&(st=d.length),lt=d.window}else lt=g,ot=j-d.offset,st=d.length;st>et&&(st=et),et-=st,d.length-=st;do g[j++]=lt[ot++];while(--st);d.length===0&&(d.mode=LEN$2);break;case LIT$2:if(et===0)break e;g[j++]=d.length,et--,d.mode=LEN$2;break;case CHECK$2:if(d.wrap){for(;nt<32;){if($===0)break e;$--,tt|=h[_++]<<nt,nt+=8}if(it-=et,s.total_out+=it,d.total+=it,it&&(s.adler=d.check=d.flags?crc32$6(d.check,g,it,j-it):adler32$6(d.check,g,it,j-it)),it=et,(d.flags?tt:zswap32$2(tt))!==d.check){s.msg="incorrect data check",d.mode=BAD$4;break}tt=0,nt=0}d.mode=LENGTH$2;case LENGTH$2:if(d.wrap&&d.flags){for(;nt<32;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(tt!==(d.total&4294967295)){s.msg="incorrect length check",d.mode=BAD$4;break}tt=0,nt=0}d.mode=DONE$2;case DONE$2:ft=Z_STREAM_END$6;break e;case BAD$4:ft=Z_DATA_ERROR$4;break e;case MEM$2:return Z_MEM_ERROR$2;case SYNC$2:default:return Z_STREAM_ERROR$4}return s.next_out=j,s.avail_out=et,s.next_in=_,s.avail_in=$,d.hold=tt,d.bits=nt,(d.wsize||it!==s.avail_out&&d.mode<BAD$4&&(d.mode<CHECK$2||e!==Z_FINISH$6))&&updatewindow$2(s,s.output,s.next_out,it-s.avail_out),rt-=s.avail_in,it-=s.avail_out,s.total_in+=rt,s.total_out+=it,d.total+=it,d.wrap&&it&&(s.adler=d.check=d.flags?crc32$6(d.check,g,it,s.next_out-it):adler32$6(d.check,g,it,s.next_out-it)),s.data_type=d.bits+(d.last?64:0)+(d.mode===TYPE$4?128:0)+(d.mode===LEN_$2||d.mode===COPY_$2?256:0),(rt===0&&it===0||e===Z_FINISH$6)&&ft===Z_OK$6&&(ft=Z_BUF_ERROR$4),ft}function inflateEnd$2(s){if(!s||!s.state)return Z_STREAM_ERROR$4;var e=s.state;return e.window&&(e.window=null),s.state=null,Z_OK$6}function inflateGetHeader$2(s,e){var d;return!s||!s.state||(d=s.state,!(d.wrap&2))?Z_STREAM_ERROR$4:(d.head=e,e.done=!1,Z_OK$6)}function inflateSetDictionary$2(s,e){var d=e.length,h,g,_;return!s||!s.state||(h=s.state,h.wrap!==0&&h.mode!==DICT$2)?Z_STREAM_ERROR$4:h.mode===DICT$2&&(g=1,g=adler32$6(g,e,d,0),g!==h.check)?Z_DATA_ERROR$4:(_=updatewindow$2(s,e,d,d),_?(h.mode=MEM$2,Z_MEM_ERROR$2):(h.havedict=1,Z_OK$6))}inflate$d.inflateReset=inflateReset$2;inflate$d.inflateReset2=inflateReset2$2;inflate$d.inflateResetKeep=inflateResetKeep$2;inflate$d.inflateInit=inflateInit$2;inflate$d.inflateInit2=inflateInit2$2;inflate$d.inflate=inflate$c;inflate$d.inflateEnd=inflateEnd$2;inflate$d.inflateGetHeader=inflateGetHeader$2;inflate$d.inflateSetDictionary=inflateSetDictionary$2;inflate$d.inflateInfo="pako inflate (from Nodeca project)";var constants$5={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function GZheader$5(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader$2=GZheader$5,zlib_inflate$2=inflate$d,utils$e=common$2,strings$6=strings$8,c$2=constants$5,msg$6=messages$2,ZStream$6=zstream$2,GZheader$4=gzheader$2,toString$4=Object.prototype.toString;function Inflate$2(s){if(!(this instanceof Inflate$2))return new Inflate$2(s);this.options=utils$e.assign({chunkSize:16384,windowBits:0,to:""},s||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(s&&s.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream$6,this.strm.avail_out=0;var d=zlib_inflate$2.inflateInit2(this.strm,e.windowBits);if(d!==c$2.Z_OK)throw new Error(msg$6[d]);if(this.header=new GZheader$4,zlib_inflate$2.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=strings$6.string2buf(e.dictionary):toString$4.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(d=zlib_inflate$2.inflateSetDictionary(this.strm,e.dictionary),d!==c$2.Z_OK)))throw new Error(msg$6[d])}Inflate$2.prototype.push=function(s,e){var d=this.strm,h=this.options.chunkSize,g=this.options.dictionary,_,j,$,et,tt,nt=!1;if(this.ended)return!1;j=e===~~e?e:e===!0?c$2.Z_FINISH:c$2.Z_NO_FLUSH,typeof s=="string"?d.input=strings$6.binstring2buf(s):toString$4.call(s)==="[object ArrayBuffer]"?d.input=new Uint8Array(s):d.input=s,d.next_in=0,d.avail_in=d.input.length;do{if(d.avail_out===0&&(d.output=new utils$e.Buf8(h),d.next_out=0,d.avail_out=h),_=zlib_inflate$2.inflate(d,c$2.Z_NO_FLUSH),_===c$2.Z_NEED_DICT&&g&&(_=zlib_inflate$2.inflateSetDictionary(this.strm,g)),_===c$2.Z_BUF_ERROR&&nt===!0&&(_=c$2.Z_OK,nt=!1),_!==c$2.Z_STREAM_END&&_!==c$2.Z_OK)return this.onEnd(_),this.ended=!0,!1;d.next_out&&(d.avail_out===0||_===c$2.Z_STREAM_END||d.avail_in===0&&(j===c$2.Z_FINISH||j===c$2.Z_SYNC_FLUSH))&&(this.options.to==="string"?($=strings$6.utf8border(d.output,d.next_out),et=d.next_out-$,tt=strings$6.buf2string(d.output,$),d.next_out=et,d.avail_out=h-et,et&&utils$e.arraySet(d.output,d.output,$,et,0),this.onData(tt)):this.onData(utils$e.shrinkBuf(d.output,d.next_out))),d.avail_in===0&&d.avail_out===0&&(nt=!0)}while((d.avail_in>0||d.avail_out===0)&&_!==c$2.Z_STREAM_END);return _===c$2.Z_STREAM_END&&(j=c$2.Z_FINISH),j===c$2.Z_FINISH?(_=zlib_inflate$2.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===c$2.Z_OK):(j===c$2.Z_SYNC_FLUSH&&(this.onEnd(c$2.Z_OK),d.avail_out=0),!0)};Inflate$2.prototype.onData=function(s){this.chunks.push(s)};Inflate$2.prototype.onEnd=function(s){s===c$2.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils$e.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function inflate$b(s,e){var d=new Inflate$2(e);if(d.push(s,!0),d.err)throw d.msg||msg$6[d.err];return d.result}function inflateRaw$2(s,e){return e=e||{},e.raw=!0,inflate$b(s,e)}inflate$e.Inflate=Inflate$2;inflate$e.inflate=inflate$b;inflate$e.inflateRaw=inflateRaw$2;inflate$e.ungzip=inflate$b;var assign$2=common$2.assign,deflate$a=deflate$e,inflate$a=inflate$e,constants$4=constants$5,pako$4={};assign$2(pako$4,deflate$a,inflate$a,constants$4);var pako_1$2=pako$4;const pako$5=getDefaultExportFromCjs(pako_1$2);var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256);for(var i=0;i<chars.length;i++)lookup[chars.charCodeAt(i)]=i;var decodeFromBase64=function(s){var e=s.length*.75,d=s.length,h,g=0,_,j,$,et;s[s.length-1]==="="&&(e--,s[s.length-2]==="="&&e--);var tt=new Uint8Array(e);for(h=0;h<d;h+=4)_=lookup[s.charCodeAt(h)],j=lookup[s.charCodeAt(h+1)],$=lookup[s.charCodeAt(h+2)],et=lookup[s.charCodeAt(h+3)],tt[g++]=_<<2|j>>4,tt[g++]=(j&15)<<4|$>>2,tt[g++]=($&3)<<6|et&63;return tt},arrayToString=function(s){for(var e="",d=0;d<s.length;d++)e+=String.fromCharCode(s[d]);return e},decompressJson=function(s){return arrayToString(pako$5.inflate(decodeFromBase64(s)))},padStart=function(s,e,d){for(var h="",g=0,_=e-s.length;g<_;g++)h+=d;return h+s};const CourierBoldCompressed="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",CourierBoldObliqueCompressed="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",CourierObliqueCompressed="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",CourierCompressed="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",HelveticaBoldCompressed="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",HelveticaBoldObliqueCompressed="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",HelveticaObliqueCompressed="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",HelveticaCompressed="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",TimesBoldCompressed="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",TimesBoldItalicCompressed="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",TimesItalicCompressed="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",TimesRomanCompressed="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",SymbolCompressed="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",ZapfDingbatsCompressed="eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w==";var compressedJsonForFontName={Courier:CourierCompressed,"Courier-Bold":CourierBoldCompressed,"Courier-Oblique":CourierObliqueCompressed,"Courier-BoldOblique":CourierBoldObliqueCompressed,Helvetica:HelveticaCompressed,"Helvetica-Bold":HelveticaBoldCompressed,"Helvetica-Oblique":HelveticaObliqueCompressed,"Helvetica-BoldOblique":HelveticaBoldObliqueCompressed,"Times-Roman":TimesRomanCompressed,"Times-Bold":TimesBoldCompressed,"Times-Italic":TimesItalicCompressed,"Times-BoldItalic":TimesBoldItalicCompressed,Symbol:SymbolCompressed,ZapfDingbats:ZapfDingbatsCompressed},FontNames;(function(s){s.Courier="Courier",s.CourierBold="Courier-Bold",s.CourierOblique="Courier-Oblique",s.CourierBoldOblique="Courier-BoldOblique",s.Helvetica="Helvetica",s.HelveticaBold="Helvetica-Bold",s.HelveticaOblique="Helvetica-Oblique",s.HelveticaBoldOblique="Helvetica-BoldOblique",s.TimesRoman="Times-Roman",s.TimesRomanBold="Times-Bold",s.TimesRomanItalic="Times-Italic",s.TimesRomanBoldItalic="Times-BoldItalic",s.Symbol="Symbol",s.ZapfDingbats="ZapfDingbats"})(FontNames||(FontNames={}));var fontCache={},Font=function(){function s(){var e=this;this.getWidthOfGlyph=function(d){return e.CharWidths[d]},this.getXAxisKerningForPair=function(d,h){return(e.KernPairXAmounts[d]||{})[h]}}return s.load=function(e){var d=fontCache[e];if(d)return d;var h=decompressJson(compressedJsonForFontName[e]),g=Object.assign(new s,JSON.parse(h));return g.CharWidths=g.CharMetrics.reduce(function(_,j){return _[j.N]=j.WX,_},{}),g.KernPairXAmounts=g.KernPairs.reduce(function(_,j){var $=j[0],et=j[1],tt=j[2];return _[$]||(_[$]={}),_[$][et]=tt,_},{}),fontCache[e]=g,g},s}();const AllEncodingsCompressed="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";var decompressedEncodings=decompressJson(AllEncodingsCompressed),allUnicodeMappings=JSON.parse(decompressedEncodings),Encoding=function(){function s(e,d){var h=this;this.canEncodeUnicodeCodePoint=function(g){return g in h.unicodeMappings},this.encodeUnicodeCodePoint=function(g){var _=h.unicodeMappings[g];if(!_){var j=String.fromCharCode(g),$="0x"+padStart(g.toString(16),4,"0"),et=h.name+' cannot encode "'+j+'" ('+$+")";throw new Error(et)}return{code:_[0],name:_[1]}},this.name=e,this.supportedCodePoints=Object.keys(d).map(Number).sort(function(g,_){return g-_}),this.unicodeMappings=d}return s}(),Encodings={Symbol:new Encoding("Symbol",allUnicodeMappings.symbol),ZapfDingbats:new Encoding("ZapfDingbats",allUnicodeMappings.zapfdingbats),WinAnsi:new Encoding("WinAnsi",allUnicodeMappings.win1252)},values=function(s){return Object.keys(s).map(function(e){return s[e]})},StandardFontValues=values(FontNames),isStandardFont=function(s){return StandardFontValues.includes(s)},rectanglesAreEqual=function(s,e){return s.x===e.x&&s.y===e.y&&s.width===e.width&&s.height===e.height},backtick=function(s){return"`"+s+"`"},singleQuote=function(s){return"'"+s+"'"},formatValue=function(s){var e=typeof s;return e==="string"?singleQuote(s):e==="undefined"?backtick(s):s},createValueErrorMsg=function(s,e,d){for(var h=new Array(d.length),g=0,_=d.length;g<_;g++){var j=d[g];h[g]=formatValue(j)}var $=h.join(" or ");return backtick(e)+" must be one of "+$+", but was actually "+formatValue(s)},assertIsOneOf=function(s,e,d){Array.isArray(d)||(d=values(d));for(var h=0,g=d.length;h<g;h++)if(s===d[h])return;throw new TypeError(createValueErrorMsg(s,e,d))},assertIsOneOfOrUndefined=function(s,e,d){Array.isArray(d)||(d=values(d)),assertIsOneOf(s,e,d.concat(void 0))},assertIsSubset=function(s,e,d){Array.isArray(d)||(d=values(d));for(var h=0,g=s.length;h<g;h++)assertIsOneOf(s[h],e,d)},getType=function(s){return s===null?"null":s===void 0?"undefined":typeof s=="string"?"string":isNaN(s)?"NaN":typeof s=="number"?"number":typeof s=="boolean"?"boolean":typeof s=="symbol"?"symbol":typeof s=="bigint"?"bigint":s.constructor&&s.constructor.name?s.constructor.name:s.name?s.name:s.constructor?String(s.constructor):String(s)},isType=function(s,e){return e==="null"?s===null:e==="undefined"?s===void 0:e==="string"?typeof s=="string":e==="number"?typeof s=="number"&&!isNaN(s):e==="boolean"?typeof s=="boolean":e==="symbol"?typeof s=="symbol":e==="bigint"?typeof s=="bigint":e===Date?s instanceof Date:e===Array?s instanceof Array:e===Uint8Array?s instanceof Uint8Array:e===ArrayBuffer?s instanceof ArrayBuffer:e===Function?s instanceof Function:s instanceof e[0]},createTypeErrorMsg=function(s,e,d){for(var h=new Array(d.length),g=0,_=d.length;g<_;g++){var j=d[g];j==="null"&&(h[g]=backtick("null")),j==="undefined"&&(h[g]=backtick("undefined")),j==="string"?h[g]=backtick("string"):j==="number"?h[g]=backtick("number"):j==="boolean"?h[g]=backtick("boolean"):j==="symbol"?h[g]=backtick("symbol"):j==="bigint"?h[g]=backtick("bigint"):j===Array?h[g]=backtick("Array"):j===Uint8Array?h[g]=backtick("Uint8Array"):j===ArrayBuffer?h[g]=backtick("ArrayBuffer"):h[g]=backtick(j[1])}var $=h.join(" or ");return backtick(e)+" must be of type "+$+", but was actually of type "+backtick(getType(s))},assertIs=function(s,e,d){for(var h=0,g=d.length;h<g;h++)if(isType(s,d[h]))return;throw new TypeError(createTypeErrorMsg(s,e,d))},assertOrUndefined=function(s,e,d){assertIs(s,e,d.concat("undefined"))},assertEachIs=function(s,e,d){for(var h=0,g=s.length;h<g;h++)assertIs(s[h],e,d)},assertRange=function(s,e,d,h){if(assertIs(s,e,["number"]),assertIs(d,"min",["number"]),assertIs(h,"max",["number"]),h=Math.max(d,h),s<d||s>h)throw new Error(backtick(e)+" must be at least "+d+" and at most "+h+", but was actually "+s)},assertRangeOrUndefined=function(s,e,d,h){assertIs(s,e,["number","undefined"]),typeof s=="number"&&assertRange(s,e,d,h)},assertMultiple=function(s,e,d){if(assertIs(s,e,["number"]),s%d!==0)throw new Error(backtick(e)+" must be a multiple of "+d+", but was actually "+s)},assertInteger=function(s,e){if(!Number.isInteger(s))throw new Error(backtick(e)+" must be an integer, but was actually "+s)},assertPositive=function(s,e){if(![1,0].includes(Math.sign(s)))throw new Error(backtick(e)+" must be a positive number or 0, but was actually "+s)},pdfDocEncodingToUnicode=new Uint16Array(256);for(var idx$2=0;idx$2<256;idx$2++)pdfDocEncodingToUnicode[idx$2]=idx$2;pdfDocEncodingToUnicode[22]=toCharCode("");pdfDocEncodingToUnicode[24]=toCharCode("˘");pdfDocEncodingToUnicode[25]=toCharCode("ˇ");pdfDocEncodingToUnicode[26]=toCharCode("ˆ");pdfDocEncodingToUnicode[27]=toCharCode("˙");pdfDocEncodingToUnicode[28]=toCharCode("˝");pdfDocEncodingToUnicode[29]=toCharCode("˛");pdfDocEncodingToUnicode[30]=toCharCode("˚");pdfDocEncodingToUnicode[31]=toCharCode("˜");pdfDocEncodingToUnicode[127]=toCharCode("�");pdfDocEncodingToUnicode[128]=toCharCode("•");pdfDocEncodingToUnicode[129]=toCharCode("†");pdfDocEncodingToUnicode[130]=toCharCode("‡");pdfDocEncodingToUnicode[131]=toCharCode("…");pdfDocEncodingToUnicode[132]=toCharCode("—");pdfDocEncodingToUnicode[133]=toCharCode("–");pdfDocEncodingToUnicode[134]=toCharCode("ƒ");pdfDocEncodingToUnicode[135]=toCharCode("⁄");pdfDocEncodingToUnicode[136]=toCharCode("‹");pdfDocEncodingToUnicode[137]=toCharCode("›");pdfDocEncodingToUnicode[138]=toCharCode("−");pdfDocEncodingToUnicode[139]=toCharCode("‰");pdfDocEncodingToUnicode[140]=toCharCode("„");pdfDocEncodingToUnicode[141]=toCharCode("“");pdfDocEncodingToUnicode[142]=toCharCode("”");pdfDocEncodingToUnicode[143]=toCharCode("‘");pdfDocEncodingToUnicode[144]=toCharCode("’");pdfDocEncodingToUnicode[145]=toCharCode("‚");pdfDocEncodingToUnicode[146]=toCharCode("™");pdfDocEncodingToUnicode[147]=toCharCode("ﬁ");pdfDocEncodingToUnicode[148]=toCharCode("ﬂ");pdfDocEncodingToUnicode[149]=toCharCode("Ł");pdfDocEncodingToUnicode[150]=toCharCode("Œ");pdfDocEncodingToUnicode[151]=toCharCode("Š");pdfDocEncodingToUnicode[152]=toCharCode("Ÿ");pdfDocEncodingToUnicode[153]=toCharCode("Ž");pdfDocEncodingToUnicode[154]=toCharCode("ı");pdfDocEncodingToUnicode[155]=toCharCode("ł");pdfDocEncodingToUnicode[156]=toCharCode("œ");pdfDocEncodingToUnicode[157]=toCharCode("š");pdfDocEncodingToUnicode[158]=toCharCode("ž");pdfDocEncodingToUnicode[159]=toCharCode("�");pdfDocEncodingToUnicode[160]=toCharCode("€");pdfDocEncodingToUnicode[173]=toCharCode("�");var pdfDocEncodingDecode=function(s){for(var e=new Array(s.length),d=0,h=s.length;d<h;d++)e[d]=pdfDocEncodingToUnicode[s[d]];return String.fromCodePoint.apply(String,e)},Cache=function(){function s(e){this.populate=e,this.value=void 0}return s.prototype.getValue=function(){return this.value},s.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},s.prototype.invalidate=function(){this.value=void 0},s.populatedBy=function(e){return new s(e)},s}(),MethodNotImplementedError=function(s){__extends(e,s);function e(d,h){var g=this,_="Method "+d+"."+h+"() not implemented";return g=s.call(this,_)||this,g}return e}(Error),PrivateConstructorError=function(s){__extends(e,s);function e(d){var h=this,g="Cannot construct "+d+" - it has a private constructor";return h=s.call(this,g)||this,h}return e}(Error),UnexpectedObjectTypeError=function(s){__extends(e,s);function e(d,h){var g=this,_=function(et){var tt,nt;return(tt=et==null?void 0:et.name)!==null&&tt!==void 0?tt:(nt=et==null?void 0:et.constructor)===null||nt===void 0?void 0:nt.name},j=Array.isArray(d)?d.map(_):[_(d)],$="Expected instance of "+j.join(" or ")+", "+("but got instance of "+(h&&_(h)));return g=s.call(this,$)||this,g}return e}(Error),UnsupportedEncodingError=function(s){__extends(e,s);function e(d){var h=this,g=d+" stream encoding not supported";return h=s.call(this,g)||this,h}return e}(Error),ReparseError=function(s){__extends(e,s);function e(d,h){var g=this,_="Cannot call "+d+"."+h+"() more than once";return g=s.call(this,_)||this,g}return e}(Error);(function(s){__extends(e,s);function e(d){var h=this,g="Missing catalog (ref="+d+")";return h=s.call(this,g)||this,h}return e})(Error);var MissingPageContentsEmbeddingError=function(s){__extends(e,s);function e(){var d=this,h="Can't embed page with missing Contents";return d=s.call(this,h)||this,d}return e}(Error),UnrecognizedStreamTypeError=function(s){__extends(e,s);function e(d){var h,g,_,j=this,$=(_=(g=(h=d==null?void 0:d.contructor)===null||h===void 0?void 0:h.name)!==null&&g!==void 0?g:d==null?void 0:d.name)!==null&&_!==void 0?_:d,et="Unrecognized stream type: "+$;return j=s.call(this,et)||this,j}return e}(Error),PageEmbeddingMismatchedContextError=function(s){__extends(e,s);function e(){var d=this,h="Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.";return d=s.call(this,h)||this,d}return e}(Error),PDFArrayIsNotRectangleError=function(s){__extends(e,s);function e(d){var h=this,g="Attempted to convert PDFArray with "+d+" elements to rectangle, but must have exactly 4 elements.";return h=s.call(this,g)||this,h}return e}(Error),InvalidPDFDateStringError=function(s){__extends(e,s);function e(d){var h=this,g='Attempted to convert "'+d+'" to a date, but it does not match the PDF date string format.';return h=s.call(this,g)||this,h}return e}(Error),InvalidTargetIndexError=function(s){__extends(e,s);function e(d,h){var g=this,_="Invalid targetIndex specified: targetIndex="+d+" must be less than Count="+h;return g=s.call(this,_)||this,g}return e}(Error),CorruptPageTreeError=function(s){__extends(e,s);function e(d,h){var g=this,_="Failed to "+h+" at targetIndex="+d+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return g=s.call(this,_)||this,g}return e}(Error),IndexOutOfBoundsError=function(s){__extends(e,s);function e(d,h,g){var _=this,j="index should be at least "+h+" and at most "+g+", but was actually "+d;return _=s.call(this,j)||this,_}return e}(Error),InvalidAcroFieldValueError=function(s){__extends(e,s);function e(){var d=this,h="Attempted to set invalid field value";return d=s.call(this,h)||this,d}return e}(Error),MultiSelectValueError=function(s){__extends(e,s);function e(){var d=this,h="Attempted to select multiple values for single-select field";return d=s.call(this,h)||this,d}return e}(Error),MissingDAEntryError=function(s){__extends(e,s);function e(d){var h=this,g="No /DA (default appearance) entry found for field: "+d;return h=s.call(this,g)||this,h}return e}(Error),MissingTfOperatorError=function(s){__extends(e,s);function e(d){var h=this,g="No Tf operator found for DA of field: "+d;return h=s.call(this,g)||this,h}return e}(Error),NumberParsingError=function(s){__extends(e,s);function e(d,h){var g=this,_="Failed to parse number "+("(line:"+d.line+" col:"+d.column+" offset="+d.offset+'): "'+h+'"');return g=s.call(this,_)||this,g}return e}(Error),PDFParsingError=function(s){__extends(e,s);function e(d,h){var g=this,_="Failed to parse PDF document "+("(line:"+d.line+" col:"+d.column+" offset="+d.offset+"): "+h);return g=s.call(this,_)||this,g}return e}(Error),NextByteAssertionError=function(s){__extends(e,s);function e(d,h,g){var _=this,j="Expected next byte to be "+h+" but it was actually "+g;return _=s.call(this,d,j)||this,_}return e}(PDFParsingError),PDFObjectParsingError=function(s){__extends(e,s);function e(d,h){var g=this,_="Failed to parse PDF object starting with the following byte: "+h;return g=s.call(this,d,_)||this,g}return e}(PDFParsingError),PDFInvalidObjectParsingError=function(s){__extends(e,s);function e(d){var h=this,g="Failed to parse invalid PDF object";return h=s.call(this,d,g)||this,h}return e}(PDFParsingError),PDFStreamParsingError=function(s){__extends(e,s);function e(d){var h=this,g="Failed to parse PDF stream";return h=s.call(this,d,g)||this,h}return e}(PDFParsingError),UnbalancedParenthesisError=function(s){__extends(e,s);function e(d){var h=this,g="Failed to parse PDF literal string due to unbalanced parenthesis";return h=s.call(this,d,g)||this,h}return e}(PDFParsingError),StalledParserError=function(s){__extends(e,s);function e(d){var h=this,g="Parser stalled";return h=s.call(this,d,g)||this,h}return e}(PDFParsingError),MissingPDFHeaderError=function(s){__extends(e,s);function e(d){var h=this,g="No PDF header found";return h=s.call(this,d,g)||this,h}return e}(PDFParsingError),MissingKeywordError=function(s){__extends(e,s);function e(d,h){var g=this,_="Did not find expected keyword '"+arrayAsString(h)+"'";return g=s.call(this,d,_)||this,g}return e}(PDFParsingError),CharCodes;(function(s){s[s.Null=0]="Null",s[s.Backspace=8]="Backspace",s[s.Tab=9]="Tab",s[s.Newline=10]="Newline",s[s.FormFeed=12]="FormFeed",s[s.CarriageReturn=13]="CarriageReturn",s[s.Space=32]="Space",s[s.ExclamationPoint=33]="ExclamationPoint",s[s.Hash=35]="Hash",s[s.Percent=37]="Percent",s[s.LeftParen=40]="LeftParen",s[s.RightParen=41]="RightParen",s[s.Plus=43]="Plus",s[s.Minus=45]="Minus",s[s.Dash=45]="Dash",s[s.Period=46]="Period",s[s.ForwardSlash=47]="ForwardSlash",s[s.Zero=48]="Zero",s[s.One=49]="One",s[s.Two=50]="Two",s[s.Three=51]="Three",s[s.Four=52]="Four",s[s.Five=53]="Five",s[s.Six=54]="Six",s[s.Seven=55]="Seven",s[s.Eight=56]="Eight",s[s.Nine=57]="Nine",s[s.LessThan=60]="LessThan",s[s.GreaterThan=62]="GreaterThan",s[s.A=65]="A",s[s.D=68]="D",s[s.E=69]="E",s[s.F=70]="F",s[s.O=79]="O",s[s.P=80]="P",s[s.R=82]="R",s[s.LeftSquareBracket=91]="LeftSquareBracket",s[s.BackSlash=92]="BackSlash",s[s.RightSquareBracket=93]="RightSquareBracket",s[s.a=97]="a",s[s.b=98]="b",s[s.d=100]="d",s[s.e=101]="e",s[s.f=102]="f",s[s.i=105]="i",s[s.j=106]="j",s[s.l=108]="l",s[s.m=109]="m",s[s.n=110]="n",s[s.o=111]="o",s[s.r=114]="r",s[s.s=115]="s",s[s.t=116]="t",s[s.u=117]="u",s[s.x=120]="x",s[s.LeftCurly=123]="LeftCurly",s[s.RightCurly=125]="RightCurly",s[s.Tilde=126]="Tilde"})(CharCodes||(CharCodes={}));const CharCodes$1=CharCodes;var common$1={};(function(s){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function d(_,j){return Object.prototype.hasOwnProperty.call(_,j)}s.assign=function(_){for(var j=Array.prototype.slice.call(arguments,1);j.length;){var $=j.shift();if($){if(typeof $!="object")throw new TypeError($+"must be non-object");for(var et in $)d($,et)&&(_[et]=$[et])}}return _},s.shrinkBuf=function(_,j){return _.length===j?_:_.subarray?_.subarray(0,j):(_.length=j,_)};var h={arraySet:function(_,j,$,et,tt){if(j.subarray&&_.subarray){_.set(j.subarray($,$+et),tt);return}for(var nt=0;nt<et;nt++)_[tt+nt]=j[$+nt]},flattenChunks:function(_){var j,$,et,tt,nt,rt;for(et=0,j=0,$=_.length;j<$;j++)et+=_[j].length;for(rt=new Uint8Array(et),tt=0,j=0,$=_.length;j<$;j++)nt=_[j],rt.set(nt,tt),tt+=nt.length;return rt}},g={arraySet:function(_,j,$,et,tt){for(var nt=0;nt<et;nt++)_[tt+nt]=j[$+nt]},flattenChunks:function(_){return[].concat.apply([],_)}};s.setTyped=function(_){_?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,h)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,g))},s.setTyped(e)})(common$1);var deflate$9={},deflate$8={},trees$3={},utils$d=common$1,Z_FIXED$3=4,Z_BINARY$1=0,Z_TEXT$1=1,Z_UNKNOWN$3=2;function zero$3(s){for(var e=s.length;--e>=0;)s[e]=0}var STORED_BLOCK$1=0,STATIC_TREES$1=1,DYN_TREES$1=2,MIN_MATCH$3=3,MAX_MATCH$3=258,LENGTH_CODES$3=29,LITERALS$3=256,L_CODES$3=LITERALS$3+1+LENGTH_CODES$3,D_CODES$3=30,BL_CODES$3=19,HEAP_SIZE$3=2*L_CODES$3+1,MAX_BITS$3=15,Buf_size$1=16,MAX_BL_BITS$1=7,END_BLOCK$1=256,REP_3_6$1=16,REPZ_3_10$1=17,REPZ_11_138$1=18,extra_lbits$1=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits$1=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits$1=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order$1=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN$1=512,static_ltree$1=new Array((L_CODES$3+2)*2);zero$3(static_ltree$1);var static_dtree$1=new Array(D_CODES$3*2);zero$3(static_dtree$1);var _dist_code$1=new Array(DIST_CODE_LEN$1);zero$3(_dist_code$1);var _length_code$1=new Array(MAX_MATCH$3-MIN_MATCH$3+1);zero$3(_length_code$1);var base_length$1=new Array(LENGTH_CODES$3);zero$3(base_length$1);var base_dist$1=new Array(D_CODES$3);zero$3(base_dist$1);function StaticTreeDesc$1(s,e,d,h,g){this.static_tree=s,this.extra_bits=e,this.extra_base=d,this.elems=h,this.max_length=g,this.has_stree=s&&s.length}var static_l_desc$1,static_d_desc$1,static_bl_desc$1;function TreeDesc$1(s,e){this.dyn_tree=s,this.max_code=0,this.stat_desc=e}function d_code$1(s){return s<256?_dist_code$1[s]:_dist_code$1[256+(s>>>7)]}function put_short$1(s,e){s.pending_buf[s.pending++]=e&255,s.pending_buf[s.pending++]=e>>>8&255}function send_bits$1(s,e,d){s.bi_valid>Buf_size$1-d?(s.bi_buf|=e<<s.bi_valid&65535,put_short$1(s,s.bi_buf),s.bi_buf=e>>Buf_size$1-s.bi_valid,s.bi_valid+=d-Buf_size$1):(s.bi_buf|=e<<s.bi_valid&65535,s.bi_valid+=d)}function send_code$1(s,e,d){send_bits$1(s,d[e*2],d[e*2+1])}function bi_reverse$1(s,e){var d=0;do d|=s&1,s>>>=1,d<<=1;while(--e>0);return d>>>1}function bi_flush$1(s){s.bi_valid===16?(put_short$1(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):s.bi_valid>=8&&(s.pending_buf[s.pending++]=s.bi_buf&255,s.bi_buf>>=8,s.bi_valid-=8)}function gen_bitlen$1(s,e){var d=e.dyn_tree,h=e.max_code,g=e.stat_desc.static_tree,_=e.stat_desc.has_stree,j=e.stat_desc.extra_bits,$=e.stat_desc.extra_base,et=e.stat_desc.max_length,tt,nt,rt,it,st,ot,lt=0;for(it=0;it<=MAX_BITS$3;it++)s.bl_count[it]=0;for(d[s.heap[s.heap_max]*2+1]=0,tt=s.heap_max+1;tt<HEAP_SIZE$3;tt++)nt=s.heap[tt],it=d[d[nt*2+1]*2+1]+1,it>et&&(it=et,lt++),d[nt*2+1]=it,!(nt>h)&&(s.bl_count[it]++,st=0,nt>=$&&(st=j[nt-$]),ot=d[nt*2],s.opt_len+=ot*(it+st),_&&(s.static_len+=ot*(g[nt*2+1]+st)));if(lt!==0){do{for(it=et-1;s.bl_count[it]===0;)it--;s.bl_count[it]--,s.bl_count[it+1]+=2,s.bl_count[et]--,lt-=2}while(lt>0);for(it=et;it!==0;it--)for(nt=s.bl_count[it];nt!==0;)rt=s.heap[--tt],!(rt>h)&&(d[rt*2+1]!==it&&(s.opt_len+=(it-d[rt*2+1])*d[rt*2],d[rt*2+1]=it),nt--)}}function gen_codes$1(s,e,d){var h=new Array(MAX_BITS$3+1),g=0,_,j;for(_=1;_<=MAX_BITS$3;_++)h[_]=g=g+d[_-1]<<1;for(j=0;j<=e;j++){var $=s[j*2+1];$!==0&&(s[j*2]=bi_reverse$1(h[$]++,$))}}function tr_static_init$1(){var s,e,d,h,g,_=new Array(MAX_BITS$3+1);for(d=0,h=0;h<LENGTH_CODES$3-1;h++)for(base_length$1[h]=d,s=0;s<1<<extra_lbits$1[h];s++)_length_code$1[d++]=h;for(_length_code$1[d-1]=h,g=0,h=0;h<16;h++)for(base_dist$1[h]=g,s=0;s<1<<extra_dbits$1[h];s++)_dist_code$1[g++]=h;for(g>>=7;h<D_CODES$3;h++)for(base_dist$1[h]=g<<7,s=0;s<1<<extra_dbits$1[h]-7;s++)_dist_code$1[256+g++]=h;for(e=0;e<=MAX_BITS$3;e++)_[e]=0;for(s=0;s<=143;)static_ltree$1[s*2+1]=8,s++,_[8]++;for(;s<=255;)static_ltree$1[s*2+1]=9,s++,_[9]++;for(;s<=279;)static_ltree$1[s*2+1]=7,s++,_[7]++;for(;s<=287;)static_ltree$1[s*2+1]=8,s++,_[8]++;for(gen_codes$1(static_ltree$1,L_CODES$3+1,_),s=0;s<D_CODES$3;s++)static_dtree$1[s*2+1]=5,static_dtree$1[s*2]=bi_reverse$1(s,5);static_l_desc$1=new StaticTreeDesc$1(static_ltree$1,extra_lbits$1,LITERALS$3+1,L_CODES$3,MAX_BITS$3),static_d_desc$1=new StaticTreeDesc$1(static_dtree$1,extra_dbits$1,0,D_CODES$3,MAX_BITS$3),static_bl_desc$1=new StaticTreeDesc$1(new Array(0),extra_blbits$1,0,BL_CODES$3,MAX_BL_BITS$1)}function init_block$1(s){var e;for(e=0;e<L_CODES$3;e++)s.dyn_ltree[e*2]=0;for(e=0;e<D_CODES$3;e++)s.dyn_dtree[e*2]=0;for(e=0;e<BL_CODES$3;e++)s.bl_tree[e*2]=0;s.dyn_ltree[END_BLOCK$1*2]=1,s.opt_len=s.static_len=0,s.last_lit=s.matches=0}function bi_windup$1(s){s.bi_valid>8?put_short$1(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0}function copy_block$1(s,e,d,h){bi_windup$1(s),put_short$1(s,d),put_short$1(s,~d),utils$d.arraySet(s.pending_buf,s.window,e,d,s.pending),s.pending+=d}function smaller$1(s,e,d,h){var g=e*2,_=d*2;return s[g]<s[_]||s[g]===s[_]&&h[e]<=h[d]}function pqdownheap$1(s,e,d){for(var h=s.heap[d],g=d<<1;g<=s.heap_len&&(g<s.heap_len&&smaller$1(e,s.heap[g+1],s.heap[g],s.depth)&&g++,!smaller$1(e,h,s.heap[g],s.depth));)s.heap[d]=s.heap[g],d=g,g<<=1;s.heap[d]=h}function compress_block$1(s,e,d){var h,g,_=0,j,$;if(s.last_lit!==0)do h=s.pending_buf[s.d_buf+_*2]<<8|s.pending_buf[s.d_buf+_*2+1],g=s.pending_buf[s.l_buf+_],_++,h===0?send_code$1(s,g,e):(j=_length_code$1[g],send_code$1(s,j+LITERALS$3+1,e),$=extra_lbits$1[j],$!==0&&(g-=base_length$1[j],send_bits$1(s,g,$)),h--,j=d_code$1(h),send_code$1(s,j,d),$=extra_dbits$1[j],$!==0&&(h-=base_dist$1[j],send_bits$1(s,h,$)));while(_<s.last_lit);send_code$1(s,END_BLOCK$1,e)}function build_tree$1(s,e){var d=e.dyn_tree,h=e.stat_desc.static_tree,g=e.stat_desc.has_stree,_=e.stat_desc.elems,j,$,et=-1,tt;for(s.heap_len=0,s.heap_max=HEAP_SIZE$3,j=0;j<_;j++)d[j*2]!==0?(s.heap[++s.heap_len]=et=j,s.depth[j]=0):d[j*2+1]=0;for(;s.heap_len<2;)tt=s.heap[++s.heap_len]=et<2?++et:0,d[tt*2]=1,s.depth[tt]=0,s.opt_len--,g&&(s.static_len-=h[tt*2+1]);for(e.max_code=et,j=s.heap_len>>1;j>=1;j--)pqdownheap$1(s,d,j);tt=_;do j=s.heap[1],s.heap[1]=s.heap[s.heap_len--],pqdownheap$1(s,d,1),$=s.heap[1],s.heap[--s.heap_max]=j,s.heap[--s.heap_max]=$,d[tt*2]=d[j*2]+d[$*2],s.depth[tt]=(s.depth[j]>=s.depth[$]?s.depth[j]:s.depth[$])+1,d[j*2+1]=d[$*2+1]=tt,s.heap[1]=tt++,pqdownheap$1(s,d,1);while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],gen_bitlen$1(s,e),gen_codes$1(d,et,s.bl_count)}function scan_tree$1(s,e,d){var h,g=-1,_,j=e[0*2+1],$=0,et=7,tt=4;for(j===0&&(et=138,tt=3),e[(d+1)*2+1]=65535,h=0;h<=d;h++)_=j,j=e[(h+1)*2+1],!(++$<et&&_===j)&&($<tt?s.bl_tree[_*2]+=$:_!==0?(_!==g&&s.bl_tree[_*2]++,s.bl_tree[REP_3_6$1*2]++):$<=10?s.bl_tree[REPZ_3_10$1*2]++:s.bl_tree[REPZ_11_138$1*2]++,$=0,g=_,j===0?(et=138,tt=3):_===j?(et=6,tt=3):(et=7,tt=4))}function send_tree$1(s,e,d){var h,g=-1,_,j=e[0*2+1],$=0,et=7,tt=4;for(j===0&&(et=138,tt=3),h=0;h<=d;h++)if(_=j,j=e[(h+1)*2+1],!(++$<et&&_===j)){if($<tt)do send_code$1(s,_,s.bl_tree);while(--$!==0);else _!==0?(_!==g&&(send_code$1(s,_,s.bl_tree),$--),send_code$1(s,REP_3_6$1,s.bl_tree),send_bits$1(s,$-3,2)):$<=10?(send_code$1(s,REPZ_3_10$1,s.bl_tree),send_bits$1(s,$-3,3)):(send_code$1(s,REPZ_11_138$1,s.bl_tree),send_bits$1(s,$-11,7));$=0,g=_,j===0?(et=138,tt=3):_===j?(et=6,tt=3):(et=7,tt=4)}}function build_bl_tree$1(s){var e;for(scan_tree$1(s,s.dyn_ltree,s.l_desc.max_code),scan_tree$1(s,s.dyn_dtree,s.d_desc.max_code),build_tree$1(s,s.bl_desc),e=BL_CODES$3-1;e>=3&&s.bl_tree[bl_order$1[e]*2+1]===0;e--);return s.opt_len+=3*(e+1)+5+5+4,e}function send_all_trees$1(s,e,d,h){var g;for(send_bits$1(s,e-257,5),send_bits$1(s,d-1,5),send_bits$1(s,h-4,4),g=0;g<h;g++)send_bits$1(s,s.bl_tree[bl_order$1[g]*2+1],3);send_tree$1(s,s.dyn_ltree,e-1),send_tree$1(s,s.dyn_dtree,d-1)}function detect_data_type$1(s){var e=4093624447,d;for(d=0;d<=31;d++,e>>>=1)if(e&1&&s.dyn_ltree[d*2]!==0)return Z_BINARY$1;if(s.dyn_ltree[9*2]!==0||s.dyn_ltree[10*2]!==0||s.dyn_ltree[13*2]!==0)return Z_TEXT$1;for(d=32;d<LITERALS$3;d++)if(s.dyn_ltree[d*2]!==0)return Z_TEXT$1;return Z_BINARY$1}var static_init_done$1=!1;function _tr_init$1(s){static_init_done$1||(tr_static_init$1(),static_init_done$1=!0),s.l_desc=new TreeDesc$1(s.dyn_ltree,static_l_desc$1),s.d_desc=new TreeDesc$1(s.dyn_dtree,static_d_desc$1),s.bl_desc=new TreeDesc$1(s.bl_tree,static_bl_desc$1),s.bi_buf=0,s.bi_valid=0,init_block$1(s)}function _tr_stored_block$1(s,e,d,h){send_bits$1(s,(STORED_BLOCK$1<<1)+(h?1:0),3),copy_block$1(s,e,d)}function _tr_align$1(s){send_bits$1(s,STATIC_TREES$1<<1,3),send_code$1(s,END_BLOCK$1,static_ltree$1),bi_flush$1(s)}function _tr_flush_block$1(s,e,d,h){var g,_,j=0;s.level>0?(s.strm.data_type===Z_UNKNOWN$3&&(s.strm.data_type=detect_data_type$1(s)),build_tree$1(s,s.l_desc),build_tree$1(s,s.d_desc),j=build_bl_tree$1(s),g=s.opt_len+3+7>>>3,_=s.static_len+3+7>>>3,_<=g&&(g=_)):g=_=d+5,d+4<=g&&e!==-1?_tr_stored_block$1(s,e,d,h):s.strategy===Z_FIXED$3||_===g?(send_bits$1(s,(STATIC_TREES$1<<1)+(h?1:0),3),compress_block$1(s,static_ltree$1,static_dtree$1)):(send_bits$1(s,(DYN_TREES$1<<1)+(h?1:0),3),send_all_trees$1(s,s.l_desc.max_code+1,s.d_desc.max_code+1,j+1),compress_block$1(s,s.dyn_ltree,s.dyn_dtree)),init_block$1(s),h&&bi_windup$1(s)}function _tr_tally$1(s,e,d){return s.pending_buf[s.d_buf+s.last_lit*2]=e>>>8&255,s.pending_buf[s.d_buf+s.last_lit*2+1]=e&255,s.pending_buf[s.l_buf+s.last_lit]=d&255,s.last_lit++,e===0?s.dyn_ltree[d*2]++:(s.matches++,e--,s.dyn_ltree[(_length_code$1[d]+LITERALS$3+1)*2]++,s.dyn_dtree[d_code$1(e)*2]++),s.last_lit===s.lit_bufsize-1}trees$3._tr_init=_tr_init$1;trees$3._tr_stored_block=_tr_stored_block$1;trees$3._tr_flush_block=_tr_flush_block$1;trees$3._tr_tally=_tr_tally$1;trees$3._tr_align=_tr_align$1;function adler32$5(s,e,d,h){for(var g=s&65535|0,_=s>>>16&65535|0,j=0;d!==0;){j=d>2e3?2e3:d,d-=j;do g=g+e[h++]|0,_=_+g|0;while(--j);g%=65521,_%=65521}return g|_<<16|0}var adler32_1$1=adler32$5;function makeTable$1(){for(var s,e=[],d=0;d<256;d++){s=d;for(var h=0;h<8;h++)s=s&1?3988292384^s>>>1:s>>>1;e[d]=s}return e}var crcTable$1=makeTable$1();function crc32$5(s,e,d,h){var g=crcTable$1,_=h+d;s^=-1;for(var j=h;j<_;j++)s=s>>>8^g[(s^e[j])&255];return s^-1}var crc32_1$1=crc32$5,messages$1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},utils$c=common$1,trees$2=trees$3,adler32$4=adler32_1$1,crc32$4=crc32_1$1,msg$5=messages$1,Z_NO_FLUSH$3=0,Z_PARTIAL_FLUSH$1=1,Z_FULL_FLUSH$1=3,Z_FINISH$5=4,Z_BLOCK$3=5,Z_OK$5=0,Z_STREAM_END$5=1,Z_STREAM_ERROR$3=-2,Z_DATA_ERROR$3=-3,Z_BUF_ERROR$3=-5,Z_DEFAULT_COMPRESSION$3=-1,Z_FILTERED$1=1,Z_HUFFMAN_ONLY$1=2,Z_RLE$1=3,Z_FIXED$2=4,Z_DEFAULT_STRATEGY$3=0,Z_UNKNOWN$2=2,Z_DEFLATED$5=8,MAX_MEM_LEVEL$1=9,MAX_WBITS$3=15,DEF_MEM_LEVEL$1=8,LENGTH_CODES$2=29,LITERALS$2=256,L_CODES$2=LITERALS$2+1+LENGTH_CODES$2,D_CODES$2=30,BL_CODES$2=19,HEAP_SIZE$2=2*L_CODES$2+1,MAX_BITS$2=15,MIN_MATCH$2=3,MAX_MATCH$2=258,MIN_LOOKAHEAD$1=MAX_MATCH$2+MIN_MATCH$2+1,PRESET_DICT$1=32,INIT_STATE$1=42,EXTRA_STATE$1=69,NAME_STATE$1=73,COMMENT_STATE$1=91,HCRC_STATE$1=103,BUSY_STATE$1=113,FINISH_STATE$1=666,BS_NEED_MORE$1=1,BS_BLOCK_DONE$1=2,BS_FINISH_STARTED$1=3,BS_FINISH_DONE$1=4,OS_CODE$1=3;function err$1(s,e){return s.msg=msg$5[e],e}function rank$1(s){return(s<<1)-(s>4?9:0)}function zero$2(s){for(var e=s.length;--e>=0;)s[e]=0}function flush_pending$1(s){var e=s.state,d=e.pending;d>s.avail_out&&(d=s.avail_out),d!==0&&(utils$c.arraySet(s.output,e.pending_buf,e.pending_out,d,s.next_out),s.next_out+=d,e.pending_out+=d,s.total_out+=d,s.avail_out-=d,e.pending-=d,e.pending===0&&(e.pending_out=0))}function flush_block_only$1(s,e){trees$2._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,e),s.block_start=s.strstart,flush_pending$1(s.strm)}function put_byte$1(s,e){s.pending_buf[s.pending++]=e}function putShortMSB$1(s,e){s.pending_buf[s.pending++]=e>>>8&255,s.pending_buf[s.pending++]=e&255}function read_buf$1(s,e,d,h){var g=s.avail_in;return g>h&&(g=h),g===0?0:(s.avail_in-=g,utils$c.arraySet(e,s.input,s.next_in,g,d),s.state.wrap===1?s.adler=adler32$4(s.adler,e,g,d):s.state.wrap===2&&(s.adler=crc32$4(s.adler,e,g,d)),s.next_in+=g,s.total_in+=g,g)}function longest_match$1(s,e){var d=s.max_chain_length,h=s.strstart,g,_,j=s.prev_length,$=s.nice_match,et=s.strstart>s.w_size-MIN_LOOKAHEAD$1?s.strstart-(s.w_size-MIN_LOOKAHEAD$1):0,tt=s.window,nt=s.w_mask,rt=s.prev,it=s.strstart+MAX_MATCH$2,st=tt[h+j-1],ot=tt[h+j];s.prev_length>=s.good_match&&(d>>=2),$>s.lookahead&&($=s.lookahead);do if(g=e,!(tt[g+j]!==ot||tt[g+j-1]!==st||tt[g]!==tt[h]||tt[++g]!==tt[h+1])){h+=2,g++;do;while(tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&h<it);if(_=MAX_MATCH$2-(it-h),h=it-MAX_MATCH$2,_>j){if(s.match_start=e,j=_,_>=$)break;st=tt[h+j-1],ot=tt[h+j]}}while((e=rt[e&nt])>et&&--d!==0);return j<=s.lookahead?j:s.lookahead}function fill_window$1(s){var e=s.w_size,d,h,g,_,j;do{if(_=s.window_size-s.lookahead-s.strstart,s.strstart>=e+(e-MIN_LOOKAHEAD$1)){utils$c.arraySet(s.window,s.window,e,e,0),s.match_start-=e,s.strstart-=e,s.block_start-=e,h=s.hash_size,d=h;do g=s.head[--d],s.head[d]=g>=e?g-e:0;while(--h);h=e,d=h;do g=s.prev[--d],s.prev[d]=g>=e?g-e:0;while(--h);_+=e}if(s.strm.avail_in===0)break;if(h=read_buf$1(s.strm,s.window,s.strstart+s.lookahead,_),s.lookahead+=h,s.lookahead+s.insert>=MIN_MATCH$2)for(j=s.strstart-s.insert,s.ins_h=s.window[j],s.ins_h=(s.ins_h<<s.hash_shift^s.window[j+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[j+MIN_MATCH$2-1])&s.hash_mask,s.prev[j&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=j,j++,s.insert--,!(s.lookahead+s.insert<MIN_MATCH$2)););}while(s.lookahead<MIN_LOOKAHEAD$1&&s.strm.avail_in!==0)}function deflate_stored$1(s,e){var d=65535;for(d>s.pending_buf_size-5&&(d=s.pending_buf_size-5);;){if(s.lookahead<=1){if(fill_window$1(s),s.lookahead===0&&e===Z_NO_FLUSH$3)return BS_NEED_MORE$1;if(s.lookahead===0)break}s.strstart+=s.lookahead,s.lookahead=0;var h=s.block_start+d;if((s.strstart===0||s.strstart>=h)&&(s.lookahead=s.strstart-h,s.strstart=h,flush_block_only$1(s,!1),s.strm.avail_out===0)||s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD$1&&(flush_block_only$1(s,!1),s.strm.avail_out===0))return BS_NEED_MORE$1}return s.insert=0,e===Z_FINISH$5?(flush_block_only$1(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED$1:BS_FINISH_DONE$1):(s.strstart>s.block_start&&(flush_block_only$1(s,!1),s.strm.avail_out===0),BS_NEED_MORE$1)}function deflate_fast$1(s,e){for(var d,h;;){if(s.lookahead<MIN_LOOKAHEAD$1){if(fill_window$1(s),s.lookahead<MIN_LOOKAHEAD$1&&e===Z_NO_FLUSH$3)return BS_NEED_MORE$1;if(s.lookahead===0)break}if(d=0,s.lookahead>=MIN_MATCH$2&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH$2-1])&s.hash_mask,d=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),d!==0&&s.strstart-d<=s.w_size-MIN_LOOKAHEAD$1&&(s.match_length=longest_match$1(s,d)),s.match_length>=MIN_MATCH$2)if(h=trees$2._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH$2),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH$2){s.match_length--;do s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH$2-1])&s.hash_mask,d=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart;while(--s.match_length!==0);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else h=trees$2._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(h&&(flush_block_only$1(s,!1),s.strm.avail_out===0))return BS_NEED_MORE$1}return s.insert=s.strstart<MIN_MATCH$2-1?s.strstart:MIN_MATCH$2-1,e===Z_FINISH$5?(flush_block_only$1(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED$1:BS_FINISH_DONE$1):s.last_lit&&(flush_block_only$1(s,!1),s.strm.avail_out===0)?BS_NEED_MORE$1:BS_BLOCK_DONE$1}function deflate_slow$1(s,e){for(var d,h,g;;){if(s.lookahead<MIN_LOOKAHEAD$1){if(fill_window$1(s),s.lookahead<MIN_LOOKAHEAD$1&&e===Z_NO_FLUSH$3)return BS_NEED_MORE$1;if(s.lookahead===0)break}if(d=0,s.lookahead>=MIN_MATCH$2&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH$2-1])&s.hash_mask,d=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=MIN_MATCH$2-1,d!==0&&s.prev_length<s.max_lazy_match&&s.strstart-d<=s.w_size-MIN_LOOKAHEAD$1&&(s.match_length=longest_match$1(s,d),s.match_length<=5&&(s.strategy===Z_FILTERED$1||s.match_length===MIN_MATCH$2&&s.strstart-s.match_start>4096)&&(s.match_length=MIN_MATCH$2-1)),s.prev_length>=MIN_MATCH$2&&s.match_length<=s.prev_length){g=s.strstart+s.lookahead-MIN_MATCH$2,h=trees$2._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH$2),s.lookahead-=s.prev_length-1,s.prev_length-=2;do++s.strstart<=g&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH$2-1])&s.hash_mask,d=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart);while(--s.prev_length!==0);if(s.match_available=0,s.match_length=MIN_MATCH$2-1,s.strstart++,h&&(flush_block_only$1(s,!1),s.strm.avail_out===0))return BS_NEED_MORE$1}else if(s.match_available){if(h=trees$2._tr_tally(s,0,s.window[s.strstart-1]),h&&flush_block_only$1(s,!1),s.strstart++,s.lookahead--,s.strm.avail_out===0)return BS_NEED_MORE$1}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(h=trees$2._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<MIN_MATCH$2-1?s.strstart:MIN_MATCH$2-1,e===Z_FINISH$5?(flush_block_only$1(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED$1:BS_FINISH_DONE$1):s.last_lit&&(flush_block_only$1(s,!1),s.strm.avail_out===0)?BS_NEED_MORE$1:BS_BLOCK_DONE$1}function deflate_rle$1(s,e){for(var d,h,g,_,j=s.window;;){if(s.lookahead<=MAX_MATCH$2){if(fill_window$1(s),s.lookahead<=MAX_MATCH$2&&e===Z_NO_FLUSH$3)return BS_NEED_MORE$1;if(s.lookahead===0)break}if(s.match_length=0,s.lookahead>=MIN_MATCH$2&&s.strstart>0&&(g=s.strstart-1,h=j[g],h===j[++g]&&h===j[++g]&&h===j[++g])){_=s.strstart+MAX_MATCH$2;do;while(h===j[++g]&&h===j[++g]&&h===j[++g]&&h===j[++g]&&h===j[++g]&&h===j[++g]&&h===j[++g]&&h===j[++g]&&g<_);s.match_length=MAX_MATCH$2-(_-g),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=MIN_MATCH$2?(d=trees$2._tr_tally(s,1,s.match_length-MIN_MATCH$2),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(d=trees$2._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),d&&(flush_block_only$1(s,!1),s.strm.avail_out===0))return BS_NEED_MORE$1}return s.insert=0,e===Z_FINISH$5?(flush_block_only$1(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED$1:BS_FINISH_DONE$1):s.last_lit&&(flush_block_only$1(s,!1),s.strm.avail_out===0)?BS_NEED_MORE$1:BS_BLOCK_DONE$1}function deflate_huff$1(s,e){for(var d;;){if(s.lookahead===0&&(fill_window$1(s),s.lookahead===0)){if(e===Z_NO_FLUSH$3)return BS_NEED_MORE$1;break}if(s.match_length=0,d=trees$2._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,d&&(flush_block_only$1(s,!1),s.strm.avail_out===0))return BS_NEED_MORE$1}return s.insert=0,e===Z_FINISH$5?(flush_block_only$1(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED$1:BS_FINISH_DONE$1):s.last_lit&&(flush_block_only$1(s,!1),s.strm.avail_out===0)?BS_NEED_MORE$1:BS_BLOCK_DONE$1}function Config$2(s,e,d,h,g){this.good_length=s,this.max_lazy=e,this.nice_length=d,this.max_chain=h,this.func=g}var configuration_table$1;configuration_table$1=[new Config$2(0,0,0,0,deflate_stored$1),new Config$2(4,4,8,4,deflate_fast$1),new Config$2(4,5,16,8,deflate_fast$1),new Config$2(4,6,32,32,deflate_fast$1),new Config$2(4,4,16,16,deflate_slow$1),new Config$2(8,16,32,32,deflate_slow$1),new Config$2(8,16,128,128,deflate_slow$1),new Config$2(8,32,128,256,deflate_slow$1),new Config$2(32,128,258,1024,deflate_slow$1),new Config$2(32,258,258,4096,deflate_slow$1)];function lm_init$1(s){s.window_size=2*s.w_size,zero$2(s.head),s.max_lazy_match=configuration_table$1[s.level].max_lazy,s.good_match=configuration_table$1[s.level].good_length,s.nice_match=configuration_table$1[s.level].nice_length,s.max_chain_length=configuration_table$1[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=MIN_MATCH$2-1,s.match_available=0,s.ins_h=0}function DeflateState$1(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$5,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils$c.Buf16(HEAP_SIZE$2*2),this.dyn_dtree=new utils$c.Buf16((2*D_CODES$2+1)*2),this.bl_tree=new utils$c.Buf16((2*BL_CODES$2+1)*2),zero$2(this.dyn_ltree),zero$2(this.dyn_dtree),zero$2(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils$c.Buf16(MAX_BITS$2+1),this.heap=new utils$c.Buf16(2*L_CODES$2+1),zero$2(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils$c.Buf16(2*L_CODES$2+1),zero$2(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep$1(s){var e;return!s||!s.state?err$1(s,Z_STREAM_ERROR$3):(s.total_in=s.total_out=0,s.data_type=Z_UNKNOWN$2,e=s.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?INIT_STATE$1:BUSY_STATE$1,s.adler=e.wrap===2?0:1,e.last_flush=Z_NO_FLUSH$3,trees$2._tr_init(e),Z_OK$5)}function deflateReset$1(s){var e=deflateResetKeep$1(s);return e===Z_OK$5&&lm_init$1(s.state),e}function deflateSetHeader$1(s,e){return!s||!s.state||s.state.wrap!==2?Z_STREAM_ERROR$3:(s.state.gzhead=e,Z_OK$5)}function deflateInit2$1(s,e,d,h,g,_){if(!s)return Z_STREAM_ERROR$3;var j=1;if(e===Z_DEFAULT_COMPRESSION$3&&(e=6),h<0?(j=0,h=-h):h>15&&(j=2,h-=16),g<1||g>MAX_MEM_LEVEL$1||d!==Z_DEFLATED$5||h<8||h>15||e<0||e>9||_<0||_>Z_FIXED$2)return err$1(s,Z_STREAM_ERROR$3);h===8&&(h=9);var $=new DeflateState$1;return s.state=$,$.strm=s,$.wrap=j,$.gzhead=null,$.w_bits=h,$.w_size=1<<$.w_bits,$.w_mask=$.w_size-1,$.hash_bits=g+7,$.hash_size=1<<$.hash_bits,$.hash_mask=$.hash_size-1,$.hash_shift=~~(($.hash_bits+MIN_MATCH$2-1)/MIN_MATCH$2),$.window=new utils$c.Buf8($.w_size*2),$.head=new utils$c.Buf16($.hash_size),$.prev=new utils$c.Buf16($.w_size),$.lit_bufsize=1<<g+6,$.pending_buf_size=$.lit_bufsize*4,$.pending_buf=new utils$c.Buf8($.pending_buf_size),$.d_buf=1*$.lit_bufsize,$.l_buf=3*$.lit_bufsize,$.level=e,$.strategy=_,$.method=d,deflateReset$1(s)}function deflateInit$1(s,e){return deflateInit2$1(s,e,Z_DEFLATED$5,MAX_WBITS$3,DEF_MEM_LEVEL$1,Z_DEFAULT_STRATEGY$3)}function deflate$7(s,e){var d,h,g,_;if(!s||!s.state||e>Z_BLOCK$3||e<0)return s?err$1(s,Z_STREAM_ERROR$3):Z_STREAM_ERROR$3;if(h=s.state,!s.output||!s.input&&s.avail_in!==0||h.status===FINISH_STATE$1&&e!==Z_FINISH$5)return err$1(s,s.avail_out===0?Z_BUF_ERROR$3:Z_STREAM_ERROR$3);if(h.strm=s,d=h.last_flush,h.last_flush=e,h.status===INIT_STATE$1)if(h.wrap===2)s.adler=0,put_byte$1(h,31),put_byte$1(h,139),put_byte$1(h,8),h.gzhead?(put_byte$1(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),put_byte$1(h,h.gzhead.time&255),put_byte$1(h,h.gzhead.time>>8&255),put_byte$1(h,h.gzhead.time>>16&255),put_byte$1(h,h.gzhead.time>>24&255),put_byte$1(h,h.level===9?2:h.strategy>=Z_HUFFMAN_ONLY$1||h.level<2?4:0),put_byte$1(h,h.gzhead.os&255),h.gzhead.extra&&h.gzhead.extra.length&&(put_byte$1(h,h.gzhead.extra.length&255),put_byte$1(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(s.adler=crc32$4(s.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=EXTRA_STATE$1):(put_byte$1(h,0),put_byte$1(h,0),put_byte$1(h,0),put_byte$1(h,0),put_byte$1(h,0),put_byte$1(h,h.level===9?2:h.strategy>=Z_HUFFMAN_ONLY$1||h.level<2?4:0),put_byte$1(h,OS_CODE$1),h.status=BUSY_STATE$1);else{var j=Z_DEFLATED$5+(h.w_bits-8<<4)<<8,$=-1;h.strategy>=Z_HUFFMAN_ONLY$1||h.level<2?$=0:h.level<6?$=1:h.level===6?$=2:$=3,j|=$<<6,h.strstart!==0&&(j|=PRESET_DICT$1),j+=31-j%31,h.status=BUSY_STATE$1,putShortMSB$1(h,j),h.strstart!==0&&(putShortMSB$1(h,s.adler>>>16),putShortMSB$1(h,s.adler&65535)),s.adler=1}if(h.status===EXTRA_STATE$1)if(h.gzhead.extra){for(g=h.pending;h.gzindex<(h.gzhead.extra.length&65535)&&!(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>g&&(s.adler=crc32$4(s.adler,h.pending_buf,h.pending-g,g)),flush_pending$1(s),g=h.pending,h.pending===h.pending_buf_size));)put_byte$1(h,h.gzhead.extra[h.gzindex]&255),h.gzindex++;h.gzhead.hcrc&&h.pending>g&&(s.adler=crc32$4(s.adler,h.pending_buf,h.pending-g,g)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=NAME_STATE$1)}else h.status=NAME_STATE$1;if(h.status===NAME_STATE$1)if(h.gzhead.name){g=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>g&&(s.adler=crc32$4(s.adler,h.pending_buf,h.pending-g,g)),flush_pending$1(s),g=h.pending,h.pending===h.pending_buf_size)){_=1;break}h.gzindex<h.gzhead.name.length?_=h.gzhead.name.charCodeAt(h.gzindex++)&255:_=0,put_byte$1(h,_)}while(_!==0);h.gzhead.hcrc&&h.pending>g&&(s.adler=crc32$4(s.adler,h.pending_buf,h.pending-g,g)),_===0&&(h.gzindex=0,h.status=COMMENT_STATE$1)}else h.status=COMMENT_STATE$1;if(h.status===COMMENT_STATE$1)if(h.gzhead.comment){g=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>g&&(s.adler=crc32$4(s.adler,h.pending_buf,h.pending-g,g)),flush_pending$1(s),g=h.pending,h.pending===h.pending_buf_size)){_=1;break}h.gzindex<h.gzhead.comment.length?_=h.gzhead.comment.charCodeAt(h.gzindex++)&255:_=0,put_byte$1(h,_)}while(_!==0);h.gzhead.hcrc&&h.pending>g&&(s.adler=crc32$4(s.adler,h.pending_buf,h.pending-g,g)),_===0&&(h.status=HCRC_STATE$1)}else h.status=HCRC_STATE$1;if(h.status===HCRC_STATE$1&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&flush_pending$1(s),h.pending+2<=h.pending_buf_size&&(put_byte$1(h,s.adler&255),put_byte$1(h,s.adler>>8&255),s.adler=0,h.status=BUSY_STATE$1)):h.status=BUSY_STATE$1),h.pending!==0){if(flush_pending$1(s),s.avail_out===0)return h.last_flush=-1,Z_OK$5}else if(s.avail_in===0&&rank$1(e)<=rank$1(d)&&e!==Z_FINISH$5)return err$1(s,Z_BUF_ERROR$3);if(h.status===FINISH_STATE$1&&s.avail_in!==0)return err$1(s,Z_BUF_ERROR$3);if(s.avail_in!==0||h.lookahead!==0||e!==Z_NO_FLUSH$3&&h.status!==FINISH_STATE$1){var et=h.strategy===Z_HUFFMAN_ONLY$1?deflate_huff$1(h,e):h.strategy===Z_RLE$1?deflate_rle$1(h,e):configuration_table$1[h.level].func(h,e);if((et===BS_FINISH_STARTED$1||et===BS_FINISH_DONE$1)&&(h.status=FINISH_STATE$1),et===BS_NEED_MORE$1||et===BS_FINISH_STARTED$1)return s.avail_out===0&&(h.last_flush=-1),Z_OK$5;if(et===BS_BLOCK_DONE$1&&(e===Z_PARTIAL_FLUSH$1?trees$2._tr_align(h):e!==Z_BLOCK$3&&(trees$2._tr_stored_block(h,0,0,!1),e===Z_FULL_FLUSH$1&&(zero$2(h.head),h.lookahead===0&&(h.strstart=0,h.block_start=0,h.insert=0))),flush_pending$1(s),s.avail_out===0))return h.last_flush=-1,Z_OK$5}return e!==Z_FINISH$5?Z_OK$5:h.wrap<=0?Z_STREAM_END$5:(h.wrap===2?(put_byte$1(h,s.adler&255),put_byte$1(h,s.adler>>8&255),put_byte$1(h,s.adler>>16&255),put_byte$1(h,s.adler>>24&255),put_byte$1(h,s.total_in&255),put_byte$1(h,s.total_in>>8&255),put_byte$1(h,s.total_in>>16&255),put_byte$1(h,s.total_in>>24&255)):(putShortMSB$1(h,s.adler>>>16),putShortMSB$1(h,s.adler&65535)),flush_pending$1(s),h.wrap>0&&(h.wrap=-h.wrap),h.pending!==0?Z_OK$5:Z_STREAM_END$5)}function deflateEnd$1(s){var e;return!s||!s.state?Z_STREAM_ERROR$3:(e=s.state.status,e!==INIT_STATE$1&&e!==EXTRA_STATE$1&&e!==NAME_STATE$1&&e!==COMMENT_STATE$1&&e!==HCRC_STATE$1&&e!==BUSY_STATE$1&&e!==FINISH_STATE$1?err$1(s,Z_STREAM_ERROR$3):(s.state=null,e===BUSY_STATE$1?err$1(s,Z_DATA_ERROR$3):Z_OK$5))}function deflateSetDictionary$1(s,e){var d=e.length,h,g,_,j,$,et,tt,nt;if(!s||!s.state||(h=s.state,j=h.wrap,j===2||j===1&&h.status!==INIT_STATE$1||h.lookahead))return Z_STREAM_ERROR$3;for(j===1&&(s.adler=adler32$4(s.adler,e,d,0)),h.wrap=0,d>=h.w_size&&(j===0&&(zero$2(h.head),h.strstart=0,h.block_start=0,h.insert=0),nt=new utils$c.Buf8(h.w_size),utils$c.arraySet(nt,e,d-h.w_size,h.w_size,0),e=nt,d=h.w_size),$=s.avail_in,et=s.next_in,tt=s.input,s.avail_in=d,s.next_in=0,s.input=e,fill_window$1(h);h.lookahead>=MIN_MATCH$2;){g=h.strstart,_=h.lookahead-(MIN_MATCH$2-1);do h.ins_h=(h.ins_h<<h.hash_shift^h.window[g+MIN_MATCH$2-1])&h.hash_mask,h.prev[g&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=g,g++;while(--_);h.strstart=g,h.lookahead=MIN_MATCH$2-1,fill_window$1(h)}return h.strstart+=h.lookahead,h.block_start=h.strstart,h.insert=h.lookahead,h.lookahead=0,h.match_length=h.prev_length=MIN_MATCH$2-1,h.match_available=0,s.next_in=et,s.input=tt,s.avail_in=$,h.wrap=j,Z_OK$5}deflate$8.deflateInit=deflateInit$1;deflate$8.deflateInit2=deflateInit2$1;deflate$8.deflateReset=deflateReset$1;deflate$8.deflateResetKeep=deflateResetKeep$1;deflate$8.deflateSetHeader=deflateSetHeader$1;deflate$8.deflate=deflate$7;deflate$8.deflateEnd=deflateEnd$1;deflate$8.deflateSetDictionary=deflateSetDictionary$1;deflate$8.deflateInfo="pako deflate (from Nodeca project)";var strings$5={},utils$b=common$1,STR_APPLY_OK$1=!0,STR_APPLY_UIA_OK$1=!0;try{String.fromCharCode.apply(null,[0])}catch{STR_APPLY_OK$1=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK$1=!1}var _utf8len$1=new utils$b.Buf8(256);for(var q$1=0;q$1<256;q$1++)_utf8len$1[q$1]=q$1>=252?6:q$1>=248?5:q$1>=240?4:q$1>=224?3:q$1>=192?2:1;_utf8len$1[254]=_utf8len$1[254]=1;strings$5.string2buf=function(s){var e,d,h,g,_,j=s.length,$=0;for(g=0;g<j;g++)d=s.charCodeAt(g),(d&64512)===55296&&g+1<j&&(h=s.charCodeAt(g+1),(h&64512)===56320&&(d=65536+(d-55296<<10)+(h-56320),g++)),$+=d<128?1:d<2048?2:d<65536?3:4;for(e=new utils$b.Buf8($),_=0,g=0;_<$;g++)d=s.charCodeAt(g),(d&64512)===55296&&g+1<j&&(h=s.charCodeAt(g+1),(h&64512)===56320&&(d=65536+(d-55296<<10)+(h-56320),g++)),d<128?e[_++]=d:d<2048?(e[_++]=192|d>>>6,e[_++]=128|d&63):d<65536?(e[_++]=224|d>>>12,e[_++]=128|d>>>6&63,e[_++]=128|d&63):(e[_++]=240|d>>>18,e[_++]=128|d>>>12&63,e[_++]=128|d>>>6&63,e[_++]=128|d&63);return e};function buf2binstring$1(s,e){if(e<65534&&(s.subarray&&STR_APPLY_UIA_OK$1||!s.subarray&&STR_APPLY_OK$1))return String.fromCharCode.apply(null,utils$b.shrinkBuf(s,e));for(var d="",h=0;h<e;h++)d+=String.fromCharCode(s[h]);return d}strings$5.buf2binstring=function(s){return buf2binstring$1(s,s.length)};strings$5.binstring2buf=function(s){for(var e=new utils$b.Buf8(s.length),d=0,h=e.length;d<h;d++)e[d]=s.charCodeAt(d);return e};strings$5.buf2string=function(s,e){var d,h,g,_,j=e||s.length,$=new Array(j*2);for(h=0,d=0;d<j;){if(g=s[d++],g<128){$[h++]=g;continue}if(_=_utf8len$1[g],_>4){$[h++]=65533,d+=_-1;continue}for(g&=_===2?31:_===3?15:7;_>1&&d<j;)g=g<<6|s[d++]&63,_--;if(_>1){$[h++]=65533;continue}g<65536?$[h++]=g:(g-=65536,$[h++]=55296|g>>10&1023,$[h++]=56320|g&1023)}return buf2binstring$1($,h)};strings$5.utf8border=function(s,e){var d;for(e=e||s.length,e>s.length&&(e=s.length),d=e-1;d>=0&&(s[d]&192)===128;)d--;return d<0||d===0?e:d+_utf8len$1[s[d]]>e?d:e};function ZStream$5(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream$1=ZStream$5,zlib_deflate$1=deflate$8,utils$a=common$1,strings$4=strings$5,msg$4=messages$1,ZStream$4=zstream$1,toString$3=Object.prototype.toString,Z_NO_FLUSH$2=0,Z_FINISH$4=4,Z_OK$4=0,Z_STREAM_END$4=1,Z_SYNC_FLUSH$1=2,Z_DEFAULT_COMPRESSION$2=-1,Z_DEFAULT_STRATEGY$2=0,Z_DEFLATED$4=8;function Deflate$1(s){if(!(this instanceof Deflate$1))return new Deflate$1(s);this.options=utils$a.assign({level:Z_DEFAULT_COMPRESSION$2,method:Z_DEFLATED$4,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY$2,to:""},s||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream$4,this.strm.avail_out=0;var d=zlib_deflate$1.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(d!==Z_OK$4)throw new Error(msg$4[d]);if(e.header&&zlib_deflate$1.deflateSetHeader(this.strm,e.header),e.dictionary){var h;if(typeof e.dictionary=="string"?h=strings$4.string2buf(e.dictionary):toString$3.call(e.dictionary)==="[object ArrayBuffer]"?h=new Uint8Array(e.dictionary):h=e.dictionary,d=zlib_deflate$1.deflateSetDictionary(this.strm,h),d!==Z_OK$4)throw new Error(msg$4[d]);this._dict_set=!0}}Deflate$1.prototype.push=function(s,e){var d=this.strm,h=this.options.chunkSize,g,_;if(this.ended)return!1;_=e===~~e?e:e===!0?Z_FINISH$4:Z_NO_FLUSH$2,typeof s=="string"?d.input=strings$4.string2buf(s):toString$3.call(s)==="[object ArrayBuffer]"?d.input=new Uint8Array(s):d.input=s,d.next_in=0,d.avail_in=d.input.length;do{if(d.avail_out===0&&(d.output=new utils$a.Buf8(h),d.next_out=0,d.avail_out=h),g=zlib_deflate$1.deflate(d,_),g!==Z_STREAM_END$4&&g!==Z_OK$4)return this.onEnd(g),this.ended=!0,!1;(d.avail_out===0||d.avail_in===0&&(_===Z_FINISH$4||_===Z_SYNC_FLUSH$1))&&(this.options.to==="string"?this.onData(strings$4.buf2binstring(utils$a.shrinkBuf(d.output,d.next_out))):this.onData(utils$a.shrinkBuf(d.output,d.next_out)))}while((d.avail_in>0||d.avail_out===0)&&g!==Z_STREAM_END$4);return _===Z_FINISH$4?(g=zlib_deflate$1.deflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===Z_OK$4):(_===Z_SYNC_FLUSH$1&&(this.onEnd(Z_OK$4),d.avail_out=0),!0)};Deflate$1.prototype.onData=function(s){this.chunks.push(s)};Deflate$1.prototype.onEnd=function(s){s===Z_OK$4&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils$a.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function deflate$6(s,e){var d=new Deflate$1(e);if(d.push(s,!0),d.err)throw d.msg||msg$4[d.err];return d.result}function deflateRaw$1(s,e){return e=e||{},e.raw=!0,deflate$6(s,e)}function gzip$1(s,e){return e=e||{},e.gzip=!0,deflate$6(s,e)}deflate$9.Deflate=Deflate$1;deflate$9.deflate=deflate$6;deflate$9.deflateRaw=deflateRaw$1;deflate$9.gzip=gzip$1;var inflate$9={},inflate$8={},BAD$3=30,TYPE$3=12,inffast$1=function(e,d){var h,g,_,j,$,et,tt,nt,rt,it,st,ot,lt,dt,at,ut,pt,vt,ht,yt,gt,ft,_t,Et,mt;h=e.state,g=e.next_in,Et=e.input,_=g+(e.avail_in-5),j=e.next_out,mt=e.output,$=j-(d-e.avail_out),et=j+(e.avail_out-257),tt=h.dmax,nt=h.wsize,rt=h.whave,it=h.wnext,st=h.window,ot=h.hold,lt=h.bits,dt=h.lencode,at=h.distcode,ut=(1<<h.lenbits)-1,pt=(1<<h.distbits)-1;e:do{lt<15&&(ot+=Et[g++]<<lt,lt+=8,ot+=Et[g++]<<lt,lt+=8),vt=dt[ot&ut];t:for(;;){if(ht=vt>>>24,ot>>>=ht,lt-=ht,ht=vt>>>16&255,ht===0)mt[j++]=vt&65535;else if(ht&16){yt=vt&65535,ht&=15,ht&&(lt<ht&&(ot+=Et[g++]<<lt,lt+=8),yt+=ot&(1<<ht)-1,ot>>>=ht,lt-=ht),lt<15&&(ot+=Et[g++]<<lt,lt+=8,ot+=Et[g++]<<lt,lt+=8),vt=at[ot&pt];n:for(;;){if(ht=vt>>>24,ot>>>=ht,lt-=ht,ht=vt>>>16&255,ht&16){if(gt=vt&65535,ht&=15,lt<ht&&(ot+=Et[g++]<<lt,lt+=8,lt<ht&&(ot+=Et[g++]<<lt,lt+=8)),gt+=ot&(1<<ht)-1,gt>tt){e.msg="invalid distance too far back",h.mode=BAD$3;break e}if(ot>>>=ht,lt-=ht,ht=j-$,gt>ht){if(ht=gt-ht,ht>rt&&h.sane){e.msg="invalid distance too far back",h.mode=BAD$3;break e}if(ft=0,_t=st,it===0){if(ft+=nt-ht,ht<yt){yt-=ht;do mt[j++]=st[ft++];while(--ht);ft=j-gt,_t=mt}}else if(it<ht){if(ft+=nt+it-ht,ht-=it,ht<yt){yt-=ht;do mt[j++]=st[ft++];while(--ht);if(ft=0,it<yt){ht=it,yt-=ht;do mt[j++]=st[ft++];while(--ht);ft=j-gt,_t=mt}}}else if(ft+=it-ht,ht<yt){yt-=ht;do mt[j++]=st[ft++];while(--ht);ft=j-gt,_t=mt}for(;yt>2;)mt[j++]=_t[ft++],mt[j++]=_t[ft++],mt[j++]=_t[ft++],yt-=3;yt&&(mt[j++]=_t[ft++],yt>1&&(mt[j++]=_t[ft++]))}else{ft=j-gt;do mt[j++]=mt[ft++],mt[j++]=mt[ft++],mt[j++]=mt[ft++],yt-=3;while(yt>2);yt&&(mt[j++]=mt[ft++],yt>1&&(mt[j++]=mt[ft++]))}}else if(ht&64){e.msg="invalid distance code",h.mode=BAD$3;break e}else{vt=at[(vt&65535)+(ot&(1<<ht)-1)];continue n}break}}else if(ht&64)if(ht&32){h.mode=TYPE$3;break e}else{e.msg="invalid literal/length code",h.mode=BAD$3;break e}else{vt=dt[(vt&65535)+(ot&(1<<ht)-1)];continue t}break}}while(g<_&&j<et);yt=lt>>3,g-=yt,lt-=yt<<3,ot&=(1<<lt)-1,e.next_in=g,e.next_out=j,e.avail_in=g<_?5+(_-g):5-(g-_),e.avail_out=j<et?257+(et-j):257-(j-et),h.hold=ot,h.bits=lt},utils$9=common$1,MAXBITS$1=15,ENOUGH_LENS$3=852,ENOUGH_DISTS$3=592,CODES$3=0,LENS$3=1,DISTS$3=2,lbase$1=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext$1=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase$1=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext$1=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],inftrees$1=function(e,d,h,g,_,j,$,et){var tt=et.bits,nt=0,rt=0,it=0,st=0,ot=0,lt=0,dt=0,at=0,ut=0,pt=0,vt,ht,yt,gt,ft,_t=null,Et=0,mt,xt=new utils$9.Buf16(MAXBITS$1+1),St=new utils$9.Buf16(MAXBITS$1+1),Ut=null,kt=0,Bt,$t,Gt;for(nt=0;nt<=MAXBITS$1;nt++)xt[nt]=0;for(rt=0;rt<g;rt++)xt[d[h+rt]]++;for(ot=tt,st=MAXBITS$1;st>=1&&xt[st]===0;st--);if(ot>st&&(ot=st),st===0)return _[j++]=1<<24|64<<16|0,_[j++]=1<<24|64<<16|0,et.bits=1,0;for(it=1;it<st&&xt[it]===0;it++);for(ot<it&&(ot=it),at=1,nt=1;nt<=MAXBITS$1;nt++)if(at<<=1,at-=xt[nt],at<0)return-1;if(at>0&&(e===CODES$3||st!==1))return-1;for(St[1]=0,nt=1;nt<MAXBITS$1;nt++)St[nt+1]=St[nt]+xt[nt];for(rt=0;rt<g;rt++)d[h+rt]!==0&&($[St[d[h+rt]]++]=rt);if(e===CODES$3?(_t=Ut=$,mt=19):e===LENS$3?(_t=lbase$1,Et-=257,Ut=lext$1,kt-=257,mt=256):(_t=dbase$1,Ut=dext$1,mt=-1),pt=0,rt=0,nt=it,ft=j,lt=ot,dt=0,yt=-1,ut=1<<ot,gt=ut-1,e===LENS$3&&ut>ENOUGH_LENS$3||e===DISTS$3&&ut>ENOUGH_DISTS$3)return 1;for(;;){Bt=nt-dt,$[rt]<mt?($t=0,Gt=$[rt]):$[rt]>mt?($t=Ut[kt+$[rt]],Gt=_t[Et+$[rt]]):($t=96,Gt=0),vt=1<<nt-dt,ht=1<<lt,it=ht;do ht-=vt,_[ft+(pt>>dt)+ht]=Bt<<24|$t<<16|Gt|0;while(ht!==0);for(vt=1<<nt-1;pt&vt;)vt>>=1;if(vt!==0?(pt&=vt-1,pt+=vt):pt=0,rt++,--xt[nt]===0){if(nt===st)break;nt=d[h+$[rt]]}if(nt>ot&&(pt&gt)!==yt){for(dt===0&&(dt=ot),ft+=it,lt=nt-dt,at=1<<lt;lt+dt<st&&(at-=xt[lt+dt],!(at<=0));)lt++,at<<=1;if(ut+=1<<lt,e===LENS$3&&ut>ENOUGH_LENS$3||e===DISTS$3&&ut>ENOUGH_DISTS$3)return 1;yt=pt&gt,_[yt]=ot<<24|lt<<16|ft-j|0}}return pt!==0&&(_[ft+pt]=nt-dt<<24|64<<16|0),et.bits=ot,0},utils$8=common$1,adler32$3=adler32_1$1,crc32$3=crc32_1$1,inflate_fast$1=inffast$1,inflate_table$1=inftrees$1,CODES$2=0,LENS$2=1,DISTS$2=2,Z_FINISH$3=4,Z_BLOCK$2=5,Z_TREES$1=6,Z_OK$3=0,Z_STREAM_END$3=1,Z_NEED_DICT$1=2,Z_STREAM_ERROR$2=-2,Z_DATA_ERROR$2=-3,Z_MEM_ERROR$1=-4,Z_BUF_ERROR$2=-5,Z_DEFLATED$3=8,HEAD$1=1,FLAGS$1=2,TIME$1=3,OS$1=4,EXLEN$1=5,EXTRA$1=6,NAME$1=7,COMMENT$1=8,HCRC$1=9,DICTID$1=10,DICT$1=11,TYPE$2=12,TYPEDO$1=13,STORED$1=14,COPY_$1=15,COPY$1=16,TABLE$1=17,LENLENS$1=18,CODELENS$1=19,LEN_$1=20,LEN$1=21,LENEXT$1=22,DIST$1=23,DISTEXT$1=24,MATCH$1=25,LIT$1=26,CHECK$1=27,LENGTH$1=28,DONE$1=29,BAD$2=30,MEM$1=31,SYNC$1=32,ENOUGH_LENS$2=852,ENOUGH_DISTS$2=592,MAX_WBITS$2=15,DEF_WBITS$1=MAX_WBITS$2;function zswap32$1(s){return(s>>>24&255)+(s>>>8&65280)+((s&65280)<<8)+((s&255)<<24)}function InflateState$1(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils$8.Buf16(320),this.work=new utils$8.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep$1(s){var e;return!s||!s.state?Z_STREAM_ERROR$2:(e=s.state,s.total_in=s.total_out=e.total=0,s.msg="",e.wrap&&(s.adler=e.wrap&1),e.mode=HEAD$1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new utils$8.Buf32(ENOUGH_LENS$2),e.distcode=e.distdyn=new utils$8.Buf32(ENOUGH_DISTS$2),e.sane=1,e.back=-1,Z_OK$3)}function inflateReset$1(s){var e;return!s||!s.state?Z_STREAM_ERROR$2:(e=s.state,e.wsize=0,e.whave=0,e.wnext=0,inflateResetKeep$1(s))}function inflateReset2$1(s,e){var d,h;return!s||!s.state||(h=s.state,e<0?(d=0,e=-e):(d=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15))?Z_STREAM_ERROR$2:(h.window!==null&&h.wbits!==e&&(h.window=null),h.wrap=d,h.wbits=e,inflateReset$1(s))}function inflateInit2$1(s,e){var d,h;return s?(h=new InflateState$1,s.state=h,h.window=null,d=inflateReset2$1(s,e),d!==Z_OK$3&&(s.state=null),d):Z_STREAM_ERROR$2}function inflateInit$1(s){return inflateInit2$1(s,DEF_WBITS$1)}var virgin$1=!0,lenfix$1,distfix$1;function fixedtables$1(s){if(virgin$1){var e;for(lenfix$1=new utils$8.Buf32(512),distfix$1=new utils$8.Buf32(32),e=0;e<144;)s.lens[e++]=8;for(;e<256;)s.lens[e++]=9;for(;e<280;)s.lens[e++]=7;for(;e<288;)s.lens[e++]=8;for(inflate_table$1(LENS$2,s.lens,0,288,lenfix$1,0,s.work,{bits:9}),e=0;e<32;)s.lens[e++]=5;inflate_table$1(DISTS$2,s.lens,0,32,distfix$1,0,s.work,{bits:5}),virgin$1=!1}s.lencode=lenfix$1,s.lenbits=9,s.distcode=distfix$1,s.distbits=5}function updatewindow$1(s,e,d,h){var g,_=s.state;return _.window===null&&(_.wsize=1<<_.wbits,_.wnext=0,_.whave=0,_.window=new utils$8.Buf8(_.wsize)),h>=_.wsize?(utils$8.arraySet(_.window,e,d-_.wsize,_.wsize,0),_.wnext=0,_.whave=_.wsize):(g=_.wsize-_.wnext,g>h&&(g=h),utils$8.arraySet(_.window,e,d-h,g,_.wnext),h-=g,h?(utils$8.arraySet(_.window,e,d-h,h,0),_.wnext=h,_.whave=_.wsize):(_.wnext+=g,_.wnext===_.wsize&&(_.wnext=0),_.whave<_.wsize&&(_.whave+=g))),0}function inflate$7(s,e){var d,h,g,_,j,$,et,tt,nt,rt,it,st,ot,lt,dt=0,at,ut,pt,vt,ht,yt,gt,ft,_t=new utils$8.Buf8(4),Et,mt,xt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!s||!s.state||!s.output||!s.input&&s.avail_in!==0)return Z_STREAM_ERROR$2;d=s.state,d.mode===TYPE$2&&(d.mode=TYPEDO$1),j=s.next_out,g=s.output,et=s.avail_out,_=s.next_in,h=s.input,$=s.avail_in,tt=d.hold,nt=d.bits,rt=$,it=et,ft=Z_OK$3;e:for(;;)switch(d.mode){case HEAD$1:if(d.wrap===0){d.mode=TYPEDO$1;break}for(;nt<16;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(d.wrap&2&&tt===35615){d.check=0,_t[0]=tt&255,_t[1]=tt>>>8&255,d.check=crc32$3(d.check,_t,2,0),tt=0,nt=0,d.mode=FLAGS$1;break}if(d.flags=0,d.head&&(d.head.done=!1),!(d.wrap&1)||(((tt&255)<<8)+(tt>>8))%31){s.msg="incorrect header check",d.mode=BAD$2;break}if((tt&15)!==Z_DEFLATED$3){s.msg="unknown compression method",d.mode=BAD$2;break}if(tt>>>=4,nt-=4,gt=(tt&15)+8,d.wbits===0)d.wbits=gt;else if(gt>d.wbits){s.msg="invalid window size",d.mode=BAD$2;break}d.dmax=1<<gt,s.adler=d.check=1,d.mode=tt&512?DICTID$1:TYPE$2,tt=0,nt=0;break;case FLAGS$1:for(;nt<16;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(d.flags=tt,(d.flags&255)!==Z_DEFLATED$3){s.msg="unknown compression method",d.mode=BAD$2;break}if(d.flags&57344){s.msg="unknown header flags set",d.mode=BAD$2;break}d.head&&(d.head.text=tt>>8&1),d.flags&512&&(_t[0]=tt&255,_t[1]=tt>>>8&255,d.check=crc32$3(d.check,_t,2,0)),tt=0,nt=0,d.mode=TIME$1;case TIME$1:for(;nt<32;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}d.head&&(d.head.time=tt),d.flags&512&&(_t[0]=tt&255,_t[1]=tt>>>8&255,_t[2]=tt>>>16&255,_t[3]=tt>>>24&255,d.check=crc32$3(d.check,_t,4,0)),tt=0,nt=0,d.mode=OS$1;case OS$1:for(;nt<16;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}d.head&&(d.head.xflags=tt&255,d.head.os=tt>>8),d.flags&512&&(_t[0]=tt&255,_t[1]=tt>>>8&255,d.check=crc32$3(d.check,_t,2,0)),tt=0,nt=0,d.mode=EXLEN$1;case EXLEN$1:if(d.flags&1024){for(;nt<16;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}d.length=tt,d.head&&(d.head.extra_len=tt),d.flags&512&&(_t[0]=tt&255,_t[1]=tt>>>8&255,d.check=crc32$3(d.check,_t,2,0)),tt=0,nt=0}else d.head&&(d.head.extra=null);d.mode=EXTRA$1;case EXTRA$1:if(d.flags&1024&&(st=d.length,st>$&&(st=$),st&&(d.head&&(gt=d.head.extra_len-d.length,d.head.extra||(d.head.extra=new Array(d.head.extra_len)),utils$8.arraySet(d.head.extra,h,_,st,gt)),d.flags&512&&(d.check=crc32$3(d.check,h,st,_)),$-=st,_+=st,d.length-=st),d.length))break e;d.length=0,d.mode=NAME$1;case NAME$1:if(d.flags&2048){if($===0)break e;st=0;do gt=h[_+st++],d.head&&gt&&d.length<65536&&(d.head.name+=String.fromCharCode(gt));while(gt&&st<$);if(d.flags&512&&(d.check=crc32$3(d.check,h,st,_)),$-=st,_+=st,gt)break e}else d.head&&(d.head.name=null);d.length=0,d.mode=COMMENT$1;case COMMENT$1:if(d.flags&4096){if($===0)break e;st=0;do gt=h[_+st++],d.head&&gt&&d.length<65536&&(d.head.comment+=String.fromCharCode(gt));while(gt&&st<$);if(d.flags&512&&(d.check=crc32$3(d.check,h,st,_)),$-=st,_+=st,gt)break e}else d.head&&(d.head.comment=null);d.mode=HCRC$1;case HCRC$1:if(d.flags&512){for(;nt<16;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(tt!==(d.check&65535)){s.msg="header crc mismatch",d.mode=BAD$2;break}tt=0,nt=0}d.head&&(d.head.hcrc=d.flags>>9&1,d.head.done=!0),s.adler=d.check=0,d.mode=TYPE$2;break;case DICTID$1:for(;nt<32;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}s.adler=d.check=zswap32$1(tt),tt=0,nt=0,d.mode=DICT$1;case DICT$1:if(d.havedict===0)return s.next_out=j,s.avail_out=et,s.next_in=_,s.avail_in=$,d.hold=tt,d.bits=nt,Z_NEED_DICT$1;s.adler=d.check=1,d.mode=TYPE$2;case TYPE$2:if(e===Z_BLOCK$2||e===Z_TREES$1)break e;case TYPEDO$1:if(d.last){tt>>>=nt&7,nt-=nt&7,d.mode=CHECK$1;break}for(;nt<3;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}switch(d.last=tt&1,tt>>>=1,nt-=1,tt&3){case 0:d.mode=STORED$1;break;case 1:if(fixedtables$1(d),d.mode=LEN_$1,e===Z_TREES$1){tt>>>=2,nt-=2;break e}break;case 2:d.mode=TABLE$1;break;case 3:s.msg="invalid block type",d.mode=BAD$2}tt>>>=2,nt-=2;break;case STORED$1:for(tt>>>=nt&7,nt-=nt&7;nt<32;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if((tt&65535)!==(tt>>>16^65535)){s.msg="invalid stored block lengths",d.mode=BAD$2;break}if(d.length=tt&65535,tt=0,nt=0,d.mode=COPY_$1,e===Z_TREES$1)break e;case COPY_$1:d.mode=COPY$1;case COPY$1:if(st=d.length,st){if(st>$&&(st=$),st>et&&(st=et),st===0)break e;utils$8.arraySet(g,h,_,st,j),$-=st,_+=st,et-=st,j+=st,d.length-=st;break}d.mode=TYPE$2;break;case TABLE$1:for(;nt<14;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(d.nlen=(tt&31)+257,tt>>>=5,nt-=5,d.ndist=(tt&31)+1,tt>>>=5,nt-=5,d.ncode=(tt&15)+4,tt>>>=4,nt-=4,d.nlen>286||d.ndist>30){s.msg="too many length or distance symbols",d.mode=BAD$2;break}d.have=0,d.mode=LENLENS$1;case LENLENS$1:for(;d.have<d.ncode;){for(;nt<3;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}d.lens[xt[d.have++]]=tt&7,tt>>>=3,nt-=3}for(;d.have<19;)d.lens[xt[d.have++]]=0;if(d.lencode=d.lendyn,d.lenbits=7,Et={bits:d.lenbits},ft=inflate_table$1(CODES$2,d.lens,0,19,d.lencode,0,d.work,Et),d.lenbits=Et.bits,ft){s.msg="invalid code lengths set",d.mode=BAD$2;break}d.have=0,d.mode=CODELENS$1;case CODELENS$1:for(;d.have<d.nlen+d.ndist;){for(;dt=d.lencode[tt&(1<<d.lenbits)-1],at=dt>>>24,ut=dt>>>16&255,pt=dt&65535,!(at<=nt);){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(pt<16)tt>>>=at,nt-=at,d.lens[d.have++]=pt;else{if(pt===16){for(mt=at+2;nt<mt;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(tt>>>=at,nt-=at,d.have===0){s.msg="invalid bit length repeat",d.mode=BAD$2;break}gt=d.lens[d.have-1],st=3+(tt&3),tt>>>=2,nt-=2}else if(pt===17){for(mt=at+3;nt<mt;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}tt>>>=at,nt-=at,gt=0,st=3+(tt&7),tt>>>=3,nt-=3}else{for(mt=at+7;nt<mt;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}tt>>>=at,nt-=at,gt=0,st=11+(tt&127),tt>>>=7,nt-=7}if(d.have+st>d.nlen+d.ndist){s.msg="invalid bit length repeat",d.mode=BAD$2;break}for(;st--;)d.lens[d.have++]=gt}}if(d.mode===BAD$2)break;if(d.lens[256]===0){s.msg="invalid code -- missing end-of-block",d.mode=BAD$2;break}if(d.lenbits=9,Et={bits:d.lenbits},ft=inflate_table$1(LENS$2,d.lens,0,d.nlen,d.lencode,0,d.work,Et),d.lenbits=Et.bits,ft){s.msg="invalid literal/lengths set",d.mode=BAD$2;break}if(d.distbits=6,d.distcode=d.distdyn,Et={bits:d.distbits},ft=inflate_table$1(DISTS$2,d.lens,d.nlen,d.ndist,d.distcode,0,d.work,Et),d.distbits=Et.bits,ft){s.msg="invalid distances set",d.mode=BAD$2;break}if(d.mode=LEN_$1,e===Z_TREES$1)break e;case LEN_$1:d.mode=LEN$1;case LEN$1:if($>=6&&et>=258){s.next_out=j,s.avail_out=et,s.next_in=_,s.avail_in=$,d.hold=tt,d.bits=nt,inflate_fast$1(s,it),j=s.next_out,g=s.output,et=s.avail_out,_=s.next_in,h=s.input,$=s.avail_in,tt=d.hold,nt=d.bits,d.mode===TYPE$2&&(d.back=-1);break}for(d.back=0;dt=d.lencode[tt&(1<<d.lenbits)-1],at=dt>>>24,ut=dt>>>16&255,pt=dt&65535,!(at<=nt);){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(ut&&!(ut&240)){for(vt=at,ht=ut,yt=pt;dt=d.lencode[yt+((tt&(1<<vt+ht)-1)>>vt)],at=dt>>>24,ut=dt>>>16&255,pt=dt&65535,!(vt+at<=nt);){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}tt>>>=vt,nt-=vt,d.back+=vt}if(tt>>>=at,nt-=at,d.back+=at,d.length=pt,ut===0){d.mode=LIT$1;break}if(ut&32){d.back=-1,d.mode=TYPE$2;break}if(ut&64){s.msg="invalid literal/length code",d.mode=BAD$2;break}d.extra=ut&15,d.mode=LENEXT$1;case LENEXT$1:if(d.extra){for(mt=d.extra;nt<mt;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}d.length+=tt&(1<<d.extra)-1,tt>>>=d.extra,nt-=d.extra,d.back+=d.extra}d.was=d.length,d.mode=DIST$1;case DIST$1:for(;dt=d.distcode[tt&(1<<d.distbits)-1],at=dt>>>24,ut=dt>>>16&255,pt=dt&65535,!(at<=nt);){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(!(ut&240)){for(vt=at,ht=ut,yt=pt;dt=d.distcode[yt+((tt&(1<<vt+ht)-1)>>vt)],at=dt>>>24,ut=dt>>>16&255,pt=dt&65535,!(vt+at<=nt);){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}tt>>>=vt,nt-=vt,d.back+=vt}if(tt>>>=at,nt-=at,d.back+=at,ut&64){s.msg="invalid distance code",d.mode=BAD$2;break}d.offset=pt,d.extra=ut&15,d.mode=DISTEXT$1;case DISTEXT$1:if(d.extra){for(mt=d.extra;nt<mt;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}d.offset+=tt&(1<<d.extra)-1,tt>>>=d.extra,nt-=d.extra,d.back+=d.extra}if(d.offset>d.dmax){s.msg="invalid distance too far back",d.mode=BAD$2;break}d.mode=MATCH$1;case MATCH$1:if(et===0)break e;if(st=it-et,d.offset>st){if(st=d.offset-st,st>d.whave&&d.sane){s.msg="invalid distance too far back",d.mode=BAD$2;break}st>d.wnext?(st-=d.wnext,ot=d.wsize-st):ot=d.wnext-st,st>d.length&&(st=d.length),lt=d.window}else lt=g,ot=j-d.offset,st=d.length;st>et&&(st=et),et-=st,d.length-=st;do g[j++]=lt[ot++];while(--st);d.length===0&&(d.mode=LEN$1);break;case LIT$1:if(et===0)break e;g[j++]=d.length,et--,d.mode=LEN$1;break;case CHECK$1:if(d.wrap){for(;nt<32;){if($===0)break e;$--,tt|=h[_++]<<nt,nt+=8}if(it-=et,s.total_out+=it,d.total+=it,it&&(s.adler=d.check=d.flags?crc32$3(d.check,g,it,j-it):adler32$3(d.check,g,it,j-it)),it=et,(d.flags?tt:zswap32$1(tt))!==d.check){s.msg="incorrect data check",d.mode=BAD$2;break}tt=0,nt=0}d.mode=LENGTH$1;case LENGTH$1:if(d.wrap&&d.flags){for(;nt<32;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(tt!==(d.total&4294967295)){s.msg="incorrect length check",d.mode=BAD$2;break}tt=0,nt=0}d.mode=DONE$1;case DONE$1:ft=Z_STREAM_END$3;break e;case BAD$2:ft=Z_DATA_ERROR$2;break e;case MEM$1:return Z_MEM_ERROR$1;case SYNC$1:default:return Z_STREAM_ERROR$2}return s.next_out=j,s.avail_out=et,s.next_in=_,s.avail_in=$,d.hold=tt,d.bits=nt,(d.wsize||it!==s.avail_out&&d.mode<BAD$2&&(d.mode<CHECK$1||e!==Z_FINISH$3))&&updatewindow$1(s,s.output,s.next_out,it-s.avail_out),rt-=s.avail_in,it-=s.avail_out,s.total_in+=rt,s.total_out+=it,d.total+=it,d.wrap&&it&&(s.adler=d.check=d.flags?crc32$3(d.check,g,it,s.next_out-it):adler32$3(d.check,g,it,s.next_out-it)),s.data_type=d.bits+(d.last?64:0)+(d.mode===TYPE$2?128:0)+(d.mode===LEN_$1||d.mode===COPY_$1?256:0),(rt===0&&it===0||e===Z_FINISH$3)&&ft===Z_OK$3&&(ft=Z_BUF_ERROR$2),ft}function inflateEnd$1(s){if(!s||!s.state)return Z_STREAM_ERROR$2;var e=s.state;return e.window&&(e.window=null),s.state=null,Z_OK$3}function inflateGetHeader$1(s,e){var d;return!s||!s.state||(d=s.state,!(d.wrap&2))?Z_STREAM_ERROR$2:(d.head=e,e.done=!1,Z_OK$3)}function inflateSetDictionary$1(s,e){var d=e.length,h,g,_;return!s||!s.state||(h=s.state,h.wrap!==0&&h.mode!==DICT$1)?Z_STREAM_ERROR$2:h.mode===DICT$1&&(g=1,g=adler32$3(g,e,d,0),g!==h.check)?Z_DATA_ERROR$2:(_=updatewindow$1(s,e,d,d),_?(h.mode=MEM$1,Z_MEM_ERROR$1):(h.havedict=1,Z_OK$3))}inflate$8.inflateReset=inflateReset$1;inflate$8.inflateReset2=inflateReset2$1;inflate$8.inflateResetKeep=inflateResetKeep$1;inflate$8.inflateInit=inflateInit$1;inflate$8.inflateInit2=inflateInit2$1;inflate$8.inflate=inflate$7;inflate$8.inflateEnd=inflateEnd$1;inflate$8.inflateGetHeader=inflateGetHeader$1;inflate$8.inflateSetDictionary=inflateSetDictionary$1;inflate$8.inflateInfo="pako inflate (from Nodeca project)";var constants$3={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function GZheader$3(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader$1=GZheader$3,zlib_inflate$1=inflate$8,utils$7=common$1,strings$3=strings$5,c$1=constants$3,msg$3=messages$1,ZStream$3=zstream$1,GZheader$2=gzheader$1,toString$2=Object.prototype.toString;function Inflate$1(s){if(!(this instanceof Inflate$1))return new Inflate$1(s);this.options=utils$7.assign({chunkSize:16384,windowBits:0,to:""},s||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(s&&s.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream$3,this.strm.avail_out=0;var d=zlib_inflate$1.inflateInit2(this.strm,e.windowBits);if(d!==c$1.Z_OK)throw new Error(msg$3[d]);if(this.header=new GZheader$2,zlib_inflate$1.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=strings$3.string2buf(e.dictionary):toString$2.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(d=zlib_inflate$1.inflateSetDictionary(this.strm,e.dictionary),d!==c$1.Z_OK)))throw new Error(msg$3[d])}Inflate$1.prototype.push=function(s,e){var d=this.strm,h=this.options.chunkSize,g=this.options.dictionary,_,j,$,et,tt,nt=!1;if(this.ended)return!1;j=e===~~e?e:e===!0?c$1.Z_FINISH:c$1.Z_NO_FLUSH,typeof s=="string"?d.input=strings$3.binstring2buf(s):toString$2.call(s)==="[object ArrayBuffer]"?d.input=new Uint8Array(s):d.input=s,d.next_in=0,d.avail_in=d.input.length;do{if(d.avail_out===0&&(d.output=new utils$7.Buf8(h),d.next_out=0,d.avail_out=h),_=zlib_inflate$1.inflate(d,c$1.Z_NO_FLUSH),_===c$1.Z_NEED_DICT&&g&&(_=zlib_inflate$1.inflateSetDictionary(this.strm,g)),_===c$1.Z_BUF_ERROR&&nt===!0&&(_=c$1.Z_OK,nt=!1),_!==c$1.Z_STREAM_END&&_!==c$1.Z_OK)return this.onEnd(_),this.ended=!0,!1;d.next_out&&(d.avail_out===0||_===c$1.Z_STREAM_END||d.avail_in===0&&(j===c$1.Z_FINISH||j===c$1.Z_SYNC_FLUSH))&&(this.options.to==="string"?($=strings$3.utf8border(d.output,d.next_out),et=d.next_out-$,tt=strings$3.buf2string(d.output,$),d.next_out=et,d.avail_out=h-et,et&&utils$7.arraySet(d.output,d.output,$,et,0),this.onData(tt)):this.onData(utils$7.shrinkBuf(d.output,d.next_out))),d.avail_in===0&&d.avail_out===0&&(nt=!0)}while((d.avail_in>0||d.avail_out===0)&&_!==c$1.Z_STREAM_END);return _===c$1.Z_STREAM_END&&(j=c$1.Z_FINISH),j===c$1.Z_FINISH?(_=zlib_inflate$1.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===c$1.Z_OK):(j===c$1.Z_SYNC_FLUSH&&(this.onEnd(c$1.Z_OK),d.avail_out=0),!0)};Inflate$1.prototype.onData=function(s){this.chunks.push(s)};Inflate$1.prototype.onEnd=function(s){s===c$1.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils$7.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function inflate$6(s,e){var d=new Inflate$1(e);if(d.push(s,!0),d.err)throw d.msg||msg$3[d.err];return d.result}function inflateRaw$1(s,e){return e=e||{},e.raw=!0,inflate$6(s,e)}inflate$9.Inflate=Inflate$1;inflate$9.inflate=inflate$6;inflate$9.inflateRaw=inflateRaw$1;inflate$9.ungzip=inflate$6;var assign$1=common$1.assign,deflate$5=deflate$9,inflate$5=inflate$9,constants$2=constants$3,pako$2={};assign$1(pako$2,deflate$5,inflate$5,constants$2);var pako_1$1=pako$2;const pako$3=getDefaultExportFromCjs(pako_1$1);var PDFHeader=function(){function s(e,d){this.major=String(e),this.minor=String(d)}return s.prototype.toString=function(){var e=charFromCode(129);return"%PDF-"+this.major+"."+this.minor+`
%`+e+e+e+e},s.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},s.prototype.copyBytesInto=function(e,d){var h=d;return e[d++]=CharCodes$1.Percent,e[d++]=CharCodes$1.P,e[d++]=CharCodes$1.D,e[d++]=CharCodes$1.F,e[d++]=CharCodes$1.Dash,d+=copyStringIntoBuffer(this.major,e,d),e[d++]=CharCodes$1.Period,d+=copyStringIntoBuffer(this.minor,e,d),e[d++]=CharCodes$1.Newline,e[d++]=CharCodes$1.Percent,e[d++]=129,e[d++]=129,e[d++]=129,e[d++]=129,d-h},s.forVersion=function(e,d){return new s(e,d)},s}(),PDFObject=function(){function s(){}return s.prototype.clone=function(e){throw new MethodNotImplementedError(this.constructor.name,"clone")},s.prototype.toString=function(){throw new MethodNotImplementedError(this.constructor.name,"toString")},s.prototype.sizeInBytes=function(){throw new MethodNotImplementedError(this.constructor.name,"sizeInBytes")},s.prototype.copyBytesInto=function(e,d){throw new MethodNotImplementedError(this.constructor.name,"copyBytesInto")},s}(),PDFNumber=function(s){__extends(e,s);function e(d){var h=s.call(this)||this;return h.numberValue=d,h.stringValue=numberToString(d),h}return e.prototype.asNumber=function(){return this.numberValue},e.prototype.value=function(){return this.numberValue},e.prototype.clone=function(){return e.of(this.numberValue)},e.prototype.toString=function(){return this.stringValue},e.prototype.sizeInBytes=function(){return this.stringValue.length},e.prototype.copyBytesInto=function(d,h){return h+=copyStringIntoBuffer(this.stringValue,d,h),this.stringValue.length},e.of=function(d){return new e(d)},e}(PDFObject),PDFArray=function(s){__extends(e,s);function e(d){var h=s.call(this)||this;return h.array=[],h.context=d,h}return e.prototype.size=function(){return this.array.length},e.prototype.push=function(d){this.array.push(d)},e.prototype.insert=function(d,h){this.array.splice(d,0,h)},e.prototype.indexOf=function(d){var h=this.array.indexOf(d);return h===-1?void 0:h},e.prototype.remove=function(d){this.array.splice(d,1)},e.prototype.set=function(d,h){this.array[d]=h},e.prototype.get=function(d){return this.array[d]},e.prototype.lookupMaybe=function(d){for(var h,g=[],_=1;_<arguments.length;_++)g[_-1]=arguments[_];return(h=this.context).lookupMaybe.apply(h,__spreadArrays([this.get(d)],g))},e.prototype.lookup=function(d){for(var h,g=[],_=1;_<arguments.length;_++)g[_-1]=arguments[_];return(h=this.context).lookup.apply(h,__spreadArrays([this.get(d)],g))},e.prototype.asRectangle=function(){if(this.size()!==4)throw new PDFArrayIsNotRectangleError(this.size());var d=this.lookup(0,PDFNumber).asNumber(),h=this.lookup(1,PDFNumber).asNumber(),g=this.lookup(2,PDFNumber).asNumber(),_=this.lookup(3,PDFNumber).asNumber(),j=d,$=h,et=g-d,tt=_-h;return{x:j,y:$,width:et,height:tt}},e.prototype.asArray=function(){return this.array.slice()},e.prototype.clone=function(d){for(var h=e.withContext(d||this.context),g=0,_=this.size();g<_;g++)h.push(this.array[g]);return h},e.prototype.toString=function(){for(var d="[ ",h=0,g=this.size();h<g;h++)d+=this.get(h).toString(),d+=" ";return d+="]",d},e.prototype.sizeInBytes=function(){for(var d=3,h=0,g=this.size();h<g;h++)d+=this.get(h).sizeInBytes()+1;return d},e.prototype.copyBytesInto=function(d,h){var g=h;d[h++]=CharCodes$1.LeftSquareBracket,d[h++]=CharCodes$1.Space;for(var _=0,j=this.size();_<j;_++)h+=this.get(_).copyBytesInto(d,h),d[h++]=CharCodes$1.Space;return d[h++]=CharCodes$1.RightSquareBracket,h-g},e.prototype.scalePDFNumbers=function(d,h){for(var g=0,_=this.size();g<_;g++){var j=this.lookup(g);if(j instanceof PDFNumber){var $=g%2===0?d:h;this.set(g,PDFNumber.of(j.asNumber()*$))}}},e.withContext=function(d){return new e(d)},e}(PDFObject),ENFORCER$2={},PDFBool=function(s){__extends(e,s);function e(d,h){var g=this;if(d!==ENFORCER$2)throw new PrivateConstructorError("PDFBool");return g=s.call(this)||this,g.value=h,g}return e.prototype.asBoolean=function(){return this.value},e.prototype.clone=function(){return this},e.prototype.toString=function(){return String(this.value)},e.prototype.sizeInBytes=function(){return this.value?4:5},e.prototype.copyBytesInto=function(d,h){return this.value?(d[h++]=CharCodes$1.t,d[h++]=CharCodes$1.r,d[h++]=CharCodes$1.u,d[h++]=CharCodes$1.e,4):(d[h++]=CharCodes$1.f,d[h++]=CharCodes$1.a,d[h++]=CharCodes$1.l,d[h++]=CharCodes$1.s,d[h++]=CharCodes$1.e,5)},e.True=new e(ENFORCER$2,!0),e.False=new e(ENFORCER$2,!1),e}(PDFObject),IsDelimiter=new Uint8Array(256);IsDelimiter[CharCodes$1.LeftParen]=1;IsDelimiter[CharCodes$1.RightParen]=1;IsDelimiter[CharCodes$1.LessThan]=1;IsDelimiter[CharCodes$1.GreaterThan]=1;IsDelimiter[CharCodes$1.LeftSquareBracket]=1;IsDelimiter[CharCodes$1.RightSquareBracket]=1;IsDelimiter[CharCodes$1.LeftCurly]=1;IsDelimiter[CharCodes$1.RightCurly]=1;IsDelimiter[CharCodes$1.ForwardSlash]=1;IsDelimiter[CharCodes$1.Percent]=1;var IsWhitespace=new Uint8Array(256);IsWhitespace[CharCodes$1.Null]=1;IsWhitespace[CharCodes$1.Tab]=1;IsWhitespace[CharCodes$1.Newline]=1;IsWhitespace[CharCodes$1.FormFeed]=1;IsWhitespace[CharCodes$1.CarriageReturn]=1;IsWhitespace[CharCodes$1.Space]=1;var IsIrregular=new Uint8Array(256);for(var idx$1=0,len$1=256;idx$1<len$1;idx$1++)IsIrregular[idx$1]=IsWhitespace[idx$1]||IsDelimiter[idx$1]?1:0;IsIrregular[CharCodes$1.Hash]=1;var decodeName=function(s){return s.replace(/#([\dABCDEF]{2})/g,function(e,d){return charFromHexCode(d)})},isRegularChar=function(s){return s>=CharCodes$1.ExclamationPoint&&s<=CharCodes$1.Tilde&&!IsIrregular[s]},ENFORCER$1={},pool$1=new Map,PDFName=function(s){__extends(e,s);function e(d,h){var g=this;if(d!==ENFORCER$1)throw new PrivateConstructorError("PDFName");g=s.call(this)||this;for(var _="/",j=0,$=h.length;j<$;j++){var et=h[j],tt=toCharCode(et);_+=isRegularChar(tt)?et:"#"+toHexString(tt)}return g.encodedName=_,g}return e.prototype.asBytes=function(){for(var d=[],h="",g=!1,_=function(rt){rt!==void 0&&d.push(rt),g=!1},j=1,$=this.encodedName.length;j<$;j++){var et=this.encodedName[j],tt=toCharCode(et),nt=this.encodedName[j+1];g?tt>=CharCodes$1.Zero&&tt<=CharCodes$1.Nine||tt>=CharCodes$1.a&&tt<=CharCodes$1.f||tt>=CharCodes$1.A&&tt<=CharCodes$1.F?(h+=et,(h.length===2||!(nt>="0"&&nt<="9"||nt>="a"&&nt<="f"||nt>="A"&&nt<="F"))&&(_(parseInt(h,16)),h="")):_(tt):tt===CharCodes$1.Hash?g=!0:_(tt)}return new Uint8Array(d)},e.prototype.decodeText=function(){var d=this.asBytes();return String.fromCharCode.apply(String,Array.from(d))},e.prototype.asString=function(){return this.encodedName},e.prototype.value=function(){return this.encodedName},e.prototype.clone=function(){return this},e.prototype.toString=function(){return this.encodedName},e.prototype.sizeInBytes=function(){return this.encodedName.length},e.prototype.copyBytesInto=function(d,h){return h+=copyStringIntoBuffer(this.encodedName,d,h),this.encodedName.length},e.of=function(d){var h=decodeName(d),g=pool$1.get(h);return g||(g=new e(ENFORCER$1,h),pool$1.set(h,g)),g},e.Length=e.of("Length"),e.FlateDecode=e.of("FlateDecode"),e.Resources=e.of("Resources"),e.Font=e.of("Font"),e.XObject=e.of("XObject"),e.ExtGState=e.of("ExtGState"),e.Contents=e.of("Contents"),e.Type=e.of("Type"),e.Parent=e.of("Parent"),e.MediaBox=e.of("MediaBox"),e.Page=e.of("Page"),e.Annots=e.of("Annots"),e.TrimBox=e.of("TrimBox"),e.ArtBox=e.of("ArtBox"),e.BleedBox=e.of("BleedBox"),e.CropBox=e.of("CropBox"),e.Rotate=e.of("Rotate"),e.Title=e.of("Title"),e.Author=e.of("Author"),e.Subject=e.of("Subject"),e.Creator=e.of("Creator"),e.Keywords=e.of("Keywords"),e.Producer=e.of("Producer"),e.CreationDate=e.of("CreationDate"),e.ModDate=e.of("ModDate"),e}(PDFObject),PDFNull=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.asNull=function(){return null},e.prototype.clone=function(){return this},e.prototype.toString=function(){return"null"},e.prototype.sizeInBytes=function(){return 4},e.prototype.copyBytesInto=function(d,h){return d[h++]=CharCodes$1.n,d[h++]=CharCodes$1.u,d[h++]=CharCodes$1.l,d[h++]=CharCodes$1.l,4},e}(PDFObject);const PDFNull$1=new PDFNull;var PDFDict=function(s){__extends(e,s);function e(d,h){var g=s.call(this)||this;return g.dict=d,g.context=h,g}return e.prototype.keys=function(){return Array.from(this.dict.keys())},e.prototype.values=function(){return Array.from(this.dict.values())},e.prototype.entries=function(){return Array.from(this.dict.entries())},e.prototype.set=function(d,h){this.dict.set(d,h)},e.prototype.get=function(d,h){h===void 0&&(h=!1);var g=this.dict.get(d);if(!(g===PDFNull$1&&!h))return g},e.prototype.has=function(d){var h=this.dict.get(d);return h!==void 0&&h!==PDFNull$1},e.prototype.lookupMaybe=function(d){for(var h,g=[],_=1;_<arguments.length;_++)g[_-1]=arguments[_];var j=g.includes(PDFNull$1),$=(h=this.context).lookupMaybe.apply(h,__spreadArrays([this.get(d,j)],g));if(!($===PDFNull$1&&!j))return $},e.prototype.lookup=function(d){for(var h,g=[],_=1;_<arguments.length;_++)g[_-1]=arguments[_];var j=g.includes(PDFNull$1),$=(h=this.context).lookup.apply(h,__spreadArrays([this.get(d,j)],g));if(!($===PDFNull$1&&!j))return $},e.prototype.delete=function(d){return this.dict.delete(d)},e.prototype.asMap=function(){return new Map(this.dict)},e.prototype.uniqueKey=function(d){d===void 0&&(d="");for(var h=this.keys(),g=PDFName.of(this.context.addRandomSuffix(d,10));h.includes(g);)g=PDFName.of(this.context.addRandomSuffix(d,10));return g},e.prototype.clone=function(d){for(var h=e.withContext(d||this.context),g=this.entries(),_=0,j=g.length;_<j;_++){var $=g[_],et=$[0],tt=$[1];h.set(et,tt)}return h},e.prototype.toString=function(){for(var d=`<<
`,h=this.entries(),g=0,_=h.length;g<_;g++){var j=h[g],$=j[0],et=j[1];d+=$.toString()+" "+et.toString()+`
`}return d+=">>",d},e.prototype.sizeInBytes=function(){for(var d=5,h=this.entries(),g=0,_=h.length;g<_;g++){var j=h[g],$=j[0],et=j[1];d+=$.sizeInBytes()+et.sizeInBytes()+2}return d},e.prototype.copyBytesInto=function(d,h){var g=h;d[h++]=CharCodes$1.LessThan,d[h++]=CharCodes$1.LessThan,d[h++]=CharCodes$1.Newline;for(var _=this.entries(),j=0,$=_.length;j<$;j++){var et=_[j],tt=et[0],nt=et[1];h+=tt.copyBytesInto(d,h),d[h++]=CharCodes$1.Space,h+=nt.copyBytesInto(d,h),d[h++]=CharCodes$1.Newline}return d[h++]=CharCodes$1.GreaterThan,d[h++]=CharCodes$1.GreaterThan,h-g},e.withContext=function(d){return new e(new Map,d)},e.fromMapWithContext=function(d,h){return new e(d,h)},e}(PDFObject),PDFStream=function(s){__extends(e,s);function e(d){var h=s.call(this)||this;return h.dict=d,h}return e.prototype.clone=function(d){throw new MethodNotImplementedError(this.constructor.name,"clone")},e.prototype.getContentsString=function(){throw new MethodNotImplementedError(this.constructor.name,"getContentsString")},e.prototype.getContents=function(){throw new MethodNotImplementedError(this.constructor.name,"getContents")},e.prototype.getContentsSize=function(){throw new MethodNotImplementedError(this.constructor.name,"getContentsSize")},e.prototype.updateDict=function(){var d=this.getContentsSize();this.dict.set(PDFName.Length,PDFNumber.of(d))},e.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},e.prototype.toString=function(){this.updateDict();var d=this.dict.toString();return d+=`
stream
`,d+=this.getContentsString(),d+=`
endstream`,d},e.prototype.copyBytesInto=function(d,h){this.updateDict();var g=h;h+=this.dict.copyBytesInto(d,h),d[h++]=CharCodes$1.Newline,d[h++]=CharCodes$1.s,d[h++]=CharCodes$1.t,d[h++]=CharCodes$1.r,d[h++]=CharCodes$1.e,d[h++]=CharCodes$1.a,d[h++]=CharCodes$1.m,d[h++]=CharCodes$1.Newline;for(var _=this.getContents(),j=0,$=_.length;j<$;j++)d[h++]=_[j];return d[h++]=CharCodes$1.Newline,d[h++]=CharCodes$1.e,d[h++]=CharCodes$1.n,d[h++]=CharCodes$1.d,d[h++]=CharCodes$1.s,d[h++]=CharCodes$1.t,d[h++]=CharCodes$1.r,d[h++]=CharCodes$1.e,d[h++]=CharCodes$1.a,d[h++]=CharCodes$1.m,h-g},e}(PDFObject),PDFRawStream=function(s){__extends(e,s);function e(d,h){var g=s.call(this,d)||this;return g.contents=h,g}return e.prototype.asUint8Array=function(){return this.contents.slice()},e.prototype.clone=function(d){return e.of(this.dict.clone(d),this.contents.slice())},e.prototype.getContentsString=function(){return arrayAsString(this.contents)},e.prototype.getContents=function(){return this.contents},e.prototype.getContentsSize=function(){return this.contents.length},e.of=function(d,h){return new e(d,h)},e}(PDFStream),ENFORCER={},pool=new Map,PDFRef=function(s){__extends(e,s);function e(d,h,g){var _=this;if(d!==ENFORCER)throw new PrivateConstructorError("PDFRef");return _=s.call(this)||this,_.objectNumber=h,_.generationNumber=g,_.tag=h+" "+g+" R",_}return e.prototype.clone=function(){return this},e.prototype.toString=function(){return this.tag},e.prototype.sizeInBytes=function(){return this.tag.length},e.prototype.copyBytesInto=function(d,h){return h+=copyStringIntoBuffer(this.tag,d,h),this.tag.length},e.of=function(d,h){h===void 0&&(h=0);var g=d+" "+h+" R",_=pool.get(g);return _||(_=new e(ENFORCER,d,h),pool.set(g,_)),_},e}(PDFObject),PDFOperator=function(){function s(e,d){this.name=e,this.args=d||[]}return s.prototype.clone=function(e){for(var d=new Array(this.args.length),h=0,g=d.length;h<g;h++){var _=this.args[h];d[h]=_ instanceof PDFObject?_.clone(e):_}return s.of(this.name,d)},s.prototype.toString=function(){for(var e="",d=0,h=this.args.length;d<h;d++)e+=String(this.args[d])+" ";return e+=this.name,e},s.prototype.sizeInBytes=function(){for(var e=0,d=0,h=this.args.length;d<h;d++){var g=this.args[d];e+=(g instanceof PDFObject?g.sizeInBytes():g.length)+1}return e+=this.name.length,e},s.prototype.copyBytesInto=function(e,d){for(var h=d,g=0,_=this.args.length;g<_;g++){var j=this.args[g];j instanceof PDFObject?d+=j.copyBytesInto(e,d):d+=copyStringIntoBuffer(j,e,d),e[d++]=CharCodes$1.Space}return d+=copyStringIntoBuffer(this.name,e,d),d-h},s.of=function(e,d){return new s(e,d)},s}(),PDFOperatorNames;(function(s){s.NonStrokingColor="sc",s.NonStrokingColorN="scn",s.NonStrokingColorRgb="rg",s.NonStrokingColorGray="g",s.NonStrokingColorCmyk="k",s.NonStrokingColorspace="cs",s.StrokingColor="SC",s.StrokingColorN="SCN",s.StrokingColorRgb="RG",s.StrokingColorGray="G",s.StrokingColorCmyk="K",s.StrokingColorspace="CS",s.BeginMarkedContentSequence="BDC",s.BeginMarkedContent="BMC",s.EndMarkedContent="EMC",s.MarkedContentPointWithProps="DP",s.MarkedContentPoint="MP",s.DrawObject="Do",s.ConcatTransformationMatrix="cm",s.PopGraphicsState="Q",s.PushGraphicsState="q",s.SetFlatness="i",s.SetGraphicsStateParams="gs",s.SetLineCapStyle="J",s.SetLineDashPattern="d",s.SetLineJoinStyle="j",s.SetLineMiterLimit="M",s.SetLineWidth="w",s.SetTextMatrix="Tm",s.SetRenderingIntent="ri",s.AppendRectangle="re",s.BeginInlineImage="BI",s.BeginInlineImageData="ID",s.EndInlineImage="EI",s.ClipEvenOdd="W*",s.ClipNonZero="W",s.CloseAndStroke="s",s.CloseFillEvenOddAndStroke="b*",s.CloseFillNonZeroAndStroke="b",s.ClosePath="h",s.AppendBezierCurve="c",s.CurveToReplicateFinalPoint="y",s.CurveToReplicateInitialPoint="v",s.EndPath="n",s.FillEvenOddAndStroke="B*",s.FillEvenOdd="f*",s.FillNonZeroAndStroke="B",s.FillNonZero="f",s.LegacyFillNonZero="F",s.LineTo="l",s.MoveTo="m",s.ShadingFill="sh",s.StrokePath="S",s.BeginText="BT",s.EndText="ET",s.MoveText="Td",s.MoveTextSetLeading="TD",s.NextLine="T*",s.SetCharacterSpacing="Tc",s.SetFontAndSize="Tf",s.SetTextHorizontalScaling="Tz",s.SetTextLineHeight="TL",s.SetTextRenderingMode="Tr",s.SetTextRise="Ts",s.SetWordSpacing="Tw",s.ShowText="Tj",s.ShowTextAdjusted="TJ",s.ShowTextLine="'",s.ShowTextLineAndSpace='"',s.Type3D0="d0",s.Type3D1="d1",s.BeginCompatibilitySection="BX",s.EndCompatibilitySection="EX"})(PDFOperatorNames||(PDFOperatorNames={}));const Ops=PDFOperatorNames;var PDFFlateStream=function(s){__extends(e,s);function e(d,h){var g=s.call(this,d)||this;return g.computeContents=function(){var _=g.getUnencodedContents();return g.encode?pako$3.deflate(_):_},g.encode=h,h&&d.set(PDFName.of("Filter"),PDFName.of("FlateDecode")),g.contentsCache=Cache.populatedBy(g.computeContents),g}return e.prototype.getContents=function(){return this.contentsCache.access()},e.prototype.getContentsSize=function(){return this.contentsCache.access().length},e.prototype.getUnencodedContents=function(){throw new MethodNotImplementedError(this.constructor.name,"getUnencodedContents")},e}(PDFStream),PDFContentStream=function(s){__extends(e,s);function e(d,h,g){g===void 0&&(g=!0);var _=s.call(this,d,g)||this;return _.operators=h,_}return e.prototype.push=function(){for(var d,h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];(d=this.operators).push.apply(d,h)},e.prototype.clone=function(d){for(var h=new Array(this.operators.length),g=0,_=this.operators.length;g<_;g++)h[g]=this.operators[g].clone(d);var j=this,$=j.dict,et=j.encode;return e.of($.clone(d),h,et)},e.prototype.getContentsString=function(){for(var d="",h=0,g=this.operators.length;h<g;h++)d+=this.operators[h]+`
`;return d},e.prototype.getUnencodedContents=function(){for(var d=new Uint8Array(this.getUnencodedContentsSize()),h=0,g=0,_=this.operators.length;g<_;g++)h+=this.operators[g].copyBytesInto(d,h),d[h++]=CharCodes$1.Newline;return d},e.prototype.getUnencodedContentsSize=function(){for(var d=0,h=0,g=this.operators.length;h<g;h++)d+=this.operators[h].sizeInBytes()+1;return d},e.of=function(d,h,g){return g===void 0&&(g=!0),new e(d,h,g)},e}(PDFFlateStream),SimpleRNG=function(){function s(e){this.seed=e}return s.prototype.nextInt=function(){var e=Math.sin(this.seed++)*1e4;return e-Math.floor(e)},s.withSeed=function(e){return new s(e)},s}(),byAscendingObjectNumber=function(s,e){var d=s[0],h=e[0];return d.objectNumber-h.objectNumber},PDFContext=function(){function s(){this.largestObjectNumber=0,this.header=PDFHeader.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=SimpleRNG.withSeed(1)}return s.prototype.assign=function(e,d){this.indirectObjects.set(e,d),e.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=e.objectNumber)},s.prototype.nextRef=function(){return this.largestObjectNumber+=1,PDFRef.of(this.largestObjectNumber)},s.prototype.register=function(e){var d=this.nextRef();return this.assign(d,e),d},s.prototype.delete=function(e){return this.indirectObjects.delete(e)},s.prototype.lookupMaybe=function(e){for(var d=[],h=1;h<arguments.length;h++)d[h-1]=arguments[h];var g=d.includes(PDFNull$1),_=e instanceof PDFRef?this.indirectObjects.get(e):e;if(!(!_||_===PDFNull$1&&!g)){for(var j=0,$=d.length;j<$;j++){var et=d[j];if(et===PDFNull$1){if(_===PDFNull$1)return _}else if(_ instanceof et)return _}throw new UnexpectedObjectTypeError(d,_)}},s.prototype.lookup=function(e){for(var d=[],h=1;h<arguments.length;h++)d[h-1]=arguments[h];var g=e instanceof PDFRef?this.indirectObjects.get(e):e;if(d.length===0)return g;for(var _=0,j=d.length;_<j;_++){var $=d[_];if($===PDFNull$1){if(g===PDFNull$1)return g}else if(g instanceof $)return g}throw new UnexpectedObjectTypeError(d,g)},s.prototype.getObjectRef=function(e){for(var d=Array.from(this.indirectObjects.entries()),h=0,g=d.length;h<g;h++){var _=d[h],j=_[0],$=_[1];if($===e)return j}},s.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(byAscendingObjectNumber)},s.prototype.obj=function(e){if(e instanceof PDFObject)return e;if(e==null)return PDFNull$1;if(typeof e=="string")return PDFName.of(e);if(typeof e=="number")return PDFNumber.of(e);if(typeof e=="boolean")return e?PDFBool.True:PDFBool.False;if(Array.isArray(e)){for(var d=PDFArray.withContext(this),h=0,g=e.length;h<g;h++)d.push(this.obj(e[h]));return d}else{for(var _=PDFDict.withContext(this),j=Object.keys(e),h=0,g=j.length;h<g;h++){var $=j[h],et=e[$];et!==void 0&&_.set(PDFName.of($),this.obj(et))}return _}},s.prototype.stream=function(e,d){return d===void 0&&(d={}),PDFRawStream.of(this.obj(d),typedArrayFor(e))},s.prototype.flateStream=function(e,d){return d===void 0&&(d={}),this.stream(pako$3.deflate(typedArrayFor(e)),__assign(__assign({},d),{Filter:"FlateDecode"}))},s.prototype.contentStream=function(e,d){return d===void 0&&(d={}),PDFContentStream.of(this.obj(d),e)},s.prototype.formXObject=function(e,d){return d===void 0&&(d={}),this.contentStream(e,__assign(__assign({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},d),{Type:"XObject",Subtype:"Form"}))},s.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var e=this.obj({}),d=PDFOperator.of(Ops.PushGraphicsState),h=PDFContentStream.of(e,[d]);return this.pushGraphicsStateContentStreamRef=this.register(h),this.pushGraphicsStateContentStreamRef},s.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var e=this.obj({}),d=PDFOperator.of(Ops.PopGraphicsState),h=PDFContentStream.of(e,[d]);return this.popGraphicsStateContentStreamRef=this.register(h),this.popGraphicsStateContentStreamRef},s.prototype.addRandomSuffix=function(e,d){return d===void 0&&(d=4),e+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,d))},s.create=function(){return new s},s}(),PDFPageLeaf=function(s){__extends(e,s);function e(d,h,g){g===void 0&&(g=!0);var _=s.call(this,d,h)||this;return _.normalized=!1,_.autoNormalizeCTM=g,_}return e.prototype.clone=function(d){for(var h=e.fromMapWithContext(new Map,d||this.context,this.autoNormalizeCTM),g=this.entries(),_=0,j=g.length;_<j;_++){var $=g[_],et=$[0],tt=$[1];h.set(et,tt)}return h},e.prototype.Parent=function(){return this.lookupMaybe(PDFName.Parent,PDFDict)},e.prototype.Contents=function(){return this.lookup(PDFName.of("Contents"))},e.prototype.Annots=function(){return this.lookupMaybe(PDFName.Annots,PDFArray)},e.prototype.BleedBox=function(){return this.lookupMaybe(PDFName.BleedBox,PDFArray)},e.prototype.TrimBox=function(){return this.lookupMaybe(PDFName.TrimBox,PDFArray)},e.prototype.ArtBox=function(){return this.lookupMaybe(PDFName.ArtBox,PDFArray)},e.prototype.Resources=function(){var d=this.getInheritableAttribute(PDFName.Resources);return this.context.lookupMaybe(d,PDFDict)},e.prototype.MediaBox=function(){var d=this.getInheritableAttribute(PDFName.MediaBox);return this.context.lookup(d,PDFArray)},e.prototype.CropBox=function(){var d=this.getInheritableAttribute(PDFName.CropBox);return this.context.lookupMaybe(d,PDFArray)},e.prototype.Rotate=function(){var d=this.getInheritableAttribute(PDFName.Rotate);return this.context.lookupMaybe(d,PDFNumber)},e.prototype.getInheritableAttribute=function(d){var h;return this.ascend(function(g){h||(h=g.get(d))}),h},e.prototype.setParent=function(d){this.set(PDFName.Parent,d)},e.prototype.addContentStream=function(d){var h=this.normalizedEntries().Contents||this.context.obj([]);this.set(PDFName.Contents,h),h.push(d)},e.prototype.wrapContentStreams=function(d,h){var g=this.Contents();return g instanceof PDFArray?(g.insert(0,d),g.push(h),!0):!1},e.prototype.addAnnot=function(d){var h=this.normalizedEntries().Annots;h.push(d)},e.prototype.removeAnnot=function(d){var h=this.normalizedEntries().Annots,g=h.indexOf(d);g!==void 0&&h.remove(g)},e.prototype.setFontDictionary=function(d,h){var g=this.normalizedEntries().Font;g.set(d,h)},e.prototype.newFontDictionaryKey=function(d){var h=this.normalizedEntries().Font;return h.uniqueKey(d)},e.prototype.newFontDictionary=function(d,h){var g=this.newFontDictionaryKey(d);return this.setFontDictionary(g,h),g},e.prototype.setXObject=function(d,h){var g=this.normalizedEntries().XObject;g.set(d,h)},e.prototype.newXObjectKey=function(d){var h=this.normalizedEntries().XObject;return h.uniqueKey(d)},e.prototype.newXObject=function(d,h){var g=this.newXObjectKey(d);return this.setXObject(g,h),g},e.prototype.setExtGState=function(d,h){var g=this.normalizedEntries().ExtGState;g.set(d,h)},e.prototype.newExtGStateKey=function(d){var h=this.normalizedEntries().ExtGState;return h.uniqueKey(d)},e.prototype.newExtGState=function(d,h){var g=this.newExtGStateKey(d);return this.setExtGState(g,h),g},e.prototype.ascend=function(d){d(this);var h=this.Parent();h&&h.ascend(d)},e.prototype.normalize=function(){if(!this.normalized){var d=this.context,h=this.get(PDFName.Contents),g=this.context.lookup(h);g instanceof PDFStream&&this.set(PDFName.Contents,d.obj([h])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var _=this.getInheritableAttribute(PDFName.Resources),j=d.lookupMaybe(_,PDFDict)||d.obj({});this.set(PDFName.Resources,j);var $=j.lookupMaybe(PDFName.Font,PDFDict)||d.obj({});j.set(PDFName.Font,$);var et=j.lookupMaybe(PDFName.XObject,PDFDict)||d.obj({});j.set(PDFName.XObject,et);var tt=j.lookupMaybe(PDFName.ExtGState,PDFDict)||d.obj({});j.set(PDFName.ExtGState,tt);var nt=this.Annots()||d.obj([]);this.set(PDFName.Annots,nt),this.normalized=!0}},e.prototype.normalizedEntries=function(){this.normalize();var d=this.Annots(),h=this.Resources(),g=this.Contents();return{Annots:d,Resources:h,Contents:g,Font:h.lookup(PDFName.Font,PDFDict),XObject:h.lookup(PDFName.XObject,PDFDict),ExtGState:h.lookup(PDFName.ExtGState,PDFDict)}},e.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],e.withContextAndParent=function(d,h){var g=new Map;return g.set(PDFName.Type,PDFName.Page),g.set(PDFName.Parent,h),g.set(PDFName.Resources,d.obj({})),g.set(PDFName.MediaBox,d.obj([0,0,612,792])),new e(g,d,!1)},e.fromMapWithContext=function(d,h,g){return g===void 0&&(g=!0),new e(d,h,g)},e}(PDFDict),PDFObjectCopier=function(){function s(e,d){var h=this;this.traversedObjects=new Map,this.copy=function(g){return g instanceof PDFPageLeaf?h.copyPDFPage(g):g instanceof PDFDict?h.copyPDFDict(g):g instanceof PDFArray?h.copyPDFArray(g):g instanceof PDFStream?h.copyPDFStream(g):g instanceof PDFRef?h.copyPDFIndirectObject(g):g.clone()},this.copyPDFPage=function(g){for(var _=g.clone(),j=PDFPageLeaf.InheritableEntries,$=0,et=j.length;$<et;$++){var tt=PDFName.of(j[$]),nt=_.getInheritableAttribute(tt);!_.get(tt)&&nt&&_.set(tt,nt)}return _.delete(PDFName.of("Parent")),h.copyPDFDict(_)},this.copyPDFDict=function(g){if(h.traversedObjects.has(g))return h.traversedObjects.get(g);var _=g.clone(h.dest);h.traversedObjects.set(g,_);for(var j=g.entries(),$=0,et=j.length;$<et;$++){var tt=j[$],nt=tt[0],rt=tt[1];_.set(nt,h.copy(rt))}return _},this.copyPDFArray=function(g){if(h.traversedObjects.has(g))return h.traversedObjects.get(g);var _=g.clone(h.dest);h.traversedObjects.set(g,_);for(var j=0,$=g.size();j<$;j++){var et=g.get(j);_.set(j,h.copy(et))}return _},this.copyPDFStream=function(g){if(h.traversedObjects.has(g))return h.traversedObjects.get(g);var _=g.clone(h.dest);h.traversedObjects.set(g,_);for(var j=g.dict.entries(),$=0,et=j.length;$<et;$++){var tt=j[$],nt=tt[0],rt=tt[1];_.dict.set(nt,h.copy(rt))}return _},this.copyPDFIndirectObject=function(g){var _=h.traversedObjects.has(g);if(!_){var j=h.dest.nextRef();h.traversedObjects.set(g,j);var $=h.src.lookup(g);if($){var et=h.copy($);h.dest.assign(j,et)}}return h.traversedObjects.get(g)},this.src=e,this.dest=d}return s.for=function(e,d){return new s(e,d)},s}(),PDFCrossRefSection=function(){function s(e){this.subsections=e?[[e]]:[],this.chunkIdx=0,this.chunkLength=e?1:0}return s.prototype.addEntry=function(e,d){this.append({ref:e,offset:d,deleted:!1})},s.prototype.addDeletedEntry=function(e,d){this.append({ref:e,offset:d,deleted:!0})},s.prototype.toString=function(){for(var e=`xref
`,d=0,h=this.subsections.length;d<h;d++){var g=this.subsections[d];e+=g[0].ref.objectNumber+" "+g.length+`
`;for(var _=0,j=g.length;_<j;_++){var $=g[_];e+=padStart$1(String($.offset),10,"0"),e+=" ",e+=padStart$1(String($.ref.generationNumber),5,"0"),e+=" ",e+=$.deleted?"f":"n",e+=` 
`}}return e},s.prototype.sizeInBytes=function(){for(var e=5,d=0,h=this.subsections.length;d<h;d++){var g=this.subsections[d],_=g.length,j=g[0];e+=2,e+=String(j.ref.objectNumber).length,e+=String(_).length,e+=20*_}return e},s.prototype.copyBytesInto=function(e,d){var h=d;return e[d++]=CharCodes$1.x,e[d++]=CharCodes$1.r,e[d++]=CharCodes$1.e,e[d++]=CharCodes$1.f,e[d++]=CharCodes$1.Newline,d+=this.copySubsectionsIntoBuffer(this.subsections,e,d),d-h},s.prototype.copySubsectionsIntoBuffer=function(e,d,h){for(var g=h,_=e.length,j=0;j<_;j++){var $=this.subsections[j],et=String($[0].ref.objectNumber);h+=copyStringIntoBuffer(et,d,h),d[h++]=CharCodes$1.Space;var tt=String($.length);h+=copyStringIntoBuffer(tt,d,h),d[h++]=CharCodes$1.Newline,h+=this.copyEntriesIntoBuffer($,d,h)}return h-g},s.prototype.copyEntriesIntoBuffer=function(e,d,h){for(var g=e.length,_=0;_<g;_++){var j=e[_],$=padStart$1(String(j.offset),10,"0");h+=copyStringIntoBuffer($,d,h),d[h++]=CharCodes$1.Space;var et=padStart$1(String(j.ref.generationNumber),5,"0");h+=copyStringIntoBuffer(et,d,h),d[h++]=CharCodes$1.Space,d[h++]=j.deleted?CharCodes$1.f:CharCodes$1.n,d[h++]=CharCodes$1.Space,d[h++]=CharCodes$1.Newline}return 20*g},s.prototype.append=function(e){if(this.chunkLength===0){this.subsections.push([e]),this.chunkIdx=0,this.chunkLength=1;return}var d=this.subsections[this.chunkIdx],h=d[this.chunkLength-1];e.ref.objectNumber-h.ref.objectNumber>1?(this.subsections.push([e]),this.chunkIdx+=1,this.chunkLength=1):(d.push(e),this.chunkLength+=1)},s.create=function(){return new s({ref:PDFRef.of(0,65535),offset:0,deleted:!0})},s.createEmpty=function(){return new s},s}(),PDFTrailer=function(){function s(e){this.lastXRefOffset=String(e)}return s.prototype.toString=function(){return`startxref
`+this.lastXRefOffset+`
%%EOF`},s.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},s.prototype.copyBytesInto=function(e,d){var h=d;return e[d++]=CharCodes$1.s,e[d++]=CharCodes$1.t,e[d++]=CharCodes$1.a,e[d++]=CharCodes$1.r,e[d++]=CharCodes$1.t,e[d++]=CharCodes$1.x,e[d++]=CharCodes$1.r,e[d++]=CharCodes$1.e,e[d++]=CharCodes$1.f,e[d++]=CharCodes$1.Newline,d+=copyStringIntoBuffer(this.lastXRefOffset,e,d),e[d++]=CharCodes$1.Newline,e[d++]=CharCodes$1.Percent,e[d++]=CharCodes$1.Percent,e[d++]=CharCodes$1.E,e[d++]=CharCodes$1.O,e[d++]=CharCodes$1.F,d-h},s.forLastCrossRefSectionOffset=function(e){return new s(e)},s}(),PDFTrailerDict=function(){function s(e){this.dict=e}return s.prototype.toString=function(){return`trailer
`+this.dict.toString()},s.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},s.prototype.copyBytesInto=function(e,d){var h=d;return e[d++]=CharCodes$1.t,e[d++]=CharCodes$1.r,e[d++]=CharCodes$1.a,e[d++]=CharCodes$1.i,e[d++]=CharCodes$1.l,e[d++]=CharCodes$1.e,e[d++]=CharCodes$1.r,e[d++]=CharCodes$1.Newline,d+=this.dict.copyBytesInto(e,d),d-h},s.of=function(e){return new s(e)},s}(),PDFObjectStream=function(s){__extends(e,s);function e(d,h,g){g===void 0&&(g=!0);var _=s.call(this,d.obj({}),g)||this;return _.objects=h,_.offsets=_.computeObjectOffsets(),_.offsetsString=_.computeOffsetsString(),_.dict.set(PDFName.of("Type"),PDFName.of("ObjStm")),_.dict.set(PDFName.of("N"),PDFNumber.of(_.objects.length)),_.dict.set(PDFName.of("First"),PDFNumber.of(_.offsetsString.length)),_}return e.prototype.getObjectsCount=function(){return this.objects.length},e.prototype.clone=function(d){return e.withContextAndObjects(d||this.dict.context,this.objects.slice(),this.encode)},e.prototype.getContentsString=function(){for(var d=this.offsetsString,h=0,g=this.objects.length;h<g;h++){var _=this.objects[h],j=_[1];d+=j+`
`}return d},e.prototype.getUnencodedContents=function(){for(var d=new Uint8Array(this.getUnencodedContentsSize()),h=copyStringIntoBuffer(this.offsetsString,d,0),g=0,_=this.objects.length;g<_;g++){var j=this.objects[g],$=j[1];h+=$.copyBytesInto(d,h),d[h++]=CharCodes$1.Newline}return d},e.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+last(this.offsets)[1]+last(this.objects)[1].sizeInBytes()+1},e.prototype.computeOffsetsString=function(){for(var d="",h=0,g=this.offsets.length;h<g;h++){var _=this.offsets[h],j=_[0],$=_[1];d+=j+" "+$+" "}return d},e.prototype.computeObjectOffsets=function(){for(var d=0,h=new Array(this.objects.length),g=0,_=this.objects.length;g<_;g++){var j=this.objects[g],$=j[0],et=j[1];h[g]=[$.objectNumber,d],d+=et.sizeInBytes()+1}return h},e.withContextAndObjects=function(d,h,g){return g===void 0&&(g=!0),new e(d,h,g)},e}(PDFFlateStream),PDFWriter=function(){function s(e,d){var h=this;this.parsedObjects=0,this.shouldWaitForTick=function(g){return h.parsedObjects+=g,h.parsedObjects%h.objectsPerTick===0},this.context=e,this.objectsPerTick=d}return s.prototype.serializeToBuffer=function(){return __awaiter(this,void 0,void 0,function(){var e,d,h,g,_,j,$,et,tt,nt,rt,it,st,ot,lt,dt,at;return __generator(this,function(ut){switch(ut.label){case 0:return[4,this.computeBufferSize()];case 1:e=ut.sent(),d=e.size,h=e.header,g=e.indirectObjects,_=e.xref,j=e.trailerDict,$=e.trailer,et=0,tt=new Uint8Array(d),et+=h.copyBytesInto(tt,et),tt[et++]=CharCodes$1.Newline,tt[et++]=CharCodes$1.Newline,nt=0,rt=g.length,ut.label=2;case 2:return nt<rt?(it=g[nt],st=it[0],ot=it[1],lt=String(st.objectNumber),et+=copyStringIntoBuffer(lt,tt,et),tt[et++]=CharCodes$1.Space,dt=String(st.generationNumber),et+=copyStringIntoBuffer(dt,tt,et),tt[et++]=CharCodes$1.Space,tt[et++]=CharCodes$1.o,tt[et++]=CharCodes$1.b,tt[et++]=CharCodes$1.j,tt[et++]=CharCodes$1.Newline,et+=ot.copyBytesInto(tt,et),tt[et++]=CharCodes$1.Newline,tt[et++]=CharCodes$1.e,tt[et++]=CharCodes$1.n,tt[et++]=CharCodes$1.d,tt[et++]=CharCodes$1.o,tt[et++]=CharCodes$1.b,tt[et++]=CharCodes$1.j,tt[et++]=CharCodes$1.Newline,tt[et++]=CharCodes$1.Newline,at=ot instanceof PDFObjectStream?ot.getObjectsCount():1,this.shouldWaitForTick(at)?[4,waitForTick()]:[3,4]):[3,5];case 3:ut.sent(),ut.label=4;case 4:return nt++,[3,2];case 5:return _&&(et+=_.copyBytesInto(tt,et),tt[et++]=CharCodes$1.Newline),j&&(et+=j.copyBytesInto(tt,et),tt[et++]=CharCodes$1.Newline,tt[et++]=CharCodes$1.Newline),et+=$.copyBytesInto(tt,et),[2,tt]}})})},s.prototype.computeIndirectObjectSize=function(e){var d=e[0],h=e[1],g=d.sizeInBytes()+3,_=h.sizeInBytes()+9;return g+_},s.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},s.prototype.computeBufferSize=function(){return __awaiter(this,void 0,void 0,function(){var e,d,h,g,_,j,$,et,tt,nt,rt;return __generator(this,function(it){switch(it.label){case 0:e=PDFHeader.forVersion(1,7),d=e.sizeInBytes()+2,h=PDFCrossRefSection.create(),g=this.context.enumerateIndirectObjects(),_=0,j=g.length,it.label=1;case 1:return _<j?($=g[_],et=$[0],h.addEntry(et,d),d+=this.computeIndirectObjectSize($),this.shouldWaitForTick(1)?[4,waitForTick()]:[3,3]):[3,4];case 2:it.sent(),it.label=3;case 3:return _++,[3,1];case 4:return tt=d,d+=h.sizeInBytes()+1,nt=PDFTrailerDict.of(this.createTrailerDict()),d+=nt.sizeInBytes()+2,rt=PDFTrailer.forLastCrossRefSectionOffset(tt),d+=rt.sizeInBytes(),[2,{size:d,header:e,indirectObjects:g,xref:h,trailerDict:nt,trailer:rt}]}})})},s.forContext=function(e,d){return new s(e,d)},s}(),PDFInvalidObject=function(s){__extends(e,s);function e(d){var h=s.call(this)||this;return h.data=d,h}return e.prototype.clone=function(){return e.of(this.data.slice())},e.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},e.prototype.sizeInBytes=function(){return this.data.length},e.prototype.copyBytesInto=function(d,h){for(var g=this.data.length,_=0;_<g;_++)d[h++]=this.data[_];return g},e.of=function(d){return new e(d)},e}(PDFObject),EntryType;(function(s){s[s.Deleted=0]="Deleted",s[s.Uncompressed=1]="Uncompressed",s[s.Compressed=2]="Compressed"})(EntryType||(EntryType={}));var PDFCrossRefStream=function(s){__extends(e,s);function e(d,h,g){g===void 0&&(g=!0);var _=s.call(this,d,g)||this;return _.computeIndex=function(){for(var j=[],$=0,et=0,tt=_.entries.length;et<tt;et++){var nt=_.entries[et],rt=_.entries[et-1];et===0?j.push(nt.ref.objectNumber):nt.ref.objectNumber-rt.ref.objectNumber>1&&(j.push($),j.push(nt.ref.objectNumber),$=0),$+=1}return j.push($),j},_.computeEntryTuples=function(){for(var j=new Array(_.entries.length),$=0,et=_.entries.length;$<et;$++){var tt=_.entries[$];if(tt.type===EntryType.Deleted){var nt=tt.type,rt=tt.nextFreeObjectNumber,it=tt.ref;j[$]=[nt,rt,it.generationNumber]}if(tt.type===EntryType.Uncompressed){var nt=tt.type,st=tt.offset,it=tt.ref;j[$]=[nt,st,it.generationNumber]}if(tt.type===EntryType.Compressed){var nt=tt.type,ot=tt.objectStreamRef,lt=tt.index;j[$]=[nt,ot.objectNumber,lt]}}return j},_.computeMaxEntryByteWidths=function(){for(var j=_.entryTuplesCache.access(),$=[0,0,0],et=0,tt=j.length;et<tt;et++){var nt=j[et],rt=nt[0],it=nt[1],st=nt[2],ot=sizeInBytes(rt),lt=sizeInBytes(it),dt=sizeInBytes(st);ot>$[0]&&($[0]=ot),lt>$[1]&&($[1]=lt),dt>$[2]&&($[2]=dt)}return $},_.entries=h||[],_.entryTuplesCache=Cache.populatedBy(_.computeEntryTuples),_.maxByteWidthsCache=Cache.populatedBy(_.computeMaxEntryByteWidths),_.indexCache=Cache.populatedBy(_.computeIndex),d.set(PDFName.of("Type"),PDFName.of("XRef")),_}return e.prototype.addDeletedEntry=function(d,h){var g=EntryType.Deleted;this.entries.push({type:g,ref:d,nextFreeObjectNumber:h}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.addUncompressedEntry=function(d,h){var g=EntryType.Uncompressed;this.entries.push({type:g,ref:d,offset:h}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.addCompressedEntry=function(d,h,g){var _=EntryType.Compressed;this.entries.push({type:_,ref:d,objectStreamRef:h,index:g}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.clone=function(d){var h=this,g=h.dict,_=h.entries,j=h.encode;return e.of(g.clone(d),_.slice(),j)},e.prototype.getContentsString=function(){for(var d=this.entryTuplesCache.access(),h=this.maxByteWidthsCache.access(),g="",_=0,j=d.length;_<j;_++){for(var $=d[_],et=$[0],tt=$[1],nt=$[2],rt=reverseArray(bytesFor(et)),it=reverseArray(bytesFor(tt)),st=reverseArray(bytesFor(nt)),ot=h[0]-1;ot>=0;ot--)g+=(rt[ot]||0).toString(2);for(var ot=h[1]-1;ot>=0;ot--)g+=(it[ot]||0).toString(2);for(var ot=h[2]-1;ot>=0;ot--)g+=(st[ot]||0).toString(2)}return g},e.prototype.getUnencodedContents=function(){for(var d=this.entryTuplesCache.access(),h=this.maxByteWidthsCache.access(),g=new Uint8Array(this.getUnencodedContentsSize()),_=0,j=0,$=d.length;j<$;j++){for(var et=d[j],tt=et[0],nt=et[1],rt=et[2],it=reverseArray(bytesFor(tt)),st=reverseArray(bytesFor(nt)),ot=reverseArray(bytesFor(rt)),lt=h[0]-1;lt>=0;lt--)g[_++]=it[lt]||0;for(var lt=h[1]-1;lt>=0;lt--)g[_++]=st[lt]||0;for(var lt=h[2]-1;lt>=0;lt--)g[_++]=ot[lt]||0}return g},e.prototype.getUnencodedContentsSize=function(){var d=this.maxByteWidthsCache.access(),h=sum(d);return h*this.entries.length},e.prototype.updateDict=function(){s.prototype.updateDict.call(this);var d=this.maxByteWidthsCache.access(),h=this.indexCache.access(),g=this.dict.context;this.dict.set(PDFName.of("W"),g.obj(d)),this.dict.set(PDFName.of("Index"),g.obj(h))},e.create=function(d,h){h===void 0&&(h=!0);var g=new e(d,[],h);return g.addDeletedEntry(PDFRef.of(0,65535),0),g},e.of=function(d,h,g){return g===void 0&&(g=!0),new e(d,h,g)},e}(PDFFlateStream),PDFStreamWriter=function(s){__extends(e,s);function e(d,h,g,_){var j=s.call(this,d,h)||this;return j.encodeStreams=g,j.objectsPerStream=_,j}return e.prototype.computeBufferSize=function(){return __awaiter(this,void 0,void 0,function(){var d,h,g,_,j,$,et,tt,ot,lt,nt,at,rt,it,dt,st,ot,lt,dt,at,ut,pt,vt,ht;return __generator(this,function(yt){switch(yt.label){case 0:d=this.context.largestObjectNumber+1,h=PDFHeader.forVersion(1,7),g=h.sizeInBytes()+2,_=PDFCrossRefStream.create(this.createTrailerDict(),this.encodeStreams),j=[],$=[],et=[],tt=this.context.enumerateIndirectObjects(),ot=0,lt=tt.length,yt.label=1;case 1:return ot<lt?(nt=tt[ot],at=nt[0],rt=nt[1],it=at===this.context.trailerInfo.Encrypt||rt instanceof PDFStream||rt instanceof PDFInvalidObject||at.generationNumber!==0,it?(j.push(nt),_.addUncompressedEntry(at,g),g+=this.computeIndirectObjectSize(nt),this.shouldWaitForTick(1)?[4,waitForTick()]:[3,3]):[3,4]):[3,6];case 2:yt.sent(),yt.label=3;case 3:return[3,5];case 4:dt=last($),st=last(et),(!dt||dt.length%this.objectsPerStream===0)&&(dt=[],$.push(dt),st=PDFRef.of(d++),et.push(st)),_.addCompressedEntry(at,st,dt.length),dt.push(nt),yt.label=5;case 5:return ot++,[3,1];case 6:ot=0,lt=$.length,yt.label=7;case 7:return ot<lt?(dt=$[ot],at=et[ot],ut=PDFObjectStream.withContextAndObjects(this.context,dt,this.encodeStreams),_.addUncompressedEntry(at,g),g+=this.computeIndirectObjectSize([at,ut]),j.push([at,ut]),this.shouldWaitForTick(dt.length)?[4,waitForTick()]:[3,9]):[3,10];case 8:yt.sent(),yt.label=9;case 9:return ot++,[3,7];case 10:return pt=PDFRef.of(d++),_.dict.set(PDFName.of("Size"),PDFNumber.of(d)),_.addUncompressedEntry(pt,g),vt=g,g+=this.computeIndirectObjectSize([pt,_]),j.push([pt,_]),ht=PDFTrailer.forLastCrossRefSectionOffset(vt),g+=ht.sizeInBytes(),[2,{size:g,header:h,indirectObjects:j,trailer:ht}]}})})},e.forContext=function(d,h,g,_){return g===void 0&&(g=!0),_===void 0&&(_=50),new e(d,h,g,_)},e}(PDFWriter),PDFHexString=function(s){__extends(e,s);function e(d){var h=s.call(this)||this;return h.value=d,h}return e.prototype.asBytes=function(){for(var d=this.value+(this.value.length%2===1?"0":""),h=d.length,g=new Uint8Array(d.length/2),_=0,j=0;_<h;){var $=parseInt(d.substring(_,_+2),16);g[j]=$,_+=2,j+=1}return g},e.prototype.decodeText=function(){var d=this.asBytes();return hasUtf16BOM(d)?utf16Decode(d):pdfDocEncodingDecode(d)},e.prototype.decodeDate=function(){var d=this.decodeText(),h=parseDate(d);if(!h)throw new InvalidPDFDateStringError(d);return h},e.prototype.asString=function(){return this.value},e.prototype.clone=function(){return e.of(this.value)},e.prototype.toString=function(){return"<"+this.value+">"},e.prototype.sizeInBytes=function(){return this.value.length+2},e.prototype.copyBytesInto=function(d,h){return d[h++]=CharCodes$1.LessThan,h+=copyStringIntoBuffer(this.value,d,h),d[h++]=CharCodes$1.GreaterThan,this.value.length+2},e.of=function(d){return new e(d)},e.fromText=function(d){for(var h=utf16Encode(d),g="",_=0,j=h.length;_<j;_++)g+=toHexStringOfMinLength(h[_],4);return new e(g)},e}(PDFObject),StandardFontEmbedder=function(){function s(e,d){this.encoding=e===FontNames.ZapfDingbats?Encodings.ZapfDingbats:e===FontNames.Symbol?Encodings.Symbol:Encodings.WinAnsi,this.font=Font.load(e),this.fontName=this.font.FontName,this.customName=d}return s.prototype.encodeText=function(e){for(var d=this.encodeTextAsGlyphs(e),h=new Array(d.length),g=0,_=d.length;g<_;g++)h[g]=toHexString(d[g].code);return PDFHexString.of(h.join(""))},s.prototype.widthOfTextAtSize=function(e,d){for(var h=this.encodeTextAsGlyphs(e),g=0,_=0,j=h.length;_<j;_++){var $=h[_].name,et=(h[_+1]||{}).name,tt=this.font.getXAxisKerningForPair($,et)||0;g+=this.widthOfGlyph($)+tt}var nt=d/1e3;return g*nt},s.prototype.heightOfFontAtSize=function(e,d){d===void 0&&(d={});var h=d.descender,g=h===void 0?!0:h,_=this.font,j=_.Ascender,$=_.Descender,et=_.FontBBox,tt=j||et[3],nt=$||et[1],rt=tt-nt;return g||(rt+=$||0),rt/1e3*e},s.prototype.sizeOfFontAtHeight=function(e){var d=this.font,h=d.Ascender,g=d.Descender,_=d.FontBBox,j=h||_[3],$=g||_[1];return 1e3*e/(j-$)},s.prototype.embedIntoContext=function(e,d){var h=e.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===Encodings.WinAnsi?"WinAnsiEncoding":void 0});return d?(e.assign(d,h),d):e.register(h)},s.prototype.widthOfGlyph=function(e){return this.font.getWidthOfGlyph(e)||250},s.prototype.encodeTextAsGlyphs=function(e){for(var d=Array.from(e),h=new Array(d.length),g=0,_=d.length;g<_;g++){var j=toCodePoint(d[g]);h[g]=this.encoding.encodeUnicodeCodePoint(j)}return h},s.for=function(e,d){return new s(e,d)},s}(),createCmap=function(s,e){for(var d=new Array(s.length),h=0,g=s.length;h<g;h++){var _=s[h],j=cmapHexFormat(cmapHexString(e(_))),$=cmapHexFormat.apply(void 0,_.codePoints.map(cmapCodePointFormat));d[h]=[j,$]}return fillCmapTemplate(d)},fillCmapTemplate=function(s){return`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange
`+s.length+` beginbfchar
`+s.map(function(e){var d=e[0],h=e[1];return d+" "+h}).join(`
`)+`
endbfchar
endcmap
CMapName currentdict /CMap defineresource pop
end
end`},cmapHexFormat=function(){for(var s=[],e=0;e<arguments.length;e++)s[e]=arguments[e];return"<"+s.join("")+">"},cmapHexString=function(s){return toHexStringOfMinLength(s,4)},cmapCodePointFormat=function(s){if(isWithinBMP(s))return cmapHexString(s);if(hasSurrogates(s)){var e=highSurrogate(s),d=lowSurrogate(s);return""+cmapHexString(e)+cmapHexString(d)}var h=toHexString(s),g="0x"+h+" is not a valid UTF-8 or UTF-16 codepoint.";throw new Error(g)},makeFontFlags=function(s){var e=0,d=function(h){e|=1<<h-1};return s.fixedPitch&&d(1),s.serif&&d(2),d(3),s.script&&d(4),s.nonsymbolic&&d(6),s.italic&&d(7),s.allCap&&d(17),s.smallCap&&d(18),s.forceBold&&d(19),e},deriveFontFlags=function(s){var e=s["OS/2"]?s["OS/2"].sFamilyClass:0,d=makeFontFlags({fixedPitch:s.post.isFixedPitch,serif:1<=e&&e<=7,symbolic:!0,script:e===10,italic:s.head.macStyle.italic});return d},PDFString=function(s){__extends(e,s);function e(d){var h=s.call(this)||this;return h.value=d,h}return e.prototype.asBytes=function(){for(var d=[],h="",g=!1,_=function(rt){rt!==void 0&&d.push(rt),g=!1},j=0,$=this.value.length;j<$;j++){var et=this.value[j],tt=toCharCode(et),nt=this.value[j+1];g?tt===CharCodes$1.Newline||tt===CharCodes$1.CarriageReturn?_():tt===CharCodes$1.n?_(CharCodes$1.Newline):tt===CharCodes$1.r?_(CharCodes$1.CarriageReturn):tt===CharCodes$1.t?_(CharCodes$1.Tab):tt===CharCodes$1.b?_(CharCodes$1.Backspace):tt===CharCodes$1.f?_(CharCodes$1.FormFeed):tt===CharCodes$1.LeftParen?_(CharCodes$1.LeftParen):tt===CharCodes$1.RightParen?_(CharCodes$1.RightParen):tt===CharCodes$1.Backspace?_(CharCodes$1.BackSlash):tt>=CharCodes$1.Zero&&tt<=CharCodes$1.Seven?(h+=et,(h.length===3||!(nt>="0"&&nt<="7"))&&(_(parseInt(h,8)),h="")):_(tt):tt===CharCodes$1.BackSlash?g=!0:_(tt)}return new Uint8Array(d)},e.prototype.decodeText=function(){var d=this.asBytes();return hasUtf16BOM(d)?utf16Decode(d):pdfDocEncodingDecode(d)},e.prototype.decodeDate=function(){var d=this.decodeText(),h=parseDate(d);if(!h)throw new InvalidPDFDateStringError(d);return h},e.prototype.asString=function(){return this.value},e.prototype.clone=function(){return e.of(this.value)},e.prototype.toString=function(){return"("+this.value+")"},e.prototype.sizeInBytes=function(){return this.value.length+2},e.prototype.copyBytesInto=function(d,h){return d[h++]=CharCodes$1.LeftParen,h+=copyStringIntoBuffer(this.value,d,h),d[h++]=CharCodes$1.RightParen,this.value.length+2},e.of=function(d){return new e(d)},e.fromDate=function(d){var h=padStart$1(String(d.getUTCFullYear()),4,"0"),g=padStart$1(String(d.getUTCMonth()+1),2,"0"),_=padStart$1(String(d.getUTCDate()),2,"0"),j=padStart$1(String(d.getUTCHours()),2,"0"),$=padStart$1(String(d.getUTCMinutes()),2,"0"),et=padStart$1(String(d.getUTCSeconds()),2,"0");return new e("D:"+h+g+_+j+$+et+"Z")},e}(PDFObject),CustomFontEmbedder=function(){function s(e,d,h,g){var _=this;this.allGlyphsInFontSortedById=function(){for(var j=new Array(_.font.characterSet.length),$=0,et=j.length;$<et;$++){var tt=_.font.characterSet[$];j[$]=_.font.glyphForCodePoint(tt)}return sortedUniq(j.sort(byAscendingId),function(nt){return nt.id})},this.font=e,this.scale=1e3/this.font.unitsPerEm,this.fontData=d,this.fontName=this.font.postscriptName||"Font",this.customName=h,this.fontFeatures=g,this.baseFontName="",this.glyphCache=Cache.populatedBy(this.allGlyphsInFontSortedById)}return s.for=function(e,d,h,g){return __awaiter(this,void 0,void 0,function(){var _;return __generator(this,function(j){switch(j.label){case 0:return[4,e.create(d)];case 1:return _=j.sent(),[2,new s(_,d,h,g)]}})})},s.prototype.encodeText=function(e){for(var d=this.font.layout(e,this.fontFeatures).glyphs,h=new Array(d.length),g=0,_=d.length;g<_;g++)h[g]=toHexStringOfMinLength(d[g].id,4);return PDFHexString.of(h.join(""))},s.prototype.widthOfTextAtSize=function(e,d){for(var h=this.font.layout(e,this.fontFeatures).glyphs,g=0,_=0,j=h.length;_<j;_++)g+=h[_].advanceWidth*this.scale;var $=d/1e3;return g*$},s.prototype.heightOfFontAtSize=function(e,d){d===void 0&&(d={});var h=d.descender,g=h===void 0?!0:h,_=this.font,j=_.ascent,$=_.descent,et=_.bbox,tt=(j||et.maxY)*this.scale,nt=($||et.minY)*this.scale,rt=tt-nt;return g||(rt-=Math.abs($)||0),rt/1e3*e},s.prototype.sizeOfFontAtHeight=function(e){var d=this.font,h=d.ascent,g=d.descent,_=d.bbox,j=(h||_.maxY)*this.scale,$=(g||_.minY)*this.scale;return 1e3*e/(j-$)},s.prototype.embedIntoContext=function(e,d){return this.baseFontName=this.customName||e.addRandomSuffix(this.fontName),this.embedFontDict(e,d)},s.prototype.embedFontDict=function(e,d){return __awaiter(this,void 0,void 0,function(){var h,g,_;return __generator(this,function(j){switch(j.label){case 0:return[4,this.embedCIDFontDict(e)];case 1:return h=j.sent(),g=this.embedUnicodeCmap(e),_=e.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[h],ToUnicode:g}),d?(e.assign(d,_),[2,d]):[2,e.register(_)]}})})},s.prototype.isCFF=function(){return this.font.cff},s.prototype.embedCIDFontDict=function(e){return __awaiter(this,void 0,void 0,function(){var d,h;return __generator(this,function(g){switch(g.label){case 0:return[4,this.embedFontDescriptor(e)];case 1:return d=g.sent(),h=e.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:PDFString.of("Adobe"),Ordering:PDFString.of("Identity"),Supplement:0},FontDescriptor:d,W:this.computeWidths()}),[2,e.register(h)]}})})},s.prototype.embedFontDescriptor=function(e){return __awaiter(this,void 0,void 0,function(){var d,h,g,_,j,$,et,tt,nt,rt,it,st,ot,lt,dt;return __generator(this,function(at){switch(at.label){case 0:return[4,this.embedFontStream(e)];case 1:return d=at.sent(),h=this.scale,g=this.font,_=g.italicAngle,j=g.ascent,$=g.descent,et=g.capHeight,tt=g.xHeight,nt=this.font.bbox,rt=nt.minX,it=nt.minY,st=nt.maxX,ot=nt.maxY,lt=e.obj((dt={Type:"FontDescriptor",FontName:this.baseFontName,Flags:deriveFontFlags(this.font),FontBBox:[rt*h,it*h,st*h,ot*h],ItalicAngle:_,Ascent:j*h,Descent:$*h,CapHeight:(et||j)*h,XHeight:(tt||0)*h,StemV:0},dt[this.isCFF()?"FontFile3":"FontFile2"]=d,dt)),[2,e.register(lt)]}})})},s.prototype.serializeFont=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,this.fontData]})})},s.prototype.embedFontStream=function(e){return __awaiter(this,void 0,void 0,function(){var d,h,g;return __generator(this,function(_){switch(_.label){case 0:return g=(h=e).flateStream,[4,this.serializeFont()];case 1:return d=g.apply(h,[_.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,e.register(d)]}})})},s.prototype.embedUnicodeCmap=function(e){var d=createCmap(this.glyphCache.access(),this.glyphId.bind(this)),h=e.flateStream(d);return e.register(h)},s.prototype.glyphId=function(e){return e?e.id:-1},s.prototype.computeWidths=function(){for(var e=this.glyphCache.access(),d=[],h=[],g=0,_=e.length;g<_;g++){var j=e[g],$=e[g-1],et=this.glyphId(j),tt=this.glyphId($);g===0?d.push(et):et-tt!==1&&(d.push(h),d.push(et),h=[]),h.push(j.advanceWidth*this.scale)}return d.push(h),d},s}(),CustomFontSubsetEmbedder=function(s){__extends(e,s);function e(d,h,g,_){var j=s.call(this,d,h,g,_)||this;return j.subset=j.font.createSubset(),j.glyphs=[],j.glyphCache=Cache.populatedBy(function(){return j.glyphs}),j.glyphIdMap=new Map,j}return e.for=function(d,h,g,_){return __awaiter(this,void 0,void 0,function(){var j;return __generator(this,function($){switch($.label){case 0:return[4,d.create(h)];case 1:return j=$.sent(),[2,new e(j,h,g,_)]}})})},e.prototype.encodeText=function(d){for(var h=this.font.layout(d,this.fontFeatures).glyphs,g=new Array(h.length),_=0,j=h.length;_<j;_++){var $=h[_],et=this.subset.includeGlyph($);this.glyphs[et-1]=$,this.glyphIdMap.set($.id,et),g[_]=toHexStringOfMinLength(et,4)}return this.glyphCache.invalidate(),PDFHexString.of(g.join(""))},e.prototype.isCFF=function(){return this.subset.cff},e.prototype.glyphId=function(d){return d?this.glyphIdMap.get(d.id):-1},e.prototype.serializeFont=function(){var d=this;return new Promise(function(h,g){var _=[];d.subset.encodeStream().on("data",function(j){return _.push(j)}).on("end",function(){return h(mergeUint8Arrays(_))}).on("error",function(j){return g(j)})})},e}(CustomFontEmbedder),AFRelationship;(function(s){s.Source="Source",s.Data="Data",s.Alternative="Alternative",s.Supplement="Supplement",s.EncryptedPayload="EncryptedPayload",s.FormData="EncryptedPayload",s.Schema="Schema",s.Unspecified="Unspecified"})(AFRelationship||(AFRelationship={}));var FileEmbedder=function(){function s(e,d,h){h===void 0&&(h={}),this.fileData=e,this.fileName=d,this.options=h}return s.for=function(e,d,h){return h===void 0&&(h={}),new s(e,d,h)},s.prototype.embedIntoContext=function(e,d){return __awaiter(this,void 0,void 0,function(){var h,g,_,j,$,et,tt,nt,rt;return __generator(this,function(it){return h=this.options,g=h.mimeType,_=h.description,j=h.creationDate,$=h.modificationDate,et=h.afRelationship,tt=e.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:g??void 0,Params:{Size:this.fileData.length,CreationDate:j?PDFString.fromDate(j):void 0,ModDate:$?PDFString.fromDate($):void 0}}),nt=e.register(tt),rt=e.obj({Type:"Filespec",F:PDFString.of(this.fileName),UF:PDFHexString.fromText(this.fileName),EF:{F:nt},Desc:_?PDFHexString.fromText(_):void 0,AFRelationship:et??void 0}),d?(e.assign(d,rt),[2,d]):[2,e.register(rt)]})})},s}(),MARKERS=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],ColorSpace;(function(s){s.DeviceGray="DeviceGray",s.DeviceRGB="DeviceRGB",s.DeviceCMYK="DeviceCMYK"})(ColorSpace||(ColorSpace={}));var ChannelToColorSpace={1:ColorSpace.DeviceGray,3:ColorSpace.DeviceRGB,4:ColorSpace.DeviceCMYK},JpegEmbedder=function(){function s(e,d,h,g,_){this.imageData=e,this.bitsPerComponent=d,this.width=h,this.height=g,this.colorSpace=_}return s.for=function(e){return __awaiter(this,void 0,void 0,function(){var d,h,g,_,j,$,et,tt,nt,rt;return __generator(this,function(it){if(d=new DataView(e.buffer),h=d.getUint16(0),h!==65496)throw new Error("SOI not found in JPEG");for(g=2;g<d.byteLength&&(_=d.getUint16(g),g+=2,!MARKERS.includes(_));)g+=d.getUint16(g);if(!MARKERS.includes(_))throw new Error("Invalid JPEG");if(g+=2,j=d.getUint8(g++),$=d.getUint16(g),g+=2,et=d.getUint16(g),g+=2,tt=d.getUint8(g++),nt=ChannelToColorSpace[tt],!nt)throw new Error("Unknown JPEG channel.");return rt=nt,[2,new s(e,j,et,$,rt)]})})},s.prototype.embedIntoContext=function(e,d){return __awaiter(this,void 0,void 0,function(){var h;return __generator(this,function(g){return h=e.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===ColorSpace.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),d?(e.assign(d,h),[2,d]):[2,e.register(h)]})})},s}(),common={};(function(s){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function d(_,j){return Object.prototype.hasOwnProperty.call(_,j)}s.assign=function(_){for(var j=Array.prototype.slice.call(arguments,1);j.length;){var $=j.shift();if($){if(typeof $!="object")throw new TypeError($+"must be non-object");for(var et in $)d($,et)&&(_[et]=$[et])}}return _},s.shrinkBuf=function(_,j){return _.length===j?_:_.subarray?_.subarray(0,j):(_.length=j,_)};var h={arraySet:function(_,j,$,et,tt){if(j.subarray&&_.subarray){_.set(j.subarray($,$+et),tt);return}for(var nt=0;nt<et;nt++)_[tt+nt]=j[$+nt]},flattenChunks:function(_){var j,$,et,tt,nt,rt;for(et=0,j=0,$=_.length;j<$;j++)et+=_[j].length;for(rt=new Uint8Array(et),tt=0,j=0,$=_.length;j<$;j++)nt=_[j],rt.set(nt,tt),tt+=nt.length;return rt}},g={arraySet:function(_,j,$,et,tt){for(var nt=0;nt<et;nt++)_[tt+nt]=j[$+nt]},flattenChunks:function(_){return[].concat.apply([],_)}};s.setTyped=function(_){_?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,h)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,g))},s.setTyped(e)})(common);var deflate$4={},deflate$3={},trees$1={},utils$6=common,Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(s){for(var e=s.length;--e>=0;)s[e]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);var static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);var _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);var base_length=new Array(LENGTH_CODES$1);zero$1(base_length);var base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(s,e,d,h,g){this.static_tree=s,this.extra_bits=e,this.extra_base=d,this.elems=h,this.max_length=g,this.has_stree=s&&s.length}var static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(s,e){this.dyn_tree=s,this.max_code=0,this.stat_desc=e}function d_code(s){return s<256?_dist_code[s]:_dist_code[256+(s>>>7)]}function put_short(s,e){s.pending_buf[s.pending++]=e&255,s.pending_buf[s.pending++]=e>>>8&255}function send_bits(s,e,d){s.bi_valid>Buf_size-d?(s.bi_buf|=e<<s.bi_valid&65535,put_short(s,s.bi_buf),s.bi_buf=e>>Buf_size-s.bi_valid,s.bi_valid+=d-Buf_size):(s.bi_buf|=e<<s.bi_valid&65535,s.bi_valid+=d)}function send_code(s,e,d){send_bits(s,d[e*2],d[e*2+1])}function bi_reverse(s,e){var d=0;do d|=s&1,s>>>=1,d<<=1;while(--e>0);return d>>>1}function bi_flush(s){s.bi_valid===16?(put_short(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):s.bi_valid>=8&&(s.pending_buf[s.pending++]=s.bi_buf&255,s.bi_buf>>=8,s.bi_valid-=8)}function gen_bitlen(s,e){var d=e.dyn_tree,h=e.max_code,g=e.stat_desc.static_tree,_=e.stat_desc.has_stree,j=e.stat_desc.extra_bits,$=e.stat_desc.extra_base,et=e.stat_desc.max_length,tt,nt,rt,it,st,ot,lt=0;for(it=0;it<=MAX_BITS$1;it++)s.bl_count[it]=0;for(d[s.heap[s.heap_max]*2+1]=0,tt=s.heap_max+1;tt<HEAP_SIZE$1;tt++)nt=s.heap[tt],it=d[d[nt*2+1]*2+1]+1,it>et&&(it=et,lt++),d[nt*2+1]=it,!(nt>h)&&(s.bl_count[it]++,st=0,nt>=$&&(st=j[nt-$]),ot=d[nt*2],s.opt_len+=ot*(it+st),_&&(s.static_len+=ot*(g[nt*2+1]+st)));if(lt!==0){do{for(it=et-1;s.bl_count[it]===0;)it--;s.bl_count[it]--,s.bl_count[it+1]+=2,s.bl_count[et]--,lt-=2}while(lt>0);for(it=et;it!==0;it--)for(nt=s.bl_count[it];nt!==0;)rt=s.heap[--tt],!(rt>h)&&(d[rt*2+1]!==it&&(s.opt_len+=(it-d[rt*2+1])*d[rt*2],d[rt*2+1]=it),nt--)}}function gen_codes(s,e,d){var h=new Array(MAX_BITS$1+1),g=0,_,j;for(_=1;_<=MAX_BITS$1;_++)h[_]=g=g+d[_-1]<<1;for(j=0;j<=e;j++){var $=s[j*2+1];$!==0&&(s[j*2]=bi_reverse(h[$]++,$))}}function tr_static_init(){var s,e,d,h,g,_=new Array(MAX_BITS$1+1);for(d=0,h=0;h<LENGTH_CODES$1-1;h++)for(base_length[h]=d,s=0;s<1<<extra_lbits[h];s++)_length_code[d++]=h;for(_length_code[d-1]=h,g=0,h=0;h<16;h++)for(base_dist[h]=g,s=0;s<1<<extra_dbits[h];s++)_dist_code[g++]=h;for(g>>=7;h<D_CODES$1;h++)for(base_dist[h]=g<<7,s=0;s<1<<extra_dbits[h]-7;s++)_dist_code[256+g++]=h;for(e=0;e<=MAX_BITS$1;e++)_[e]=0;for(s=0;s<=143;)static_ltree[s*2+1]=8,s++,_[8]++;for(;s<=255;)static_ltree[s*2+1]=9,s++,_[9]++;for(;s<=279;)static_ltree[s*2+1]=7,s++,_[7]++;for(;s<=287;)static_ltree[s*2+1]=8,s++,_[8]++;for(gen_codes(static_ltree,L_CODES$1+1,_),s=0;s<D_CODES$1;s++)static_dtree[s*2+1]=5,static_dtree[s*2]=bi_reverse(s,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)}function init_block(s){var e;for(e=0;e<L_CODES$1;e++)s.dyn_ltree[e*2]=0;for(e=0;e<D_CODES$1;e++)s.dyn_dtree[e*2]=0;for(e=0;e<BL_CODES$1;e++)s.bl_tree[e*2]=0;s.dyn_ltree[END_BLOCK*2]=1,s.opt_len=s.static_len=0,s.last_lit=s.matches=0}function bi_windup(s){s.bi_valid>8?put_short(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0}function copy_block(s,e,d,h){bi_windup(s),put_short(s,d),put_short(s,~d),utils$6.arraySet(s.pending_buf,s.window,e,d,s.pending),s.pending+=d}function smaller(s,e,d,h){var g=e*2,_=d*2;return s[g]<s[_]||s[g]===s[_]&&h[e]<=h[d]}function pqdownheap(s,e,d){for(var h=s.heap[d],g=d<<1;g<=s.heap_len&&(g<s.heap_len&&smaller(e,s.heap[g+1],s.heap[g],s.depth)&&g++,!smaller(e,h,s.heap[g],s.depth));)s.heap[d]=s.heap[g],d=g,g<<=1;s.heap[d]=h}function compress_block(s,e,d){var h,g,_=0,j,$;if(s.last_lit!==0)do h=s.pending_buf[s.d_buf+_*2]<<8|s.pending_buf[s.d_buf+_*2+1],g=s.pending_buf[s.l_buf+_],_++,h===0?send_code(s,g,e):(j=_length_code[g],send_code(s,j+LITERALS$1+1,e),$=extra_lbits[j],$!==0&&(g-=base_length[j],send_bits(s,g,$)),h--,j=d_code(h),send_code(s,j,d),$=extra_dbits[j],$!==0&&(h-=base_dist[j],send_bits(s,h,$)));while(_<s.last_lit);send_code(s,END_BLOCK,e)}function build_tree(s,e){var d=e.dyn_tree,h=e.stat_desc.static_tree,g=e.stat_desc.has_stree,_=e.stat_desc.elems,j,$,et=-1,tt;for(s.heap_len=0,s.heap_max=HEAP_SIZE$1,j=0;j<_;j++)d[j*2]!==0?(s.heap[++s.heap_len]=et=j,s.depth[j]=0):d[j*2+1]=0;for(;s.heap_len<2;)tt=s.heap[++s.heap_len]=et<2?++et:0,d[tt*2]=1,s.depth[tt]=0,s.opt_len--,g&&(s.static_len-=h[tt*2+1]);for(e.max_code=et,j=s.heap_len>>1;j>=1;j--)pqdownheap(s,d,j);tt=_;do j=s.heap[1],s.heap[1]=s.heap[s.heap_len--],pqdownheap(s,d,1),$=s.heap[1],s.heap[--s.heap_max]=j,s.heap[--s.heap_max]=$,d[tt*2]=d[j*2]+d[$*2],s.depth[tt]=(s.depth[j]>=s.depth[$]?s.depth[j]:s.depth[$])+1,d[j*2+1]=d[$*2+1]=tt,s.heap[1]=tt++,pqdownheap(s,d,1);while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],gen_bitlen(s,e),gen_codes(d,et,s.bl_count)}function scan_tree(s,e,d){var h,g=-1,_,j=e[0*2+1],$=0,et=7,tt=4;for(j===0&&(et=138,tt=3),e[(d+1)*2+1]=65535,h=0;h<=d;h++)_=j,j=e[(h+1)*2+1],!(++$<et&&_===j)&&($<tt?s.bl_tree[_*2]+=$:_!==0?(_!==g&&s.bl_tree[_*2]++,s.bl_tree[REP_3_6*2]++):$<=10?s.bl_tree[REPZ_3_10*2]++:s.bl_tree[REPZ_11_138*2]++,$=0,g=_,j===0?(et=138,tt=3):_===j?(et=6,tt=3):(et=7,tt=4))}function send_tree(s,e,d){var h,g=-1,_,j=e[0*2+1],$=0,et=7,tt=4;for(j===0&&(et=138,tt=3),h=0;h<=d;h++)if(_=j,j=e[(h+1)*2+1],!(++$<et&&_===j)){if($<tt)do send_code(s,_,s.bl_tree);while(--$!==0);else _!==0?(_!==g&&(send_code(s,_,s.bl_tree),$--),send_code(s,REP_3_6,s.bl_tree),send_bits(s,$-3,2)):$<=10?(send_code(s,REPZ_3_10,s.bl_tree),send_bits(s,$-3,3)):(send_code(s,REPZ_11_138,s.bl_tree),send_bits(s,$-11,7));$=0,g=_,j===0?(et=138,tt=3):_===j?(et=6,tt=3):(et=7,tt=4)}}function build_bl_tree(s){var e;for(scan_tree(s,s.dyn_ltree,s.l_desc.max_code),scan_tree(s,s.dyn_dtree,s.d_desc.max_code),build_tree(s,s.bl_desc),e=BL_CODES$1-1;e>=3&&s.bl_tree[bl_order[e]*2+1]===0;e--);return s.opt_len+=3*(e+1)+5+5+4,e}function send_all_trees(s,e,d,h){var g;for(send_bits(s,e-257,5),send_bits(s,d-1,5),send_bits(s,h-4,4),g=0;g<h;g++)send_bits(s,s.bl_tree[bl_order[g]*2+1],3);send_tree(s,s.dyn_ltree,e-1),send_tree(s,s.dyn_dtree,d-1)}function detect_data_type(s){var e=4093624447,d;for(d=0;d<=31;d++,e>>>=1)if(e&1&&s.dyn_ltree[d*2]!==0)return Z_BINARY;if(s.dyn_ltree[9*2]!==0||s.dyn_ltree[10*2]!==0||s.dyn_ltree[13*2]!==0)return Z_TEXT;for(d=32;d<LITERALS$1;d++)if(s.dyn_ltree[d*2]!==0)return Z_TEXT;return Z_BINARY}var static_init_done=!1;function _tr_init(s){static_init_done||(tr_static_init(),static_init_done=!0),s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc),s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc),s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc),s.bi_buf=0,s.bi_valid=0,init_block(s)}function _tr_stored_block(s,e,d,h){send_bits(s,(STORED_BLOCK<<1)+(h?1:0),3),copy_block(s,e,d)}function _tr_align(s){send_bits(s,STATIC_TREES<<1,3),send_code(s,END_BLOCK,static_ltree),bi_flush(s)}function _tr_flush_block(s,e,d,h){var g,_,j=0;s.level>0?(s.strm.data_type===Z_UNKNOWN$1&&(s.strm.data_type=detect_data_type(s)),build_tree(s,s.l_desc),build_tree(s,s.d_desc),j=build_bl_tree(s),g=s.opt_len+3+7>>>3,_=s.static_len+3+7>>>3,_<=g&&(g=_)):g=_=d+5,d+4<=g&&e!==-1?_tr_stored_block(s,e,d,h):s.strategy===Z_FIXED$1||_===g?(send_bits(s,(STATIC_TREES<<1)+(h?1:0),3),compress_block(s,static_ltree,static_dtree)):(send_bits(s,(DYN_TREES<<1)+(h?1:0),3),send_all_trees(s,s.l_desc.max_code+1,s.d_desc.max_code+1,j+1),compress_block(s,s.dyn_ltree,s.dyn_dtree)),init_block(s),h&&bi_windup(s)}function _tr_tally(s,e,d){return s.pending_buf[s.d_buf+s.last_lit*2]=e>>>8&255,s.pending_buf[s.d_buf+s.last_lit*2+1]=e&255,s.pending_buf[s.l_buf+s.last_lit]=d&255,s.last_lit++,e===0?s.dyn_ltree[d*2]++:(s.matches++,e--,s.dyn_ltree[(_length_code[d]+LITERALS$1+1)*2]++,s.dyn_dtree[d_code(e)*2]++),s.last_lit===s.lit_bufsize-1}trees$1._tr_init=_tr_init;trees$1._tr_stored_block=_tr_stored_block;trees$1._tr_flush_block=_tr_flush_block;trees$1._tr_tally=_tr_tally;trees$1._tr_align=_tr_align;function adler32$2(s,e,d,h){for(var g=s&65535|0,_=s>>>16&65535|0,j=0;d!==0;){j=d>2e3?2e3:d,d-=j;do g=g+e[h++]|0,_=_+g|0;while(--j);g%=65521,_%=65521}return g|_<<16|0}var adler32_1=adler32$2;function makeTable(){for(var s,e=[],d=0;d<256;d++){s=d;for(var h=0;h<8;h++)s=s&1?3988292384^s>>>1:s>>>1;e[d]=s}return e}var crcTable=makeTable();function crc32$2(s,e,d,h){var g=crcTable,_=h+d;s^=-1;for(var j=h;j<_;j++)s=s>>>8^g[(s^e[j])&255];return s^-1}var crc32_1=crc32$2,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},utils$5=common,trees=trees$1,adler32$1=adler32_1,crc32$1=crc32_1,msg$2=messages,Z_NO_FLUSH$1=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH$2=4,Z_BLOCK$1=5,Z_OK$2=0,Z_STREAM_END$2=1,Z_STREAM_ERROR$1=-2,Z_DATA_ERROR$1=-3,Z_BUF_ERROR$1=-5,Z_DEFAULT_COMPRESSION$1=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY$1=0,Z_UNKNOWN=2,Z_DEFLATED$2=8,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;function err(s,e){return s.msg=msg$2[e],e}function rank(s){return(s<<1)-(s>4?9:0)}function zero(s){for(var e=s.length;--e>=0;)s[e]=0}function flush_pending(s){var e=s.state,d=e.pending;d>s.avail_out&&(d=s.avail_out),d!==0&&(utils$5.arraySet(s.output,e.pending_buf,e.pending_out,d,s.next_out),s.next_out+=d,e.pending_out+=d,s.total_out+=d,s.avail_out-=d,e.pending-=d,e.pending===0&&(e.pending_out=0))}function flush_block_only(s,e){trees._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,e),s.block_start=s.strstart,flush_pending(s.strm)}function put_byte(s,e){s.pending_buf[s.pending++]=e}function putShortMSB(s,e){s.pending_buf[s.pending++]=e>>>8&255,s.pending_buf[s.pending++]=e&255}function read_buf(s,e,d,h){var g=s.avail_in;return g>h&&(g=h),g===0?0:(s.avail_in-=g,utils$5.arraySet(e,s.input,s.next_in,g,d),s.state.wrap===1?s.adler=adler32$1(s.adler,e,g,d):s.state.wrap===2&&(s.adler=crc32$1(s.adler,e,g,d)),s.next_in+=g,s.total_in+=g,g)}function longest_match(s,e){var d=s.max_chain_length,h=s.strstart,g,_,j=s.prev_length,$=s.nice_match,et=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0,tt=s.window,nt=s.w_mask,rt=s.prev,it=s.strstart+MAX_MATCH,st=tt[h+j-1],ot=tt[h+j];s.prev_length>=s.good_match&&(d>>=2),$>s.lookahead&&($=s.lookahead);do if(g=e,!(tt[g+j]!==ot||tt[g+j-1]!==st||tt[g]!==tt[h]||tt[++g]!==tt[h+1])){h+=2,g++;do;while(tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&tt[++h]===tt[++g]&&h<it);if(_=MAX_MATCH-(it-h),h=it-MAX_MATCH,_>j){if(s.match_start=e,j=_,_>=$)break;st=tt[h+j-1],ot=tt[h+j]}}while((e=rt[e&nt])>et&&--d!==0);return j<=s.lookahead?j:s.lookahead}function fill_window(s){var e=s.w_size,d,h,g,_,j;do{if(_=s.window_size-s.lookahead-s.strstart,s.strstart>=e+(e-MIN_LOOKAHEAD)){utils$5.arraySet(s.window,s.window,e,e,0),s.match_start-=e,s.strstart-=e,s.block_start-=e,h=s.hash_size,d=h;do g=s.head[--d],s.head[d]=g>=e?g-e:0;while(--h);h=e,d=h;do g=s.prev[--d],s.prev[d]=g>=e?g-e:0;while(--h);_+=e}if(s.strm.avail_in===0)break;if(h=read_buf(s.strm,s.window,s.strstart+s.lookahead,_),s.lookahead+=h,s.lookahead+s.insert>=MIN_MATCH)for(j=s.strstart-s.insert,s.ins_h=s.window[j],s.ins_h=(s.ins_h<<s.hash_shift^s.window[j+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[j+MIN_MATCH-1])&s.hash_mask,s.prev[j&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=j,j++,s.insert--,!(s.lookahead+s.insert<MIN_MATCH)););}while(s.lookahead<MIN_LOOKAHEAD&&s.strm.avail_in!==0)}function deflate_stored(s,e){var d=65535;for(d>s.pending_buf_size-5&&(d=s.pending_buf_size-5);;){if(s.lookahead<=1){if(fill_window(s),s.lookahead===0&&e===Z_NO_FLUSH$1)return BS_NEED_MORE;if(s.lookahead===0)break}s.strstart+=s.lookahead,s.lookahead=0;var h=s.block_start+d;if((s.strstart===0||s.strstart>=h)&&(s.lookahead=s.strstart-h,s.strstart=h,flush_block_only(s,!1),s.strm.avail_out===0)||s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD&&(flush_block_only(s,!1),s.strm.avail_out===0))return BS_NEED_MORE}return s.insert=0,e===Z_FINISH$2?(flush_block_only(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):(s.strstart>s.block_start&&(flush_block_only(s,!1),s.strm.avail_out===0),BS_NEED_MORE)}function deflate_fast(s,e){for(var d,h;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$1)return BS_NEED_MORE;if(s.lookahead===0)break}if(d=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,d=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),d!==0&&s.strstart-d<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,d)),s.match_length>=MIN_MATCH)if(h=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,d=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart;while(--s.match_length!==0);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else h=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(h&&(flush_block_only(s,!1),s.strm.avail_out===0))return BS_NEED_MORE}return s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,e===Z_FINISH$2?(flush_block_only(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),s.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(s,e){for(var d,h,g;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$1)return BS_NEED_MORE;if(s.lookahead===0)break}if(d=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,d=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=MIN_MATCH-1,d!==0&&s.prev_length<s.max_lazy_match&&s.strstart-d<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,d),s.match_length<=5&&(s.strategy===Z_FILTERED||s.match_length===MIN_MATCH&&s.strstart-s.match_start>4096)&&(s.match_length=MIN_MATCH-1)),s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){g=s.strstart+s.lookahead-MIN_MATCH,h=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH),s.lookahead-=s.prev_length-1,s.prev_length-=2;do++s.strstart<=g&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,d=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart);while(--s.prev_length!==0);if(s.match_available=0,s.match_length=MIN_MATCH-1,s.strstart++,h&&(flush_block_only(s,!1),s.strm.avail_out===0))return BS_NEED_MORE}else if(s.match_available){if(h=trees._tr_tally(s,0,s.window[s.strstart-1]),h&&flush_block_only(s,!1),s.strstart++,s.lookahead--,s.strm.avail_out===0)return BS_NEED_MORE}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(h=trees._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,e===Z_FINISH$2?(flush_block_only(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),s.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(s,e){for(var d,h,g,_,j=s.window;;){if(s.lookahead<=MAX_MATCH){if(fill_window(s),s.lookahead<=MAX_MATCH&&e===Z_NO_FLUSH$1)return BS_NEED_MORE;if(s.lookahead===0)break}if(s.match_length=0,s.lookahead>=MIN_MATCH&&s.strstart>0&&(g=s.strstart-1,h=j[g],h===j[++g]&&h===j[++g]&&h===j[++g])){_=s.strstart+MAX_MATCH;do;while(h===j[++g]&&h===j[++g]&&h===j[++g]&&h===j[++g]&&h===j[++g]&&h===j[++g]&&h===j[++g]&&h===j[++g]&&g<_);s.match_length=MAX_MATCH-(_-g),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=MIN_MATCH?(d=trees._tr_tally(s,1,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(d=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),d&&(flush_block_only(s,!1),s.strm.avail_out===0))return BS_NEED_MORE}return s.insert=0,e===Z_FINISH$2?(flush_block_only(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),s.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(s,e){for(var d;;){if(s.lookahead===0&&(fill_window(s),s.lookahead===0)){if(e===Z_NO_FLUSH$1)return BS_NEED_MORE;break}if(s.match_length=0,d=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,d&&(flush_block_only(s,!1),s.strm.avail_out===0))return BS_NEED_MORE}return s.insert=0,e===Z_FINISH$2?(flush_block_only(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),s.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function Config$1(s,e,d,h,g){this.good_length=s,this.max_lazy=e,this.nice_length=d,this.max_chain=h,this.func=g}var configuration_table;configuration_table=[new Config$1(0,0,0,0,deflate_stored),new Config$1(4,4,8,4,deflate_fast),new Config$1(4,5,16,8,deflate_fast),new Config$1(4,6,32,32,deflate_fast),new Config$1(4,4,16,16,deflate_slow),new Config$1(8,16,32,32,deflate_slow),new Config$1(8,16,128,128,deflate_slow),new Config$1(8,32,128,256,deflate_slow),new Config$1(32,128,258,1024,deflate_slow),new Config$1(32,258,258,4096,deflate_slow)];function lm_init(s){s.window_size=2*s.w_size,zero(s.head),s.max_lazy_match=configuration_table[s.level].max_lazy,s.good_match=configuration_table[s.level].good_length,s.nice_match=configuration_table[s.level].nice_length,s.max_chain_length=configuration_table[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,s.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils$5.Buf16(HEAP_SIZE*2),this.dyn_dtree=new utils$5.Buf16((2*D_CODES+1)*2),this.bl_tree=new utils$5.Buf16((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils$5.Buf16(MAX_BITS+1),this.heap=new utils$5.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils$5.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(s){var e;return!s||!s.state?err(s,Z_STREAM_ERROR$1):(s.total_in=s.total_out=0,s.data_type=Z_UNKNOWN,e=s.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?INIT_STATE:BUSY_STATE,s.adler=e.wrap===2?0:1,e.last_flush=Z_NO_FLUSH$1,trees._tr_init(e),Z_OK$2)}function deflateReset(s){var e=deflateResetKeep(s);return e===Z_OK$2&&lm_init(s.state),e}function deflateSetHeader(s,e){return!s||!s.state||s.state.wrap!==2?Z_STREAM_ERROR$1:(s.state.gzhead=e,Z_OK$2)}function deflateInit2(s,e,d,h,g,_){if(!s)return Z_STREAM_ERROR$1;var j=1;if(e===Z_DEFAULT_COMPRESSION$1&&(e=6),h<0?(j=0,h=-h):h>15&&(j=2,h-=16),g<1||g>MAX_MEM_LEVEL||d!==Z_DEFLATED$2||h<8||h>15||e<0||e>9||_<0||_>Z_FIXED)return err(s,Z_STREAM_ERROR$1);h===8&&(h=9);var $=new DeflateState;return s.state=$,$.strm=s,$.wrap=j,$.gzhead=null,$.w_bits=h,$.w_size=1<<$.w_bits,$.w_mask=$.w_size-1,$.hash_bits=g+7,$.hash_size=1<<$.hash_bits,$.hash_mask=$.hash_size-1,$.hash_shift=~~(($.hash_bits+MIN_MATCH-1)/MIN_MATCH),$.window=new utils$5.Buf8($.w_size*2),$.head=new utils$5.Buf16($.hash_size),$.prev=new utils$5.Buf16($.w_size),$.lit_bufsize=1<<g+6,$.pending_buf_size=$.lit_bufsize*4,$.pending_buf=new utils$5.Buf8($.pending_buf_size),$.d_buf=1*$.lit_bufsize,$.l_buf=3*$.lit_bufsize,$.level=e,$.strategy=_,$.method=d,deflateReset(s)}function deflateInit(s,e){return deflateInit2(s,e,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1)}function deflate$2(s,e){var d,h,g,_;if(!s||!s.state||e>Z_BLOCK$1||e<0)return s?err(s,Z_STREAM_ERROR$1):Z_STREAM_ERROR$1;if(h=s.state,!s.output||!s.input&&s.avail_in!==0||h.status===FINISH_STATE&&e!==Z_FINISH$2)return err(s,s.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$1);if(h.strm=s,d=h.last_flush,h.last_flush=e,h.status===INIT_STATE)if(h.wrap===2)s.adler=0,put_byte(h,31),put_byte(h,139),put_byte(h,8),h.gzhead?(put_byte(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),put_byte(h,h.gzhead.time&255),put_byte(h,h.gzhead.time>>8&255),put_byte(h,h.gzhead.time>>16&255),put_byte(h,h.gzhead.time>>24&255),put_byte(h,h.level===9?2:h.strategy>=Z_HUFFMAN_ONLY||h.level<2?4:0),put_byte(h,h.gzhead.os&255),h.gzhead.extra&&h.gzhead.extra.length&&(put_byte(h,h.gzhead.extra.length&255),put_byte(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(s.adler=crc32$1(s.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=EXTRA_STATE):(put_byte(h,0),put_byte(h,0),put_byte(h,0),put_byte(h,0),put_byte(h,0),put_byte(h,h.level===9?2:h.strategy>=Z_HUFFMAN_ONLY||h.level<2?4:0),put_byte(h,OS_CODE),h.status=BUSY_STATE);else{var j=Z_DEFLATED$2+(h.w_bits-8<<4)<<8,$=-1;h.strategy>=Z_HUFFMAN_ONLY||h.level<2?$=0:h.level<6?$=1:h.level===6?$=2:$=3,j|=$<<6,h.strstart!==0&&(j|=PRESET_DICT),j+=31-j%31,h.status=BUSY_STATE,putShortMSB(h,j),h.strstart!==0&&(putShortMSB(h,s.adler>>>16),putShortMSB(h,s.adler&65535)),s.adler=1}if(h.status===EXTRA_STATE)if(h.gzhead.extra){for(g=h.pending;h.gzindex<(h.gzhead.extra.length&65535)&&!(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>g&&(s.adler=crc32$1(s.adler,h.pending_buf,h.pending-g,g)),flush_pending(s),g=h.pending,h.pending===h.pending_buf_size));)put_byte(h,h.gzhead.extra[h.gzindex]&255),h.gzindex++;h.gzhead.hcrc&&h.pending>g&&(s.adler=crc32$1(s.adler,h.pending_buf,h.pending-g,g)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=NAME_STATE)}else h.status=NAME_STATE;if(h.status===NAME_STATE)if(h.gzhead.name){g=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>g&&(s.adler=crc32$1(s.adler,h.pending_buf,h.pending-g,g)),flush_pending(s),g=h.pending,h.pending===h.pending_buf_size)){_=1;break}h.gzindex<h.gzhead.name.length?_=h.gzhead.name.charCodeAt(h.gzindex++)&255:_=0,put_byte(h,_)}while(_!==0);h.gzhead.hcrc&&h.pending>g&&(s.adler=crc32$1(s.adler,h.pending_buf,h.pending-g,g)),_===0&&(h.gzindex=0,h.status=COMMENT_STATE)}else h.status=COMMENT_STATE;if(h.status===COMMENT_STATE)if(h.gzhead.comment){g=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>g&&(s.adler=crc32$1(s.adler,h.pending_buf,h.pending-g,g)),flush_pending(s),g=h.pending,h.pending===h.pending_buf_size)){_=1;break}h.gzindex<h.gzhead.comment.length?_=h.gzhead.comment.charCodeAt(h.gzindex++)&255:_=0,put_byte(h,_)}while(_!==0);h.gzhead.hcrc&&h.pending>g&&(s.adler=crc32$1(s.adler,h.pending_buf,h.pending-g,g)),_===0&&(h.status=HCRC_STATE)}else h.status=HCRC_STATE;if(h.status===HCRC_STATE&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&flush_pending(s),h.pending+2<=h.pending_buf_size&&(put_byte(h,s.adler&255),put_byte(h,s.adler>>8&255),s.adler=0,h.status=BUSY_STATE)):h.status=BUSY_STATE),h.pending!==0){if(flush_pending(s),s.avail_out===0)return h.last_flush=-1,Z_OK$2}else if(s.avail_in===0&&rank(e)<=rank(d)&&e!==Z_FINISH$2)return err(s,Z_BUF_ERROR$1);if(h.status===FINISH_STATE&&s.avail_in!==0)return err(s,Z_BUF_ERROR$1);if(s.avail_in!==0||h.lookahead!==0||e!==Z_NO_FLUSH$1&&h.status!==FINISH_STATE){var et=h.strategy===Z_HUFFMAN_ONLY?deflate_huff(h,e):h.strategy===Z_RLE?deflate_rle(h,e):configuration_table[h.level].func(h,e);if((et===BS_FINISH_STARTED||et===BS_FINISH_DONE)&&(h.status=FINISH_STATE),et===BS_NEED_MORE||et===BS_FINISH_STARTED)return s.avail_out===0&&(h.last_flush=-1),Z_OK$2;if(et===BS_BLOCK_DONE&&(e===Z_PARTIAL_FLUSH?trees._tr_align(h):e!==Z_BLOCK$1&&(trees._tr_stored_block(h,0,0,!1),e===Z_FULL_FLUSH&&(zero(h.head),h.lookahead===0&&(h.strstart=0,h.block_start=0,h.insert=0))),flush_pending(s),s.avail_out===0))return h.last_flush=-1,Z_OK$2}return e!==Z_FINISH$2?Z_OK$2:h.wrap<=0?Z_STREAM_END$2:(h.wrap===2?(put_byte(h,s.adler&255),put_byte(h,s.adler>>8&255),put_byte(h,s.adler>>16&255),put_byte(h,s.adler>>24&255),put_byte(h,s.total_in&255),put_byte(h,s.total_in>>8&255),put_byte(h,s.total_in>>16&255),put_byte(h,s.total_in>>24&255)):(putShortMSB(h,s.adler>>>16),putShortMSB(h,s.adler&65535)),flush_pending(s),h.wrap>0&&(h.wrap=-h.wrap),h.pending!==0?Z_OK$2:Z_STREAM_END$2)}function deflateEnd(s){var e;return!s||!s.state?Z_STREAM_ERROR$1:(e=s.state.status,e!==INIT_STATE&&e!==EXTRA_STATE&&e!==NAME_STATE&&e!==COMMENT_STATE&&e!==HCRC_STATE&&e!==BUSY_STATE&&e!==FINISH_STATE?err(s,Z_STREAM_ERROR$1):(s.state=null,e===BUSY_STATE?err(s,Z_DATA_ERROR$1):Z_OK$2))}function deflateSetDictionary(s,e){var d=e.length,h,g,_,j,$,et,tt,nt;if(!s||!s.state||(h=s.state,j=h.wrap,j===2||j===1&&h.status!==INIT_STATE||h.lookahead))return Z_STREAM_ERROR$1;for(j===1&&(s.adler=adler32$1(s.adler,e,d,0)),h.wrap=0,d>=h.w_size&&(j===0&&(zero(h.head),h.strstart=0,h.block_start=0,h.insert=0),nt=new utils$5.Buf8(h.w_size),utils$5.arraySet(nt,e,d-h.w_size,h.w_size,0),e=nt,d=h.w_size),$=s.avail_in,et=s.next_in,tt=s.input,s.avail_in=d,s.next_in=0,s.input=e,fill_window(h);h.lookahead>=MIN_MATCH;){g=h.strstart,_=h.lookahead-(MIN_MATCH-1);do h.ins_h=(h.ins_h<<h.hash_shift^h.window[g+MIN_MATCH-1])&h.hash_mask,h.prev[g&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=g,g++;while(--_);h.strstart=g,h.lookahead=MIN_MATCH-1,fill_window(h)}return h.strstart+=h.lookahead,h.block_start=h.strstart,h.insert=h.lookahead,h.lookahead=0,h.match_length=h.prev_length=MIN_MATCH-1,h.match_available=0,s.next_in=et,s.input=tt,s.avail_in=$,h.wrap=j,Z_OK$2}deflate$3.deflateInit=deflateInit;deflate$3.deflateInit2=deflateInit2;deflate$3.deflateReset=deflateReset;deflate$3.deflateResetKeep=deflateResetKeep;deflate$3.deflateSetHeader=deflateSetHeader;deflate$3.deflate=deflate$2;deflate$3.deflateEnd=deflateEnd;deflate$3.deflateSetDictionary=deflateSetDictionary;deflate$3.deflateInfo="pako deflate (from Nodeca project)";var strings$2={},utils$4=common,STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch{STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}var _utf8len=new utils$4.Buf8(256);for(var q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;_utf8len[254]=_utf8len[254]=1;strings$2.string2buf=function(s){var e,d,h,g,_,j=s.length,$=0;for(g=0;g<j;g++)d=s.charCodeAt(g),(d&64512)===55296&&g+1<j&&(h=s.charCodeAt(g+1),(h&64512)===56320&&(d=65536+(d-55296<<10)+(h-56320),g++)),$+=d<128?1:d<2048?2:d<65536?3:4;for(e=new utils$4.Buf8($),_=0,g=0;_<$;g++)d=s.charCodeAt(g),(d&64512)===55296&&g+1<j&&(h=s.charCodeAt(g+1),(h&64512)===56320&&(d=65536+(d-55296<<10)+(h-56320),g++)),d<128?e[_++]=d:d<2048?(e[_++]=192|d>>>6,e[_++]=128|d&63):d<65536?(e[_++]=224|d>>>12,e[_++]=128|d>>>6&63,e[_++]=128|d&63):(e[_++]=240|d>>>18,e[_++]=128|d>>>12&63,e[_++]=128|d>>>6&63,e[_++]=128|d&63);return e};function buf2binstring(s,e){if(e<65534&&(s.subarray&&STR_APPLY_UIA_OK||!s.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils$4.shrinkBuf(s,e));for(var d="",h=0;h<e;h++)d+=String.fromCharCode(s[h]);return d}strings$2.buf2binstring=function(s){return buf2binstring(s,s.length)};strings$2.binstring2buf=function(s){for(var e=new utils$4.Buf8(s.length),d=0,h=e.length;d<h;d++)e[d]=s.charCodeAt(d);return e};strings$2.buf2string=function(s,e){var d,h,g,_,j=e||s.length,$=new Array(j*2);for(h=0,d=0;d<j;){if(g=s[d++],g<128){$[h++]=g;continue}if(_=_utf8len[g],_>4){$[h++]=65533,d+=_-1;continue}for(g&=_===2?31:_===3?15:7;_>1&&d<j;)g=g<<6|s[d++]&63,_--;if(_>1){$[h++]=65533;continue}g<65536?$[h++]=g:(g-=65536,$[h++]=55296|g>>10&1023,$[h++]=56320|g&1023)}return buf2binstring($,h)};strings$2.utf8border=function(s,e){var d;for(e=e||s.length,e>s.length&&(e=s.length),d=e-1;d>=0&&(s[d]&192)===128;)d--;return d<0||d===0?e:d+_utf8len[s[d]]>e?d:e};function ZStream$2(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream$2,zlib_deflate=deflate$3,utils$3=common,strings$1=strings$2,msg$1=messages,ZStream$1=zstream,toString$1=Object.prototype.toString,Z_NO_FLUSH=0,Z_FINISH$1=4,Z_OK$1=0,Z_STREAM_END$1=1,Z_SYNC_FLUSH=2,Z_DEFAULT_COMPRESSION=-1,Z_DEFAULT_STRATEGY=0,Z_DEFLATED$1=8;function Deflate(s){if(!(this instanceof Deflate))return new Deflate(s);this.options=utils$3.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:""},s||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream$1,this.strm.avail_out=0;var d=zlib_deflate.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(d!==Z_OK$1)throw new Error(msg$1[d]);if(e.header&&zlib_deflate.deflateSetHeader(this.strm,e.header),e.dictionary){var h;if(typeof e.dictionary=="string"?h=strings$1.string2buf(e.dictionary):toString$1.call(e.dictionary)==="[object ArrayBuffer]"?h=new Uint8Array(e.dictionary):h=e.dictionary,d=zlib_deflate.deflateSetDictionary(this.strm,h),d!==Z_OK$1)throw new Error(msg$1[d]);this._dict_set=!0}}Deflate.prototype.push=function(s,e){var d=this.strm,h=this.options.chunkSize,g,_;if(this.ended)return!1;_=e===~~e?e:e===!0?Z_FINISH$1:Z_NO_FLUSH,typeof s=="string"?d.input=strings$1.string2buf(s):toString$1.call(s)==="[object ArrayBuffer]"?d.input=new Uint8Array(s):d.input=s,d.next_in=0,d.avail_in=d.input.length;do{if(d.avail_out===0&&(d.output=new utils$3.Buf8(h),d.next_out=0,d.avail_out=h),g=zlib_deflate.deflate(d,_),g!==Z_STREAM_END$1&&g!==Z_OK$1)return this.onEnd(g),this.ended=!0,!1;(d.avail_out===0||d.avail_in===0&&(_===Z_FINISH$1||_===Z_SYNC_FLUSH))&&(this.options.to==="string"?this.onData(strings$1.buf2binstring(utils$3.shrinkBuf(d.output,d.next_out))):this.onData(utils$3.shrinkBuf(d.output,d.next_out)))}while((d.avail_in>0||d.avail_out===0)&&g!==Z_STREAM_END$1);return _===Z_FINISH$1?(g=zlib_deflate.deflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===Z_OK$1):(_===Z_SYNC_FLUSH&&(this.onEnd(Z_OK$1),d.avail_out=0),!0)};Deflate.prototype.onData=function(s){this.chunks.push(s)};Deflate.prototype.onEnd=function(s){s===Z_OK$1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils$3.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function deflate$1(s,e){var d=new Deflate(e);if(d.push(s,!0),d.err)throw d.msg||msg$1[d.err];return d.result}function deflateRaw(s,e){return e=e||{},e.raw=!0,deflate$1(s,e)}function gzip(s,e){return e=e||{},e.gzip=!0,deflate$1(s,e)}deflate$4.Deflate=Deflate;deflate$4.deflate=deflate$1;deflate$4.deflateRaw=deflateRaw;deflate$4.gzip=gzip;var inflate$4={},inflate$3={},BAD$1=30,TYPE$1=12,inffast=function(e,d){var h,g,_,j,$,et,tt,nt,rt,it,st,ot,lt,dt,at,ut,pt,vt,ht,yt,gt,ft,_t,Et,mt;h=e.state,g=e.next_in,Et=e.input,_=g+(e.avail_in-5),j=e.next_out,mt=e.output,$=j-(d-e.avail_out),et=j+(e.avail_out-257),tt=h.dmax,nt=h.wsize,rt=h.whave,it=h.wnext,st=h.window,ot=h.hold,lt=h.bits,dt=h.lencode,at=h.distcode,ut=(1<<h.lenbits)-1,pt=(1<<h.distbits)-1;e:do{lt<15&&(ot+=Et[g++]<<lt,lt+=8,ot+=Et[g++]<<lt,lt+=8),vt=dt[ot&ut];t:for(;;){if(ht=vt>>>24,ot>>>=ht,lt-=ht,ht=vt>>>16&255,ht===0)mt[j++]=vt&65535;else if(ht&16){yt=vt&65535,ht&=15,ht&&(lt<ht&&(ot+=Et[g++]<<lt,lt+=8),yt+=ot&(1<<ht)-1,ot>>>=ht,lt-=ht),lt<15&&(ot+=Et[g++]<<lt,lt+=8,ot+=Et[g++]<<lt,lt+=8),vt=at[ot&pt];n:for(;;){if(ht=vt>>>24,ot>>>=ht,lt-=ht,ht=vt>>>16&255,ht&16){if(gt=vt&65535,ht&=15,lt<ht&&(ot+=Et[g++]<<lt,lt+=8,lt<ht&&(ot+=Et[g++]<<lt,lt+=8)),gt+=ot&(1<<ht)-1,gt>tt){e.msg="invalid distance too far back",h.mode=BAD$1;break e}if(ot>>>=ht,lt-=ht,ht=j-$,gt>ht){if(ht=gt-ht,ht>rt&&h.sane){e.msg="invalid distance too far back",h.mode=BAD$1;break e}if(ft=0,_t=st,it===0){if(ft+=nt-ht,ht<yt){yt-=ht;do mt[j++]=st[ft++];while(--ht);ft=j-gt,_t=mt}}else if(it<ht){if(ft+=nt+it-ht,ht-=it,ht<yt){yt-=ht;do mt[j++]=st[ft++];while(--ht);if(ft=0,it<yt){ht=it,yt-=ht;do mt[j++]=st[ft++];while(--ht);ft=j-gt,_t=mt}}}else if(ft+=it-ht,ht<yt){yt-=ht;do mt[j++]=st[ft++];while(--ht);ft=j-gt,_t=mt}for(;yt>2;)mt[j++]=_t[ft++],mt[j++]=_t[ft++],mt[j++]=_t[ft++],yt-=3;yt&&(mt[j++]=_t[ft++],yt>1&&(mt[j++]=_t[ft++]))}else{ft=j-gt;do mt[j++]=mt[ft++],mt[j++]=mt[ft++],mt[j++]=mt[ft++],yt-=3;while(yt>2);yt&&(mt[j++]=mt[ft++],yt>1&&(mt[j++]=mt[ft++]))}}else if(ht&64){e.msg="invalid distance code",h.mode=BAD$1;break e}else{vt=at[(vt&65535)+(ot&(1<<ht)-1)];continue n}break}}else if(ht&64)if(ht&32){h.mode=TYPE$1;break e}else{e.msg="invalid literal/length code",h.mode=BAD$1;break e}else{vt=dt[(vt&65535)+(ot&(1<<ht)-1)];continue t}break}}while(g<_&&j<et);yt=lt>>3,g-=yt,lt-=yt<<3,ot&=(1<<lt)-1,e.next_in=g,e.next_out=j,e.avail_in=g<_?5+(_-g):5-(g-_),e.avail_out=j<et?257+(et-j):257-(j-et),h.hold=ot,h.bits=lt},utils$2=common,MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],inftrees=function(e,d,h,g,_,j,$,et){var tt=et.bits,nt=0,rt=0,it=0,st=0,ot=0,lt=0,dt=0,at=0,ut=0,pt=0,vt,ht,yt,gt,ft,_t=null,Et=0,mt,xt=new utils$2.Buf16(MAXBITS+1),St=new utils$2.Buf16(MAXBITS+1),Ut=null,kt=0,Bt,$t,Gt;for(nt=0;nt<=MAXBITS;nt++)xt[nt]=0;for(rt=0;rt<g;rt++)xt[d[h+rt]]++;for(ot=tt,st=MAXBITS;st>=1&&xt[st]===0;st--);if(ot>st&&(ot=st),st===0)return _[j++]=1<<24|64<<16|0,_[j++]=1<<24|64<<16|0,et.bits=1,0;for(it=1;it<st&&xt[it]===0;it++);for(ot<it&&(ot=it),at=1,nt=1;nt<=MAXBITS;nt++)if(at<<=1,at-=xt[nt],at<0)return-1;if(at>0&&(e===CODES$1||st!==1))return-1;for(St[1]=0,nt=1;nt<MAXBITS;nt++)St[nt+1]=St[nt]+xt[nt];for(rt=0;rt<g;rt++)d[h+rt]!==0&&($[St[d[h+rt]]++]=rt);if(e===CODES$1?(_t=Ut=$,mt=19):e===LENS$1?(_t=lbase,Et-=257,Ut=lext,kt-=257,mt=256):(_t=dbase,Ut=dext,mt=-1),pt=0,rt=0,nt=it,ft=j,lt=ot,dt=0,yt=-1,ut=1<<ot,gt=ut-1,e===LENS$1&&ut>ENOUGH_LENS$1||e===DISTS$1&&ut>ENOUGH_DISTS$1)return 1;for(;;){Bt=nt-dt,$[rt]<mt?($t=0,Gt=$[rt]):$[rt]>mt?($t=Ut[kt+$[rt]],Gt=_t[Et+$[rt]]):($t=96,Gt=0),vt=1<<nt-dt,ht=1<<lt,it=ht;do ht-=vt,_[ft+(pt>>dt)+ht]=Bt<<24|$t<<16|Gt|0;while(ht!==0);for(vt=1<<nt-1;pt&vt;)vt>>=1;if(vt!==0?(pt&=vt-1,pt+=vt):pt=0,rt++,--xt[nt]===0){if(nt===st)break;nt=d[h+$[rt]]}if(nt>ot&&(pt&gt)!==yt){for(dt===0&&(dt=ot),ft+=it,lt=nt-dt,at=1<<lt;lt+dt<st&&(at-=xt[lt+dt],!(at<=0));)lt++,at<<=1;if(ut+=1<<lt,e===LENS$1&&ut>ENOUGH_LENS$1||e===DISTS$1&&ut>ENOUGH_DISTS$1)return 1;yt=pt&gt,_[yt]=ot<<24|lt<<16|ft-j|0}}return pt!==0&&(_[ft+pt]=nt-dt<<24|64<<16|0),et.bits=ot,0},utils$1=common,adler32=adler32_1,crc32=crc32_1,inflate_fast=inffast,inflate_table=inftrees,CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS;function zswap32(s){return(s>>>24&255)+(s>>>8&65280)+((s&65280)<<8)+((s&255)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils$1.Buf16(320),this.work=new utils$1.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(s){var e;return!s||!s.state?Z_STREAM_ERROR:(e=s.state,s.total_in=s.total_out=e.total=0,s.msg="",e.wrap&&(s.adler=e.wrap&1),e.mode=HEAD,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new utils$1.Buf32(ENOUGH_LENS),e.distcode=e.distdyn=new utils$1.Buf32(ENOUGH_DISTS),e.sane=1,e.back=-1,Z_OK)}function inflateReset(s){var e;return!s||!s.state?Z_STREAM_ERROR:(e=s.state,e.wsize=0,e.whave=0,e.wnext=0,inflateResetKeep(s))}function inflateReset2(s,e){var d,h;return!s||!s.state||(h=s.state,e<0?(d=0,e=-e):(d=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15))?Z_STREAM_ERROR:(h.window!==null&&h.wbits!==e&&(h.window=null),h.wrap=d,h.wbits=e,inflateReset(s))}function inflateInit2(s,e){var d,h;return s?(h=new InflateState,s.state=h,h.window=null,d=inflateReset2(s,e),d!==Z_OK&&(s.state=null),d):Z_STREAM_ERROR}function inflateInit(s){return inflateInit2(s,DEF_WBITS)}var virgin=!0,lenfix,distfix;function fixedtables(s){if(virgin){var e;for(lenfix=new utils$1.Buf32(512),distfix=new utils$1.Buf32(32),e=0;e<144;)s.lens[e++]=8;for(;e<256;)s.lens[e++]=9;for(;e<280;)s.lens[e++]=7;for(;e<288;)s.lens[e++]=8;for(inflate_table(LENS,s.lens,0,288,lenfix,0,s.work,{bits:9}),e=0;e<32;)s.lens[e++]=5;inflate_table(DISTS,s.lens,0,32,distfix,0,s.work,{bits:5}),virgin=!1}s.lencode=lenfix,s.lenbits=9,s.distcode=distfix,s.distbits=5}function updatewindow(s,e,d,h){var g,_=s.state;return _.window===null&&(_.wsize=1<<_.wbits,_.wnext=0,_.whave=0,_.window=new utils$1.Buf8(_.wsize)),h>=_.wsize?(utils$1.arraySet(_.window,e,d-_.wsize,_.wsize,0),_.wnext=0,_.whave=_.wsize):(g=_.wsize-_.wnext,g>h&&(g=h),utils$1.arraySet(_.window,e,d-h,g,_.wnext),h-=g,h?(utils$1.arraySet(_.window,e,d-h,h,0),_.wnext=h,_.whave=_.wsize):(_.wnext+=g,_.wnext===_.wsize&&(_.wnext=0),_.whave<_.wsize&&(_.whave+=g))),0}function inflate$2(s,e){var d,h,g,_,j,$,et,tt,nt,rt,it,st,ot,lt,dt=0,at,ut,pt,vt,ht,yt,gt,ft,_t=new utils$1.Buf8(4),Et,mt,xt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!s||!s.state||!s.output||!s.input&&s.avail_in!==0)return Z_STREAM_ERROR;d=s.state,d.mode===TYPE&&(d.mode=TYPEDO),j=s.next_out,g=s.output,et=s.avail_out,_=s.next_in,h=s.input,$=s.avail_in,tt=d.hold,nt=d.bits,rt=$,it=et,ft=Z_OK;e:for(;;)switch(d.mode){case HEAD:if(d.wrap===0){d.mode=TYPEDO;break}for(;nt<16;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(d.wrap&2&&tt===35615){d.check=0,_t[0]=tt&255,_t[1]=tt>>>8&255,d.check=crc32(d.check,_t,2,0),tt=0,nt=0,d.mode=FLAGS;break}if(d.flags=0,d.head&&(d.head.done=!1),!(d.wrap&1)||(((tt&255)<<8)+(tt>>8))%31){s.msg="incorrect header check",d.mode=BAD;break}if((tt&15)!==Z_DEFLATED){s.msg="unknown compression method",d.mode=BAD;break}if(tt>>>=4,nt-=4,gt=(tt&15)+8,d.wbits===0)d.wbits=gt;else if(gt>d.wbits){s.msg="invalid window size",d.mode=BAD;break}d.dmax=1<<gt,s.adler=d.check=1,d.mode=tt&512?DICTID:TYPE,tt=0,nt=0;break;case FLAGS:for(;nt<16;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(d.flags=tt,(d.flags&255)!==Z_DEFLATED){s.msg="unknown compression method",d.mode=BAD;break}if(d.flags&57344){s.msg="unknown header flags set",d.mode=BAD;break}d.head&&(d.head.text=tt>>8&1),d.flags&512&&(_t[0]=tt&255,_t[1]=tt>>>8&255,d.check=crc32(d.check,_t,2,0)),tt=0,nt=0,d.mode=TIME;case TIME:for(;nt<32;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}d.head&&(d.head.time=tt),d.flags&512&&(_t[0]=tt&255,_t[1]=tt>>>8&255,_t[2]=tt>>>16&255,_t[3]=tt>>>24&255,d.check=crc32(d.check,_t,4,0)),tt=0,nt=0,d.mode=OS;case OS:for(;nt<16;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}d.head&&(d.head.xflags=tt&255,d.head.os=tt>>8),d.flags&512&&(_t[0]=tt&255,_t[1]=tt>>>8&255,d.check=crc32(d.check,_t,2,0)),tt=0,nt=0,d.mode=EXLEN;case EXLEN:if(d.flags&1024){for(;nt<16;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}d.length=tt,d.head&&(d.head.extra_len=tt),d.flags&512&&(_t[0]=tt&255,_t[1]=tt>>>8&255,d.check=crc32(d.check,_t,2,0)),tt=0,nt=0}else d.head&&(d.head.extra=null);d.mode=EXTRA;case EXTRA:if(d.flags&1024&&(st=d.length,st>$&&(st=$),st&&(d.head&&(gt=d.head.extra_len-d.length,d.head.extra||(d.head.extra=new Array(d.head.extra_len)),utils$1.arraySet(d.head.extra,h,_,st,gt)),d.flags&512&&(d.check=crc32(d.check,h,st,_)),$-=st,_+=st,d.length-=st),d.length))break e;d.length=0,d.mode=NAME;case NAME:if(d.flags&2048){if($===0)break e;st=0;do gt=h[_+st++],d.head&&gt&&d.length<65536&&(d.head.name+=String.fromCharCode(gt));while(gt&&st<$);if(d.flags&512&&(d.check=crc32(d.check,h,st,_)),$-=st,_+=st,gt)break e}else d.head&&(d.head.name=null);d.length=0,d.mode=COMMENT;case COMMENT:if(d.flags&4096){if($===0)break e;st=0;do gt=h[_+st++],d.head&&gt&&d.length<65536&&(d.head.comment+=String.fromCharCode(gt));while(gt&&st<$);if(d.flags&512&&(d.check=crc32(d.check,h,st,_)),$-=st,_+=st,gt)break e}else d.head&&(d.head.comment=null);d.mode=HCRC;case HCRC:if(d.flags&512){for(;nt<16;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(tt!==(d.check&65535)){s.msg="header crc mismatch",d.mode=BAD;break}tt=0,nt=0}d.head&&(d.head.hcrc=d.flags>>9&1,d.head.done=!0),s.adler=d.check=0,d.mode=TYPE;break;case DICTID:for(;nt<32;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}s.adler=d.check=zswap32(tt),tt=0,nt=0,d.mode=DICT;case DICT:if(d.havedict===0)return s.next_out=j,s.avail_out=et,s.next_in=_,s.avail_in=$,d.hold=tt,d.bits=nt,Z_NEED_DICT;s.adler=d.check=1,d.mode=TYPE;case TYPE:if(e===Z_BLOCK||e===Z_TREES)break e;case TYPEDO:if(d.last){tt>>>=nt&7,nt-=nt&7,d.mode=CHECK;break}for(;nt<3;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}switch(d.last=tt&1,tt>>>=1,nt-=1,tt&3){case 0:d.mode=STORED;break;case 1:if(fixedtables(d),d.mode=LEN_,e===Z_TREES){tt>>>=2,nt-=2;break e}break;case 2:d.mode=TABLE;break;case 3:s.msg="invalid block type",d.mode=BAD}tt>>>=2,nt-=2;break;case STORED:for(tt>>>=nt&7,nt-=nt&7;nt<32;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if((tt&65535)!==(tt>>>16^65535)){s.msg="invalid stored block lengths",d.mode=BAD;break}if(d.length=tt&65535,tt=0,nt=0,d.mode=COPY_,e===Z_TREES)break e;case COPY_:d.mode=COPY;case COPY:if(st=d.length,st){if(st>$&&(st=$),st>et&&(st=et),st===0)break e;utils$1.arraySet(g,h,_,st,j),$-=st,_+=st,et-=st,j+=st,d.length-=st;break}d.mode=TYPE;break;case TABLE:for(;nt<14;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(d.nlen=(tt&31)+257,tt>>>=5,nt-=5,d.ndist=(tt&31)+1,tt>>>=5,nt-=5,d.ncode=(tt&15)+4,tt>>>=4,nt-=4,d.nlen>286||d.ndist>30){s.msg="too many length or distance symbols",d.mode=BAD;break}d.have=0,d.mode=LENLENS;case LENLENS:for(;d.have<d.ncode;){for(;nt<3;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}d.lens[xt[d.have++]]=tt&7,tt>>>=3,nt-=3}for(;d.have<19;)d.lens[xt[d.have++]]=0;if(d.lencode=d.lendyn,d.lenbits=7,Et={bits:d.lenbits},ft=inflate_table(CODES,d.lens,0,19,d.lencode,0,d.work,Et),d.lenbits=Et.bits,ft){s.msg="invalid code lengths set",d.mode=BAD;break}d.have=0,d.mode=CODELENS;case CODELENS:for(;d.have<d.nlen+d.ndist;){for(;dt=d.lencode[tt&(1<<d.lenbits)-1],at=dt>>>24,ut=dt>>>16&255,pt=dt&65535,!(at<=nt);){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(pt<16)tt>>>=at,nt-=at,d.lens[d.have++]=pt;else{if(pt===16){for(mt=at+2;nt<mt;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(tt>>>=at,nt-=at,d.have===0){s.msg="invalid bit length repeat",d.mode=BAD;break}gt=d.lens[d.have-1],st=3+(tt&3),tt>>>=2,nt-=2}else if(pt===17){for(mt=at+3;nt<mt;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}tt>>>=at,nt-=at,gt=0,st=3+(tt&7),tt>>>=3,nt-=3}else{for(mt=at+7;nt<mt;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}tt>>>=at,nt-=at,gt=0,st=11+(tt&127),tt>>>=7,nt-=7}if(d.have+st>d.nlen+d.ndist){s.msg="invalid bit length repeat",d.mode=BAD;break}for(;st--;)d.lens[d.have++]=gt}}if(d.mode===BAD)break;if(d.lens[256]===0){s.msg="invalid code -- missing end-of-block",d.mode=BAD;break}if(d.lenbits=9,Et={bits:d.lenbits},ft=inflate_table(LENS,d.lens,0,d.nlen,d.lencode,0,d.work,Et),d.lenbits=Et.bits,ft){s.msg="invalid literal/lengths set",d.mode=BAD;break}if(d.distbits=6,d.distcode=d.distdyn,Et={bits:d.distbits},ft=inflate_table(DISTS,d.lens,d.nlen,d.ndist,d.distcode,0,d.work,Et),d.distbits=Et.bits,ft){s.msg="invalid distances set",d.mode=BAD;break}if(d.mode=LEN_,e===Z_TREES)break e;case LEN_:d.mode=LEN;case LEN:if($>=6&&et>=258){s.next_out=j,s.avail_out=et,s.next_in=_,s.avail_in=$,d.hold=tt,d.bits=nt,inflate_fast(s,it),j=s.next_out,g=s.output,et=s.avail_out,_=s.next_in,h=s.input,$=s.avail_in,tt=d.hold,nt=d.bits,d.mode===TYPE&&(d.back=-1);break}for(d.back=0;dt=d.lencode[tt&(1<<d.lenbits)-1],at=dt>>>24,ut=dt>>>16&255,pt=dt&65535,!(at<=nt);){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(ut&&!(ut&240)){for(vt=at,ht=ut,yt=pt;dt=d.lencode[yt+((tt&(1<<vt+ht)-1)>>vt)],at=dt>>>24,ut=dt>>>16&255,pt=dt&65535,!(vt+at<=nt);){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}tt>>>=vt,nt-=vt,d.back+=vt}if(tt>>>=at,nt-=at,d.back+=at,d.length=pt,ut===0){d.mode=LIT;break}if(ut&32){d.back=-1,d.mode=TYPE;break}if(ut&64){s.msg="invalid literal/length code",d.mode=BAD;break}d.extra=ut&15,d.mode=LENEXT;case LENEXT:if(d.extra){for(mt=d.extra;nt<mt;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}d.length+=tt&(1<<d.extra)-1,tt>>>=d.extra,nt-=d.extra,d.back+=d.extra}d.was=d.length,d.mode=DIST;case DIST:for(;dt=d.distcode[tt&(1<<d.distbits)-1],at=dt>>>24,ut=dt>>>16&255,pt=dt&65535,!(at<=nt);){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(!(ut&240)){for(vt=at,ht=ut,yt=pt;dt=d.distcode[yt+((tt&(1<<vt+ht)-1)>>vt)],at=dt>>>24,ut=dt>>>16&255,pt=dt&65535,!(vt+at<=nt);){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}tt>>>=vt,nt-=vt,d.back+=vt}if(tt>>>=at,nt-=at,d.back+=at,ut&64){s.msg="invalid distance code",d.mode=BAD;break}d.offset=pt,d.extra=ut&15,d.mode=DISTEXT;case DISTEXT:if(d.extra){for(mt=d.extra;nt<mt;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}d.offset+=tt&(1<<d.extra)-1,tt>>>=d.extra,nt-=d.extra,d.back+=d.extra}if(d.offset>d.dmax){s.msg="invalid distance too far back",d.mode=BAD;break}d.mode=MATCH;case MATCH:if(et===0)break e;if(st=it-et,d.offset>st){if(st=d.offset-st,st>d.whave&&d.sane){s.msg="invalid distance too far back",d.mode=BAD;break}st>d.wnext?(st-=d.wnext,ot=d.wsize-st):ot=d.wnext-st,st>d.length&&(st=d.length),lt=d.window}else lt=g,ot=j-d.offset,st=d.length;st>et&&(st=et),et-=st,d.length-=st;do g[j++]=lt[ot++];while(--st);d.length===0&&(d.mode=LEN);break;case LIT:if(et===0)break e;g[j++]=d.length,et--,d.mode=LEN;break;case CHECK:if(d.wrap){for(;nt<32;){if($===0)break e;$--,tt|=h[_++]<<nt,nt+=8}if(it-=et,s.total_out+=it,d.total+=it,it&&(s.adler=d.check=d.flags?crc32(d.check,g,it,j-it):adler32(d.check,g,it,j-it)),it=et,(d.flags?tt:zswap32(tt))!==d.check){s.msg="incorrect data check",d.mode=BAD;break}tt=0,nt=0}d.mode=LENGTH;case LENGTH:if(d.wrap&&d.flags){for(;nt<32;){if($===0)break e;$--,tt+=h[_++]<<nt,nt+=8}if(tt!==(d.total&4294967295)){s.msg="incorrect length check",d.mode=BAD;break}tt=0,nt=0}d.mode=DONE;case DONE:ft=Z_STREAM_END;break e;case BAD:ft=Z_DATA_ERROR;break e;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return s.next_out=j,s.avail_out=et,s.next_in=_,s.avail_in=$,d.hold=tt,d.bits=nt,(d.wsize||it!==s.avail_out&&d.mode<BAD&&(d.mode<CHECK||e!==Z_FINISH))&&updatewindow(s,s.output,s.next_out,it-s.avail_out),rt-=s.avail_in,it-=s.avail_out,s.total_in+=rt,s.total_out+=it,d.total+=it,d.wrap&&it&&(s.adler=d.check=d.flags?crc32(d.check,g,it,s.next_out-it):adler32(d.check,g,it,s.next_out-it)),s.data_type=d.bits+(d.last?64:0)+(d.mode===TYPE?128:0)+(d.mode===LEN_||d.mode===COPY_?256:0),(rt===0&&it===0||e===Z_FINISH)&&ft===Z_OK&&(ft=Z_BUF_ERROR),ft}function inflateEnd(s){if(!s||!s.state)return Z_STREAM_ERROR;var e=s.state;return e.window&&(e.window=null),s.state=null,Z_OK}function inflateGetHeader(s,e){var d;return!s||!s.state||(d=s.state,!(d.wrap&2))?Z_STREAM_ERROR:(d.head=e,e.done=!1,Z_OK)}function inflateSetDictionary(s,e){var d=e.length,h,g,_;return!s||!s.state||(h=s.state,h.wrap!==0&&h.mode!==DICT)?Z_STREAM_ERROR:h.mode===DICT&&(g=1,g=adler32(g,e,d,0),g!==h.check)?Z_DATA_ERROR:(_=updatewindow(s,e,d,d),_?(h.mode=MEM,Z_MEM_ERROR):(h.havedict=1,Z_OK))}inflate$3.inflateReset=inflateReset;inflate$3.inflateReset2=inflateReset2;inflate$3.inflateResetKeep=inflateResetKeep;inflate$3.inflateInit=inflateInit;inflate$3.inflateInit2=inflateInit2;inflate$3.inflate=inflate$2;inflate$3.inflateEnd=inflateEnd;inflate$3.inflateGetHeader=inflateGetHeader;inflate$3.inflateSetDictionary=inflateSetDictionary;inflate$3.inflateInfo="pako inflate (from Nodeca project)";var constants$1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function GZheader$1(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader$1,zlib_inflate=inflate$3,utils=common,strings=strings$2,c=constants$1,msg=messages,ZStream=zstream,GZheader=gzheader,toString=Object.prototype.toString;function Inflate(s){if(!(this instanceof Inflate))return new Inflate(s);this.options=utils.assign({chunkSize:16384,windowBits:0,to:""},s||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(s&&s.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var d=zlib_inflate.inflateInit2(this.strm,e.windowBits);if(d!==c.Z_OK)throw new Error(msg[d]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=strings.string2buf(e.dictionary):toString.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(d=zlib_inflate.inflateSetDictionary(this.strm,e.dictionary),d!==c.Z_OK)))throw new Error(msg[d])}Inflate.prototype.push=function(s,e){var d=this.strm,h=this.options.chunkSize,g=this.options.dictionary,_,j,$,et,tt,nt=!1;if(this.ended)return!1;j=e===~~e?e:e===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof s=="string"?d.input=strings.binstring2buf(s):toString.call(s)==="[object ArrayBuffer]"?d.input=new Uint8Array(s):d.input=s,d.next_in=0,d.avail_in=d.input.length;do{if(d.avail_out===0&&(d.output=new utils.Buf8(h),d.next_out=0,d.avail_out=h),_=zlib_inflate.inflate(d,c.Z_NO_FLUSH),_===c.Z_NEED_DICT&&g&&(_=zlib_inflate.inflateSetDictionary(this.strm,g)),_===c.Z_BUF_ERROR&&nt===!0&&(_=c.Z_OK,nt=!1),_!==c.Z_STREAM_END&&_!==c.Z_OK)return this.onEnd(_),this.ended=!0,!1;d.next_out&&(d.avail_out===0||_===c.Z_STREAM_END||d.avail_in===0&&(j===c.Z_FINISH||j===c.Z_SYNC_FLUSH))&&(this.options.to==="string"?($=strings.utf8border(d.output,d.next_out),et=d.next_out-$,tt=strings.buf2string(d.output,$),d.next_out=et,d.avail_out=h-et,et&&utils.arraySet(d.output,d.output,$,et,0),this.onData(tt)):this.onData(utils.shrinkBuf(d.output,d.next_out))),d.avail_in===0&&d.avail_out===0&&(nt=!0)}while((d.avail_in>0||d.avail_out===0)&&_!==c.Z_STREAM_END);return _===c.Z_STREAM_END&&(j=c.Z_FINISH),j===c.Z_FINISH?(_=zlib_inflate.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===c.Z_OK):(j===c.Z_SYNC_FLUSH&&(this.onEnd(c.Z_OK),d.avail_out=0),!0)};Inflate.prototype.onData=function(s){this.chunks.push(s)};Inflate.prototype.onEnd=function(s){s===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function inflate$1(s,e){var d=new Inflate(e);if(d.push(s,!0),d.err)throw d.msg||msg[d.err];return d.result}function inflateRaw(s,e){return e=e||{},e.raw=!0,inflate$1(s,e)}inflate$4.Inflate=Inflate;inflate$4.inflate=inflate$1;inflate$4.inflateRaw=inflateRaw;inflate$4.ungzip=inflate$1;var assign=common.assign,deflate=deflate$4,inflate=inflate$4,constants=constants$1,pako={};assign(pako,deflate,inflate,constants);var pako_1=pako;const pako$1=getDefaultExportFromCjs(pako_1);var UPNG={};UPNG.toRGBA8=function(s){var e=s.width,d=s.height;if(s.tabs.acTL==null)return[UPNG.toRGBA8.decodeImage(s.data,e,d,s).buffer];var h=[];s.frames[0].data==null&&(s.frames[0].data=s.data);for(var g=e*d*4,_=new Uint8Array(g),j=new Uint8Array(g),$=new Uint8Array(g),et=0;et<s.frames.length;et++){var tt=s.frames[et],nt=tt.rect.x,rt=tt.rect.y,it=tt.rect.width,st=tt.rect.height,ot=UPNG.toRGBA8.decodeImage(tt.data,it,st,s);if(et!=0)for(var lt=0;lt<g;lt++)$[lt]=_[lt];if(tt.blend==0?UPNG._copyTile(ot,it,st,_,e,d,nt,rt,0):tt.blend==1&&UPNG._copyTile(ot,it,st,_,e,d,nt,rt,1),h.push(_.buffer.slice(0)),tt.dispose!=0){if(tt.dispose==1)UPNG._copyTile(j,it,st,_,e,d,nt,rt,0);else if(tt.dispose==2)for(var lt=0;lt<g;lt++)_[lt]=$[lt]}}return h};UPNG.toRGBA8.decodeImage=function(s,e,d,h){var g=e*d,_=UPNG.decode._getBPP(h),j=Math.ceil(e*_/8),$=new Uint8Array(g*4),et=new Uint32Array($.buffer),tt=h.ctype,nt=h.depth,rt=UPNG._bin.readUshort;if(tt==6){var it=g<<2;if(nt==8)for(var st=0;st<it;st+=4)$[st]=s[st],$[st+1]=s[st+1],$[st+2]=s[st+2],$[st+3]=s[st+3];if(nt==16)for(var st=0;st<it;st++)$[st]=s[st<<1]}else if(tt==2){var ot=h.tabs.tRNS;if(ot==null){if(nt==8)for(var st=0;st<g;st++){var lt=st*3;et[st]=255<<24|s[lt+2]<<16|s[lt+1]<<8|s[lt]}if(nt==16)for(var st=0;st<g;st++){var lt=st*6;et[st]=255<<24|s[lt+4]<<16|s[lt+2]<<8|s[lt]}}else{var dt=ot[0],at=ot[1],ut=ot[2];if(nt==8)for(var st=0;st<g;st++){var pt=st<<2,lt=st*3;et[st]=255<<24|s[lt+2]<<16|s[lt+1]<<8|s[lt],s[lt]==dt&&s[lt+1]==at&&s[lt+2]==ut&&($[pt+3]=0)}if(nt==16)for(var st=0;st<g;st++){var pt=st<<2,lt=st*6;et[st]=255<<24|s[lt+4]<<16|s[lt+2]<<8|s[lt],rt(s,lt)==dt&&rt(s,lt+2)==at&&rt(s,lt+4)==ut&&($[pt+3]=0)}}}else if(tt==3){var vt=h.tabs.PLTE,ht=h.tabs.tRNS,yt=ht?ht.length:0;if(nt==1)for(var gt=0;gt<d;gt++)for(var ft=gt*j,_t=gt*e,st=0;st<e;st++){var pt=_t+st<<2,Et=s[ft+(st>>3)]>>7-((st&7)<<0)&1,mt=3*Et;$[pt]=vt[mt],$[pt+1]=vt[mt+1],$[pt+2]=vt[mt+2],$[pt+3]=Et<yt?ht[Et]:255}if(nt==2)for(var gt=0;gt<d;gt++)for(var ft=gt*j,_t=gt*e,st=0;st<e;st++){var pt=_t+st<<2,Et=s[ft+(st>>2)]>>6-((st&3)<<1)&3,mt=3*Et;$[pt]=vt[mt],$[pt+1]=vt[mt+1],$[pt+2]=vt[mt+2],$[pt+3]=Et<yt?ht[Et]:255}if(nt==4)for(var gt=0;gt<d;gt++)for(var ft=gt*j,_t=gt*e,st=0;st<e;st++){var pt=_t+st<<2,Et=s[ft+(st>>1)]>>4-((st&1)<<2)&15,mt=3*Et;$[pt]=vt[mt],$[pt+1]=vt[mt+1],$[pt+2]=vt[mt+2],$[pt+3]=Et<yt?ht[Et]:255}if(nt==8)for(var st=0;st<g;st++){var pt=st<<2,Et=s[st],mt=3*Et;$[pt]=vt[mt],$[pt+1]=vt[mt+1],$[pt+2]=vt[mt+2],$[pt+3]=Et<yt?ht[Et]:255}}else if(tt==4){if(nt==8)for(var st=0;st<g;st++){var pt=st<<2,xt=st<<1,St=s[xt];$[pt]=St,$[pt+1]=St,$[pt+2]=St,$[pt+3]=s[xt+1]}if(nt==16)for(var st=0;st<g;st++){var pt=st<<2,xt=st<<2,St=s[xt];$[pt]=St,$[pt+1]=St,$[pt+2]=St,$[pt+3]=s[xt+2]}}else if(tt==0)for(var dt=h.tabs.tRNS?h.tabs.tRNS:-1,gt=0;gt<d;gt++){var Ut=gt*j,kt=gt*e;if(nt==1)for(var Bt=0;Bt<e;Bt++){var St=255*(s[Ut+(Bt>>>3)]>>>7-(Bt&7)&1),$t=St==dt*255?0:255;et[kt+Bt]=$t<<24|St<<16|St<<8|St}else if(nt==2)for(var Bt=0;Bt<e;Bt++){var St=85*(s[Ut+(Bt>>>2)]>>>6-((Bt&3)<<1)&3),$t=St==dt*85?0:255;et[kt+Bt]=$t<<24|St<<16|St<<8|St}else if(nt==4)for(var Bt=0;Bt<e;Bt++){var St=17*(s[Ut+(Bt>>>1)]>>>4-((Bt&1)<<2)&15),$t=St==dt*17?0:255;et[kt+Bt]=$t<<24|St<<16|St<<8|St}else if(nt==8)for(var Bt=0;Bt<e;Bt++){var St=s[Ut+Bt],$t=St==dt?0:255;et[kt+Bt]=$t<<24|St<<16|St<<8|St}else if(nt==16)for(var Bt=0;Bt<e;Bt++){var St=s[Ut+(Bt<<1)],$t=rt(s,Ut+(Bt<<st))==dt?0:255;et[kt+Bt]=$t<<24|St<<16|St<<8|St}}return $};UPNG.decode=function(s){for(var e=new Uint8Array(s),d=8,h=UPNG._bin,g=h.readUshort,_=h.readUint,j={tabs:{},frames:[]},$=new Uint8Array(e.length),et=0,tt,nt=0,rt=[137,80,78,71,13,10,26,10],it=0;it<8;it++)if(e[it]!=rt[it])throw"The input is not a PNG file!";for(;d<e.length;){var st=h.readUint(e,d);d+=4;var ot=h.readASCII(e,d,4);if(d+=4,ot=="IHDR")UPNG.decode._IHDR(e,d,j);else if(ot=="IDAT"){for(var it=0;it<st;it++)$[et+it]=e[d+it];et+=st}else if(ot=="acTL")j.tabs[ot]={num_frames:_(e,d),num_plays:_(e,d+4)},tt=new Uint8Array(e.length);else if(ot=="fcTL"){if(nt!=0){var lt=j.frames[j.frames.length-1];lt.data=UPNG.decode._decompress(j,tt.slice(0,nt),lt.rect.width,lt.rect.height),nt=0}var dt={x:_(e,d+12),y:_(e,d+16),width:_(e,d+4),height:_(e,d+8)},at=g(e,d+22);at=g(e,d+20)/(at==0?100:at);var ut={rect:dt,delay:Math.round(at*1e3),dispose:e[d+24],blend:e[d+25]};j.frames.push(ut)}else if(ot=="fdAT"){for(var it=0;it<st-4;it++)tt[nt+it]=e[d+it+4];nt+=st-4}else if(ot=="pHYs")j.tabs[ot]=[h.readUint(e,d),h.readUint(e,d+4),e[d+8]];else if(ot=="cHRM"){j.tabs[ot]=[];for(var it=0;it<8;it++)j.tabs[ot].push(h.readUint(e,d+it*4))}else if(ot=="tEXt"){j.tabs[ot]==null&&(j.tabs[ot]={});var pt=h.nextZero(e,d),vt=h.readASCII(e,d,pt-d),ht=h.readASCII(e,pt+1,d+st-pt-1);j.tabs[ot][vt]=ht}else if(ot=="iTXt"){j.tabs[ot]==null&&(j.tabs[ot]={});var pt=0,yt=d;pt=h.nextZero(e,yt);var vt=h.readASCII(e,yt,pt-yt);yt=pt+1,e[yt],e[yt+1],yt+=2,pt=h.nextZero(e,yt),h.readASCII(e,yt,pt-yt),yt=pt+1,pt=h.nextZero(e,yt),h.readUTF8(e,yt,pt-yt),yt=pt+1;var ht=h.readUTF8(e,yt,st-(yt-d));j.tabs[ot][vt]=ht}else if(ot=="PLTE")j.tabs[ot]=h.readBytes(e,d,st);else if(ot=="hIST"){var gt=j.tabs.PLTE.length/3;j.tabs[ot]=[];for(var it=0;it<gt;it++)j.tabs[ot].push(g(e,d+it*2))}else if(ot=="tRNS")j.ctype==3?j.tabs[ot]=h.readBytes(e,d,st):j.ctype==0?j.tabs[ot]=g(e,d):j.ctype==2&&(j.tabs[ot]=[g(e,d),g(e,d+2),g(e,d+4)]);else if(ot=="gAMA")j.tabs[ot]=h.readUint(e,d)/1e5;else if(ot=="sRGB")j.tabs[ot]=e[d];else if(ot=="bKGD")j.ctype==0||j.ctype==4?j.tabs[ot]=[g(e,d)]:j.ctype==2||j.ctype==6?j.tabs[ot]=[g(e,d),g(e,d+2),g(e,d+4)]:j.ctype==3&&(j.tabs[ot]=e[d]);else if(ot=="IEND")break;d+=st,h.readUint(e,d),d+=4}if(nt!=0){var lt=j.frames[j.frames.length-1];lt.data=UPNG.decode._decompress(j,tt.slice(0,nt),lt.rect.width,lt.rect.height),nt=0}return j.data=UPNG.decode._decompress(j,$,j.width,j.height),delete j.compress,delete j.interlace,delete j.filter,j};UPNG.decode._decompress=function(s,e,d,h){var g=UPNG.decode._getBPP(s),_=Math.ceil(d*g/8),j=new Uint8Array((_+1+s.interlace)*h);return e=UPNG.decode._inflate(e,j),s.interlace==0?e=UPNG.decode._filterZero(e,s,0,d,h):s.interlace==1&&(e=UPNG.decode._readInterlace(e,s)),e};UPNG.decode._inflate=function(s,e){var d=UPNG.inflateRaw(new Uint8Array(s.buffer,2,s.length-6),e);return d};UPNG.inflateRaw=function(){var s={};return s.H={},s.H.N=function(e,d){var h=Uint8Array,g=0,_=0,j=0,$=0,et=0,tt=0,nt=0,rt=0,it=0,st,ot;if(e[0]==3&&e[1]==0)return d||new h(0);var lt=s.H,dt=lt.b,at=lt.e,ut=lt.R,pt=lt.n,vt=lt.A,ht=lt.Z,yt=lt.m,gt=d==null;for(gt&&(d=new h(e.length>>>2<<3));g==0;){if(g=dt(e,it,1),_=dt(e,it+1,2),it+=3,_==0){it&7&&(it+=8-(it&7));var ft=(it>>>3)+4,_t=e[ft-4]|e[ft-3]<<8;gt&&(d=s.H.W(d,rt+_t)),d.set(new h(e.buffer,e.byteOffset+ft,_t),rt),it=ft+_t<<3,rt+=_t;continue}if(gt&&(d=s.H.W(d,rt+(1<<17))),_==1&&(st=yt.J,ot=yt.h,tt=511,nt=31),_==2){j=at(e,it,5)+257,$=at(e,it+5,5)+1,et=at(e,it+10,4)+4,it+=14;for(var Et=1,mt=0;mt<38;mt+=2)yt.Q[mt]=0,yt.Q[mt+1]=0;for(var mt=0;mt<et;mt++){var xt=at(e,it+mt*3,3);yt.Q[(yt.X[mt]<<1)+1]=xt,xt>Et&&(Et=xt)}it+=3*et,pt(yt.Q,Et),vt(yt.Q,Et,yt.u),st=yt.w,ot=yt.d,it=ut(yt.u,(1<<Et)-1,j+$,e,it,yt.v);var St=lt.V(yt.v,0,j,yt.C);tt=(1<<St)-1;var Ut=lt.V(yt.v,j,$,yt.D);nt=(1<<Ut)-1,pt(yt.C,St),vt(yt.C,St,st),pt(yt.D,Ut),vt(yt.D,Ut,ot)}for(;;){var kt=st[ht(e,it)&tt];it+=kt&15;var Bt=kt>>>4;if(!(Bt>>>8))d[rt++]=Bt;else{if(Bt==256)break;var $t=rt+Bt-254;if(Bt>264){var Gt=yt.q[Bt-257];$t=rt+(Gt>>>3)+at(e,it,Gt&7),it+=Gt&7}var Ft=ot[ht(e,it)&nt];it+=Ft&15;var Wt=Ft>>>4,tn=yt.c[Wt],Lt=(tn>>>4)+dt(e,it,tn&15);for(it+=tn&15;rt<$t;)d[rt]=d[rt++-Lt],d[rt]=d[rt++-Lt],d[rt]=d[rt++-Lt],d[rt]=d[rt++-Lt];rt=$t}}}return d.length==rt?d:d.slice(0,rt)},s.H.W=function(e,d){var h=e.length;if(d<=h)return e;var g=new Uint8Array(h<<1);return g.set(e,0),g},s.H.R=function(e,d,h,g,_,j){for(var $=s.H.e,et=s.H.Z,tt=0;tt<h;){var nt=e[et(g,_)&d];_+=nt&15;var rt=nt>>>4;if(rt<=15)j[tt]=rt,tt++;else{var it=0,st=0;rt==16?(st=3+$(g,_,2),_+=2,it=j[tt-1]):rt==17?(st=3+$(g,_,3),_+=3):rt==18&&(st=11+$(g,_,7),_+=7);for(var ot=tt+st;tt<ot;)j[tt]=it,tt++}}return _},s.H.V=function(e,d,h,g){for(var _=0,j=0,$=g.length>>>1;j<h;){var et=e[j+d];g[j<<1]=0,g[(j<<1)+1]=et,et>_&&(_=et),j++}for(;j<$;)g[j<<1]=0,g[(j<<1)+1]=0,j++;return _},s.H.n=function(e,d){for(var h=s.H.m,g=e.length,_,j,$,et,tt,nt=h.j,et=0;et<=d;et++)nt[et]=0;for(et=1;et<g;et+=2)nt[e[et]]++;var rt=h.K;for(_=0,nt[0]=0,j=1;j<=d;j++)_=_+nt[j-1]<<1,rt[j]=_;for($=0;$<g;$+=2)tt=e[$+1],tt!=0&&(e[$]=rt[tt],rt[tt]++)},s.H.A=function(e,d,h){for(var g=e.length,_=s.H.m,j=_.r,$=0;$<g;$+=2)if(e[$+1]!=0)for(var et=$>>1,tt=e[$+1],nt=et<<4|tt,rt=d-tt,it=e[$]<<rt,st=it+(1<<rt);it!=st;){var ot=j[it]>>>15-d;h[ot]=nt,it++}},s.H.l=function(e,d){for(var h=s.H.m.r,g=15-d,_=0;_<e.length;_+=2){var j=e[_]<<d-e[_+1];e[_]=h[j]>>>g}},s.H.M=function(e,d,h){h=h<<(d&7);var g=d>>>3;e[g]|=h,e[g+1]|=h>>>8},s.H.I=function(e,d,h){h=h<<(d&7);var g=d>>>3;e[g]|=h,e[g+1]|=h>>>8,e[g+2]|=h>>>16},s.H.e=function(e,d,h){return(e[d>>>3]|e[(d>>>3)+1]<<8)>>>(d&7)&(1<<h)-1},s.H.b=function(e,d,h){return(e[d>>>3]|e[(d>>>3)+1]<<8|e[(d>>>3)+2]<<16)>>>(d&7)&(1<<h)-1},s.H.Z=function(e,d){return(e[d>>>3]|e[(d>>>3)+1]<<8|e[(d>>>3)+2]<<16)>>>(d&7)},s.H.i=function(e,d){return(e[d>>>3]|e[(d>>>3)+1]<<8|e[(d>>>3)+2]<<16|e[(d>>>3)+3]<<24)>>>(d&7)},s.H.m=function(){var e=Uint16Array,d=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new d(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new d(286),Y:new d(30),a:new d(19),t:new d(15e3),k:new e(65536),g:new e(32768)}}(),function(){for(var e=s.H.m,d=32768,h=0;h<d;h++){var g=h;g=(g&2863311530)>>>1|(g&1431655765)<<1,g=(g&3435973836)>>>2|(g&858993459)<<2,g=(g&4042322160)>>>4|(g&252645135)<<4,g=(g&4278255360)>>>8|(g&16711935)<<8,e.r[h]=(g>>>16|g<<16)>>>17}function _(j,$,et){for(;$--!=0;)j.push(0,et)}for(var h=0;h<32;h++)e.q[h]=e.S[h]<<3|e.T[h],e.c[h]=e.p[h]<<4|e.z[h];_(e._,144,8),_(e._,112,9),_(e._,24,7),_(e._,8,8),s.H.n(e._,9),s.H.A(e._,9,e.J),s.H.l(e._,9),_(e.$,32,5),s.H.n(e.$,5),s.H.A(e.$,5,e.h),s.H.l(e.$,5),_(e.Q,19,0),_(e.C,286,0),_(e.D,30,0),_(e.v,320,0)}(),s.H.N}();UPNG.decode._readInterlace=function(s,e){for(var d=e.width,h=e.height,g=UPNG.decode._getBPP(e),_=g>>3,j=Math.ceil(d*g/8),$=new Uint8Array(h*j),et=0,tt=[0,0,4,0,2,0,1],nt=[0,4,0,2,0,1,0],rt=[8,8,8,4,4,2,2],it=[8,8,4,4,2,2,1],st=0;st<7;){for(var ot=rt[st],lt=it[st],dt=0,at=0,ut=tt[st];ut<h;)ut+=ot,at++;for(var pt=nt[st];pt<d;)pt+=lt,dt++;var vt=Math.ceil(dt*g/8);UPNG.decode._filterZero(s,e,et,dt,at);for(var ht=0,yt=tt[st];yt<h;){for(var gt=nt[st],ft=et+ht*vt<<3;gt<d;){if(g==1){var _t=s[ft>>3];_t=_t>>7-(ft&7)&1,$[yt*j+(gt>>3)]|=_t<<7-((gt&7)<<0)}if(g==2){var _t=s[ft>>3];_t=_t>>6-(ft&7)&3,$[yt*j+(gt>>2)]|=_t<<6-((gt&3)<<1)}if(g==4){var _t=s[ft>>3];_t=_t>>4-(ft&7)&15,$[yt*j+(gt>>1)]|=_t<<4-((gt&1)<<2)}if(g>=8)for(var Et=yt*j+gt*_,mt=0;mt<_;mt++)$[Et+mt]=s[(ft>>3)+mt];ft+=g,gt+=lt}ht++,yt+=ot}dt*at!=0&&(et+=at*(1+vt)),st=st+1}return $};UPNG.decode._getBPP=function(s){var e=[1,null,3,1,2,null,4][s.ctype];return e*s.depth};UPNG.decode._filterZero=function(s,e,d,h,g){var _=UPNG.decode._getBPP(e),j=Math.ceil(h*_/8),$=UPNG.decode._paeth;_=Math.ceil(_/8);var et=0,tt=1,nt=s[d],rt=0;if(nt>1&&(s[d]=[0,0,1][nt-2]),nt==3)for(rt=_;rt<j;rt++)s[rt+1]=s[rt+1]+(s[rt+1-_]>>>1)&255;for(var it=0;it<g;it++)if(et=d+it*j,tt=et+it+1,nt=s[tt-1],rt=0,nt==0)for(;rt<j;rt++)s[et+rt]=s[tt+rt];else if(nt==1){for(;rt<_;rt++)s[et+rt]=s[tt+rt];for(;rt<j;rt++)s[et+rt]=s[tt+rt]+s[et+rt-_]}else if(nt==2)for(;rt<j;rt++)s[et+rt]=s[tt+rt]+s[et+rt-j];else if(nt==3){for(;rt<_;rt++)s[et+rt]=s[tt+rt]+(s[et+rt-j]>>>1);for(;rt<j;rt++)s[et+rt]=s[tt+rt]+(s[et+rt-j]+s[et+rt-_]>>>1)}else{for(;rt<_;rt++)s[et+rt]=s[tt+rt]+$(0,s[et+rt-j],0);for(;rt<j;rt++)s[et+rt]=s[tt+rt]+$(s[et+rt-_],s[et+rt-j],s[et+rt-_-j])}return s};UPNG.decode._paeth=function(s,e,d){var h=s+e-d,g=h-s,_=h-e,j=h-d;return g*g<=_*_&&g*g<=j*j?s:_*_<=j*j?e:d};UPNG.decode._IHDR=function(s,e,d){var h=UPNG._bin;d.width=h.readUint(s,e),e+=4,d.height=h.readUint(s,e),e+=4,d.depth=s[e],e++,d.ctype=s[e],e++,d.compress=s[e],e++,d.filter=s[e],e++,d.interlace=s[e],e++};UPNG._bin={nextZero:function(s,e){for(;s[e]!=0;)e++;return e},readUshort:function(s,e){return s[e]<<8|s[e+1]},writeUshort:function(s,e,d){s[e]=d>>8&255,s[e+1]=d&255},readUint:function(s,e){return s[e]*(256*256*256)+(s[e+1]<<16|s[e+2]<<8|s[e+3])},writeUint:function(s,e,d){s[e]=d>>24&255,s[e+1]=d>>16&255,s[e+2]=d>>8&255,s[e+3]=d&255},readASCII:function(s,e,d){for(var h="",g=0;g<d;g++)h+=String.fromCharCode(s[e+g]);return h},writeASCII:function(s,e,d){for(var h=0;h<d.length;h++)s[e+h]=d.charCodeAt(h)},readBytes:function(s,e,d){for(var h=[],g=0;g<d;g++)h.push(s[e+g]);return h},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,e,d){for(var h="",g,_=0;_<d;_++)h+="%"+UPNG._bin.pad(s[e+_].toString(16));try{g=decodeURIComponent(h)}catch{return UPNG._bin.readASCII(s,e,d)}return g}};UPNG._copyTile=function(s,e,d,h,g,_,j,$,et){for(var tt=Math.min(e,g),nt=Math.min(d,_),rt=0,it=0,st=0;st<nt;st++)for(var ot=0;ot<tt;ot++)if(j>=0&&$>=0?(rt=st*e+ot<<2,it=($+st)*g+j+ot<<2):(rt=(-$+st)*e-j+ot<<2,it=st*g+ot<<2),et==0)h[it]=s[rt],h[it+1]=s[rt+1],h[it+2]=s[rt+2],h[it+3]=s[rt+3];else if(et==1){var lt=s[rt+3]*.00392156862745098,dt=s[rt]*lt,at=s[rt+1]*lt,ut=s[rt+2]*lt,pt=h[it+3]*(1/255),vt=h[it]*pt,ht=h[it+1]*pt,yt=h[it+2]*pt,gt=1-lt,ft=lt+pt*gt,_t=ft==0?0:1/ft;h[it+3]=255*ft,h[it+0]=(dt+vt*gt)*_t,h[it+1]=(at+ht*gt)*_t,h[it+2]=(ut+yt*gt)*_t}else if(et==2){var lt=s[rt+3],dt=s[rt],at=s[rt+1],ut=s[rt+2],pt=h[it+3],vt=h[it],ht=h[it+1],yt=h[it+2];lt==pt&&dt==vt&&at==ht&&ut==yt?(h[it]=0,h[it+1]=0,h[it+2]=0,h[it+3]=0):(h[it]=dt,h[it+1]=at,h[it+2]=ut,h[it+3]=lt)}else if(et==3){var lt=s[rt+3],dt=s[rt],at=s[rt+1],ut=s[rt+2],pt=h[it+3],vt=h[it],ht=h[it+1],yt=h[it+2];if(lt==pt&&dt==vt&&at==ht&&ut==yt)continue;if(lt<220&&pt>20)return!1}return!0};UPNG.encode=function(s,e,d,h,g,_,j){h==null&&(h=0),j==null&&(j=!1);var $=UPNG.encode.compress(s,e,d,h,[!1,!1,!1,0,j]);return UPNG.encode.compressPNG($,-1),UPNG.encode._main($,e,d,g,_)};UPNG.encodeLL=function(s,e,d,h,g,_,j,$){for(var et={ctype:0+(h==1?0:2)+(g==0?0:4),depth:_,frames:[]},tt=(h+g)*_,nt=tt*e,rt=0;rt<s.length;rt++)et.frames.push({rect:{x:0,y:0,width:e,height:d},img:new Uint8Array(s[rt]),blend:0,dispose:1,bpp:Math.ceil(tt/8),bpl:Math.ceil(nt/8)});UPNG.encode.compressPNG(et,0,!0);var it=UPNG.encode._main(et,e,d,j,$);return it};UPNG.encode._main=function(s,e,d,h,g){g==null&&(g={});var _=UPNG.crc.crc,j=UPNG._bin.writeUint,$=UPNG._bin.writeUshort,et=UPNG._bin.writeASCII,tt=8,nt=s.frames.length>1,rt=!1,it=33+(nt?20:0);if(g.sRGB!=null&&(it+=13),g.pHYs!=null&&(it+=21),s.ctype==3){for(var st=s.plte.length,ot=0;ot<st;ot++)s.plte[ot]>>>24!=255&&(rt=!0);it+=8+st*3+4+(rt?8+st*1+4:0)}for(var lt=0;lt<s.frames.length;lt++){var dt=s.frames[lt];nt&&(it+=38),it+=dt.cimg.length+12,lt!=0&&(it+=4)}it+=12;for(var at=new Uint8Array(it),ut=[137,80,78,71,13,10,26,10],ot=0;ot<8;ot++)at[ot]=ut[ot];if(j(at,tt,13),tt+=4,et(at,tt,"IHDR"),tt+=4,j(at,tt,e),tt+=4,j(at,tt,d),tt+=4,at[tt]=s.depth,tt++,at[tt]=s.ctype,tt++,at[tt]=0,tt++,at[tt]=0,tt++,at[tt]=0,tt++,j(at,tt,_(at,tt-17,17)),tt+=4,g.sRGB!=null&&(j(at,tt,1),tt+=4,et(at,tt,"sRGB"),tt+=4,at[tt]=g.sRGB,tt++,j(at,tt,_(at,tt-5,5)),tt+=4),g.pHYs!=null&&(j(at,tt,9),tt+=4,et(at,tt,"pHYs"),tt+=4,j(at,tt,g.pHYs[0]),tt+=4,j(at,tt,g.pHYs[1]),tt+=4,at[tt]=g.pHYs[2],tt++,j(at,tt,_(at,tt-13,13)),tt+=4),nt&&(j(at,tt,8),tt+=4,et(at,tt,"acTL"),tt+=4,j(at,tt,s.frames.length),tt+=4,j(at,tt,g.loop!=null?g.loop:0),tt+=4,j(at,tt,_(at,tt-12,12)),tt+=4),s.ctype==3){var st=s.plte.length;j(at,tt,st*3),tt+=4,et(at,tt,"PLTE"),tt+=4;for(var ot=0;ot<st;ot++){var pt=ot*3,vt=s.plte[ot],ht=vt&255,yt=vt>>>8&255,gt=vt>>>16&255;at[tt+pt+0]=ht,at[tt+pt+1]=yt,at[tt+pt+2]=gt}if(tt+=st*3,j(at,tt,_(at,tt-st*3-4,st*3+4)),tt+=4,rt){j(at,tt,st),tt+=4,et(at,tt,"tRNS"),tt+=4;for(var ot=0;ot<st;ot++)at[tt+ot]=s.plte[ot]>>>24&255;tt+=st,j(at,tt,_(at,tt-st-4,st+4)),tt+=4}}for(var ft=0,lt=0;lt<s.frames.length;lt++){var dt=s.frames[lt];nt&&(j(at,tt,26),tt+=4,et(at,tt,"fcTL"),tt+=4,j(at,tt,ft++),tt+=4,j(at,tt,dt.rect.width),tt+=4,j(at,tt,dt.rect.height),tt+=4,j(at,tt,dt.rect.x),tt+=4,j(at,tt,dt.rect.y),tt+=4,$(at,tt,h[lt]),tt+=2,$(at,tt,1e3),tt+=2,at[tt]=dt.dispose,tt++,at[tt]=dt.blend,tt++,j(at,tt,_(at,tt-30,30)),tt+=4);var _t=dt.cimg,st=_t.length;j(at,tt,st+(lt==0?0:4)),tt+=4;var Et=tt;et(at,tt,lt==0?"IDAT":"fdAT"),tt+=4,lt!=0&&(j(at,tt,ft++),tt+=4),at.set(_t,tt),tt+=st,j(at,tt,_(at,Et,tt-Et)),tt+=4}return j(at,tt,0),tt+=4,et(at,tt,"IEND"),tt+=4,j(at,tt,_(at,tt-4,4)),tt+=4,at.buffer};UPNG.encode.compressPNG=function(s,e,d){for(var h=0;h<s.frames.length;h++){var g=s.frames[h];g.rect.width;var _=g.rect.height,j=new Uint8Array(_*g.bpl+_);g.cimg=UPNG.encode._filterZero(g.img,_,g.bpp,g.bpl,j,e,d)}};UPNG.encode.compress=function(s,e,d,h,g){for(var _=g[0],j=g[1],$=g[2],et=g[3],tt=g[4],nt=6,rt=8,it=255,st=0;st<s.length;st++)for(var ot=new Uint8Array(s[st]),lt=ot.length,dt=0;dt<lt;dt+=4)it&=ot[dt+3];var at=it!=255,ut=UPNG.encode.framize(s,e,d,_,j,$),pt={},vt=[],ht=[];if(h!=0){for(var yt=[],dt=0;dt<ut.length;dt++)yt.push(ut[dt].img.buffer);for(var gt=UPNG.encode.concatRGBA(yt),ft=UPNG.quantize(gt,h),_t=0,Et=new Uint8Array(ft.abuf),dt=0;dt<ut.length;dt++){var mt=ut[dt].img,xt=mt.length;ht.push(new Uint8Array(ft.inds.buffer,_t>>2,xt>>2));for(var st=0;st<xt;st+=4)mt[st]=Et[_t+st],mt[st+1]=Et[_t+st+1],mt[st+2]=Et[_t+st+2],mt[st+3]=Et[_t+st+3];_t+=xt}for(var dt=0;dt<ft.plte.length;dt++)vt.push(ft.plte[dt].est.rgba)}else for(var st=0;st<ut.length;st++){var St=ut[st],Ut=new Uint32Array(St.img.buffer),kt=St.rect.width,lt=Ut.length,Bt=new Uint8Array(lt);ht.push(Bt);for(var dt=0;dt<lt;dt++){var $t=Ut[dt];if(dt!=0&&$t==Ut[dt-1])Bt[dt]=Bt[dt-1];else if(dt>kt&&$t==Ut[dt-kt])Bt[dt]=Bt[dt-kt];else{var Gt=pt[$t];if(Gt==null&&(pt[$t]=Gt=vt.length,vt.push($t),vt.length>=300))break;Bt[dt]=Gt}}}var Ft=vt.length;Ft<=256&&tt==!1&&(Ft<=2?rt=1:Ft<=4?rt=2:Ft<=16?rt=4:rt=8,rt=Math.max(rt,et));for(var st=0;st<ut.length;st++){var St=ut[st];St.rect.x,St.rect.y;var kt=St.rect.width,Wt=St.rect.height,tn=St.img;new Uint32Array(tn.buffer);var Lt=4*kt,Rt=4;if(Ft<=256&&tt==!1){Lt=Math.ceil(rt*kt/8);for(var It=new Uint8Array(Lt*Wt),Mt=ht[st],Ht=0;Ht<Wt;Ht++){var dt=Ht*Lt,qt=Ht*kt;if(rt==8)for(var zt=0;zt<kt;zt++)It[dt+zt]=Mt[qt+zt];else if(rt==4)for(var zt=0;zt<kt;zt++)It[dt+(zt>>1)]|=Mt[qt+zt]<<4-(zt&1)*4;else if(rt==2)for(var zt=0;zt<kt;zt++)It[dt+(zt>>2)]|=Mt[qt+zt]<<6-(zt&3)*2;else if(rt==1)for(var zt=0;zt<kt;zt++)It[dt+(zt>>3)]|=Mt[qt+zt]<<7-(zt&7)*1}tn=It,nt=3,Rt=1}else if(at==!1&&ut.length==1){for(var It=new Uint8Array(kt*Wt*3),an=kt*Wt,dt=0;dt<an;dt++){var mt=dt*3,vn=dt*4;It[mt]=tn[vn],It[mt+1]=tn[vn+1],It[mt+2]=tn[vn+2]}tn=It,nt=2,Rt=3,Lt=3*kt}St.img=tn,St.bpl=Lt,St.bpp=Rt}return{ctype:nt,depth:rt,plte:vt,frames:ut}};UPNG.encode.framize=function(s,e,d,h,g,_){for(var j=[],$=0;$<s.length;$++){var et=new Uint8Array(s[$]),tt=new Uint32Array(et.buffer),nt,rt=0,it=0,st=e,ot=d,lt=h?1:0;if($!=0){for(var dt=_||h||$==1||j[$-2].dispose!=0?1:2,at=0,ut=1e9,pt=0;pt<dt;pt++){for(var St=new Uint8Array(s[$-1-pt]),vt=new Uint32Array(s[$-1-pt]),ht=e,yt=d,gt=-1,ft=-1,_t=0;_t<d;_t++)for(var Et=0;Et<e;Et++){var mt=_t*e+Et;tt[mt]!=vt[mt]&&(Et<ht&&(ht=Et),Et>gt&&(gt=Et),_t<yt&&(yt=_t),_t>ft&&(ft=_t))}gt==-1&&(ht=yt=gt=ft=0),g&&((ht&1)==1&&ht--,(yt&1)==1&&yt--);var xt=(gt-ht+1)*(ft-yt+1);xt<ut&&(ut=xt,at=pt,rt=ht,it=yt,st=gt-ht+1,ot=ft-yt+1)}var St=new Uint8Array(s[$-1-at]);at==1&&(j[$-1].dispose=2),nt=new Uint8Array(st*ot*4),UPNG._copyTile(St,e,d,nt,st,ot,-rt,-it,0),lt=UPNG._copyTile(et,e,d,nt,st,ot,-rt,-it,3)?1:0,lt==1?UPNG.encode._prepareDiff(et,e,d,nt,{x:rt,y:it,width:st,height:ot}):UPNG._copyTile(et,e,d,nt,st,ot,-rt,-it,0)}else nt=et.slice(0);j.push({rect:{x:rt,y:it,width:st,height:ot},img:nt,blend:lt,dispose:0})}if(h)for(var $=0;$<j.length;$++){var Ut=j[$];if(Ut.blend!=1){var kt=Ut.rect,Bt=j[$-1].rect,$t=Math.min(kt.x,Bt.x),Gt=Math.min(kt.y,Bt.y),Ft=Math.max(kt.x+kt.width,Bt.x+Bt.width),Wt=Math.max(kt.y+kt.height,Bt.y+Bt.height),tn={x:$t,y:Gt,width:Ft-$t,height:Wt-Gt};j[$-1].dispose=1,$-1!=0&&UPNG.encode._updateFrame(s,e,d,j,$-1,tn,g),UPNG.encode._updateFrame(s,e,d,j,$,tn,g)}}var Lt=0;if(s.length!=1)for(var mt=0;mt<j.length;mt++){var Ut=j[mt];Lt+=Ut.rect.width*Ut.rect.height}return j};UPNG.encode._updateFrame=function(s,e,d,h,g,_,j){for(var $=Uint8Array,et=Uint32Array,tt=new $(s[g-1]),nt=new et(s[g-1]),rt=g+1<s.length?new $(s[g+1]):null,it=new $(s[g]),st=new et(it.buffer),ot=e,lt=d,dt=-1,at=-1,ut=0;ut<_.height;ut++)for(var pt=0;pt<_.width;pt++){var vt=_.x+pt,ht=_.y+ut,yt=ht*e+vt,gt=st[yt];gt==0||h[g-1].dispose==0&&nt[yt]==gt&&(rt==null||rt[yt*4+3]!=0)||(vt<ot&&(ot=vt),vt>dt&&(dt=vt),ht<lt&&(lt=ht),ht>at&&(at=ht))}dt==-1&&(ot=lt=dt=at=0),j&&((ot&1)==1&&ot--,(lt&1)==1&&lt--),_={x:ot,y:lt,width:dt-ot+1,height:at-lt+1};var ft=h[g];ft.rect=_,ft.blend=1,ft.img=new Uint8Array(_.width*_.height*4),h[g-1].dispose==0?(UPNG._copyTile(tt,e,d,ft.img,_.width,_.height,-_.x,-_.y,0),UPNG.encode._prepareDiff(it,e,d,ft.img,_)):UPNG._copyTile(it,e,d,ft.img,_.width,_.height,-_.x,-_.y,0)};UPNG.encode._prepareDiff=function(s,e,d,h,g){UPNG._copyTile(s,e,d,h,g.width,g.height,-g.x,-g.y,2)};UPNG.encode._filterZero=function(s,e,d,h,g,_,j){var $=[],et=[0,1,2,3,4];_!=-1?et=[_]:(e*h>5e5||d==1)&&(et=[0]);var tt;j&&(tt={level:0});for(var nt=j&&UZIP!=null?UZIP:pako$1,rt=0;rt<et.length;rt++){for(var it=0;it<e;it++)UPNG.encode._filterLine(g,s,it,h,d,et[rt]);$.push(nt.deflate(g,tt))}for(var st,ot=1e9,rt=0;rt<$.length;rt++)$[rt].length<ot&&(st=rt,ot=$[rt].length);return $[st]};UPNG.encode._filterLine=function(s,e,d,h,g,_){var j=d*h,$=j+d,et=UPNG.decode._paeth;if(s[$]=_,$++,_==0)if(h<500)for(var tt=0;tt<h;tt++)s[$+tt]=e[j+tt];else s.set(new Uint8Array(e.buffer,j,h),$);else if(_==1){for(var tt=0;tt<g;tt++)s[$+tt]=e[j+tt];for(var tt=g;tt<h;tt++)s[$+tt]=e[j+tt]-e[j+tt-g]+256&255}else if(d==0){for(var tt=0;tt<g;tt++)s[$+tt]=e[j+tt];if(_==2)for(var tt=g;tt<h;tt++)s[$+tt]=e[j+tt];if(_==3)for(var tt=g;tt<h;tt++)s[$+tt]=e[j+tt]-(e[j+tt-g]>>1)+256&255;if(_==4)for(var tt=g;tt<h;tt++)s[$+tt]=e[j+tt]-et(e[j+tt-g],0,0)+256&255}else{if(_==2)for(var tt=0;tt<h;tt++)s[$+tt]=e[j+tt]+256-e[j+tt-h]&255;if(_==3){for(var tt=0;tt<g;tt++)s[$+tt]=e[j+tt]+256-(e[j+tt-h]>>1)&255;for(var tt=g;tt<h;tt++)s[$+tt]=e[j+tt]+256-(e[j+tt-h]+e[j+tt-g]>>1)&255}if(_==4){for(var tt=0;tt<g;tt++)s[$+tt]=e[j+tt]+256-et(0,e[j+tt-h],0)&255;for(var tt=g;tt<h;tt++)s[$+tt]=e[j+tt]+256-et(e[j+tt-g],e[j+tt-h],e[j+tt-g-h])&255}}};UPNG.crc={table:function(){for(var s=new Uint32Array(256),e=0;e<256;e++){for(var d=e,h=0;h<8;h++)d&1?d=3988292384^d>>>1:d=d>>>1;s[e]=d}return s}(),update:function(s,e,d,h){for(var g=0;g<h;g++)s=UPNG.crc.table[(s^e[d+g])&255]^s>>>8;return s},crc:function(s,e,d){return UPNG.crc.update(4294967295,s,e,d)^4294967295}};UPNG.quantize=function(s,e){var d=new Uint8Array(s),h=d.slice(0),g=new Uint32Array(h.buffer),_=UPNG.quantize.getKDtree(h,e),j=_[0],$=_[1];UPNG.quantize.planeDst;for(var et=d,tt=g,nt=et.length,rt=new Uint8Array(d.length>>2),it=0;it<nt;it+=4){var st=et[it]*.00392156862745098,ot=et[it+1]*(1/255),lt=et[it+2]*(1/255),dt=et[it+3]*(1/255),at=UPNG.quantize.getNearest(j,st,ot,lt,dt);rt[it>>2]=at.ind,tt[it>>2]=at.est.rgba}return{abuf:h.buffer,inds:rt,plte:$}};UPNG.quantize.getKDtree=function(s,e,d){d==null&&(d=1e-4);var h=new Uint32Array(s.buffer),g={i0:0,i1:s.length,bst:null,est:null,tdst:0,left:null,right:null};g.bst=UPNG.quantize.stats(s,g.i0,g.i1),g.est=UPNG.quantize.estats(g.bst);for(var _=[g];_.length<e;){for(var j=0,$=0,et=0;et<_.length;et++)_[et].est.L>j&&(j=_[et].est.L,$=et);if(j<d)break;var tt=_[$],nt=UPNG.quantize.splitPixels(s,h,tt.i0,tt.i1,tt.est.e,tt.est.eMq255),rt=tt.i0>=nt||tt.i1<=nt;if(rt){tt.est.L=0;continue}var it={i0:tt.i0,i1:nt,bst:null,est:null,tdst:0,left:null,right:null};it.bst=UPNG.quantize.stats(s,it.i0,it.i1),it.est=UPNG.quantize.estats(it.bst);var st={i0:nt,i1:tt.i1,bst:null,est:null,tdst:0,left:null,right:null};st.bst={R:[],m:[],N:tt.bst.N-it.bst.N};for(var et=0;et<16;et++)st.bst.R[et]=tt.bst.R[et]-it.bst.R[et];for(var et=0;et<4;et++)st.bst.m[et]=tt.bst.m[et]-it.bst.m[et];st.est=UPNG.quantize.estats(st.bst),tt.left=it,tt.right=st,_[$]=it,_.push(st)}_.sort(function(ot,lt){return lt.bst.N-ot.bst.N});for(var et=0;et<_.length;et++)_[et].ind=et;return[g,_]};UPNG.quantize.getNearest=function(s,e,d,h,g){if(s.left==null)return s.tdst=UPNG.quantize.dist(s.est.q,e,d,h,g),s;var _=UPNG.quantize.planeDst(s.est,e,d,h,g),j=s.left,$=s.right;_>0&&(j=s.right,$=s.left);var et=UPNG.quantize.getNearest(j,e,d,h,g);if(et.tdst<=_*_)return et;var tt=UPNG.quantize.getNearest($,e,d,h,g);return tt.tdst<et.tdst?tt:et};UPNG.quantize.planeDst=function(s,e,d,h,g){var _=s.e;return _[0]*e+_[1]*d+_[2]*h+_[3]*g-s.eMq};UPNG.quantize.dist=function(s,e,d,h,g){var _=e-s[0],j=d-s[1],$=h-s[2],et=g-s[3];return _*_+j*j+$*$+et*et};UPNG.quantize.splitPixels=function(s,e,d,h,g,_){var j=UPNG.quantize.vecDot;for(h-=4;d<h;){for(;j(s,d,g)<=_;)d+=4;for(;j(s,h,g)>_;)h-=4;if(d>=h)break;var $=e[d>>2];e[d>>2]=e[h>>2],e[h>>2]=$,d+=4,h-=4}for(;j(s,d,g)>_;)d-=4;return d+4};UPNG.quantize.vecDot=function(s,e,d){return s[e]*d[0]+s[e+1]*d[1]+s[e+2]*d[2]+s[e+3]*d[3]};UPNG.quantize.stats=function(s,e,d){for(var h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g=[0,0,0,0],_=d-e>>2,j=e;j<d;j+=4){var $=s[j]*.00392156862745098,et=s[j+1]*(1/255),tt=s[j+2]*(1/255),nt=s[j+3]*(1/255);g[0]+=$,g[1]+=et,g[2]+=tt,g[3]+=nt,h[0]+=$*$,h[1]+=$*et,h[2]+=$*tt,h[3]+=$*nt,h[5]+=et*et,h[6]+=et*tt,h[7]+=et*nt,h[10]+=tt*tt,h[11]+=tt*nt,h[15]+=nt*nt}return h[4]=h[1],h[8]=h[2],h[9]=h[6],h[12]=h[3],h[13]=h[7],h[14]=h[11],{R:h,m:g,N:_}};UPNG.quantize.estats=function(s){var e=s.R,d=s.m,h=s.N,g=d[0],_=d[1],j=d[2],$=d[3],et=h==0?0:1/h,tt=[e[0]-g*g*et,e[1]-g*_*et,e[2]-g*j*et,e[3]-g*$*et,e[4]-_*g*et,e[5]-_*_*et,e[6]-_*j*et,e[7]-_*$*et,e[8]-j*g*et,e[9]-j*_*et,e[10]-j*j*et,e[11]-j*$*et,e[12]-$*g*et,e[13]-$*_*et,e[14]-$*j*et,e[15]-$*$*et],nt=tt,rt=UPNG.M4,it=[.5,.5,.5,.5],st=0,ot=0;if(h!=0)for(var lt=0;lt<10&&(it=rt.multVec(nt,it),ot=Math.sqrt(rt.dot(it,it)),it=rt.sml(1/ot,it),!(Math.abs(ot-st)<1e-9));lt++)st=ot;var dt=[g*et,_*et,j*et,$*et],at=rt.dot(rt.sml(255,dt),it);return{Cov:tt,q:dt,e:it,L:st,eMq255:at,eMq:rt.dot(it,dt),rgba:(Math.round(255*dt[3])<<24|Math.round(255*dt[2])<<16|Math.round(255*dt[1])<<8|Math.round(255*dt[0])<<0)>>>0}};UPNG.M4={multVec:function(s,e){return[s[0]*e[0]+s[1]*e[1]+s[2]*e[2]+s[3]*e[3],s[4]*e[0]+s[5]*e[1]+s[6]*e[2]+s[7]*e[3],s[8]*e[0]+s[9]*e[1]+s[10]*e[2]+s[11]*e[3],s[12]*e[0]+s[13]*e[1]+s[14]*e[2]+s[15]*e[3]]},dot:function(s,e){return s[0]*e[0]+s[1]*e[1]+s[2]*e[2]+s[3]*e[3]},sml:function(s,e){return[s*e[0],s*e[1],s*e[2],s*e[3]]}};UPNG.encode.concatRGBA=function(s){for(var e=0,d=0;d<s.length;d++)e+=s[d].byteLength;for(var h=new Uint8Array(e),g=0,d=0;d<s.length;d++){for(var _=new Uint8Array(s[d]),j=_.length,$=0;$<j;$+=4){var et=_[$],tt=_[$+1],nt=_[$+2],rt=_[$+3];rt==0&&(et=tt=nt=0),h[g+$]=et,h[g+$+1]=tt,h[g+$+2]=nt,h[g+$+3]=rt}g+=j}return h.buffer};var getImageType=function(s){if(s===0)return PngType.Greyscale;if(s===2)return PngType.Truecolour;if(s===3)return PngType.IndexedColour;if(s===4)return PngType.GreyscaleWithAlpha;if(s===6)return PngType.TruecolourWithAlpha;throw new Error("Unknown color type: "+s)},splitAlphaChannel=function(s){for(var e=Math.floor(s.length/4),d=new Uint8Array(e*3),h=new Uint8Array(e*1),g=0,_=0,j=0;g<s.length;)d[_++]=s[g++],d[_++]=s[g++],d[_++]=s[g++],h[j++]=s[g++];return{rgbChannel:d,alphaChannel:h}},PngType;(function(s){s.Greyscale="Greyscale",s.Truecolour="Truecolour",s.IndexedColour="IndexedColour",s.GreyscaleWithAlpha="GreyscaleWithAlpha",s.TruecolourWithAlpha="TruecolourWithAlpha"})(PngType||(PngType={}));var PNG=function(){function s(e){var d=UPNG.decode(e),h=UPNG.toRGBA8(d);if(h.length>1)throw new Error("Animated PNGs are not supported");var g=new Uint8Array(h[0]),_=splitAlphaChannel(g),j=_.rgbChannel,$=_.alphaChannel;this.rgbChannel=j;var et=$.some(function(tt){return tt<255});et&&(this.alphaChannel=$),this.type=getImageType(d.ctype),this.width=d.width,this.height=d.height,this.bitsPerComponent=8}return s.load=function(e){return new s(e)},s}(),PngEmbedder=function(){function s(e){this.image=e,this.bitsPerComponent=e.bitsPerComponent,this.width=e.width,this.height=e.height,this.colorSpace="DeviceRGB"}return s.for=function(e){return __awaiter(this,void 0,void 0,function(){var d;return __generator(this,function(h){return d=PNG.load(e),[2,new s(d)]})})},s.prototype.embedIntoContext=function(e,d){return __awaiter(this,void 0,void 0,function(){var h,g;return __generator(this,function(_){return h=this.embedAlphaChannel(e),g=e.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:h}),d?(e.assign(d,g),[2,d]):[2,e.register(g)]})})},s.prototype.embedAlphaChannel=function(e){if(this.image.alphaChannel){var d=e.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return e.register(d)}},s}(),Stream=function(){function s(e,d,h){this.bytes=e,this.start=d||0,this.pos=this.start,this.end=d&&h?d+h:this.bytes.length}return Object.defineProperty(s.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),s.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},s.prototype.getUint16=function(){var e=this.getByte(),d=this.getByte();return e===-1||d===-1?-1:(e<<8)+d},s.prototype.getInt32=function(){var e=this.getByte(),d=this.getByte(),h=this.getByte(),g=this.getByte();return(e<<24)+(d<<16)+(h<<8)+g},s.prototype.getBytes=function(e,d){d===void 0&&(d=!1);var h=this.bytes,g=this.pos,_=this.end;if(e){var $=g+e;$>_&&($=_),this.pos=$;var j=h.subarray(g,$);return d?new Uint8ClampedArray(j):j}else{var j=h.subarray(g,_);return d?new Uint8ClampedArray(j):j}},s.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},s.prototype.peekBytes=function(e,d){d===void 0&&(d=!1);var h=this.getBytes(e,d);return this.pos-=h.length,h},s.prototype.skip=function(e){e||(e=1),this.pos+=e},s.prototype.reset=function(){this.pos=this.start},s.prototype.moveStart=function(){this.start=this.pos},s.prototype.makeSubStream=function(e,d){return new s(this.bytes,e,d)},s.prototype.decode=function(){return this.bytes},s}(),emptyBuffer=new Uint8Array(0),DecodeStream=function(){function s(e){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=emptyBuffer,this.minBufferLength=512,e)for(;this.minBufferLength<e;)this.minBufferLength*=2}return Object.defineProperty(s.prototype,"isEmpty",{get:function(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0},enumerable:!1,configurable:!0}),s.prototype.getByte=function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},s.prototype.getUint16=function(){var e=this.getByte(),d=this.getByte();return e===-1||d===-1?-1:(e<<8)+d},s.prototype.getInt32=function(){var e=this.getByte(),d=this.getByte(),h=this.getByte(),g=this.getByte();return(e<<24)+(d<<16)+(h<<8)+g},s.prototype.getBytes=function(e,d){d===void 0&&(d=!1);var h,g=this.pos;if(e){for(this.ensureBuffer(g+e),h=g+e;!this.eof&&this.bufferLength<h;)this.readBlock();var _=this.bufferLength;h>_&&(h=_)}else{for(;!this.eof;)this.readBlock();h=this.bufferLength}this.pos=h;var j=this.buffer.subarray(g,h);return d&&!(j instanceof Uint8ClampedArray)?new Uint8ClampedArray(j):j},s.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},s.prototype.peekBytes=function(e,d){d===void 0&&(d=!1);var h=this.getBytes(e,d);return this.pos-=h.length,h},s.prototype.skip=function(e){e||(e=1),this.pos+=e},s.prototype.reset=function(){this.pos=0},s.prototype.makeSubStream=function(e,d){for(var h=e+d;this.bufferLength<=h&&!this.eof;)this.readBlock();return new Stream(this.buffer,e,d)},s.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},s.prototype.readBlock=function(){throw new MethodNotImplementedError(this.constructor.name,"readBlock")},s.prototype.ensureBuffer=function(e){var d=this.buffer;if(e<=d.byteLength)return d;for(var h=this.minBufferLength;h<e;)h*=2;var g=new Uint8Array(h);return g.set(d),this.buffer=g},s}(),isSpace=function(s){return s===32||s===9||s===13||s===10},Ascii85Stream=function(s){__extends(e,s);function e(d,h){var g=s.call(this,h)||this;return g.stream=d,g.input=new Uint8Array(5),h&&(h=.8*h),g}return e.prototype.readBlock=function(){for(var d=126,h=122,g=-1,_=this.stream,j=_.getByte();isSpace(j);)j=_.getByte();if(j===g||j===d){this.eof=!0;return}var $=this.bufferLength,et,tt;if(j===h){for(et=this.ensureBuffer($+4),tt=0;tt<4;++tt)et[$+tt]=0;this.bufferLength+=4}else{var nt=this.input;for(nt[0]=j,tt=1;tt<5;++tt){for(j=_.getByte();isSpace(j);)j=_.getByte();if(nt[tt]=j,j===g||j===d)break}if(et=this.ensureBuffer($+tt-1),this.bufferLength+=tt-1,tt<5){for(;tt<5;++tt)nt[tt]=117;this.eof=!0}var rt=0;for(tt=0;tt<5;++tt)rt=rt*85+(nt[tt]-33);for(tt=3;tt>=0;--tt)et[$+tt]=rt&255,rt>>=8}},e}(DecodeStream),AsciiHexStream=function(s){__extends(e,s);function e(d,h){var g=s.call(this,h)||this;return g.stream=d,g.firstDigit=-1,h&&(h=.5*h),g}return e.prototype.readBlock=function(){var d=8e3,h=this.stream.getBytes(d);if(!h.length){this.eof=!0;return}for(var g=h.length+1>>1,_=this.ensureBuffer(this.bufferLength+g),j=this.bufferLength,$=this.firstDigit,et=0,tt=h.length;et<tt;et++){var nt=h[et],rt=void 0;if(nt>=48&&nt<=57)rt=nt&15;else if(nt>=65&&nt<=70||nt>=97&&nt<=102)rt=(nt&15)+9;else if(nt===62){this.eof=!0;break}else continue;$<0?$=rt:(_[j++]=$<<4|rt,$=-1)}$>=0&&this.eof&&(_[j++]=$<<4,$=-1),this.firstDigit=$,this.bufferLength=j},e}(DecodeStream),codeLenCodeMap=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lengthDecode=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),distDecode=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),fixedLitCodeTab=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],fixedDistCodeTab=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],FlateStream=function(s){__extends(e,s);function e(d,h){var g=s.call(this,h)||this;g.stream=d;var _=d.getByte(),j=d.getByte();if(_===-1||j===-1)throw new Error("Invalid header in flate stream: "+_+", "+j);if((_&15)!==8)throw new Error("Unknown compression method in flate stream: "+_+", "+j);if(((_<<8)+j)%31!==0)throw new Error("Bad FCHECK in flate stream: "+_+", "+j);if(j&32)throw new Error("FDICT bit set in flate stream: "+_+", "+j);return g.codeSize=0,g.codeBuf=0,g}return e.prototype.readBlock=function(){var d,h,g=this.stream,_=this.getBits(3);if(_&1&&(this.eof=!0),_>>=1,_===0){var j=void 0;if((j=g.getByte())===-1)throw new Error("Bad block header in flate stream");var $=j;if((j=g.getByte())===-1)throw new Error("Bad block header in flate stream");if($|=j<<8,(j=g.getByte())===-1)throw new Error("Bad block header in flate stream");var et=j;if((j=g.getByte())===-1)throw new Error("Bad block header in flate stream");if(et|=j<<8,et!==(~$&65535)&&($!==0||et!==0))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var tt=this.bufferLength;d=this.ensureBuffer(tt+$);var nt=tt+$;if(this.bufferLength=nt,$===0)g.peekByte()===-1&&(this.eof=!0);else for(var rt=tt;rt<nt;++rt){if((j=g.getByte())===-1){this.eof=!0;break}d[rt]=j}return}var it,st;if(_===1)it=fixedLitCodeTab,st=fixedDistCodeTab;else if(_===2){var ot=this.getBits(5)+257,lt=this.getBits(5)+1,dt=this.getBits(4)+4,at=new Uint8Array(codeLenCodeMap.length),ut=void 0;for(ut=0;ut<dt;++ut)at[codeLenCodeMap[ut]]=this.getBits(3);var pt=this.generateHuffmanTable(at);h=0,ut=0;for(var vt=ot+lt,ht=new Uint8Array(vt),yt=void 0,gt=void 0,ft=void 0;ut<vt;){var _t=this.getCode(pt);if(_t===16)yt=2,gt=3,ft=h;else if(_t===17)yt=3,gt=3,ft=h=0;else if(_t===18)yt=7,gt=11,ft=h=0;else{ht[ut++]=h=_t;continue}for(var Et=this.getBits(yt)+gt;Et-- >0;)ht[ut++]=ft}it=this.generateHuffmanTable(ht.subarray(0,ot)),st=this.generateHuffmanTable(ht.subarray(ot,vt))}else throw new Error("Unknown block type in flate stream");d=this.buffer;for(var mt=d?d.length:0,xt=this.bufferLength;;){var St=this.getCode(it);if(St<256){xt+1>=mt&&(d=this.ensureBuffer(xt+1),mt=d.length),d[xt++]=St;continue}if(St===256){this.bufferLength=xt;return}St-=257,St=lengthDecode[St];var Ut=St>>16;Ut>0&&(Ut=this.getBits(Ut)),h=(St&65535)+Ut,St=this.getCode(st),St=distDecode[St],Ut=St>>16,Ut>0&&(Ut=this.getBits(Ut));var kt=(St&65535)+Ut;xt+h>=mt&&(d=this.ensureBuffer(xt+h),mt=d.length);for(var Bt=0;Bt<h;++Bt,++xt)d[xt]=d[xt-kt]}},e.prototype.getBits=function(d){for(var h=this.stream,g=this.codeSize,_=this.codeBuf,j;g<d;){if((j=h.getByte())===-1)throw new Error("Bad encoding in flate stream");_|=j<<g,g+=8}return j=_&(1<<d)-1,this.codeBuf=_>>d,this.codeSize=g-=d,j},e.prototype.getCode=function(d){for(var h=this.stream,g=d[0],_=d[1],j=this.codeSize,$=this.codeBuf,et;j<_&&(et=h.getByte())!==-1;)$|=et<<j,j+=8;var tt=g[$&(1<<_)-1];typeof g=="number"&&console.log("FLATE:",tt);var nt=tt>>16,rt=tt&65535;if(nt<1||j<nt)throw new Error("Bad encoding in flate stream");return this.codeBuf=$>>nt,this.codeSize=j-nt,rt},e.prototype.generateHuffmanTable=function(d){var h=d.length,g=0,_;for(_=0;_<h;++_)d[_]>g&&(g=d[_]);for(var j=1<<g,$=new Int32Array(j),et=1,tt=0,nt=2;et<=g;++et,tt<<=1,nt<<=1)for(var rt=0;rt<h;++rt)if(d[rt]===et){var it=0,st=tt;for(_=0;_<et;++_)it=it<<1|st&1,st>>=1;for(_=it;_<j;_+=nt)$[_]=et<<16|rt;++tt}return[$,g]},e}(DecodeStream),LZWStream=function(s){__extends(e,s);function e(d,h,g){var _=s.call(this,h)||this;_.stream=d,_.cachedData=0,_.bitsCached=0;for(var j=4096,$={earlyChange:g,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(j),dictionaryLengths:new Uint16Array(j),dictionaryPrevCodes:new Uint16Array(j),currentSequence:new Uint8Array(j),currentSequenceLength:0},et=0;et<256;++et)$.dictionaryValues[et]=et,$.dictionaryLengths[et]=1;return _.lzwState=$,_}return e.prototype.readBlock=function(){var d=512,h=d*2,g=d,_,j,$,et=this.lzwState;if(et){var tt=et.earlyChange,nt=et.nextCode,rt=et.dictionaryValues,it=et.dictionaryLengths,st=et.dictionaryPrevCodes,ot=et.codeLength,lt=et.prevCode,dt=et.currentSequence,at=et.currentSequenceLength,ut=0,pt=this.bufferLength,vt=this.ensureBuffer(this.bufferLength+h);for(_=0;_<d;_++){var ht=this.readBits(ot),yt=at>0;if(!ht||ht<256)dt[0]=ht,at=1;else if(ht>=258)if(ht<nt)for(at=it[ht],j=at-1,$=ht;j>=0;j--)dt[j]=rt[$],$=st[$];else dt[at++]=dt[0];else if(ht===256){ot=9,nt=258,at=0;continue}else{this.eof=!0,delete this.lzwState;break}if(yt&&(st[nt]=lt,it[nt]=it[lt]+1,rt[nt]=dt[0],nt++,ot=nt+tt&nt+tt-1?ot:Math.min(Math.log(nt+tt)/.6931471805599453+1,12)|0),lt=ht,ut+=at,h<ut){do h+=g;while(h<ut);vt=this.ensureBuffer(this.bufferLength+h)}for(j=0;j<at;j++)vt[pt++]=dt[j]}et.nextCode=nt,et.codeLength=ot,et.prevCode=lt,et.currentSequenceLength=at,this.bufferLength=pt}},e.prototype.readBits=function(d){for(var h=this.bitsCached,g=this.cachedData;h<d;){var _=this.stream.getByte();if(_===-1)return this.eof=!0,null;g=g<<8|_,h+=8}return this.bitsCached=h-=d,this.cachedData=g,g>>>h&(1<<d)-1},e}(DecodeStream),RunLengthStream=function(s){__extends(e,s);function e(d,h){var g=s.call(this,h)||this;return g.stream=d,g}return e.prototype.readBlock=function(){var d=this.stream.getBytes(2);if(!d||d.length<2||d[0]===128){this.eof=!0;return}var h,g=this.bufferLength,_=d[0];if(_<128){if(h=this.ensureBuffer(g+_+1),h[g++]=d[1],_>0){var j=this.stream.getBytes(_);h.set(j,g),g+=_}}else{_=257-_;var $=d[1];h=this.ensureBuffer(g+_+1);for(var et=0;et<_;et++)h[g++]=$}this.bufferLength=g},e}(DecodeStream),decodeStream=function(s,e,d){if(e===PDFName.of("FlateDecode"))return new FlateStream(s);if(e===PDFName.of("LZWDecode")){var h=1;if(d instanceof PDFDict){var g=d.lookup(PDFName.of("EarlyChange"));g instanceof PDFNumber&&(h=g.asNumber())}return new LZWStream(s,void 0,h)}if(e===PDFName.of("ASCII85Decode"))return new Ascii85Stream(s);if(e===PDFName.of("ASCIIHexDecode"))return new AsciiHexStream(s);if(e===PDFName.of("RunLengthDecode"))return new RunLengthStream(s);throw new UnsupportedEncodingError(e.asString())},decodePDFRawStream=function(s){var e=s.dict,d=s.contents,h=new Stream(d),g=e.lookup(PDFName.of("Filter")),_=e.lookup(PDFName.of("DecodeParms"));if(g instanceof PDFName)h=decodeStream(h,g,_);else if(g instanceof PDFArray)for(var j=0,$=g.size();j<$;j++)h=decodeStream(h,g.lookup(j,PDFName),_&&_.lookupMaybe(j,PDFDict));else if(g)throw new UnexpectedObjectTypeError([PDFName,PDFArray],g);return h},fullPageBoundingBox=function(s){var e=s.MediaBox(),d=e.lookup(2,PDFNumber).asNumber()-e.lookup(0,PDFNumber).asNumber(),h=e.lookup(3,PDFNumber).asNumber()-e.lookup(1,PDFNumber).asNumber();return{left:0,bottom:0,right:d,top:h}},boundingBoxAdjustedMatrix=function(s){return[1,0,0,1,-s.left,-s.bottom]},PDFPageEmbedder=function(){function s(e,d,h){this.page=e;var g=d??fullPageBoundingBox(e);this.width=g.right-g.left,this.height=g.top-g.bottom,this.boundingBox=g,this.transformationMatrix=h??boundingBoxAdjustedMatrix(g)}return s.for=function(e,d,h){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(g){return[2,new s(e,d,h)]})})},s.prototype.embedIntoContext=function(e,d){return __awaiter(this,void 0,void 0,function(){var h,g,_,j,$,et,tt,nt,rt,it;return __generator(this,function(st){if(h=this.page.normalizedEntries(),g=h.Contents,_=h.Resources,!g)throw new MissingPageContentsEmbeddingError;return j=this.decodeContents(g),$=this.boundingBox,et=$.left,tt=$.bottom,nt=$.right,rt=$.top,it=e.flateStream(j,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[et,tt,nt,rt],Matrix:this.transformationMatrix,Resources:_}),d?(e.assign(d,it),[2,d]):[2,e.register(it)]})})},s.prototype.decodeContents=function(e){for(var d=Uint8Array.of(CharCodes$1.Newline),h=[],g=0,_=e.size();g<_;g++){var j=e.lookup(g,PDFStream),$=void 0;if(j instanceof PDFRawStream)$=decodePDFRawStream(j).decode();else if(j instanceof PDFContentStream)$=j.getUnencodedContents();else throw new UnrecognizedStreamTypeError(j);h.push($,d)}return mergeIntoTypedArray.apply(void 0,h)},s}(),asEnum=function(s,e){if(s!==void 0)return e[s]},NonFullScreenPageMode;(function(s){s.UseNone="UseNone",s.UseOutlines="UseOutlines",s.UseThumbs="UseThumbs",s.UseOC="UseOC"})(NonFullScreenPageMode||(NonFullScreenPageMode={}));var ReadingDirection;(function(s){s.L2R="L2R",s.R2L="R2L"})(ReadingDirection||(ReadingDirection={}));var PrintScaling;(function(s){s.None="None",s.AppDefault="AppDefault"})(PrintScaling||(PrintScaling={}));var Duplex;(function(s){s.Simplex="Simplex",s.DuplexFlipShortEdge="DuplexFlipShortEdge",s.DuplexFlipLongEdge="DuplexFlipLongEdge"})(Duplex||(Duplex={}));var ViewerPreferences=function(){function s(e){this.dict=e}return s.prototype.lookupBool=function(e){var d=this.dict.lookup(PDFName.of(e));if(d instanceof PDFBool)return d},s.prototype.lookupName=function(e){var d=this.dict.lookup(PDFName.of(e));if(d instanceof PDFName)return d},s.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},s.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},s.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},s.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},s.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},s.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},s.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},s.prototype.Direction=function(){return this.lookupName("Direction")},s.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},s.prototype.Duplex=function(){return this.lookupName("Duplex")},s.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},s.prototype.PrintPageRange=function(){var e=this.dict.lookup(PDFName.of("PrintPageRange"));if(e instanceof PDFArray)return e},s.prototype.NumCopies=function(){var e=this.dict.lookup(PDFName.of("NumCopies"));if(e instanceof PDFNumber)return e},s.prototype.getHideToolbar=function(){var e,d;return(d=(e=this.HideToolbar())===null||e===void 0?void 0:e.asBoolean())!==null&&d!==void 0?d:!1},s.prototype.getHideMenubar=function(){var e,d;return(d=(e=this.HideMenubar())===null||e===void 0?void 0:e.asBoolean())!==null&&d!==void 0?d:!1},s.prototype.getHideWindowUI=function(){var e,d;return(d=(e=this.HideWindowUI())===null||e===void 0?void 0:e.asBoolean())!==null&&d!==void 0?d:!1},s.prototype.getFitWindow=function(){var e,d;return(d=(e=this.FitWindow())===null||e===void 0?void 0:e.asBoolean())!==null&&d!==void 0?d:!1},s.prototype.getCenterWindow=function(){var e,d;return(d=(e=this.CenterWindow())===null||e===void 0?void 0:e.asBoolean())!==null&&d!==void 0?d:!1},s.prototype.getDisplayDocTitle=function(){var e,d;return(d=(e=this.DisplayDocTitle())===null||e===void 0?void 0:e.asBoolean())!==null&&d!==void 0?d:!1},s.prototype.getNonFullScreenPageMode=function(){var e,d,h=(e=this.NonFullScreenPageMode())===null||e===void 0?void 0:e.decodeText();return(d=asEnum(h,NonFullScreenPageMode))!==null&&d!==void 0?d:NonFullScreenPageMode.UseNone},s.prototype.getReadingDirection=function(){var e,d,h=(e=this.Direction())===null||e===void 0?void 0:e.decodeText();return(d=asEnum(h,ReadingDirection))!==null&&d!==void 0?d:ReadingDirection.L2R},s.prototype.getPrintScaling=function(){var e,d,h=(e=this.PrintScaling())===null||e===void 0?void 0:e.decodeText();return(d=asEnum(h,PrintScaling))!==null&&d!==void 0?d:PrintScaling.AppDefault},s.prototype.getDuplex=function(){var e,d=(e=this.Duplex())===null||e===void 0?void 0:e.decodeText();return asEnum(d,Duplex)},s.prototype.getPickTrayByPDFSize=function(){var e;return(e=this.PickTrayByPDFSize())===null||e===void 0?void 0:e.asBoolean()},s.prototype.getPrintPageRange=function(){var e=this.PrintPageRange();if(!e)return[];for(var d=[],h=0;h<e.size();h+=2){var g=e.lookup(h,PDFNumber).asNumber(),_=e.lookup(h+1,PDFNumber).asNumber();d.push({start:g,end:_})}return d},s.prototype.getNumCopies=function(){var e,d;return(d=(e=this.NumCopies())===null||e===void 0?void 0:e.asNumber())!==null&&d!==void 0?d:1},s.prototype.setHideToolbar=function(e){var d=this.dict.context.obj(e);this.dict.set(PDFName.of("HideToolbar"),d)},s.prototype.setHideMenubar=function(e){var d=this.dict.context.obj(e);this.dict.set(PDFName.of("HideMenubar"),d)},s.prototype.setHideWindowUI=function(e){var d=this.dict.context.obj(e);this.dict.set(PDFName.of("HideWindowUI"),d)},s.prototype.setFitWindow=function(e){var d=this.dict.context.obj(e);this.dict.set(PDFName.of("FitWindow"),d)},s.prototype.setCenterWindow=function(e){var d=this.dict.context.obj(e);this.dict.set(PDFName.of("CenterWindow"),d)},s.prototype.setDisplayDocTitle=function(e){var d=this.dict.context.obj(e);this.dict.set(PDFName.of("DisplayDocTitle"),d)},s.prototype.setNonFullScreenPageMode=function(e){assertIsOneOf(e,"nonFullScreenPageMode",NonFullScreenPageMode);var d=PDFName.of(e);this.dict.set(PDFName.of("NonFullScreenPageMode"),d)},s.prototype.setReadingDirection=function(e){assertIsOneOf(e,"readingDirection",ReadingDirection);var d=PDFName.of(e);this.dict.set(PDFName.of("Direction"),d)},s.prototype.setPrintScaling=function(e){assertIsOneOf(e,"printScaling",PrintScaling);var d=PDFName.of(e);this.dict.set(PDFName.of("PrintScaling"),d)},s.prototype.setDuplex=function(e){assertIsOneOf(e,"duplex",Duplex);var d=PDFName.of(e);this.dict.set(PDFName.of("Duplex"),d)},s.prototype.setPickTrayByPDFSize=function(e){var d=this.dict.context.obj(e);this.dict.set(PDFName.of("PickTrayByPDFSize"),d)},s.prototype.setPrintPageRange=function(e){Array.isArray(e)||(e=[e]);for(var d=[],h=0,g=e.length;h<g;h++)d.push(e[h].start),d.push(e[h].end);assertEachIs(d,"printPageRange",["number"]);var _=this.dict.context.obj(d);this.dict.set(PDFName.of("PrintPageRange"),_)},s.prototype.setNumCopies=function(e){assertRange(e,"numCopies",1,Number.MAX_VALUE),assertInteger(e,"numCopies");var d=this.dict.context.obj(e);this.dict.set(PDFName.of("NumCopies"),d)},s.fromDict=function(e){return new s(e)},s.create=function(e){var d=e.obj({});return new s(d)},s}(),tfRegex$1=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,PDFAcroField=function(){function s(e,d){this.dict=e,this.ref=d}return s.prototype.T=function(){return this.dict.lookupMaybe(PDFName.of("T"),PDFString,PDFHexString)},s.prototype.Ff=function(){var e=this.getInheritableAttribute(PDFName.of("Ff"));return this.dict.context.lookupMaybe(e,PDFNumber)},s.prototype.V=function(){var e=this.getInheritableAttribute(PDFName.of("V"));return this.dict.context.lookup(e)},s.prototype.Kids=function(){return this.dict.lookupMaybe(PDFName.of("Kids"),PDFArray)},s.prototype.DA=function(){var e=this.dict.lookup(PDFName.of("DA"));if(e instanceof PDFString||e instanceof PDFHexString)return e},s.prototype.setKids=function(e){this.dict.set(PDFName.of("Kids"),this.dict.context.obj(e))},s.prototype.getParent=function(){var e=this.dict.get(PDFName.of("Parent"));if(e instanceof PDFRef){var d=this.dict.lookup(PDFName.of("Parent"),PDFDict);return new s(d,e)}},s.prototype.setParent=function(e){e?this.dict.set(PDFName.of("Parent"),e):this.dict.delete(PDFName.of("Parent"))},s.prototype.getFullyQualifiedName=function(){var e=this.getParent();return e?e.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},s.prototype.getPartialName=function(){var e;return(e=this.T())===null||e===void 0?void 0:e.decodeText()},s.prototype.setPartialName=function(e){e?this.dict.set(PDFName.of("T"),PDFHexString.fromText(e)):this.dict.delete(PDFName.of("T"))},s.prototype.setDefaultAppearance=function(e){this.dict.set(PDFName.of("DA"),PDFString.of(e))},s.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof PDFHexString?e.decodeText():e==null?void 0:e.asString()},s.prototype.setFontSize=function(e){var d,h=(d=this.getFullyQualifiedName())!==null&&d!==void 0?d:"",g=this.getDefaultAppearance();if(!g)throw new MissingDAEntryError(h);var _=findLastMatch(g,tfRegex$1);if(!_.match)throw new MissingTfOperatorError(h);var j=g.slice(0,_.pos-_.match[0].length),$=_.pos<=g.length?g.slice(_.pos):"",et=_.match[1],tt=j+" /"+et+" "+e+" Tf "+$;this.setDefaultAppearance(tt)},s.prototype.getFlags=function(){var e,d;return(d=(e=this.Ff())===null||e===void 0?void 0:e.asNumber())!==null&&d!==void 0?d:0},s.prototype.setFlags=function(e){this.dict.set(PDFName.of("Ff"),PDFNumber.of(e))},s.prototype.hasFlag=function(e){var d=this.getFlags();return(d&e)!==0},s.prototype.setFlag=function(e){var d=this.getFlags();this.setFlags(d|e)},s.prototype.clearFlag=function(e){var d=this.getFlags();this.setFlags(d&~e)},s.prototype.setFlagTo=function(e,d){d?this.setFlag(e):this.clearFlag(e)},s.prototype.getInheritableAttribute=function(e){var d;return this.ascend(function(h){d||(d=h.dict.get(e))}),d},s.prototype.ascend=function(e){e(this);var d=this.getParent();d&&d.ascend(e)},s}(),BorderStyle=function(){function s(e){this.dict=e}return s.prototype.W=function(){var e=this.dict.lookup(PDFName.of("W"));if(e instanceof PDFNumber)return e},s.prototype.getWidth=function(){var e,d;return(d=(e=this.W())===null||e===void 0?void 0:e.asNumber())!==null&&d!==void 0?d:1},s.prototype.setWidth=function(e){var d=this.dict.context.obj(e);this.dict.set(PDFName.of("W"),d)},s.fromDict=function(e){return new s(e)},s}(),PDFAnnotation=function(){function s(e){this.dict=e}return s.prototype.Rect=function(){return this.dict.lookup(PDFName.of("Rect"),PDFArray)},s.prototype.AP=function(){return this.dict.lookupMaybe(PDFName.of("AP"),PDFDict)},s.prototype.F=function(){var e=this.dict.lookup(PDFName.of("F"));return this.dict.context.lookupMaybe(e,PDFNumber)},s.prototype.getRectangle=function(){var e,d=this.Rect();return(e=d==null?void 0:d.asRectangle())!==null&&e!==void 0?e:{x:0,y:0,width:0,height:0}},s.prototype.setRectangle=function(e){var d=e.x,h=e.y,g=e.width,_=e.height,j=this.dict.context.obj([d,h,d+g,h+_]);this.dict.set(PDFName.of("Rect"),j)},s.prototype.getAppearanceState=function(){var e=this.dict.lookup(PDFName.of("AS"));if(e instanceof PDFName)return e},s.prototype.setAppearanceState=function(e){this.dict.set(PDFName.of("AS"),e)},s.prototype.setAppearances=function(e){this.dict.set(PDFName.of("AP"),e)},s.prototype.ensureAP=function(){var e=this.AP();return e||(e=this.dict.context.obj({}),this.dict.set(PDFName.of("AP"),e)),e},s.prototype.getNormalAppearance=function(){var e=this.ensureAP(),d=e.get(PDFName.of("N"));if(d instanceof PDFRef||d instanceof PDFDict)return d;throw new Error("Unexpected N type: "+(d==null?void 0:d.constructor.name))},s.prototype.setNormalAppearance=function(e){var d=this.ensureAP();d.set(PDFName.of("N"),e)},s.prototype.setRolloverAppearance=function(e){var d=this.ensureAP();d.set(PDFName.of("R"),e)},s.prototype.setDownAppearance=function(e){var d=this.ensureAP();d.set(PDFName.of("D"),e)},s.prototype.removeRolloverAppearance=function(){var e=this.AP();e==null||e.delete(PDFName.of("R"))},s.prototype.removeDownAppearance=function(){var e=this.AP();e==null||e.delete(PDFName.of("D"))},s.prototype.getAppearances=function(){var e=this.AP();if(e){var d=e.lookup(PDFName.of("N"),PDFDict,PDFStream),h=e.lookupMaybe(PDFName.of("R"),PDFDict,PDFStream),g=e.lookupMaybe(PDFName.of("D"),PDFDict,PDFStream);return{normal:d,rollover:h,down:g}}},s.prototype.getFlags=function(){var e,d;return(d=(e=this.F())===null||e===void 0?void 0:e.asNumber())!==null&&d!==void 0?d:0},s.prototype.setFlags=function(e){this.dict.set(PDFName.of("F"),PDFNumber.of(e))},s.prototype.hasFlag=function(e){var d=this.getFlags();return(d&e)!==0},s.prototype.setFlag=function(e){var d=this.getFlags();this.setFlags(d|e)},s.prototype.clearFlag=function(e){var d=this.getFlags();this.setFlags(d&~e)},s.prototype.setFlagTo=function(e,d){d?this.setFlag(e):this.clearFlag(e)},s.fromDict=function(e){return new s(e)},s}(),AppearanceCharacteristics=function(){function s(e){this.dict=e}return s.prototype.R=function(){var e=this.dict.lookup(PDFName.of("R"));if(e instanceof PDFNumber)return e},s.prototype.BC=function(){var e=this.dict.lookup(PDFName.of("BC"));if(e instanceof PDFArray)return e},s.prototype.BG=function(){var e=this.dict.lookup(PDFName.of("BG"));if(e instanceof PDFArray)return e},s.prototype.CA=function(){var e=this.dict.lookup(PDFName.of("CA"));if(e instanceof PDFHexString||e instanceof PDFString)return e},s.prototype.RC=function(){var e=this.dict.lookup(PDFName.of("RC"));if(e instanceof PDFHexString||e instanceof PDFString)return e},s.prototype.AC=function(){var e=this.dict.lookup(PDFName.of("AC"));if(e instanceof PDFHexString||e instanceof PDFString)return e},s.prototype.getRotation=function(){var e;return(e=this.R())===null||e===void 0?void 0:e.asNumber()},s.prototype.getBorderColor=function(){var e=this.BC();if(e){for(var d=[],h=0,g=e==null?void 0:e.size();h<g;h++){var _=e.get(h);_ instanceof PDFNumber&&d.push(_.asNumber())}return d}},s.prototype.getBackgroundColor=function(){var e=this.BG();if(e){for(var d=[],h=0,g=e==null?void 0:e.size();h<g;h++){var _=e.get(h);_ instanceof PDFNumber&&d.push(_.asNumber())}return d}},s.prototype.getCaptions=function(){var e=this.CA(),d=this.RC(),h=this.AC();return{normal:e==null?void 0:e.decodeText(),rollover:d==null?void 0:d.decodeText(),down:h==null?void 0:h.decodeText()}},s.prototype.setRotation=function(e){var d=this.dict.context.obj(e);this.dict.set(PDFName.of("R"),d)},s.prototype.setBorderColor=function(e){var d=this.dict.context.obj(e);this.dict.set(PDFName.of("BC"),d)},s.prototype.setBackgroundColor=function(e){var d=this.dict.context.obj(e);this.dict.set(PDFName.of("BG"),d)},s.prototype.setCaptions=function(e){var d=PDFHexString.fromText(e.normal);if(this.dict.set(PDFName.of("CA"),d),e.rollover){var h=PDFHexString.fromText(e.rollover);this.dict.set(PDFName.of("RC"),h)}else this.dict.delete(PDFName.of("RC"));if(e.down){var g=PDFHexString.fromText(e.down);this.dict.set(PDFName.of("AC"),g)}else this.dict.delete(PDFName.of("AC"))},s.fromDict=function(e){return new s(e)},s}(),PDFWidgetAnnotation=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.MK=function(){var d=this.dict.lookup(PDFName.of("MK"));if(d instanceof PDFDict)return d},e.prototype.BS=function(){var d=this.dict.lookup(PDFName.of("BS"));if(d instanceof PDFDict)return d},e.prototype.DA=function(){var d=this.dict.lookup(PDFName.of("DA"));if(d instanceof PDFString||d instanceof PDFHexString)return d},e.prototype.P=function(){var d=this.dict.get(PDFName.of("P"));if(d instanceof PDFRef)return d},e.prototype.setP=function(d){this.dict.set(PDFName.of("P"),d)},e.prototype.setDefaultAppearance=function(d){this.dict.set(PDFName.of("DA"),PDFString.of(d))},e.prototype.getDefaultAppearance=function(){var d=this.DA();return d instanceof PDFHexString?d.decodeText():d==null?void 0:d.asString()},e.prototype.getAppearanceCharacteristics=function(){var d=this.MK();if(d)return AppearanceCharacteristics.fromDict(d)},e.prototype.getOrCreateAppearanceCharacteristics=function(){var d=this.MK();if(d)return AppearanceCharacteristics.fromDict(d);var h=AppearanceCharacteristics.fromDict(this.dict.context.obj({}));return this.dict.set(PDFName.of("MK"),h.dict),h},e.prototype.getBorderStyle=function(){var d=this.BS();if(d)return BorderStyle.fromDict(d)},e.prototype.getOrCreateBorderStyle=function(){var d=this.BS();if(d)return BorderStyle.fromDict(d);var h=BorderStyle.fromDict(this.dict.context.obj({}));return this.dict.set(PDFName.of("BS"),h.dict),h},e.prototype.getOnValue=function(){var d,h=(d=this.getAppearances())===null||d===void 0?void 0:d.normal;if(h instanceof PDFDict)for(var g=h.keys(),_=0,j=g.length;_<j;_++){var $=g[_];if($!==PDFName.of("Off"))return $}},e.fromDict=function(d){return new e(d)},e.create=function(d,h){var g=d.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:h});return new e(g)},e}(PDFAnnotation),PDFAcroTerminal=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.FT=function(){var d=this.getInheritableAttribute(PDFName.of("FT"));return this.dict.context.lookup(d,PDFName)},e.prototype.getWidgets=function(){var d=this.Kids();if(!d)return[PDFWidgetAnnotation.fromDict(this.dict)];for(var h=new Array(d.size()),g=0,_=d.size();g<_;g++){var j=d.lookup(g,PDFDict);h[g]=PDFWidgetAnnotation.fromDict(j)}return h},e.prototype.addWidget=function(d){var h=this.normalizedEntries().Kids;h.push(d)},e.prototype.removeWidget=function(d){var h=this.Kids();if(h){if(d<0||d>h.size())throw new IndexOutOfBoundsError(d,0,h.size());h.remove(d)}else{if(d!==0)throw new IndexOutOfBoundsError(d,0,0);this.setKids([])}},e.prototype.normalizedEntries=function(){var d=this.Kids();return d||(d=this.dict.context.obj([this.ref]),this.dict.set(PDFName.of("Kids"),d)),{Kids:d}},e.fromDict=function(d,h){return new e(d,h)},e}(PDFAcroField),PDFAcroButton=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.Opt=function(){return this.dict.lookupMaybe(PDFName.of("Opt"),PDFString,PDFHexString,PDFArray)},e.prototype.setOpt=function(d){this.dict.set(PDFName.of("Opt"),this.dict.context.obj(d))},e.prototype.getExportValues=function(){var d=this.Opt();if(d){if(d instanceof PDFString||d instanceof PDFHexString)return[d];for(var h=[],g=0,_=d.size();g<_;g++){var j=d.lookup(g);(j instanceof PDFString||j instanceof PDFHexString)&&h.push(j)}return h}},e.prototype.removeExportValue=function(d){var h=this.Opt();if(h)if(h instanceof PDFString||h instanceof PDFHexString){if(d!==0)throw new IndexOutOfBoundsError(d,0,0);this.setOpt([])}else{if(d<0||d>h.size())throw new IndexOutOfBoundsError(d,0,h.size());h.remove(d)}},e.prototype.normalizeExportValues=function(){for(var d,h,g,_,j=(d=this.getExportValues())!==null&&d!==void 0?d:[],$=[],et=this.getWidgets(),tt=0,nt=et.length;tt<nt;tt++){var rt=et[tt],it=(h=j[tt])!==null&&h!==void 0?h:PDFHexString.fromText((_=(g=rt.getOnValue())===null||g===void 0?void 0:g.decodeText())!==null&&_!==void 0?_:"");$.push(it)}this.setOpt($)},e.prototype.addOpt=function(d,h){var g;this.normalizeExportValues();var _=d.decodeText(),j;if(h)for(var $=(g=this.getExportValues())!==null&&g!==void 0?g:[],et=0,tt=$.length;et<tt;et++){var nt=$[et];nt.decodeText()===_&&(j=et)}var rt=this.Opt();return rt.push(d),j??rt.size()-1},e.prototype.addWidgetWithOpt=function(d,h,g){var _=this.addOpt(h,g),j=PDFName.of(String(_));return this.addWidget(d),j},e}(PDFAcroTerminal),PDFAcroCheckBox=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.setValue=function(d){var h,g=(h=this.getOnValue())!==null&&h!==void 0?h:PDFName.of("Yes");if(d!==g&&d!==PDFName.of("Off"))throw new InvalidAcroFieldValueError;this.dict.set(PDFName.of("V"),d);for(var _=this.getWidgets(),j=0,$=_.length;j<$;j++){var et=_[j],tt=et.getOnValue()===d?d:PDFName.of("Off");et.setAppearanceState(tt)}},e.prototype.getValue=function(){var d=this.V();return d instanceof PDFName?d:PDFName.of("Off")},e.prototype.getOnValue=function(){var d=this.getWidgets()[0];return d==null?void 0:d.getOnValue()},e.fromDict=function(d,h){return new e(d,h)},e.create=function(d){var h=d.obj({FT:"Btn",Kids:[]}),g=d.register(h);return new e(h,g)},e}(PDFAcroButton),flag$1=function(s){return 1<<s},AcroFieldFlags;(function(s){s[s.ReadOnly=flag$1(0)]="ReadOnly",s[s.Required=flag$1(1)]="Required",s[s.NoExport=flag$1(2)]="NoExport"})(AcroFieldFlags||(AcroFieldFlags={}));var AcroButtonFlags;(function(s){s[s.NoToggleToOff=flag$1(14)]="NoToggleToOff",s[s.Radio=flag$1(15)]="Radio",s[s.PushButton=flag$1(16)]="PushButton",s[s.RadiosInUnison=flag$1(25)]="RadiosInUnison"})(AcroButtonFlags||(AcroButtonFlags={}));var AcroTextFlags;(function(s){s[s.Multiline=flag$1(12)]="Multiline",s[s.Password=flag$1(13)]="Password",s[s.FileSelect=flag$1(20)]="FileSelect",s[s.DoNotSpellCheck=flag$1(22)]="DoNotSpellCheck",s[s.DoNotScroll=flag$1(23)]="DoNotScroll",s[s.Comb=flag$1(24)]="Comb",s[s.RichText=flag$1(25)]="RichText"})(AcroTextFlags||(AcroTextFlags={}));var AcroChoiceFlags;(function(s){s[s.Combo=flag$1(17)]="Combo",s[s.Edit=flag$1(18)]="Edit",s[s.Sort=flag$1(19)]="Sort",s[s.MultiSelect=flag$1(21)]="MultiSelect",s[s.DoNotSpellCheck=flag$1(22)]="DoNotSpellCheck",s[s.CommitOnSelChange=flag$1(26)]="CommitOnSelChange"})(AcroChoiceFlags||(AcroChoiceFlags={}));var PDFAcroChoice=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.setValues=function(d){if(this.hasFlag(AcroChoiceFlags.Combo)&&!this.hasFlag(AcroChoiceFlags.Edit)&&!this.valuesAreValid(d))throw new InvalidAcroFieldValueError;if(d.length===0&&this.dict.delete(PDFName.of("V")),d.length===1&&this.dict.set(PDFName.of("V"),d[0]),d.length>1){if(!this.hasFlag(AcroChoiceFlags.MultiSelect))throw new MultiSelectValueError;this.dict.set(PDFName.of("V"),this.dict.context.obj(d))}this.updateSelectedIndices(d)},e.prototype.valuesAreValid=function(d){for(var h=this.getOptions(),g=function(et,tt){var nt=d[et].decodeText();if(!h.find(function(rt){return nt===(rt.display||rt.value).decodeText()}))return{value:!1}},_=0,j=d.length;_<j;_++){var $=g(_);if(typeof $=="object")return $.value}return!0},e.prototype.updateSelectedIndices=function(d){if(d.length>1){for(var h=new Array(d.length),g=this.getOptions(),_=function(et,tt){var nt=d[et].decodeText();h[et]=g.findIndex(function(rt){return nt===(rt.display||rt.value).decodeText()})},j=0,$=d.length;j<$;j++)_(j,$);this.dict.set(PDFName.of("I"),this.dict.context.obj(h.sort()))}else this.dict.delete(PDFName.of("I"))},e.prototype.getValues=function(){var d=this.V();if(d instanceof PDFString||d instanceof PDFHexString)return[d];if(d instanceof PDFArray){for(var h=[],g=0,_=d.size();g<_;g++){var j=d.lookup(g);(j instanceof PDFString||j instanceof PDFHexString)&&h.push(j)}return h}return[]},e.prototype.Opt=function(){return this.dict.lookupMaybe(PDFName.of("Opt"),PDFString,PDFHexString,PDFArray)},e.prototype.setOptions=function(d){for(var h=new Array(d.length),g=0,_=d.length;g<_;g++){var j=d[g],$=j.value,et=j.display;h[g]=this.dict.context.obj([$,et||$])}this.dict.set(PDFName.of("Opt"),this.dict.context.obj(h))},e.prototype.getOptions=function(){var d=this.Opt();if(d instanceof PDFString||d instanceof PDFHexString)return[{value:d,display:d}];if(d instanceof PDFArray){for(var h=[],g=0,_=d.size();g<_;g++){var j=d.lookup(g);if((j instanceof PDFString||j instanceof PDFHexString)&&h.push({value:j,display:j}),j instanceof PDFArray&&j.size()>0){var $=j.lookup(0,PDFString,PDFHexString),et=j.lookupMaybe(1,PDFString,PDFHexString);h.push({value:$,display:et||$})}}return h}return[]},e}(PDFAcroTerminal),PDFAcroComboBox=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.fromDict=function(d,h){return new e(d,h)},e.create=function(d){var h=d.obj({FT:"Ch",Ff:AcroChoiceFlags.Combo,Kids:[]}),g=d.register(h);return new e(h,g)},e}(PDFAcroChoice),PDFAcroNonTerminal=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.addField=function(d){var h=this.normalizedEntries().Kids;h==null||h.push(d)},e.prototype.normalizedEntries=function(){var d=this.Kids();return d||(d=this.dict.context.obj([]),this.dict.set(PDFName.of("Kids"),d)),{Kids:d}},e.fromDict=function(d,h){return new e(d,h)},e.create=function(d){var h=d.obj({}),g=d.register(h);return new e(h,g)},e}(PDFAcroField),PDFAcroSignature=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.fromDict=function(d,h){return new e(d,h)},e}(PDFAcroTerminal),PDFAcroText=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.MaxLen=function(){var d=this.dict.lookup(PDFName.of("MaxLen"));if(d instanceof PDFNumber)return d},e.prototype.Q=function(){var d=this.dict.lookup(PDFName.of("Q"));if(d instanceof PDFNumber)return d},e.prototype.setMaxLength=function(d){this.dict.set(PDFName.of("MaxLen"),PDFNumber.of(d))},e.prototype.removeMaxLength=function(){this.dict.delete(PDFName.of("MaxLen"))},e.prototype.getMaxLength=function(){var d;return(d=this.MaxLen())===null||d===void 0?void 0:d.asNumber()},e.prototype.setQuadding=function(d){this.dict.set(PDFName.of("Q"),PDFNumber.of(d))},e.prototype.getQuadding=function(){var d;return(d=this.Q())===null||d===void 0?void 0:d.asNumber()},e.prototype.setValue=function(d){this.dict.set(PDFName.of("V"),d)},e.prototype.removeValue=function(){this.dict.delete(PDFName.of("V"))},e.prototype.getValue=function(){var d=this.V();if(d instanceof PDFString||d instanceof PDFHexString)return d},e.fromDict=function(d,h){return new e(d,h)},e.create=function(d){var h=d.obj({FT:"Tx",Kids:[]}),g=d.register(h);return new e(h,g)},e}(PDFAcroTerminal),PDFAcroPushButton=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.fromDict=function(d,h){return new e(d,h)},e.create=function(d){var h=d.obj({FT:"Btn",Ff:AcroButtonFlags.PushButton,Kids:[]}),g=d.register(h);return new e(h,g)},e}(PDFAcroButton),PDFAcroRadioButton=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.setValue=function(d){var h=this.getOnValues();if(!h.includes(d)&&d!==PDFName.of("Off"))throw new InvalidAcroFieldValueError;this.dict.set(PDFName.of("V"),d);for(var g=this.getWidgets(),_=0,j=g.length;_<j;_++){var $=g[_],et=$.getOnValue()===d?d:PDFName.of("Off");$.setAppearanceState(et)}},e.prototype.getValue=function(){var d=this.V();return d instanceof PDFName?d:PDFName.of("Off")},e.prototype.getOnValues=function(){for(var d=this.getWidgets(),h=[],g=0,_=d.length;g<_;g++){var j=d[g].getOnValue();j&&h.push(j)}return h},e.fromDict=function(d,h){return new e(d,h)},e.create=function(d){var h=d.obj({FT:"Btn",Ff:AcroButtonFlags.Radio,Kids:[]}),g=d.register(h);return new e(h,g)},e}(PDFAcroButton),PDFAcroListBox=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.fromDict=function(d,h){return new e(d,h)},e.create=function(d){var h=d.obj({FT:"Ch",Kids:[]}),g=d.register(h);return new e(h,g)},e}(PDFAcroChoice),createPDFAcroFields=function(s){if(!s)return[];for(var e=[],d=0,h=s.size();d<h;d++){var g=s.get(d),_=s.lookup(d);g instanceof PDFRef&&_ instanceof PDFDict&&e.push([createPDFAcroField(_,g),g])}return e},createPDFAcroField=function(s,e){var d=isNonTerminalAcroField(s);return d?PDFAcroNonTerminal.fromDict(s,e):createPDFAcroTerminal(s,e)},isNonTerminalAcroField=function(s){var e=s.lookup(PDFName.of("Kids"));if(e instanceof PDFArray)for(var d=0,h=e.size();d<h;d++){var g=e.lookup(d),_=g instanceof PDFDict&&g.has(PDFName.of("T"));if(_)return!0}return!1},createPDFAcroTerminal=function(s,e){var d=getInheritableAttribute(s,PDFName.of("FT")),h=s.context.lookup(d,PDFName);return h===PDFName.of("Btn")?createPDFAcroButton(s,e):h===PDFName.of("Ch")?createPDFAcroChoice(s,e):h===PDFName.of("Tx")?PDFAcroText.fromDict(s,e):h===PDFName.of("Sig")?PDFAcroSignature.fromDict(s,e):PDFAcroTerminal.fromDict(s,e)},createPDFAcroButton=function(s,e){var d,h=getInheritableAttribute(s,PDFName.of("Ff")),g=s.context.lookupMaybe(h,PDFNumber),_=(d=g==null?void 0:g.asNumber())!==null&&d!==void 0?d:0;return flagIsSet(_,AcroButtonFlags.PushButton)?PDFAcroPushButton.fromDict(s,e):flagIsSet(_,AcroButtonFlags.Radio)?PDFAcroRadioButton.fromDict(s,e):PDFAcroCheckBox.fromDict(s,e)},createPDFAcroChoice=function(s,e){var d,h=getInheritableAttribute(s,PDFName.of("Ff")),g=s.context.lookupMaybe(h,PDFNumber),_=(d=g==null?void 0:g.asNumber())!==null&&d!==void 0?d:0;return flagIsSet(_,AcroChoiceFlags.Combo)?PDFAcroComboBox.fromDict(s,e):PDFAcroListBox.fromDict(s,e)},flagIsSet=function(s,e){return(s&e)!==0},getInheritableAttribute=function(s,e){var d;return ascend(s,function(h){d||(d=h.get(e))}),d},ascend=function(s,e){e(s);var d=s.lookupMaybe(PDFName.of("Parent"),PDFDict);d&&ascend(d,e)},PDFAcroForm=function(){function s(e){this.dict=e}return s.prototype.Fields=function(){var e=this.dict.lookup(PDFName.of("Fields"));if(e instanceof PDFArray)return e},s.prototype.getFields=function(){for(var e=this.normalizedEntries().Fields,d=new Array(e.size()),h=0,g=e.size();h<g;h++){var _=e.get(h),j=e.lookup(h,PDFDict);d[h]=[createPDFAcroField(j,_),_]}return d},s.prototype.getAllFields=function(){var e=[],d=function(h){if(h)for(var g=0,_=h.length;g<_;g++){var j=h[g];e.push(j);var $=j[0];$ instanceof PDFAcroNonTerminal&&d(createPDFAcroFields($.Kids()))}};return d(this.getFields()),e},s.prototype.addField=function(e){var d=this.normalizedEntries().Fields;d==null||d.push(e)},s.prototype.removeField=function(e){var d=e.getParent(),h=d===void 0?this.normalizedEntries().Fields:d.Kids(),g=h==null?void 0:h.indexOf(e.ref);if(h===void 0||g===void 0)throw new Error("Tried to remove inexistent field "+e.getFullyQualifiedName());h.remove(g),d!==void 0&&h.size()===0&&this.removeField(d)},s.prototype.normalizedEntries=function(){var e=this.Fields();return e||(e=this.dict.context.obj([]),this.dict.set(PDFName.of("Fields"),e)),{Fields:e}},s.fromDict=function(e){return new s(e)},s.create=function(e){var d=e.obj({Fields:[]});return new s(d)},s}(),PDFCatalog=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.Pages=function(){return this.lookup(PDFName.of("Pages"),PDFDict)},e.prototype.AcroForm=function(){return this.lookupMaybe(PDFName.of("AcroForm"),PDFDict)},e.prototype.getAcroForm=function(){var d=this.AcroForm();if(d)return PDFAcroForm.fromDict(d)},e.prototype.getOrCreateAcroForm=function(){var d=this.getAcroForm();if(!d){d=PDFAcroForm.create(this.context);var h=this.context.register(d.dict);this.set(PDFName.of("AcroForm"),h)}return d},e.prototype.ViewerPreferences=function(){return this.lookupMaybe(PDFName.of("ViewerPreferences"),PDFDict)},e.prototype.getViewerPreferences=function(){var d=this.ViewerPreferences();if(d)return ViewerPreferences.fromDict(d)},e.prototype.getOrCreateViewerPreferences=function(){var d=this.getViewerPreferences();if(!d){d=ViewerPreferences.create(this.context);var h=this.context.register(d.dict);this.set(PDFName.of("ViewerPreferences"),h)}return d},e.prototype.insertLeafNode=function(d,h){var g=this.get(PDFName.of("Pages")),_=this.Pages().insertLeafNode(d,h);return _||g},e.prototype.removeLeafNode=function(d){this.Pages().removeLeafNode(d)},e.withContextAndPages=function(d,h){var g=new Map;return g.set(PDFName.of("Type"),PDFName.of("Catalog")),g.set(PDFName.of("Pages"),h),new e(g,d)},e.fromMapWithContext=function(d,h){return new e(d,h)},e}(PDFDict),PDFPageTree=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.Parent=function(){return this.lookup(PDFName.of("Parent"))},e.prototype.Kids=function(){return this.lookup(PDFName.of("Kids"),PDFArray)},e.prototype.Count=function(){return this.lookup(PDFName.of("Count"),PDFNumber)},e.prototype.pushTreeNode=function(d){var h=this.Kids();h.push(d)},e.prototype.pushLeafNode=function(d){var h=this.Kids();this.insertLeafKid(h.size(),d)},e.prototype.insertLeafNode=function(d,h){var g=this.Kids(),_=this.Count().asNumber();if(h>_)throw new InvalidTargetIndexError(h,_);for(var j=h,$=0,et=g.size();$<et;$++){if(j===0){this.insertLeafKid($,d);return}var tt=g.get($),nt=this.context.lookup(tt);if(nt instanceof e){if(nt.Count().asNumber()>j)return nt.insertLeafNode(d,j)||tt;j-=nt.Count().asNumber()}nt instanceof PDFPageLeaf&&(j-=1)}if(j===0){this.insertLeafKid(g.size(),d);return}throw new CorruptPageTreeError(h,"insertLeafNode")},e.prototype.removeLeafNode=function(d,h){h===void 0&&(h=!0);var g=this.Kids(),_=this.Count().asNumber();if(d>=_)throw new InvalidTargetIndexError(d,_);for(var j=d,$=0,et=g.size();$<et;$++){var tt=g.get($),nt=this.context.lookup(tt);if(nt instanceof e)if(nt.Count().asNumber()>j){nt.removeLeafNode(j,h),h&&nt.Kids().size()===0&&g.remove($);return}else j-=nt.Count().asNumber();if(nt instanceof PDFPageLeaf)if(j===0){this.removeKid($);return}else j-=1}throw new CorruptPageTreeError(d,"removeLeafNode")},e.prototype.ascend=function(d){d(this);var h=this.Parent();h&&h.ascend(d)},e.prototype.traverse=function(d){for(var h=this.Kids(),g=0,_=h.size();g<_;g++){var j=h.get(g),$=this.context.lookup(j);$ instanceof e&&$.traverse(d),d($,j)}},e.prototype.insertLeafKid=function(d,h){var g=this.Kids();this.ascend(function(_){var j=_.Count().asNumber()+1;_.set(PDFName.of("Count"),PDFNumber.of(j))}),g.insert(d,h)},e.prototype.removeKid=function(d){var h=this.Kids(),g=h.lookup(d);g instanceof PDFPageLeaf&&this.ascend(function(_){var j=_.Count().asNumber()-1;_.set(PDFName.of("Count"),PDFNumber.of(j))}),h.remove(d)},e.withContext=function(d,h){var g=new Map;return g.set(PDFName.of("Type"),PDFName.of("Pages")),g.set(PDFName.of("Kids"),d.obj([])),g.set(PDFName.of("Count"),d.obj(0)),h&&g.set(PDFName.of("Parent"),h),new e(g,d)},e.fromMapWithContext=function(d,h){return new e(d,h)},e}(PDFDict),IsDigit=new Uint8Array(256);IsDigit[CharCodes$1.Zero]=1;IsDigit[CharCodes$1.One]=1;IsDigit[CharCodes$1.Two]=1;IsDigit[CharCodes$1.Three]=1;IsDigit[CharCodes$1.Four]=1;IsDigit[CharCodes$1.Five]=1;IsDigit[CharCodes$1.Six]=1;IsDigit[CharCodes$1.Seven]=1;IsDigit[CharCodes$1.Eight]=1;IsDigit[CharCodes$1.Nine]=1;var IsNumericPrefix=new Uint8Array(256);IsNumericPrefix[CharCodes$1.Period]=1;IsNumericPrefix[CharCodes$1.Plus]=1;IsNumericPrefix[CharCodes$1.Minus]=1;var IsNumeric=new Uint8Array(256);for(var idx=0,len=256;idx<len;idx++)IsNumeric[idx]=IsDigit[idx]||IsNumericPrefix[idx]?1:0;var Newline$1=CharCodes$1.Newline,CarriageReturn$1=CharCodes$1.CarriageReturn,BaseParser=function(){function s(e,d){d===void 0&&(d=!1),this.bytes=e,this.capNumbers=d}return s.prototype.parseRawInt=function(){for(var e="";!this.bytes.done();){var d=this.bytes.peek();if(!IsDigit[d])break;e+=charFromCode(this.bytes.next())}var h=Number(e);if(!e||!isFinite(h))throw new NumberParsingError(this.bytes.position(),e);return h},s.prototype.parseRawNumber=function(){for(var e="";!this.bytes.done();){var d=this.bytes.peek();if(!IsNumeric[d]||(e+=charFromCode(this.bytes.next()),d===CharCodes$1.Period))break}for(;!this.bytes.done();){var d=this.bytes.peek();if(!IsDigit[d])break;e+=charFromCode(this.bytes.next())}var h=Number(e);if(!e||!isFinite(h))throw new NumberParsingError(this.bytes.position(),e);if(h>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var g="Parsed number that is too large for some PDF readers: "+e+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(g),Number.MAX_SAFE_INTEGER}else{var g="Parsed number that is too large for some PDF readers: "+e+", not capping.";console.warn(g)}return h},s.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&IsWhitespace[this.bytes.peek()];)this.bytes.next()},s.prototype.skipLine=function(){for(;!this.bytes.done();){var e=this.bytes.peek();if(e===Newline$1||e===CarriageReturn$1)return;this.bytes.next()}},s.prototype.skipComment=function(){if(this.bytes.peek()!==CharCodes$1.Percent)return!1;for(;!this.bytes.done();){var e=this.bytes.peek();if(e===Newline$1||e===CarriageReturn$1)return!0;this.bytes.next()}return!0},s.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},s.prototype.matchKeyword=function(e){for(var d=this.bytes.offset(),h=0,g=e.length;h<g;h++)if(this.bytes.done()||this.bytes.next()!==e[h])return this.bytes.moveTo(d),!1;return!0},s}(),ByteStream=function(){function s(e){this.idx=0,this.line=0,this.column=0,this.bytes=e,this.length=this.bytes.length}return s.prototype.moveTo=function(e){this.idx=e},s.prototype.next=function(){var e=this.bytes[this.idx++];return e===CharCodes$1.Newline?(this.line+=1,this.column=0):this.column+=1,e},s.prototype.assertNext=function(e){if(this.peek()!==e)throw new NextByteAssertionError(this.position(),e,this.peek());return this.next()},s.prototype.peek=function(){return this.bytes[this.idx]},s.prototype.peekAhead=function(e){return this.bytes[this.idx+e]},s.prototype.peekAt=function(e){return this.bytes[e]},s.prototype.done=function(){return this.idx>=this.length},s.prototype.offset=function(){return this.idx},s.prototype.slice=function(e,d){return this.bytes.slice(e,d)},s.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},s.of=function(e){return new s(e)},s.fromPDFRawStream=function(e){return s.of(decodePDFRawStream(e).decode())},s}(),Space=CharCodes$1.Space,CarriageReturn=CharCodes$1.CarriageReturn,Newline=CharCodes$1.Newline,stream=[CharCodes$1.s,CharCodes$1.t,CharCodes$1.r,CharCodes$1.e,CharCodes$1.a,CharCodes$1.m],endstream=[CharCodes$1.e,CharCodes$1.n,CharCodes$1.d,CharCodes$1.s,CharCodes$1.t,CharCodes$1.r,CharCodes$1.e,CharCodes$1.a,CharCodes$1.m],Keywords={header:[CharCodes$1.Percent,CharCodes$1.P,CharCodes$1.D,CharCodes$1.F,CharCodes$1.Dash],eof:[CharCodes$1.Percent,CharCodes$1.Percent,CharCodes$1.E,CharCodes$1.O,CharCodes$1.F],obj:[CharCodes$1.o,CharCodes$1.b,CharCodes$1.j],endobj:[CharCodes$1.e,CharCodes$1.n,CharCodes$1.d,CharCodes$1.o,CharCodes$1.b,CharCodes$1.j],xref:[CharCodes$1.x,CharCodes$1.r,CharCodes$1.e,CharCodes$1.f],trailer:[CharCodes$1.t,CharCodes$1.r,CharCodes$1.a,CharCodes$1.i,CharCodes$1.l,CharCodes$1.e,CharCodes$1.r],startxref:[CharCodes$1.s,CharCodes$1.t,CharCodes$1.a,CharCodes$1.r,CharCodes$1.t,CharCodes$1.x,CharCodes$1.r,CharCodes$1.e,CharCodes$1.f],true:[CharCodes$1.t,CharCodes$1.r,CharCodes$1.u,CharCodes$1.e],false:[CharCodes$1.f,CharCodes$1.a,CharCodes$1.l,CharCodes$1.s,CharCodes$1.e],null:[CharCodes$1.n,CharCodes$1.u,CharCodes$1.l,CharCodes$1.l],stream,streamEOF1:__spreadArrays(stream,[Space,CarriageReturn,Newline]),streamEOF2:__spreadArrays(stream,[CarriageReturn,Newline]),streamEOF3:__spreadArrays(stream,[CarriageReturn]),streamEOF4:__spreadArrays(stream,[Newline]),endstream,EOF1endstream:__spreadArrays([CarriageReturn,Newline],endstream),EOF2endstream:__spreadArrays([CarriageReturn],endstream),EOF3endstream:__spreadArrays([Newline],endstream)},PDFObjectParser=function(s){__extends(e,s);function e(d,h,g){g===void 0&&(g=!1);var _=s.call(this,d,g)||this;return _.context=h,_}return e.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.true))return PDFBool.True;if(this.matchKeyword(Keywords.false))return PDFBool.False;if(this.matchKeyword(Keywords.null))return PDFNull$1;var d=this.bytes.peek();if(d===CharCodes$1.LessThan&&this.bytes.peekAhead(1)===CharCodes$1.LessThan)return this.parseDictOrStream();if(d===CharCodes$1.LessThan)return this.parseHexString();if(d===CharCodes$1.LeftParen)return this.parseString();if(d===CharCodes$1.ForwardSlash)return this.parseName();if(d===CharCodes$1.LeftSquareBracket)return this.parseArray();if(IsNumeric[d])return this.parseNumberOrRef();throw new PDFObjectParsingError(this.bytes.position(),d)},e.prototype.parseNumberOrRef=function(){var d=this.parseRawNumber();this.skipWhitespaceAndComments();var h=this.bytes.offset();if(IsDigit[this.bytes.peek()]){var g=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===CharCodes$1.R)return this.bytes.assertNext(CharCodes$1.R),PDFRef.of(d,g)}return this.bytes.moveTo(h),PDFNumber.of(d)},e.prototype.parseHexString=function(){var d="";for(this.bytes.assertNext(CharCodes$1.LessThan);!this.bytes.done()&&this.bytes.peek()!==CharCodes$1.GreaterThan;)d+=charFromCode(this.bytes.next());return this.bytes.assertNext(CharCodes$1.GreaterThan),PDFHexString.of(d)},e.prototype.parseString=function(){for(var d=0,h=!1,g="";!this.bytes.done();){var _=this.bytes.next();if(g+=charFromCode(_),h||(_===CharCodes$1.LeftParen&&(d+=1),_===CharCodes$1.RightParen&&(d-=1)),_===CharCodes$1.BackSlash?h=!h:h&&(h=!1),d===0)return PDFString.of(g.substring(1,g.length-1))}throw new UnbalancedParenthesisError(this.bytes.position())},e.prototype.parseName=function(){this.bytes.assertNext(CharCodes$1.ForwardSlash);for(var d="";!this.bytes.done();){var h=this.bytes.peek();if(IsWhitespace[h]||IsDelimiter[h])break;d+=charFromCode(h),this.bytes.next()}return PDFName.of(d)},e.prototype.parseArray=function(){this.bytes.assertNext(CharCodes$1.LeftSquareBracket),this.skipWhitespaceAndComments();for(var d=PDFArray.withContext(this.context);this.bytes.peek()!==CharCodes$1.RightSquareBracket;){var h=this.parseObject();d.push(h),this.skipWhitespaceAndComments()}return this.bytes.assertNext(CharCodes$1.RightSquareBracket),d},e.prototype.parseDict=function(){this.bytes.assertNext(CharCodes$1.LessThan),this.bytes.assertNext(CharCodes$1.LessThan),this.skipWhitespaceAndComments();for(var d=new Map;!this.bytes.done()&&this.bytes.peek()!==CharCodes$1.GreaterThan&&this.bytes.peekAhead(1)!==CharCodes$1.GreaterThan;){var h=this.parseName(),g=this.parseObject();d.set(h,g),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(CharCodes$1.GreaterThan),this.bytes.assertNext(CharCodes$1.GreaterThan);var _=d.get(PDFName.of("Type"));return _===PDFName.of("Catalog")?PDFCatalog.fromMapWithContext(d,this.context):_===PDFName.of("Pages")?PDFPageTree.fromMapWithContext(d,this.context):_===PDFName.of("Page")?PDFPageLeaf.fromMapWithContext(d,this.context):PDFDict.fromMapWithContext(d,this.context)},e.prototype.parseDictOrStream=function(){var d=this.bytes.position(),h=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Keywords.streamEOF1)&&!this.matchKeyword(Keywords.streamEOF2)&&!this.matchKeyword(Keywords.streamEOF3)&&!this.matchKeyword(Keywords.streamEOF4)&&!this.matchKeyword(Keywords.stream))return h;var g=this.bytes.offset(),_,j=h.get(PDFName.of("Length"));j instanceof PDFNumber?(_=g+j.asNumber(),this.bytes.moveTo(_),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.endstream)||(this.bytes.moveTo(g),_=this.findEndOfStreamFallback(d))):_=this.findEndOfStreamFallback(d);var $=this.bytes.slice(g,_);return PDFRawStream.of(h,$)},e.prototype.findEndOfStreamFallback=function(d){for(var h=1,g=this.bytes.offset();!this.bytes.done()&&(g=this.bytes.offset(),this.matchKeyword(Keywords.stream)?h+=1:this.matchKeyword(Keywords.EOF1endstream)||this.matchKeyword(Keywords.EOF2endstream)||this.matchKeyword(Keywords.EOF3endstream)||this.matchKeyword(Keywords.endstream)?h-=1:this.bytes.next(),h!==0););if(h!==0)throw new PDFStreamParsingError(d);return g},e.forBytes=function(d,h,g){return new e(ByteStream.of(d),h,g)},e.forByteStream=function(d,h,g){return g===void 0&&(g=!1),new e(d,h,g)},e}(BaseParser),PDFObjectStreamParser=function(s){__extends(e,s);function e(d,h){var g=s.call(this,ByteStream.fromPDFRawStream(d),d.dict.context)||this,_=d.dict;return g.alreadyParsed=!1,g.shouldWaitForTick=h||function(){return!1},g.firstOffset=_.lookup(PDFName.of("First"),PDFNumber).asNumber(),g.objectCount=_.lookup(PDFName.of("N"),PDFNumber).asNumber(),g}return e.prototype.parseIntoContext=function(){return __awaiter(this,void 0,void 0,function(){var d,h,g,_,j,$,et,tt;return __generator(this,function(nt){switch(nt.label){case 0:if(this.alreadyParsed)throw new ReparseError("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,d=this.parseOffsetsAndObjectNumbers(),h=0,g=d.length,nt.label=1;case 1:return h<g?(_=d[h],j=_.objectNumber,$=_.offset,this.bytes.moveTo(this.firstOffset+$),et=this.parseObject(),tt=PDFRef.of(j,0),this.context.assign(tt,et),this.shouldWaitForTick()?[4,waitForTick()]:[3,3]):[3,4];case 2:nt.sent(),nt.label=3;case 3:return h++,[3,1];case 4:return[2]}})})},e.prototype.parseOffsetsAndObjectNumbers=function(){for(var d=[],h=0,g=this.objectCount;h<g;h++){this.skipWhitespaceAndComments();var _=this.parseRawInt();this.skipWhitespaceAndComments();var j=this.parseRawInt();d.push({objectNumber:_,offset:j})}return d},e.forStream=function(d,h){return new e(d,h)},e}(PDFObjectParser),PDFXRefStreamParser=function(){function s(e){this.alreadyParsed=!1,this.dict=e.dict,this.bytes=ByteStream.fromPDFRawStream(e),this.context=this.dict.context;var d=this.dict.lookup(PDFName.of("Size"),PDFNumber),h=this.dict.lookup(PDFName.of("Index"));if(h instanceof PDFArray){this.subsections=[];for(var g=0,_=h.size();g<_;g+=2){var j=h.lookup(g+0,PDFNumber).asNumber(),$=h.lookup(g+1,PDFNumber).asNumber();this.subsections.push({firstObjectNumber:j,length:$})}}else this.subsections=[{firstObjectNumber:0,length:d.asNumber()}];var et=this.dict.lookup(PDFName.of("W"),PDFArray);this.byteWidths=[-1,-1,-1];for(var g=0,_=et.size();g<_;g++)this.byteWidths[g]=et.lookup(g,PDFNumber).asNumber()}return s.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new ReparseError("PDFXRefStreamParser","parseIntoContext");this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(PDFName.of("Root")),Encrypt:this.dict.get(PDFName.of("Encrypt")),Info:this.dict.get(PDFName.of("Info")),ID:this.dict.get(PDFName.of("ID"))};var e=this.parseEntries();return e},s.prototype.parseEntries=function(){for(var e=[],d=this.byteWidths,h=d[0],g=d[1],_=d[2],j=0,$=this.subsections.length;j<$;j++)for(var et=this.subsections[j],tt=et.firstObjectNumber,nt=et.length,rt=0;rt<nt;rt++){for(var it=0,st=0,ot=h;st<ot;st++)it=it<<8|this.bytes.next();for(var lt=0,st=0,ot=g;st<ot;st++)lt=lt<<8|this.bytes.next();for(var dt=0,st=0,ot=_;st<ot;st++)dt=dt<<8|this.bytes.next();h===0&&(it=1);var at=tt+rt,ut={ref:PDFRef.of(at,dt),offset:lt,deleted:it===0,inObjectStream:it===2};e.push(ut)}return e},s.forStream=function(e){return new s(e)},s}(),PDFParser=function(s){__extends(e,s);function e(d,h,g,_){h===void 0&&(h=1/0),g===void 0&&(g=!1),_===void 0&&(_=!1);var j=s.call(this,ByteStream.of(d),PDFContext.create(),_)||this;return j.alreadyParsed=!1,j.parsedObjects=0,j.shouldWaitForTick=function(){return j.parsedObjects+=1,j.parsedObjects%j.objectsPerTick===0},j.objectsPerTick=h,j.throwOnInvalidObject=g,j}return e.prototype.parseDocument=function(){return __awaiter(this,void 0,void 0,function(){var d,h;return __generator(this,function(g){switch(g.label){case 0:if(this.alreadyParsed)throw new ReparseError("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),g.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(g.sent(),h=this.bytes.offset(),h===d)throw new StalledParserError(this.bytes.position());return d=h,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(PDFRef.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(PDFRef.of(0))),[2,this.context]}})})},e.prototype.maybeRecoverRoot=function(){var d=function(nt){return nt instanceof PDFDict&&nt.lookup(PDFName.of("Type"))===PDFName.of("Catalog")},h=this.context.lookup(this.context.trailerInfo.Root);if(!d(h))for(var g=this.context.enumerateIndirectObjects(),_=0,j=g.length;_<j;_++){var $=g[_],et=$[0],tt=$[1];d(tt)&&(this.context.trailerInfo.Root=et)}},e.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(Keywords.header)){var d=this.parseRawInt();this.bytes.assertNext(CharCodes$1.Period);var h=this.parseRawInt(),g=PDFHeader.forVersion(d,h);return this.skipBinaryHeaderComment(),g}this.bytes.next()}throw new MissingPDFHeaderError(this.bytes.position())},e.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var d=this.parseRawInt();this.skipWhitespaceAndComments();var h=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Keywords.obj))throw new MissingKeywordError(this.bytes.position(),Keywords.obj);return PDFRef.of(d,h)},e.prototype.matchIndirectObjectHeader=function(){var d=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch{return this.bytes.moveTo(d),!1}},e.prototype.parseIndirectObject=function(){return __awaiter(this,void 0,void 0,function(){var d,h;return __generator(this,function(g){switch(g.label){case 0:return d=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),h=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.endobj),h instanceof PDFRawStream&&h.dict.lookup(PDFName.of("Type"))===PDFName.of("ObjStm")?[4,PDFObjectStreamParser.forStream(h,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return g.sent(),[3,3];case 2:h instanceof PDFRawStream&&h.dict.lookup(PDFName.of("Type"))===PDFName.of("XRef")?PDFXRefStreamParser.forStream(h).parseIntoContext():this.context.assign(d,h),g.label=3;case 3:return[2,d]}})})},e.prototype.tryToParseInvalidIndirectObject=function(){var d=this.bytes.position(),h="Trying to parse invalid object: "+JSON.stringify(d)+")";if(this.throwOnInvalidObject)throw new Error(h);console.warn(h);var g=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+g),this.skipWhitespaceAndComments();for(var _=this.bytes.offset(),j=!0;!this.bytes.done()&&(this.matchKeyword(Keywords.endobj)&&(j=!1),!!j);)this.bytes.next();if(j)throw new PDFInvalidObjectParsingError(d);var $=this.bytes.offset()-Keywords.endobj.length,et=PDFInvalidObject.of(this.bytes.slice(_,$));return this.context.assign(g,et),g},e.prototype.parseIndirectObjects=function(){return __awaiter(this,void 0,void 0,function(){var d;return __generator(this,function(h){switch(h.label){case 0:this.skipWhitespaceAndComments(),h.label=1;case 1:if(!(!this.bytes.done()&&IsDigit[this.bytes.peek()]))return[3,8];d=this.bytes.offset(),h.label=2;case 2:return h.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return h.sent(),[3,5];case 4:return h.sent(),this.bytes.moveTo(d),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,waitForTick()]:[3,7];case 6:h.sent(),h.label=7;case 7:return[3,1];case 8:return[2]}})})},e.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.xref)){this.skipWhitespaceAndComments();for(var d=-1,h=PDFCrossRefSection.createEmpty();!this.bytes.done()&&IsDigit[this.bytes.peek()];){var g=this.parseRawInt();this.skipWhitespaceAndComments();var _=this.parseRawInt();this.skipWhitespaceAndComments();var j=this.bytes.peek();if(j===CharCodes$1.n||j===CharCodes$1.f){var $=PDFRef.of(d,_);this.bytes.next()===CharCodes$1.n?h.addEntry($,g):h.addDeletedEntry($,g),d+=1}else d=g;this.skipWhitespaceAndComments()}return h}},e.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.trailer)){this.skipWhitespaceAndComments();var d=this.parseDict(),h=this.context;h.trailerInfo={Root:d.get(PDFName.of("Root"))||h.trailerInfo.Root,Encrypt:d.get(PDFName.of("Encrypt"))||h.trailerInfo.Encrypt,Info:d.get(PDFName.of("Info"))||h.trailerInfo.Info,ID:d.get(PDFName.of("ID"))||h.trailerInfo.ID}}},e.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.startxref)){this.skipWhitespaceAndComments();var d=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(Keywords.eof),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.eof),this.skipWhitespaceAndComments(),PDFTrailer.forLastCrossRefSectionOffset(d)}},e.prototype.parseDocumentSection=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(d){switch(d.label){case 0:return[4,this.parseIndirectObjects()];case 1:return d.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},e.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var d=this.bytes.offset(),h=this.bytes.peek(),g=h>=CharCodes$1.Space&&h<=CharCodes$1.Tilde;if(g&&(this.matchKeyword(Keywords.xref)||this.matchKeyword(Keywords.trailer)||this.matchKeyword(Keywords.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(d);break}this.bytes.next()}},e.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var d=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(d)}catch{this.bytes.next(),this.skipWhitespaceAndComments()}},e.forBytesWithOptions=function(d,h,g,_){return new e(d,h,g,_)},e}(PDFObjectParser),flag=function(s){return 1<<s},AnnotationFlags;(function(s){s[s.Invisible=flag(0)]="Invisible",s[s.Hidden=flag(1)]="Hidden",s[s.Print=flag(2)]="Print",s[s.NoZoom=flag(3)]="NoZoom",s[s.NoRotate=flag(4)]="NoRotate",s[s.NoView=flag(5)]="NoView",s[s.ReadOnly=flag(6)]="ReadOnly",s[s.Locked=flag(7)]="Locked",s[s.ToggleNoView=flag(8)]="ToggleNoView",s[s.LockedContents=flag(9)]="LockedContents"})(AnnotationFlags||(AnnotationFlags={}));var asPDFName=function(s){return s instanceof PDFName?s:PDFName.of(s)},asPDFNumber=function(s){return s instanceof PDFNumber?s:PDFNumber.of(s)},asNumber=function(s){return s instanceof PDFNumber?s.asNumber():s},RotationTypes;(function(s){s.Degrees="degrees",s.Radians="radians"})(RotationTypes||(RotationTypes={}));var degrees=function(s){return assertIs(s,"degreeAngle",["number"]),{type:RotationTypes.Degrees,angle:s}},Radians=RotationTypes.Radians,Degrees=RotationTypes.Degrees,degreesToRadians=function(s){return s*Math.PI/180},radiansToDegrees=function(s){return s*180/Math.PI},toRadians$1=function(s){return s.type===Radians?s.angle:s.type===Degrees?degreesToRadians(s.angle):error("Invalid rotation: "+JSON.stringify(s))},toDegrees$1=function(s){return s.type===Radians?radiansToDegrees(s.angle):s.type===Degrees?s.angle:error("Invalid rotation: "+JSON.stringify(s))},reduceRotation=function(s){s===void 0&&(s=0);var e=s/90%4;return e===0?0:e===1?90:e===2?180:e===3?270:0},adjustDimsForRotation=function(s,e){e===void 0&&(e=0);var d=reduceRotation(e);return d===90||d===270?{width:s.height,height:s.width}:{width:s.width,height:s.height}},rotateRectangle=function(s,e,d){e===void 0&&(e=0),d===void 0&&(d=0);var h=s.x,g=s.y,_=s.width,j=s.height,$=reduceRotation(d),et=e/2;return $===0?{x:h-et,y:g-et,width:_,height:j}:$===90?{x:h-j+et,y:g-et,width:j,height:_}:$===180?{x:h-_+et,y:g-j+et,width:_,height:j}:$===270?{x:h-et,y:g-_+et,width:j,height:_}:{x:h-et,y:g-et,width:_,height:j}},clip=function(){return PDFOperator.of(Ops.ClipNonZero)},cos=Math.cos,sin=Math.sin,tan=Math.tan,concatTransformationMatrix=function(s,e,d,h,g,_){return PDFOperator.of(Ops.ConcatTransformationMatrix,[asPDFNumber(s),asPDFNumber(e),asPDFNumber(d),asPDFNumber(h),asPDFNumber(g),asPDFNumber(_)])},translate=function(s,e){return concatTransformationMatrix(1,0,0,1,s,e)},scale=function(s,e){return concatTransformationMatrix(s,0,0,e,0,0)},rotateRadians=function(s){return concatTransformationMatrix(cos(asNumber(s)),sin(asNumber(s)),-sin(asNumber(s)),cos(asNumber(s)),0,0)},rotateDegrees=function(s){return rotateRadians(degreesToRadians(asNumber(s)))},skewRadians=function(s,e){return concatTransformationMatrix(1,tan(asNumber(s)),tan(asNumber(e)),1,0,0)},setDashPattern=function(s,e){return PDFOperator.of(Ops.SetLineDashPattern,["["+s.map(asPDFNumber).join(" ")+"]",asPDFNumber(e)])},LineCapStyle;(function(s){s[s.Butt=0]="Butt",s[s.Round=1]="Round",s[s.Projecting=2]="Projecting"})(LineCapStyle||(LineCapStyle={}));var setLineCap=function(s){return PDFOperator.of(Ops.SetLineCapStyle,[asPDFNumber(s)])},LineJoinStyle;(function(s){s[s.Miter=0]="Miter",s[s.Round=1]="Round",s[s.Bevel=2]="Bevel"})(LineJoinStyle||(LineJoinStyle={}));var setGraphicsState=function(s){return PDFOperator.of(Ops.SetGraphicsStateParams,[asPDFName(s)])},pushGraphicsState=function(){return PDFOperator.of(Ops.PushGraphicsState)},popGraphicsState=function(){return PDFOperator.of(Ops.PopGraphicsState)},setLineWidth=function(s){return PDFOperator.of(Ops.SetLineWidth,[asPDFNumber(s)])},appendBezierCurve=function(s,e,d,h,g,_){return PDFOperator.of(Ops.AppendBezierCurve,[asPDFNumber(s),asPDFNumber(e),asPDFNumber(d),asPDFNumber(h),asPDFNumber(g),asPDFNumber(_)])},appendQuadraticCurve=function(s,e,d,h){return PDFOperator.of(Ops.CurveToReplicateInitialPoint,[asPDFNumber(s),asPDFNumber(e),asPDFNumber(d),asPDFNumber(h)])},closePath=function(){return PDFOperator.of(Ops.ClosePath)},moveTo=function(s,e){return PDFOperator.of(Ops.MoveTo,[asPDFNumber(s),asPDFNumber(e)])},lineTo=function(s,e){return PDFOperator.of(Ops.LineTo,[asPDFNumber(s),asPDFNumber(e)])},stroke=function(){return PDFOperator.of(Ops.StrokePath)},fill=function(){return PDFOperator.of(Ops.FillNonZero)},fillAndStroke=function(){return PDFOperator.of(Ops.FillNonZeroAndStroke)},endPath=function(){return PDFOperator.of(Ops.EndPath)},nextLine=function(){return PDFOperator.of(Ops.NextLine)},showText=function(s){return PDFOperator.of(Ops.ShowText,[s])},beginText=function(){return PDFOperator.of(Ops.BeginText)},endText=function(){return PDFOperator.of(Ops.EndText)},setFontAndSize=function(s,e){return PDFOperator.of(Ops.SetFontAndSize,[asPDFName(s),asPDFNumber(e)])},setLineHeight=function(s){return PDFOperator.of(Ops.SetTextLineHeight,[asPDFNumber(s)])},TextRenderingMode;(function(s){s[s.Fill=0]="Fill",s[s.Outline=1]="Outline",s[s.FillAndOutline=2]="FillAndOutline",s[s.Invisible=3]="Invisible",s[s.FillAndClip=4]="FillAndClip",s[s.OutlineAndClip=5]="OutlineAndClip",s[s.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",s[s.Clip=7]="Clip"})(TextRenderingMode||(TextRenderingMode={}));var setTextMatrix=function(s,e,d,h,g,_){return PDFOperator.of(Ops.SetTextMatrix,[asPDFNumber(s),asPDFNumber(e),asPDFNumber(d),asPDFNumber(h),asPDFNumber(g),asPDFNumber(_)])},rotateAndSkewTextRadiansAndTranslate=function(s,e,d,h,g){return setTextMatrix(cos(asNumber(s)),sin(asNumber(s))+tan(asNumber(e)),-sin(asNumber(s))+tan(asNumber(d)),cos(asNumber(s)),h,g)},drawObject=function(s){return PDFOperator.of(Ops.DrawObject,[asPDFName(s)])},setFillingGrayscaleColor=function(s){return PDFOperator.of(Ops.NonStrokingColorGray,[asPDFNumber(s)])},setStrokingGrayscaleColor=function(s){return PDFOperator.of(Ops.StrokingColorGray,[asPDFNumber(s)])},setFillingRgbColor=function(s,e,d){return PDFOperator.of(Ops.NonStrokingColorRgb,[asPDFNumber(s),asPDFNumber(e),asPDFNumber(d)])},setStrokingRgbColor=function(s,e,d){return PDFOperator.of(Ops.StrokingColorRgb,[asPDFNumber(s),asPDFNumber(e),asPDFNumber(d)])},setFillingCmykColor=function(s,e,d,h){return PDFOperator.of(Ops.NonStrokingColorCmyk,[asPDFNumber(s),asPDFNumber(e),asPDFNumber(d),asPDFNumber(h)])},setStrokingCmykColor=function(s,e,d,h){return PDFOperator.of(Ops.StrokingColorCmyk,[asPDFNumber(s),asPDFNumber(e),asPDFNumber(d),asPDFNumber(h)])},beginMarkedContent=function(s){return PDFOperator.of(Ops.BeginMarkedContent,[asPDFName(s)])},endMarkedContent=function(){return PDFOperator.of(Ops.EndMarkedContent)},ColorTypes;(function(s){s.Grayscale="Grayscale",s.RGB="RGB",s.CMYK="CMYK"})(ColorTypes||(ColorTypes={}));var grayscale=function(s){return assertRange(s,"gray",0,1),{type:ColorTypes.Grayscale,gray:s}},rgb=function(s,e,d){return assertRange(s,"red",0,1),assertRange(e,"green",0,1),assertRange(d,"blue",0,1),{type:ColorTypes.RGB,red:s,green:e,blue:d}},cmyk=function(s,e,d,h){return assertRange(s,"cyan",0,1),assertRange(e,"magenta",0,1),assertRange(d,"yellow",0,1),assertRange(h,"key",0,1),{type:ColorTypes.CMYK,cyan:s,magenta:e,yellow:d,key:h}},Grayscale=ColorTypes.Grayscale,RGB=ColorTypes.RGB,CMYK=ColorTypes.CMYK,setFillingColor=function(s){return s.type===Grayscale?setFillingGrayscaleColor(s.gray):s.type===RGB?setFillingRgbColor(s.red,s.green,s.blue):s.type===CMYK?setFillingCmykColor(s.cyan,s.magenta,s.yellow,s.key):error("Invalid color: "+JSON.stringify(s))},setStrokingColor=function(s){return s.type===Grayscale?setStrokingGrayscaleColor(s.gray):s.type===RGB?setStrokingRgbColor(s.red,s.green,s.blue):s.type===CMYK?setStrokingCmykColor(s.cyan,s.magenta,s.yellow,s.key):error("Invalid color: "+JSON.stringify(s))},componentsToColor=function(s,e){return e===void 0&&(e=1),(s==null?void 0:s.length)===1?grayscale(s[0]*e):(s==null?void 0:s.length)===3?rgb(s[0]*e,s[1]*e,s[2]*e):(s==null?void 0:s.length)===4?cmyk(s[0]*e,s[1]*e,s[2]*e,s[3]*e):void 0},colorToComponents=function(s){return s.type===Grayscale?[s.gray]:s.type===RGB?[s.red,s.green,s.blue]:s.type===CMYK?[s.cyan,s.magenta,s.yellow,s.key]:error("Invalid color: "+JSON.stringify(s))},cx=0,cy=0,px=0,py=0,sx=0,sy=0,parameters=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),parse$1=function(s){for(var e,d=[],h=[],g="",_=!1,j=0,$=0,et=s;$<et.length;$++){var tt=et[$];if(parameters.has(tt))j=parameters.get(tt),e&&(g.length>0&&(h[h.length]=+g),d[d.length]={cmd:e,args:h},h=[],g="",_=!1),e=tt;else if([" ",","].includes(tt)||tt==="-"&&g.length>0&&g[g.length-1]!=="e"||tt==="."&&_){if(g.length===0)continue;h.length===j?(d[d.length]={cmd:e,args:h},h=[+g],e==="M"&&(e="L"),e==="m"&&(e="l")):h[h.length]=+g,_=tt===".",g=["-","."].includes(tt)?tt:""}else g+=tt,tt==="."&&(_=!0)}return g.length>0&&(h.length===j?(d[d.length]={cmd:e,args:h},h=[+g],e==="M"&&(e="L"),e==="m"&&(e="l")):h[h.length]=+g),d[d.length]={cmd:e,args:h},d},apply=function(s){cx=cy=px=py=sx=sy=0;for(var e=[],d=0;d<s.length;d++){var h=s[d];if(h.cmd&&typeof runners[h.cmd]=="function"){var g=runners[h.cmd](h.args);Array.isArray(g)?e=e.concat(g):e.push(g)}}return e},runners={M:function(s){return cx=s[0],cy=s[1],px=py=null,sx=cx,sy=cy,moveTo(cx,cy)},m:function(s){return cx+=s[0],cy+=s[1],px=py=null,sx=cx,sy=cy,moveTo(cx,cy)},C:function(s){return cx=s[4],cy=s[5],px=s[2],py=s[3],appendBezierCurve(s[0],s[1],s[2],s[3],s[4],s[5])},c:function(s){var e=appendBezierCurve(s[0]+cx,s[1]+cy,s[2]+cx,s[3]+cy,s[4]+cx,s[5]+cy);return px=cx+s[2],py=cy+s[3],cx+=s[4],cy+=s[5],e},S:function(s){(px===null||py===null)&&(px=cx,py=cy);var e=appendBezierCurve(cx-(px-cx),cy-(py-cy),s[0],s[1],s[2],s[3]);return px=s[0],py=s[1],cx=s[2],cy=s[3],e},s:function(s){(px===null||py===null)&&(px=cx,py=cy);var e=appendBezierCurve(cx-(px-cx),cy-(py-cy),cx+s[0],cy+s[1],cx+s[2],cy+s[3]);return px=cx+s[0],py=cy+s[1],cx+=s[2],cy+=s[3],e},Q:function(s){return px=s[0],py=s[1],cx=s[2],cy=s[3],appendQuadraticCurve(s[0],s[1],cx,cy)},q:function(s){var e=appendQuadraticCurve(s[0]+cx,s[1]+cy,s[2]+cx,s[3]+cy);return px=cx+s[0],py=cy+s[1],cx+=s[2],cy+=s[3],e},T:function(s){px===null||py===null?(px=cx,py=cy):(px=cx-(px-cx),py=cy-(py-cy));var e=appendQuadraticCurve(px,py,s[0],s[1]);return px=cx-(px-cx),py=cy-(py-cy),cx=s[0],cy=s[1],e},t:function(s){px===null||py===null?(px=cx,py=cy):(px=cx-(px-cx),py=cy-(py-cy));var e=appendQuadraticCurve(px,py,cx+s[0],cy+s[1]);return cx+=s[0],cy+=s[1],e},A:function(s){var e=solveArc(cx,cy,s);return cx=s[5],cy=s[6],e},a:function(s){s[5]+=cx,s[6]+=cy;var e=solveArc(cx,cy,s);return cx=s[5],cy=s[6],e},L:function(s){return cx=s[0],cy=s[1],px=py=null,lineTo(cx,cy)},l:function(s){return cx+=s[0],cy+=s[1],px=py=null,lineTo(cx,cy)},H:function(s){return cx=s[0],px=py=null,lineTo(cx,cy)},h:function(s){return cx+=s[0],px=py=null,lineTo(cx,cy)},V:function(s){return cy=s[0],px=py=null,lineTo(cx,cy)},v:function(s){return cy+=s[0],px=py=null,lineTo(cx,cy)},Z:function(){var s=closePath();return cx=sx,cy=sy,s},z:function(){var s=closePath();return cx=sx,cy=sy,s}},solveArc=function(s,e,d){for(var h=d[0],g=d[1],_=d[2],j=d[3],$=d[4],et=d[5],tt=d[6],nt=arcToSegments(et,tt,h,g,j,$,_,s,e),rt=[],it=0,st=nt;it<st.length;it++){var ot=st[it],lt=segmentToBezier.apply(void 0,ot);rt.push(appendBezierCurve.apply(void 0,lt))}return rt},arcToSegments=function(s,e,d,h,g,_,j,$,et){var tt=j*(Math.PI/180),nt=Math.sin(tt),rt=Math.cos(tt);d=Math.abs(d),h=Math.abs(h),px=rt*($-s)*.5+nt*(et-e)*.5,py=rt*(et-e)*.5-nt*($-s)*.5;var it=px*px/(d*d)+py*py/(h*h);it>1&&(it=Math.sqrt(it),d*=it,h*=it);var st=rt/d,ot=nt/d,lt=-nt/h,dt=rt/h,at=st*$+ot*et,ut=lt*$+dt*et,pt=st*s+ot*e,vt=lt*s+dt*e,ht=(pt-at)*(pt-at)+(vt-ut)*(vt-ut),yt=1/ht-.25;yt<0&&(yt=0);var gt=Math.sqrt(yt);_===g&&(gt=-gt);var ft=.5*(at+pt)-gt*(vt-ut),_t=.5*(ut+vt)+gt*(pt-at),Et=Math.atan2(ut-_t,at-ft),mt=Math.atan2(vt-_t,pt-ft),xt=mt-Et;xt<0&&_===1?xt+=2*Math.PI:xt>0&&_===0&&(xt-=2*Math.PI);for(var St=Math.ceil(Math.abs(xt/(Math.PI*.5+.001))),Ut=[],kt=0;kt<St;kt++){var Bt=Et+kt*xt/St,$t=Et+(kt+1)*xt/St;Ut[kt]=[ft,_t,Bt,$t,d,h,nt,rt]}return Ut},segmentToBezier=function(s,e,d,h,g,_,j,$){var et=$*g,tt=-j*_,nt=j*g,rt=$*_,it=.5*(h-d),st=8/3*Math.sin(it*.5)*Math.sin(it*.5)/Math.sin(it),ot=s+Math.cos(d)-st*Math.sin(d),lt=e+Math.sin(d)+st*Math.cos(d),dt=s+Math.cos(h),at=e+Math.sin(h),ut=dt+st*Math.sin(h),pt=at-st*Math.cos(h),vt=[et*ot+tt*lt,nt*ot+rt*lt,et*ut+tt*pt,nt*ut+rt*pt,et*dt+tt*at,nt*dt+rt*at];return vt},svgPathToOperators=function(s){return apply(parse$1(s))},drawLinesOfText=function(s,e){for(var d=[pushGraphicsState(),e.graphicsState&&setGraphicsState(e.graphicsState),beginText(),setFillingColor(e.color),setFontAndSize(e.font,e.size),setLineHeight(e.lineHeight),rotateAndSkewTextRadiansAndTranslate(toRadians$1(e.rotate),toRadians$1(e.xSkew),toRadians$1(e.ySkew),e.x,e.y)].filter(Boolean),h=0,g=s.length;h<g;h++)d.push(showText(s[h]),nextLine());return d.push(endText(),popGraphicsState()),d},drawImage=function(s,e){return[pushGraphicsState(),e.graphicsState&&setGraphicsState(e.graphicsState),translate(e.x,e.y),rotateRadians(toRadians$1(e.rotate)),scale(e.width,e.height),skewRadians(toRadians$1(e.xSkew),toRadians$1(e.ySkew)),drawObject(s),popGraphicsState()].filter(Boolean)},drawPage=function(s,e){return[pushGraphicsState(),e.graphicsState&&setGraphicsState(e.graphicsState),translate(e.x,e.y),rotateRadians(toRadians$1(e.rotate)),scale(e.xScale,e.yScale),skewRadians(toRadians$1(e.xSkew),toRadians$1(e.ySkew)),drawObject(s),popGraphicsState()].filter(Boolean)},drawLine=function(s){var e,d;return[pushGraphicsState(),s.graphicsState&&setGraphicsState(s.graphicsState),s.color&&setStrokingColor(s.color),setLineWidth(s.thickness),setDashPattern((e=s.dashArray)!==null&&e!==void 0?e:[],(d=s.dashPhase)!==null&&d!==void 0?d:0),moveTo(s.start.x,s.start.y),s.lineCap&&setLineCap(s.lineCap),moveTo(s.start.x,s.start.y),lineTo(s.end.x,s.end.y),stroke(),popGraphicsState()].filter(Boolean)},drawRectangle=function(s){var e,d;return[pushGraphicsState(),s.graphicsState&&setGraphicsState(s.graphicsState),s.color&&setFillingColor(s.color),s.borderColor&&setStrokingColor(s.borderColor),setLineWidth(s.borderWidth),s.borderLineCap&&setLineCap(s.borderLineCap),setDashPattern((e=s.borderDashArray)!==null&&e!==void 0?e:[],(d=s.borderDashPhase)!==null&&d!==void 0?d:0),translate(s.x,s.y),rotateRadians(toRadians$1(s.rotate)),skewRadians(toRadians$1(s.xSkew),toRadians$1(s.ySkew)),moveTo(0,0),lineTo(0,s.height),lineTo(s.width,s.height),lineTo(s.width,0),closePath(),s.color&&s.borderWidth?fillAndStroke():s.color?fill():s.borderColor?stroke():closePath(),popGraphicsState()].filter(Boolean)},KAPPA=4*((Math.sqrt(2)-1)/3),drawEllipsePath=function(s){var e=asNumber(s.x),d=asNumber(s.y),h=asNumber(s.xScale),g=asNumber(s.yScale);e-=h,d-=g;var _=h*KAPPA,j=g*KAPPA,$=e+h*2,et=d+g*2,tt=e+h,nt=d+g;return[pushGraphicsState(),moveTo(e,nt),appendBezierCurve(e,nt-j,tt-_,d,tt,d),appendBezierCurve(tt+_,d,$,nt-j,$,nt),appendBezierCurve($,nt+j,tt+_,et,tt,et),appendBezierCurve(tt-_,et,e,nt+j,e,nt),popGraphicsState()]},drawEllipseCurves=function(s){var e=asNumber(s.x),d=asNumber(s.y),h=asNumber(s.xScale),g=asNumber(s.yScale),_=-h,j=-g,$=h*KAPPA,et=g*KAPPA,tt=_+h*2,nt=j+g*2,rt=_+h,it=j+g;return[translate(e,d),rotateRadians(toRadians$1(s.rotate)),moveTo(_,it),appendBezierCurve(_,it-et,rt-$,j,rt,j),appendBezierCurve(rt+$,j,tt,it-et,tt,it),appendBezierCurve(tt,it+et,rt+$,nt,rt,nt),appendBezierCurve(rt-$,nt,_,it+et,_,it)]},drawEllipse=function(s){var e,d,h;return __spreadArrays([pushGraphicsState(),s.graphicsState&&setGraphicsState(s.graphicsState),s.color&&setFillingColor(s.color),s.borderColor&&setStrokingColor(s.borderColor),setLineWidth(s.borderWidth),s.borderLineCap&&setLineCap(s.borderLineCap),setDashPattern((e=s.borderDashArray)!==null&&e!==void 0?e:[],(d=s.borderDashPhase)!==null&&d!==void 0?d:0)],s.rotate===void 0?drawEllipsePath({x:s.x,y:s.y,xScale:s.xScale,yScale:s.yScale}):drawEllipseCurves({x:s.x,y:s.y,xScale:s.xScale,yScale:s.yScale,rotate:(h=s.rotate)!==null&&h!==void 0?h:degrees(0)}),[s.color&&s.borderWidth?fillAndStroke():s.color?fill():s.borderColor?stroke():closePath(),popGraphicsState()]).filter(Boolean)},drawSvgPath=function(s,e){var d,h,g;return __spreadArrays([pushGraphicsState(),e.graphicsState&&setGraphicsState(e.graphicsState),translate(e.x,e.y),rotateRadians(toRadians$1((d=e.rotate)!==null&&d!==void 0?d:degrees(0))),e.scale?scale(e.scale,-e.scale):scale(1,-1),e.color&&setFillingColor(e.color),e.borderColor&&setStrokingColor(e.borderColor),e.borderWidth&&setLineWidth(e.borderWidth),e.borderLineCap&&setLineCap(e.borderLineCap),setDashPattern((h=e.borderDashArray)!==null&&h!==void 0?h:[],(g=e.borderDashPhase)!==null&&g!==void 0?g:0)],svgPathToOperators(s),[e.color&&e.borderWidth?fillAndStroke():e.color?fill():e.borderColor?stroke():closePath(),popGraphicsState()]).filter(Boolean)},drawCheckMark=function(s){var e=asNumber(s.size),d=-1+.75,h=-1+.51,g=1-.525,_=1-.31,j=-1+.325,$=-((j-d)*(_-d))/(g-h)+h;return[pushGraphicsState(),s.color&&setStrokingColor(s.color),setLineWidth(s.thickness),translate(s.x,s.y),moveTo(j*e,$*e),lineTo(d*e,h*e),lineTo(_*e,g*e),stroke(),popGraphicsState()].filter(Boolean)},rotateInPlace=function(s){return s.rotation===0?[translate(0,0),rotateDegrees(0)]:s.rotation===90?[translate(s.width,0),rotateDegrees(90)]:s.rotation===180?[translate(s.width,s.height),rotateDegrees(180)]:s.rotation===270?[translate(0,s.height),rotateDegrees(270)]:[]},drawCheckBox=function(s){var e=drawRectangle({x:s.x,y:s.y,width:s.width,height:s.height,borderWidth:s.borderWidth,color:s.color,borderColor:s.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)});if(!s.filled)return e;var d=asNumber(s.width),h=asNumber(s.height),g=Math.min(d,h)/2,_=drawCheckMark({x:d/2,y:h/2,size:g,thickness:s.thickness,color:s.markColor});return __spreadArrays([pushGraphicsState()],e,_,[popGraphicsState()])},drawRadioButton=function(s){var e=asNumber(s.width),d=asNumber(s.height),h=Math.min(e,d)/2,g=drawEllipse({x:s.x,y:s.y,xScale:h,yScale:h,color:s.color,borderColor:s.borderColor,borderWidth:s.borderWidth});if(!s.filled)return g;var _=drawEllipse({x:s.x,y:s.y,xScale:h*.45,yScale:h*.45,color:s.dotColor,borderColor:void 0,borderWidth:0});return __spreadArrays([pushGraphicsState()],g,_,[popGraphicsState()])},drawButton=function(s){var e=asNumber(s.x),d=asNumber(s.y),h=asNumber(s.width),g=asNumber(s.height),_=drawRectangle({x:e,y:d,width:h,height:g,borderWidth:s.borderWidth,color:s.color,borderColor:s.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),j=drawTextLines(s.textLines,{color:s.textColor,font:s.font,size:s.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)});return __spreadArrays([pushGraphicsState()],_,j,[popGraphicsState()])},drawTextLines=function(s,e){for(var d=[beginText(),setFillingColor(e.color),setFontAndSize(e.font,e.size)],h=0,g=s.length;h<g;h++){var _=s[h],j=_.encoded,$=_.x,et=_.y;d.push(rotateAndSkewTextRadiansAndTranslate(toRadians$1(e.rotate),toRadians$1(e.xSkew),toRadians$1(e.ySkew),$,et),showText(j))}return d.push(endText()),d},drawTextField=function(s){var e=asNumber(s.x),d=asNumber(s.y),h=asNumber(s.width),g=asNumber(s.height),_=asNumber(s.borderWidth),j=asNumber(s.padding),$=e+_/2+j,et=d+_/2+j,tt=h-(_/2+j)*2,nt=g-(_/2+j)*2,rt=[moveTo($,et),lineTo($,et+nt),lineTo($+tt,et+nt),lineTo($+tt,et),closePath(),clip(),endPath()],it=drawRectangle({x:e,y:d,width:h,height:g,borderWidth:s.borderWidth,color:s.color,borderColor:s.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),st=drawTextLines(s.textLines,{color:s.textColor,font:s.font,size:s.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),ot=__spreadArrays([beginMarkedContent("Tx"),pushGraphicsState()],st,[popGraphicsState(),endMarkedContent()]);return __spreadArrays([pushGraphicsState()],it,rt,ot,[popGraphicsState()])},drawOptionList=function(s){for(var e=asNumber(s.x),d=asNumber(s.y),h=asNumber(s.width),g=asNumber(s.height),_=asNumber(s.lineHeight),j=asNumber(s.borderWidth),$=asNumber(s.padding),et=e+j/2+$,tt=d+j/2+$,nt=h-(j/2+$)*2,rt=g-(j/2+$)*2,it=[moveTo(et,tt),lineTo(et,tt+rt),lineTo(et+nt,tt+rt),lineTo(et+nt,tt),closePath(),clip(),endPath()],st=drawRectangle({x:e,y:d,width:h,height:g,borderWidth:s.borderWidth,color:s.color,borderColor:s.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),ot=[],lt=0,dt=s.selectedLines.length;lt<dt;lt++){var at=s.textLines[s.selectedLines[lt]];ot.push.apply(ot,drawRectangle({x:at.x-$,y:at.y-(_-at.height)/2,width:h-j,height:at.height+(_-at.height)/2,borderWidth:0,color:s.selectedColor,borderColor:void 0,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}))}var ut=drawTextLines(s.textLines,{color:s.textColor,font:s.font,size:s.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),pt=__spreadArrays([beginMarkedContent("Tx"),pushGraphicsState()],ut,[popGraphicsState(),endMarkedContent()]);return __spreadArrays([pushGraphicsState()],st,ot,it,pt,[popGraphicsState()])},EncryptedPDFError=function(s){__extends(e,s);function e(){var d=this,h="Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.";return d=s.call(this,h)||this,d}return e}(Error),FontkitNotRegisteredError=function(s){__extends(e,s);function e(){var d=this,h="Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.";return d=s.call(this,h)||this,d}return e}(Error),ForeignPageError=function(s){__extends(e,s);function e(){var d=this,h="A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.";return d=s.call(this,h)||this,d}return e}(Error),RemovePageFromEmptyDocumentError=function(s){__extends(e,s);function e(){var d=this,h="PDFDocument has no pages so `PDFDocument.removePage` cannot be called";return d=s.call(this,h)||this,d}return e}(Error),NoSuchFieldError=function(s){__extends(e,s);function e(d){var h=this,g='PDFDocument has no form field with the name "'+d+'"';return h=s.call(this,g)||this,h}return e}(Error),UnexpectedFieldTypeError=function(s){__extends(e,s);function e(d,h,g){var _,j,$=this,et=h==null?void 0:h.name,tt=(j=(_=g==null?void 0:g.constructor)===null||_===void 0?void 0:_.name)!==null&&j!==void 0?j:g,nt='Expected field "'+d+'" to be of type '+et+", "+("but it is actually of type "+tt);return $=s.call(this,nt)||this,$}return e}(Error);(function(s){__extends(e,s);function e(d){var h=this,g='Failed to select check box due to missing onValue: "'+d+'"';return h=s.call(this,g)||this,h}return e})(Error);var FieldAlreadyExistsError=function(s){__extends(e,s);function e(d){var h=this,g='A field already exists with the specified name: "'+d+'"';return h=s.call(this,g)||this,h}return e}(Error),InvalidFieldNamePartError=function(s){__extends(e,s);function e(d){var h=this,g='Field name contains invalid component: "'+d+'"';return h=s.call(this,g)||this,h}return e}(Error);(function(s){__extends(e,s);function e(d){var h=this,g='A non-terminal field already exists with the specified name: "'+d+'"';return h=s.call(this,g)||this,h}return e})(Error);var RichTextFieldReadError=function(s){__extends(e,s);function e(d){var h=this,g="Reading rich text fields is not supported: Attempted to read rich text field: "+d;return h=s.call(this,g)||this,h}return e}(Error),CombedTextLayoutError=function(s){__extends(e,s);function e(d,h){var g=this,_="Failed to layout combed text as lineLength="+d+" is greater than cellCount="+h;return g=s.call(this,_)||this,g}return e}(Error),ExceededMaxLengthError=function(s){__extends(e,s);function e(d,h,g){var _=this,j="Attempted to set text with length="+d+" for TextField with maxLength="+h+" and name="+g;return _=s.call(this,j)||this,_}return e}(Error),InvalidMaxLengthError=function(s){__extends(e,s);function e(d,h,g){var _=this,j="Attempted to set maxLength="+h+", which is less than "+d+", the length of this field's current value (name="+g+")";return _=s.call(this,j)||this,_}return e}(Error),TextAlignment;(function(s){s[s.Left=0]="Left",s[s.Center=1]="Center",s[s.Right=2]="Right"})(TextAlignment||(TextAlignment={}));var MIN_FONT_SIZE=4,MAX_FONT_SIZE=500,computeFontSize=function(s,e,d,h){h===void 0&&(h=!1);for(var g=MIN_FONT_SIZE;g<MAX_FONT_SIZE;){for(var _=0,j=0,$=s.length;j<$;j++){_+=1;for(var et=s[j],tt=et.split(" "),nt=d.width,rt=0,it=tt.length;rt<it;rt++){var st=rt===it-1,ot=st?tt[rt]:tt[rt]+" ",lt=e.widthOfTextAtSize(ot,g);nt-=lt,nt<=0&&(_+=1,nt=d.width-lt)}}if(!h&&_>s.length)return g-1;var dt=e.heightAtSize(g),at=dt+dt*.2,ut=at*_;if(ut>Math.abs(d.height))return g-1;g+=1}return g},computeCombedFontSize=function(s,e,d,h){for(var g=d.width/h,_=d.height,j=MIN_FONT_SIZE,$=charSplit(s);j<MAX_FONT_SIZE;){for(var et=0,tt=$.length;et<tt;et++){var nt=$[et],rt=e.widthOfTextAtSize(nt,j)>g*.75;if(rt)return j-1}var it=e.heightAtSize(j,{descender:!1});if(it>_)return j-1;j+=1}return j},lastIndexOfWhitespace=function(s){for(var e=s.length;e>0;e--)if(/\s/.test(s[e]))return e},splitOutLines=function(s,e,d,h){for(var g,_=s.length;_>0;){var j=s.substring(0,_),$=d.encodeText(j),et=d.widthOfTextAtSize(j,h);if(et<e){var tt=s.substring(_)||void 0;return{line:j,encoded:$,width:et,remainder:tt}}_=(g=lastIndexOfWhitespace(j))!==null&&g!==void 0?g:0}return{line:s,encoded:d.encodeText(s),width:d.widthOfTextAtSize(s,h),remainder:void 0}},layoutMultilineText=function(s,e){var d=e.alignment,h=e.fontSize,g=e.font,_=e.bounds,j=lineSplit(cleanText(s));(h===void 0||h===0)&&(h=computeFontSize(j,g,_,!0));for(var $=g.heightAtSize(h),et=$+$*.2,tt=[],nt=_.x,rt=_.y,it=_.x+_.width,st=_.y+_.height,ot=_.y+_.height,lt=0,dt=j.length;lt<dt;lt++)for(var at=j[lt];at!==void 0;){var ut=splitOutLines(at,_.width,g,h),pt=ut.line,vt=ut.encoded,ht=ut.width,yt=ut.remainder,gt=d===TextAlignment.Left?_.x:d===TextAlignment.Center?_.x+_.width/2-ht/2:d===TextAlignment.Right?_.x+_.width-ht:_.x;ot-=et,gt<nt&&(nt=gt),ot<rt&&(rt=ot),gt+ht>it&&(it=gt+ht),ot+$>st&&(st=ot+$),tt.push({text:pt,encoded:vt,width:ht,height:$,x:gt,y:ot}),at=yt==null?void 0:yt.trim()}return{fontSize:h,lineHeight:et,lines:tt,bounds:{x:nt,y:rt,width:it-nt,height:st-rt}}},layoutCombedText=function(s,e){var d=e.fontSize,h=e.font,g=e.bounds,_=e.cellCount,j=mergeLines(cleanText(s));if(j.length>_)throw new CombedTextLayoutError(j.length,_);(d===void 0||d===0)&&(d=computeCombedFontSize(j,h,g,_));for(var $=g.width/_,et=h.heightAtSize(d,{descender:!1}),tt=g.y+(g.height/2-et/2),nt=[],rt=g.x,it=g.y,st=g.x+g.width,ot=g.y+g.height,lt=0,dt=0;lt<_;){var at=charAtIndex(j,dt),ut=at[0],pt=at[1],vt=h.encodeText(ut),ht=h.widthOfTextAtSize(ut,d),yt=g.x+($*lt+$/2),gt=yt-ht/2;gt<rt&&(rt=gt),tt<it&&(it=tt),gt+ht>st&&(st=gt+ht),tt+et>ot&&(ot=tt+et),nt.push({text:j,encoded:vt,width:ht,height:et,x:gt,y:tt}),lt+=1,dt+=pt}return{fontSize:d,cells:nt,bounds:{x:rt,y:it,width:st-rt,height:ot-it}}},layoutSinglelineText=function(s,e){var d=e.alignment,h=e.fontSize,g=e.font,_=e.bounds,j=mergeLines(cleanText(s));(h===void 0||h===0)&&(h=computeFontSize([j],g,_));var $=g.encodeText(j),et=g.widthOfTextAtSize(j,h),tt=g.heightAtSize(h,{descender:!1}),nt=d===TextAlignment.Left?_.x:d===TextAlignment.Center?_.x+_.width/2-et/2:d===TextAlignment.Right?_.x+_.width-et:_.x,rt=_.y+(_.height/2-tt/2);return{fontSize:h,line:{text:j,encoded:$,width:et,height:tt,x:nt,y:rt},bounds:{x:nt,y:rt,width:et,height:tt}}},normalizeAppearance=function(s){return"normal"in s?s:{normal:s}},tfRegex=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,getDefaultFontSize=function(s){var e,d,h=(e=s.getDefaultAppearance())!==null&&e!==void 0?e:"",g=(d=findLastMatch(h,tfRegex).match)!==null&&d!==void 0?d:[],_=Number(g[2]);return isFinite(_)?_:void 0},colorRegex=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,getDefaultColor=function(s){var e,d=(e=s.getDefaultAppearance())!==null&&e!==void 0?e:"",h=findLastMatch(d,colorRegex).match,g=h??[],_=g[1],j=g[2],$=g[3],et=g[4],tt=g[5];if(tt==="g"&&_)return grayscale(Number(_));if(tt==="rg"&&_&&j&&$)return rgb(Number(_),Number(j),Number($));if(tt==="k"&&_&&j&&$&&et)return cmyk(Number(_),Number(j),Number($),Number(et))},updateDefaultAppearance=function(s,e,d,h){var g;h===void 0&&(h=0);var _=[setFillingColor(e).toString(),setFontAndSize((g=d==null?void 0:d.name)!==null&&g!==void 0?g:"dummy__noop",h).toString()].join(`
`);s.setDefaultAppearance(_)},defaultCheckBoxAppearanceProvider=function(s,e){var d,h,g,_=getDefaultColor(e),j=getDefaultColor(s.acroField),$=e.getRectangle(),et=e.getAppearanceCharacteristics(),tt=e.getBorderStyle(),nt=(d=tt==null?void 0:tt.getWidth())!==null&&d!==void 0?d:0,rt=reduceRotation(et==null?void 0:et.getRotation()),it=adjustDimsForRotation($,rt),st=it.width,ot=it.height,lt=rotateInPlace(__assign(__assign({},$),{rotation:rt})),dt=rgb(0,0,0),at=(h=componentsToColor(et==null?void 0:et.getBorderColor()))!==null&&h!==void 0?h:dt,ut=componentsToColor(et==null?void 0:et.getBackgroundColor()),pt=componentsToColor(et==null?void 0:et.getBackgroundColor(),.8),vt=(g=_??j)!==null&&g!==void 0?g:dt;updateDefaultAppearance(_?e:s.acroField,vt);var ht={x:0+nt/2,y:0+nt/2,width:st-nt,height:ot-nt,thickness:1.5,borderWidth:nt,borderColor:at,markColor:vt};return{normal:{on:__spreadArrays(lt,drawCheckBox(__assign(__assign({},ht),{color:ut,filled:!0}))),off:__spreadArrays(lt,drawCheckBox(__assign(__assign({},ht),{color:ut,filled:!1})))},down:{on:__spreadArrays(lt,drawCheckBox(__assign(__assign({},ht),{color:pt,filled:!0}))),off:__spreadArrays(lt,drawCheckBox(__assign(__assign({},ht),{color:pt,filled:!1})))}}},defaultRadioGroupAppearanceProvider=function(s,e){var d,h,g,_=getDefaultColor(e),j=getDefaultColor(s.acroField),$=e.getRectangle(),et=e.getAppearanceCharacteristics(),tt=e.getBorderStyle(),nt=(d=tt==null?void 0:tt.getWidth())!==null&&d!==void 0?d:0,rt=reduceRotation(et==null?void 0:et.getRotation()),it=adjustDimsForRotation($,rt),st=it.width,ot=it.height,lt=rotateInPlace(__assign(__assign({},$),{rotation:rt})),dt=rgb(0,0,0),at=(h=componentsToColor(et==null?void 0:et.getBorderColor()))!==null&&h!==void 0?h:dt,ut=componentsToColor(et==null?void 0:et.getBackgroundColor()),pt=componentsToColor(et==null?void 0:et.getBackgroundColor(),.8),vt=(g=_??j)!==null&&g!==void 0?g:dt;updateDefaultAppearance(_?e:s.acroField,vt);var ht={x:st/2,y:ot/2,width:st-nt,height:ot-nt,borderWidth:nt,borderColor:at,dotColor:vt};return{normal:{on:__spreadArrays(lt,drawRadioButton(__assign(__assign({},ht),{color:ut,filled:!0}))),off:__spreadArrays(lt,drawRadioButton(__assign(__assign({},ht),{color:ut,filled:!1})))},down:{on:__spreadArrays(lt,drawRadioButton(__assign(__assign({},ht),{color:pt,filled:!0}))),off:__spreadArrays(lt,drawRadioButton(__assign(__assign({},ht),{color:pt,filled:!1})))}}},defaultButtonAppearanceProvider=function(s,e,d){var h,g,_,j,$,et=getDefaultColor(e),tt=getDefaultColor(s.acroField),nt=getDefaultFontSize(e),rt=getDefaultFontSize(s.acroField),it=e.getRectangle(),st=e.getAppearanceCharacteristics(),ot=e.getBorderStyle(),lt=st==null?void 0:st.getCaptions(),dt=(h=lt==null?void 0:lt.normal)!==null&&h!==void 0?h:"",at=(_=(g=lt==null?void 0:lt.down)!==null&&g!==void 0?g:dt)!==null&&_!==void 0?_:"",ut=(j=ot==null?void 0:ot.getWidth())!==null&&j!==void 0?j:0,pt=reduceRotation(st==null?void 0:st.getRotation()),vt=adjustDimsForRotation(it,pt),ht=vt.width,yt=vt.height,gt=rotateInPlace(__assign(__assign({},it),{rotation:pt})),ft=rgb(0,0,0),_t=componentsToColor(st==null?void 0:st.getBorderColor()),Et=componentsToColor(st==null?void 0:st.getBackgroundColor()),mt=componentsToColor(st==null?void 0:st.getBackgroundColor(),.8),xt={x:ut,y:ut,width:ht-ut*2,height:yt-ut*2},St=layoutSinglelineText(dt,{alignment:TextAlignment.Center,fontSize:nt??rt,font:d,bounds:xt}),Ut=layoutSinglelineText(at,{alignment:TextAlignment.Center,fontSize:nt??rt,font:d,bounds:xt}),kt=Math.min(St.fontSize,Ut.fontSize),Bt=($=et??tt)!==null&&$!==void 0?$:ft;updateDefaultAppearance(et||nt!==void 0?e:s.acroField,Bt,d,kt);var $t={x:0+ut/2,y:0+ut/2,width:ht-ut,height:yt-ut,borderWidth:ut,borderColor:_t,textColor:Bt,font:d.name,fontSize:kt};return{normal:__spreadArrays(gt,drawButton(__assign(__assign({},$t),{color:Et,textLines:[St.line]}))),down:__spreadArrays(gt,drawButton(__assign(__assign({},$t),{color:mt,textLines:[Ut.line]})))}},defaultTextFieldAppearanceProvider=function(s,e,d){var h,g,_,j,$=getDefaultColor(e),et=getDefaultColor(s.acroField),tt=getDefaultFontSize(e),nt=getDefaultFontSize(s.acroField),rt=e.getRectangle(),it=e.getAppearanceCharacteristics(),st=e.getBorderStyle(),ot=(h=s.getText())!==null&&h!==void 0?h:"",lt=(g=st==null?void 0:st.getWidth())!==null&&g!==void 0?g:0,dt=reduceRotation(it==null?void 0:it.getRotation()),at=adjustDimsForRotation(rt,dt),ut=at.width,pt=at.height,vt=rotateInPlace(__assign(__assign({},rt),{rotation:dt})),ht=rgb(0,0,0),yt=componentsToColor(it==null?void 0:it.getBorderColor()),gt=componentsToColor(it==null?void 0:it.getBackgroundColor()),ft,_t,Et=s.isCombed()?0:1,mt={x:lt+Et,y:lt+Et,width:ut-(lt+Et)*2,height:pt-(lt+Et)*2};if(s.isMultiline()){var xt=layoutMultilineText(ot,{alignment:s.getAlignment(),fontSize:tt??nt,font:d,bounds:mt});ft=xt.lines,_t=xt.fontSize}else if(s.isCombed()){var xt=layoutCombedText(ot,{fontSize:tt??nt,font:d,bounds:mt,cellCount:(_=s.getMaxLength())!==null&&_!==void 0?_:0});ft=xt.cells,_t=xt.fontSize}else{var xt=layoutSinglelineText(ot,{alignment:s.getAlignment(),fontSize:tt??nt,font:d,bounds:mt});ft=[xt.line],_t=xt.fontSize}var St=(j=$??et)!==null&&j!==void 0?j:ht;updateDefaultAppearance($||tt!==void 0?e:s.acroField,St,d,_t);var Ut={x:0+lt/2,y:0+lt/2,width:ut-lt,height:pt-lt,borderWidth:lt??0,borderColor:yt,textColor:St,font:d.name,fontSize:_t,color:gt,textLines:ft,padding:Et};return __spreadArrays(vt,drawTextField(Ut))},defaultDropdownAppearanceProvider=function(s,e,d){var h,g,_,j=getDefaultColor(e),$=getDefaultColor(s.acroField),et=getDefaultFontSize(e),tt=getDefaultFontSize(s.acroField),nt=e.getRectangle(),rt=e.getAppearanceCharacteristics(),it=e.getBorderStyle(),st=(h=s.getSelected()[0])!==null&&h!==void 0?h:"",ot=(g=it==null?void 0:it.getWidth())!==null&&g!==void 0?g:0,lt=reduceRotation(rt==null?void 0:rt.getRotation()),dt=adjustDimsForRotation(nt,lt),at=dt.width,ut=dt.height,pt=rotateInPlace(__assign(__assign({},nt),{rotation:lt})),vt=rgb(0,0,0),ht=componentsToColor(rt==null?void 0:rt.getBorderColor()),yt=componentsToColor(rt==null?void 0:rt.getBackgroundColor()),gt=1,ft={x:ot+gt,y:ot+gt,width:at-(ot+gt)*2,height:ut-(ot+gt)*2},_t=layoutSinglelineText(st,{alignment:TextAlignment.Left,fontSize:et??tt,font:d,bounds:ft}),Et=_t.line,mt=_t.fontSize,xt=(_=j??$)!==null&&_!==void 0?_:vt;updateDefaultAppearance(j||et!==void 0?e:s.acroField,xt,d,mt);var St={x:0+ot/2,y:0+ot/2,width:at-ot,height:ut-ot,borderWidth:ot??0,borderColor:ht,textColor:xt,font:d.name,fontSize:mt,color:yt,textLines:[Et],padding:gt};return __spreadArrays(pt,drawTextField(St))},defaultOptionListAppearanceProvider=function(s,e,d){var h,g,_=getDefaultColor(e),j=getDefaultColor(s.acroField),$=getDefaultFontSize(e),et=getDefaultFontSize(s.acroField),tt=e.getRectangle(),nt=e.getAppearanceCharacteristics(),rt=e.getBorderStyle(),it=(h=rt==null?void 0:rt.getWidth())!==null&&h!==void 0?h:0,st=reduceRotation(nt==null?void 0:nt.getRotation()),ot=adjustDimsForRotation(tt,st),lt=ot.width,dt=ot.height,at=rotateInPlace(__assign(__assign({},tt),{rotation:st})),ut=rgb(0,0,0),pt=componentsToColor(nt==null?void 0:nt.getBorderColor()),vt=componentsToColor(nt==null?void 0:nt.getBackgroundColor()),ht=s.getOptions(),yt=s.getSelected();s.isSorted()&&ht.sort();for(var gt="",ft=0,_t=ht.length;ft<_t;ft++)gt+=ht[ft],ft<_t-1&&(gt+=`
`);for(var Et=1,mt={x:it+Et,y:it+Et,width:lt-(it+Et)*2,height:dt-(it+Et)*2},xt=layoutMultilineText(gt,{alignment:TextAlignment.Left,fontSize:$??et,font:d,bounds:mt}),St=xt.lines,Ut=xt.fontSize,kt=xt.lineHeight,Bt=[],ft=0,_t=St.length;ft<_t;ft++){var $t=St[ft];yt.includes($t.text)&&Bt.push(ft)}var Gt=rgb(153/255,193/255,218/255),Ft=(g=_??j)!==null&&g!==void 0?g:ut;return updateDefaultAppearance(_||$!==void 0?e:s.acroField,Ft,d,Ut),__spreadArrays(at,drawOptionList({x:0+it/2,y:0+it/2,width:lt-it,height:dt-it,borderWidth:it??0,borderColor:pt,textColor:Ft,font:d.name,fontSize:Ut,color:vt,textLines:St,lineHeight:kt,selectedColor:Gt,selectedLines:Bt,padding:Et}))},PDFEmbeddedPage=function(){function s(e,d,h){this.alreadyEmbedded=!1,assertIs(e,"ref",[[PDFRef,"PDFRef"]]),assertIs(d,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(h,"embedder",[[PDFPageEmbedder,"PDFPageEmbedder"]]),this.ref=e,this.doc=d,this.width=h.width,this.height=h.height,this.embedder=h}return s.prototype.scale=function(e){return assertIs(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},s.prototype.size=function(){return this.scale(1)},s.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e.sent(),this.alreadyEmbedded=!0,e.label=2;case 2:return[2]}})})},s.of=function(e,d,h){return new s(e,d,h)},s}(),PDFFont=function(){function s(e,d,h){this.modified=!0,assertIs(e,"ref",[[PDFRef,"PDFRef"]]),assertIs(d,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(h,"embedder",[[CustomFontEmbedder,"CustomFontEmbedder"],[StandardFontEmbedder,"StandardFontEmbedder"]]),this.ref=e,this.doc=d,this.name=h.fontName,this.embedder=h}return s.prototype.encodeText=function(e){return assertIs(e,"text",["string"]),this.modified=!0,this.embedder.encodeText(e)},s.prototype.widthOfTextAtSize=function(e,d){return assertIs(e,"text",["string"]),assertIs(d,"size",["number"]),this.embedder.widthOfTextAtSize(e,d)},s.prototype.heightAtSize=function(e,d){var h;return assertIs(e,"size",["number"]),assertOrUndefined(d==null?void 0:d.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(e,{descender:(h=d==null?void 0:d.descender)!==null&&h!==void 0?h:!0})},s.prototype.sizeAtHeight=function(e){return assertIs(e,"height",["number"]),this.embedder.sizeOfFontAtHeight(e)},s.prototype.getCharacterSet=function(){return this.embedder instanceof StandardFontEmbedder?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},s.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:e.sent(),this.modified=!1,e.label=2;case 2:return[2]}})})},s.of=function(e,d,h){return new s(e,d,h)},s}(),PDFImage=function(){function s(e,d,h){assertIs(e,"ref",[[PDFRef,"PDFRef"]]),assertIs(d,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(h,"embedder",[[JpegEmbedder,"JpegEmbedder"],[PngEmbedder,"PngEmbedder"]]),this.ref=e,this.doc=d,this.width=h.width,this.height=h.height,this.embedder=h}return s.prototype.scale=function(e){return assertIs(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},s.prototype.scaleToFit=function(e,d){assertIs(e,"width",["number"]),assertIs(d,"height",["number"]);var h=e/this.width,g=d/this.height,_=Math.min(h,g);return this.scale(_)},s.prototype.size=function(){return this.scale(1)},s.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){var e,d,h;return __generator(this,function(g){switch(g.label){case 0:return this.embedder?(this.embedTask||(e=this,d=e.doc,h=e.ref,this.embedTask=this.embedder.embedIntoContext(d.context,h)),[4,this.embedTask]):[2];case 1:return g.sent(),this.embedder=void 0,[2]}})})},s.of=function(e,d,h){return new s(e,d,h)},s}(),ImageAlignment;(function(s){s[s.Left=0]="Left",s[s.Center=1]="Center",s[s.Right=2]="Right"})(ImageAlignment||(ImageAlignment={}));var assertFieldAppearanceOptions=function(s){assertOrUndefined(s==null?void 0:s.x,"options.x",["number"]),assertOrUndefined(s==null?void 0:s.y,"options.y",["number"]),assertOrUndefined(s==null?void 0:s.width,"options.width",["number"]),assertOrUndefined(s==null?void 0:s.height,"options.height",["number"]),assertOrUndefined(s==null?void 0:s.textColor,"options.textColor",[[Object,"Color"]]),assertOrUndefined(s==null?void 0:s.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),assertOrUndefined(s==null?void 0:s.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(s==null?void 0:s.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(s==null?void 0:s.rotate,"options.rotate",[[Object,"Rotation"]])},PDFField=function(){function s(e,d,h){assertIs(e,"acroField",[[PDFAcroTerminal,"PDFAcroTerminal"]]),assertIs(d,"ref",[[PDFRef,"PDFRef"]]),assertIs(h,"doc",[[PDFDocument,"PDFDocument"]]),this.acroField=e,this.ref=d,this.doc=h}return s.prototype.getName=function(){var e;return(e=this.acroField.getFullyQualifiedName())!==null&&e!==void 0?e:""},s.prototype.isReadOnly=function(){return this.acroField.hasFlag(AcroFieldFlags.ReadOnly)},s.prototype.enableReadOnly=function(){this.acroField.setFlagTo(AcroFieldFlags.ReadOnly,!0)},s.prototype.disableReadOnly=function(){this.acroField.setFlagTo(AcroFieldFlags.ReadOnly,!1)},s.prototype.isRequired=function(){return this.acroField.hasFlag(AcroFieldFlags.Required)},s.prototype.enableRequired=function(){this.acroField.setFlagTo(AcroFieldFlags.Required,!0)},s.prototype.disableRequired=function(){this.acroField.setFlagTo(AcroFieldFlags.Required,!1)},s.prototype.isExported=function(){return!this.acroField.hasFlag(AcroFieldFlags.NoExport)},s.prototype.enableExporting=function(){this.acroField.setFlagTo(AcroFieldFlags.NoExport,!1)},s.prototype.disableExporting=function(){this.acroField.setFlagTo(AcroFieldFlags.NoExport,!0)},s.prototype.needsAppearancesUpdate=function(){throw new MethodNotImplementedError(this.constructor.name,"needsAppearancesUpdate")},s.prototype.defaultUpdateAppearances=function(e){throw new MethodNotImplementedError(this.constructor.name,"defaultUpdateAppearances")},s.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},s.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},s.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},s.prototype.createWidget=function(e){var d,h=e.textColor,g=e.backgroundColor,_=e.borderColor,j=e.borderWidth,$=toDegrees$1(e.rotate),et=e.caption,tt=e.x,nt=e.y,rt=e.width+j,it=e.height+j,st=!!e.hidden,ot=e.page;assertMultiple($,"degreesAngle",90);var lt=PDFWidgetAnnotation.create(this.doc.context,this.ref),dt=rotateRectangle({x:tt,y:nt,width:rt,height:it},j,$);lt.setRectangle(dt),ot&&lt.setP(ot);var at=lt.getOrCreateAppearanceCharacteristics();g&&at.setBackgroundColor(colorToComponents(g)),at.setRotation($),et&&at.setCaptions({normal:et}),_&&at.setBorderColor(colorToComponents(_));var ut=lt.getOrCreateBorderStyle();if(j!==void 0&&ut.setWidth(j),lt.setFlagTo(AnnotationFlags.Print,!0),lt.setFlagTo(AnnotationFlags.Hidden,st),lt.setFlagTo(AnnotationFlags.Invisible,!1),h){var pt=(d=this.acroField.getDefaultAppearance())!==null&&d!==void 0?d:"",vt=pt+`
`+setFillingColor(h).toString();this.acroField.setDefaultAppearance(vt)}return lt},s.prototype.updateWidgetAppearanceWithFont=function(e,d,h){var g=h.normal,_=h.rollover,j=h.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceStream(e,g,d),rollover:_&&this.createAppearanceStream(e,_,d),down:j&&this.createAppearanceStream(e,j,d)})},s.prototype.updateOnOffWidgetAppearance=function(e,d,h){var g=h.normal,_=h.rollover,j=h.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceDict(e,g,d),rollover:_&&this.createAppearanceDict(e,_,d),down:j&&this.createAppearanceDict(e,j,d)})},s.prototype.updateWidgetAppearances=function(e,d){var h=d.normal,g=d.rollover,_=d.down;e.setNormalAppearance(h),g?e.setRolloverAppearance(g):e.removeRolloverAppearance(),_?e.setDownAppearance(_):e.removeDownAppearance()},s.prototype.createAppearanceStream=function(e,d,h){var g,_=this.acroField.dict.context,j=e.getRectangle(),$=j.width,et=j.height,tt=h&&{Font:(g={},g[h.name]=h.ref,g)},nt=_.formXObject(d,{Resources:tt,BBox:_.obj([0,0,$,et]),Matrix:_.obj([1,0,0,1,0,0])}),rt=_.register(nt);return rt},s.prototype.createImageAppearanceStream=function(e,d,h){var g,_,j=this.acroField.dict.context,$=e.getRectangle(),et=e.getAppearanceCharacteristics(),tt=e.getBorderStyle(),nt=(_=tt==null?void 0:tt.getWidth())!==null&&_!==void 0?_:0,rt=reduceRotation(et==null?void 0:et.getRotation()),it=rotateInPlace(__assign(__assign({},$),{rotation:rt})),st=adjustDimsForRotation($,rt),ot=d.scaleToFit(st.width-nt*2,st.height-nt*2),lt={x:nt,y:nt,width:ot.width,height:ot.height,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)};h===ImageAlignment.Center?(lt.x+=(st.width-nt*2)/2-ot.width/2,lt.y+=(st.height-nt*2)/2-ot.height/2):h===ImageAlignment.Right&&(lt.x=st.width-nt-ot.width,lt.y=st.height-nt-ot.height);var dt=this.doc.context.addRandomSuffix("Image",10),at=__spreadArrays(it,drawImage(dt,lt)),ut={XObject:(g={},g[dt]=d.ref,g)},pt=j.formXObject(at,{Resources:ut,BBox:j.obj([0,0,$.width,$.height]),Matrix:j.obj([1,0,0,1,0,0])});return j.register(pt)},s.prototype.createAppearanceDict=function(e,d,h){var g=this.acroField.dict.context,_=this.createAppearanceStream(e,d.on),j=this.createAppearanceStream(e,d.off),$=g.obj({});return $.set(h,_),$.set(PDFName.of("Off"),j),$},s}(),PDFCheckBox=function(s){__extends(e,s);function e(d,h,g){var _=s.call(this,d,h,g)||this;return assertIs(d,"acroCheckBox",[[PDFAcroCheckBox,"PDFAcroCheckBox"]]),_.acroField=d,_}return e.prototype.check=function(){var d,h=(d=this.acroField.getOnValue())!==null&&d!==void 0?d:PDFName.of("Yes");this.markAsDirty(),this.acroField.setValue(h)},e.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(PDFName.of("Off"))},e.prototype.isChecked=function(){var d=this.acroField.getOnValue();return!!d&&d===this.acroField.getValue()},e.prototype.addToPage=function(d,h){var g,_,j,$,et,tt;assertIs(d,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(h),h||(h={}),"textColor"in h||(h.textColor=rgb(0,0,0)),"backgroundColor"in h||(h.backgroundColor=rgb(1,1,1)),"borderColor"in h||(h.borderColor=rgb(0,0,0)),"borderWidth"in h||(h.borderWidth=1);var nt=this.createWidget({x:(g=h.x)!==null&&g!==void 0?g:0,y:(_=h.y)!==null&&_!==void 0?_:0,width:(j=h.width)!==null&&j!==void 0?j:50,height:($=h.height)!==null&&$!==void 0?$:50,textColor:h.textColor,backgroundColor:h.backgroundColor,borderColor:h.borderColor,borderWidth:(et=h.borderWidth)!==null&&et!==void 0?et:0,rotate:(tt=h.rotate)!==null&&tt!==void 0?tt:degrees(0),hidden:h.hidden,page:d.ref}),rt=this.doc.context.register(nt.dict);this.acroField.addWidget(rt),nt.setAppearanceState(PDFName.of("Off")),this.updateWidgetAppearance(nt,PDFName.of("Yes")),d.node.addAnnot(rt)},e.prototype.needsAppearancesUpdate=function(){for(var d,h=this.acroField.getWidgets(),g=0,_=h.length;g<_;g++){var j=h[g],$=j.getAppearanceState(),et=(d=j.getAppearances())===null||d===void 0?void 0:d.normal;if(!(et instanceof PDFDict)||$&&!et.has($))return!0}return!1},e.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},e.prototype.updateAppearances=function(d){var h;assertOrUndefined(d,"provider",[Function]);for(var g=this.acroField.getWidgets(),_=0,j=g.length;_<j;_++){var $=g[_],et=(h=$.getOnValue())!==null&&h!==void 0?h:PDFName.of("Yes");et&&this.updateWidgetAppearance($,et,d)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(d,h,g){var _=g??defaultCheckBoxAppearanceProvider,j=normalizeAppearance(_(this,d));this.updateOnOffWidgetAppearance(d,h,j)},e.of=function(d,h,g){return new e(d,h,g)},e}(PDFField),PDFDropdown=function(s){__extends(e,s);function e(d,h,g){var _=s.call(this,d,h,g)||this;return assertIs(d,"acroComboBox",[[PDFAcroComboBox,"PDFAcroComboBox"]]),_.acroField=d,_}return e.prototype.getOptions=function(){for(var d=this.acroField.getOptions(),h=new Array(d.length),g=0,_=h.length;g<_;g++){var j=d[g],$=j.display,et=j.value;h[g]=($??et).decodeText()}return h},e.prototype.getSelected=function(){for(var d=this.acroField.getValues(),h=new Array(d.length),g=0,_=d.length;g<_;g++)h[g]=d[g].decodeText();return h},e.prototype.setOptions=function(d){assertIs(d,"options",[Array]);for(var h=new Array(d.length),g=0,_=d.length;g<_;g++)h[g]={value:PDFHexString.fromText(d[g])};this.acroField.setOptions(h)},e.prototype.addOptions=function(d){assertIs(d,"options",["string",Array]);for(var h=Array.isArray(d)?d:[d],g=this.acroField.getOptions(),_=new Array(h.length),j=0,$=h.length;j<$;j++)_[j]={value:PDFHexString.fromText(h[j])};this.acroField.setOptions(g.concat(_))},e.prototype.select=function(d,h){h===void 0&&(h=!1),assertIs(d,"options",["string",Array]),assertIs(h,"merge",["boolean"]);var g=Array.isArray(d)?d:[d],_=this.getOptions(),j=g.find(function(rt){return!_.includes(rt)});j&&this.enableEditing(),this.markAsDirty(),(g.length>1||g.length===1&&h)&&this.enableMultiselect();for(var $=new Array(g.length),et=0,tt=g.length;et<tt;et++)$[et]=PDFHexString.fromText(g[et]);if(h){var nt=this.acroField.getValues();this.acroField.setValues(nt.concat($))}else this.acroField.setValues($)},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},e.prototype.setFontSize=function(d){assertPositive(d,"fontSize"),this.acroField.setFontSize(d),this.markAsDirty()},e.prototype.isEditable=function(){return this.acroField.hasFlag(AcroChoiceFlags.Edit)},e.prototype.enableEditing=function(){this.acroField.setFlagTo(AcroChoiceFlags.Edit,!0)},e.prototype.disableEditing=function(){this.acroField.setFlagTo(AcroChoiceFlags.Edit,!1)},e.prototype.isSorted=function(){return this.acroField.hasFlag(AcroChoiceFlags.Sort)},e.prototype.enableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!0)},e.prototype.disableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!1)},e.prototype.isMultiselect=function(){return this.acroField.hasFlag(AcroChoiceFlags.MultiSelect)},e.prototype.enableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!0)},e.prototype.disableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!1)},e.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(AcroChoiceFlags.DoNotSpellCheck)},e.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(AcroChoiceFlags.DoNotSpellCheck,!1)},e.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(AcroChoiceFlags.DoNotSpellCheck,!0)},e.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(AcroChoiceFlags.CommitOnSelChange)},e.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!0)},e.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!1)},e.prototype.addToPage=function(d,h){var g,_,j,$,et,tt,nt;assertIs(d,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(h),h||(h={}),"textColor"in h||(h.textColor=rgb(0,0,0)),"backgroundColor"in h||(h.backgroundColor=rgb(1,1,1)),"borderColor"in h||(h.borderColor=rgb(0,0,0)),"borderWidth"in h||(h.borderWidth=1);var rt=this.createWidget({x:(g=h.x)!==null&&g!==void 0?g:0,y:(_=h.y)!==null&&_!==void 0?_:0,width:(j=h.width)!==null&&j!==void 0?j:200,height:($=h.height)!==null&&$!==void 0?$:50,textColor:h.textColor,backgroundColor:h.backgroundColor,borderColor:h.borderColor,borderWidth:(et=h.borderWidth)!==null&&et!==void 0?et:0,rotate:(tt=h.rotate)!==null&&tt!==void 0?tt:degrees(0),hidden:h.hidden,page:d.ref}),it=this.doc.context.register(rt.dict);this.acroField.addWidget(it);var st=(nt=h.font)!==null&&nt!==void 0?nt:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(rt,st),d.node.addAnnot(it)},e.prototype.needsAppearancesUpdate=function(){var d;if(this.isDirty())return!0;for(var h=this.acroField.getWidgets(),g=0,_=h.length;g<_;g++){var j=h[g],$=((d=j.getAppearances())===null||d===void 0?void 0:d.normal)instanceof PDFStream;if(!$)return!0}return!1},e.prototype.defaultUpdateAppearances=function(d){assertIs(d,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(d)},e.prototype.updateAppearances=function(d,h){assertIs(d,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(h,"provider",[Function]);for(var g=this.acroField.getWidgets(),_=0,j=g.length;_<j;_++){var $=g[_];this.updateWidgetAppearance($,d,h)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(d,h,g){var _=g??defaultDropdownAppearanceProvider,j=normalizeAppearance(_(this,d,h));this.updateWidgetAppearanceWithFont(d,h,j)},e.of=function(d,h,g){return new e(d,h,g)},e}(PDFField),PDFOptionList=function(s){__extends(e,s);function e(d,h,g){var _=s.call(this,d,h,g)||this;return assertIs(d,"acroListBox",[[PDFAcroListBox,"PDFAcroListBox"]]),_.acroField=d,_}return e.prototype.getOptions=function(){for(var d=this.acroField.getOptions(),h=new Array(d.length),g=0,_=h.length;g<_;g++){var j=d[g],$=j.display,et=j.value;h[g]=($??et).decodeText()}return h},e.prototype.getSelected=function(){for(var d=this.acroField.getValues(),h=new Array(d.length),g=0,_=d.length;g<_;g++)h[g]=d[g].decodeText();return h},e.prototype.setOptions=function(d){assertIs(d,"options",[Array]),this.markAsDirty();for(var h=new Array(d.length),g=0,_=d.length;g<_;g++)h[g]={value:PDFHexString.fromText(d[g])};this.acroField.setOptions(h)},e.prototype.addOptions=function(d){assertIs(d,"options",["string",Array]),this.markAsDirty();for(var h=Array.isArray(d)?d:[d],g=this.acroField.getOptions(),_=new Array(h.length),j=0,$=h.length;j<$;j++)_[j]={value:PDFHexString.fromText(h[j])};this.acroField.setOptions(g.concat(_))},e.prototype.select=function(d,h){h===void 0&&(h=!1),assertIs(d,"options",["string",Array]),assertIs(h,"merge",["boolean"]);var g=Array.isArray(d)?d:[d],_=this.getOptions();assertIsSubset(g,"option",_),this.markAsDirty(),(g.length>1||g.length===1&&h)&&this.enableMultiselect();for(var j=new Array(g.length),$=0,et=g.length;$<et;$++)j[$]=PDFHexString.fromText(g[$]);if(h){var tt=this.acroField.getValues();this.acroField.setValues(tt.concat(j))}else this.acroField.setValues(j)},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},e.prototype.setFontSize=function(d){assertPositive(d,"fontSize"),this.acroField.setFontSize(d),this.markAsDirty()},e.prototype.isSorted=function(){return this.acroField.hasFlag(AcroChoiceFlags.Sort)},e.prototype.enableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!0)},e.prototype.disableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!1)},e.prototype.isMultiselect=function(){return this.acroField.hasFlag(AcroChoiceFlags.MultiSelect)},e.prototype.enableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!0)},e.prototype.disableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!1)},e.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(AcroChoiceFlags.CommitOnSelChange)},e.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!0)},e.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!1)},e.prototype.addToPage=function(d,h){var g,_,j,$,et,tt,nt;assertIs(d,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(h),h||(h={}),"textColor"in h||(h.textColor=rgb(0,0,0)),"backgroundColor"in h||(h.backgroundColor=rgb(1,1,1)),"borderColor"in h||(h.borderColor=rgb(0,0,0)),"borderWidth"in h||(h.borderWidth=1);var rt=this.createWidget({x:(g=h.x)!==null&&g!==void 0?g:0,y:(_=h.y)!==null&&_!==void 0?_:0,width:(j=h.width)!==null&&j!==void 0?j:200,height:($=h.height)!==null&&$!==void 0?$:100,textColor:h.textColor,backgroundColor:h.backgroundColor,borderColor:h.borderColor,borderWidth:(et=h.borderWidth)!==null&&et!==void 0?et:0,rotate:(tt=h.rotate)!==null&&tt!==void 0?tt:degrees(0),hidden:h.hidden,page:d.ref}),it=this.doc.context.register(rt.dict);this.acroField.addWidget(it);var st=(nt=h.font)!==null&&nt!==void 0?nt:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(rt,st),d.node.addAnnot(it)},e.prototype.needsAppearancesUpdate=function(){var d;if(this.isDirty())return!0;for(var h=this.acroField.getWidgets(),g=0,_=h.length;g<_;g++){var j=h[g],$=((d=j.getAppearances())===null||d===void 0?void 0:d.normal)instanceof PDFStream;if(!$)return!0}return!1},e.prototype.defaultUpdateAppearances=function(d){assertIs(d,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(d)},e.prototype.updateAppearances=function(d,h){assertIs(d,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(h,"provider",[Function]);for(var g=this.acroField.getWidgets(),_=0,j=g.length;_<j;_++){var $=g[_];this.updateWidgetAppearance($,d,h)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(d,h,g){var _=g??defaultOptionListAppearanceProvider,j=normalizeAppearance(_(this,d,h));this.updateWidgetAppearanceWithFont(d,h,j)},e.of=function(d,h,g){return new e(d,h,g)},e}(PDFField),PDFRadioGroup=function(s){__extends(e,s);function e(d,h,g){var _=s.call(this,d,h,g)||this;return assertIs(d,"acroRadioButton",[[PDFAcroRadioButton,"PDFAcroRadioButton"]]),_.acroField=d,_}return e.prototype.getOptions=function(){var d=this.acroField.getExportValues();if(d){for(var h=new Array(d.length),g=0,_=d.length;g<_;g++)h[g]=d[g].decodeText();return h}for(var j=this.acroField.getOnValues(),$=new Array(j.length),g=0,_=$.length;g<_;g++)$[g]=j[g].decodeText();return $},e.prototype.getSelected=function(){var d=this.acroField.getValue();if(d!==PDFName.of("Off")){var h=this.acroField.getExportValues();if(h){for(var g=this.acroField.getOnValues(),_=0,j=g.length;_<j;_++)if(g[_]===d)return h[_].decodeText()}return d.decodeText()}},e.prototype.select=function(d){assertIs(d,"option",["string"]);var h=this.getOptions();assertIsOneOf(d,"option",h),this.markAsDirty();var g=this.acroField.getOnValues(),_=this.acroField.getExportValues();if(_)for(var j=0,$=_.length;j<$;j++)_[j].decodeText()===d&&this.acroField.setValue(g[j]);else for(var j=0,$=g.length;j<$;j++){var et=g[j];et.decodeText()===d&&this.acroField.setValue(et)}},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(PDFName.of("Off"))},e.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(AcroButtonFlags.NoToggleToOff)},e.prototype.enableOffToggling=function(){this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff,!1)},e.prototype.disableOffToggling=function(){this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff,!0)},e.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(AcroButtonFlags.RadiosInUnison)},e.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison,!1)},e.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison,!0)},e.prototype.addOptionToPage=function(d,h,g){var _,j,$,et,tt,nt,rt,it,st;assertIs(d,"option",["string"]),assertIs(h,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(g);var ot=this.createWidget({x:(_=g==null?void 0:g.x)!==null&&_!==void 0?_:0,y:(j=g==null?void 0:g.y)!==null&&j!==void 0?j:0,width:($=g==null?void 0:g.width)!==null&&$!==void 0?$:50,height:(et=g==null?void 0:g.height)!==null&&et!==void 0?et:50,textColor:(tt=g==null?void 0:g.textColor)!==null&&tt!==void 0?tt:rgb(0,0,0),backgroundColor:(nt=g==null?void 0:g.backgroundColor)!==null&&nt!==void 0?nt:rgb(1,1,1),borderColor:(rt=g==null?void 0:g.borderColor)!==null&&rt!==void 0?rt:rgb(0,0,0),borderWidth:(it=g==null?void 0:g.borderWidth)!==null&&it!==void 0?it:1,rotate:(st=g==null?void 0:g.rotate)!==null&&st!==void 0?st:degrees(0),hidden:g==null?void 0:g.hidden,page:h.ref}),lt=this.doc.context.register(ot.dict),dt=this.acroField.addWidgetWithOpt(lt,PDFHexString.fromText(d),!this.isMutuallyExclusive());ot.setAppearanceState(PDFName.of("Off")),this.updateWidgetAppearance(ot,dt),h.node.addAnnot(lt)},e.prototype.needsAppearancesUpdate=function(){for(var d,h=this.acroField.getWidgets(),g=0,_=h.length;g<_;g++){var j=h[g],$=j.getAppearanceState(),et=(d=j.getAppearances())===null||d===void 0?void 0:d.normal;if(!(et instanceof PDFDict)||$&&!et.has($))return!0}return!1},e.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},e.prototype.updateAppearances=function(d){assertOrUndefined(d,"provider",[Function]);for(var h=this.acroField.getWidgets(),g=0,_=h.length;g<_;g++){var j=h[g],$=j.getOnValue();$&&this.updateWidgetAppearance(j,$,d)}},e.prototype.updateWidgetAppearance=function(d,h,g){var _=g??defaultRadioGroupAppearanceProvider,j=normalizeAppearance(_(this,d));this.updateOnOffWidgetAppearance(d,h,j)},e.of=function(d,h,g){return new e(d,h,g)},e}(PDFField),PDFSignature=function(s){__extends(e,s);function e(d,h,g){var _=s.call(this,d,h,g)||this;return assertIs(d,"acroSignature",[[PDFAcroSignature,"PDFAcroSignature"]]),_.acroField=d,_}return e.prototype.needsAppearancesUpdate=function(){return!1},e.of=function(d,h,g){return new e(d,h,g)},e}(PDFField),PDFTextField=function(s){__extends(e,s);function e(d,h,g){var _=s.call(this,d,h,g)||this;return assertIs(d,"acroText",[[PDFAcroText,"PDFAcroText"]]),_.acroField=d,_}return e.prototype.getText=function(){var d=this.acroField.getValue();if(!d&&this.isRichFormatted())throw new RichTextFieldReadError(this.getName());return d==null?void 0:d.decodeText()},e.prototype.setText=function(d){assertOrUndefined(d,"text",["string"]);var h=this.getMaxLength();if(h!==void 0&&d&&d.length>h)throw new ExceededMaxLengthError(d.length,h,this.getName());this.markAsDirty(),this.disableRichFormatting(),d?this.acroField.setValue(PDFHexString.fromText(d)):this.acroField.removeValue()},e.prototype.getAlignment=function(){var d=this.acroField.getQuadding();return d===0?TextAlignment.Left:d===1?TextAlignment.Center:d===2?TextAlignment.Right:TextAlignment.Left},e.prototype.setAlignment=function(d){assertIsOneOf(d,"alignment",TextAlignment),this.markAsDirty(),this.acroField.setQuadding(d)},e.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},e.prototype.setMaxLength=function(d){if(assertRangeOrUndefined(d,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),d===void 0)this.acroField.removeMaxLength();else{var h=this.getText();if(h&&h.length>d)throw new InvalidMaxLengthError(h.length,d,this.getName());this.acroField.setMaxLength(d)}},e.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},e.prototype.setImage=function(d){for(var h=this.getAlignment(),g=h===TextAlignment.Center?ImageAlignment.Center:h===TextAlignment.Right?ImageAlignment.Right:ImageAlignment.Left,_=this.acroField.getWidgets(),j=0,$=_.length;j<$;j++){var et=_[j],tt=this.createImageAppearanceStream(et,d,g);this.updateWidgetAppearances(et,{normal:tt})}this.markAsClean()},e.prototype.setFontSize=function(d){assertPositive(d,"fontSize"),this.acroField.setFontSize(d),this.markAsDirty()},e.prototype.isMultiline=function(){return this.acroField.hasFlag(AcroTextFlags.Multiline)},e.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Multiline,!0)},e.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Multiline,!1)},e.prototype.isPassword=function(){return this.acroField.hasFlag(AcroTextFlags.Password)},e.prototype.enablePassword=function(){this.acroField.setFlagTo(AcroTextFlags.Password,!0)},e.prototype.disablePassword=function(){this.acroField.setFlagTo(AcroTextFlags.Password,!1)},e.prototype.isFileSelector=function(){return this.acroField.hasFlag(AcroTextFlags.FileSelect)},e.prototype.enableFileSelection=function(){this.acroField.setFlagTo(AcroTextFlags.FileSelect,!0)},e.prototype.disableFileSelection=function(){this.acroField.setFlagTo(AcroTextFlags.FileSelect,!1)},e.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(AcroTextFlags.DoNotSpellCheck)},e.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotSpellCheck,!1)},e.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotSpellCheck,!0)},e.prototype.isScrollable=function(){return!this.acroField.hasFlag(AcroTextFlags.DoNotScroll)},e.prototype.enableScrolling=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotScroll,!1)},e.prototype.disableScrolling=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotScroll,!0)},e.prototype.isCombed=function(){return this.acroField.hasFlag(AcroTextFlags.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&this.getMaxLength()!==void 0},e.prototype.enableCombing=function(){if(this.getMaxLength()===void 0){var d="PDFTextFields must have a max length in order to be combed";console.warn(d)}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(AcroTextFlags.Comb,!0)},e.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Comb,!1)},e.prototype.isRichFormatted=function(){return this.acroField.hasFlag(AcroTextFlags.RichText)},e.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(AcroTextFlags.RichText,!0)},e.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(AcroTextFlags.RichText,!1)},e.prototype.addToPage=function(d,h){var g,_,j,$,et,tt,nt;assertIs(d,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(h),h||(h={}),"textColor"in h||(h.textColor=rgb(0,0,0)),"backgroundColor"in h||(h.backgroundColor=rgb(1,1,1)),"borderColor"in h||(h.borderColor=rgb(0,0,0)),"borderWidth"in h||(h.borderWidth=1);var rt=this.createWidget({x:(g=h.x)!==null&&g!==void 0?g:0,y:(_=h.y)!==null&&_!==void 0?_:0,width:(j=h.width)!==null&&j!==void 0?j:200,height:($=h.height)!==null&&$!==void 0?$:50,textColor:h.textColor,backgroundColor:h.backgroundColor,borderColor:h.borderColor,borderWidth:(et=h.borderWidth)!==null&&et!==void 0?et:0,rotate:(tt=h.rotate)!==null&&tt!==void 0?tt:degrees(0),hidden:h.hidden,page:d.ref}),it=this.doc.context.register(rt.dict);this.acroField.addWidget(it);var st=(nt=h.font)!==null&&nt!==void 0?nt:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(rt,st),d.node.addAnnot(it)},e.prototype.needsAppearancesUpdate=function(){var d;if(this.isDirty())return!0;for(var h=this.acroField.getWidgets(),g=0,_=h.length;g<_;g++){var j=h[g],$=((d=j.getAppearances())===null||d===void 0?void 0:d.normal)instanceof PDFStream;if(!$)return!0}return!1},e.prototype.defaultUpdateAppearances=function(d){assertIs(d,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(d)},e.prototype.updateAppearances=function(d,h){assertIs(d,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(h,"provider",[Function]);for(var g=this.acroField.getWidgets(),_=0,j=g.length;_<j;_++){var $=g[_];this.updateWidgetAppearance($,d,h)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(d,h,g){var _=g??defaultTextFieldAppearanceProvider,j=normalizeAppearance(_(this,d,h));this.updateWidgetAppearanceWithFont(d,h,j)},e.of=function(d,h,g){return new e(d,h,g)},e}(PDFField),StandardFonts;(function(s){s.Courier="Courier",s.CourierBold="Courier-Bold",s.CourierOblique="Courier-Oblique",s.CourierBoldOblique="Courier-BoldOblique",s.Helvetica="Helvetica",s.HelveticaBold="Helvetica-Bold",s.HelveticaOblique="Helvetica-Oblique",s.HelveticaBoldOblique="Helvetica-BoldOblique",s.TimesRoman="Times-Roman",s.TimesRomanBold="Times-Bold",s.TimesRomanItalic="Times-Italic",s.TimesRomanBoldItalic="Times-BoldItalic",s.Symbol="Symbol",s.ZapfDingbats="ZapfDingbats"})(StandardFonts||(StandardFonts={}));var PDFForm=function(){function s(e,d){var h=this;this.embedDefaultFont=function(){return h.doc.embedStandardFont(StandardFonts.Helvetica)},assertIs(e,"acroForm",[[PDFAcroForm,"PDFAcroForm"]]),assertIs(d,"doc",[[PDFDocument,"PDFDocument"]]),this.acroForm=e,this.doc=d,this.dirtyFields=new Set,this.defaultFontCache=Cache.populatedBy(this.embedDefaultFont)}return s.prototype.hasXFA=function(){return this.acroForm.dict.has(PDFName.of("XFA"))},s.prototype.deleteXFA=function(){this.acroForm.dict.delete(PDFName.of("XFA"))},s.prototype.getFields=function(){for(var e=this.acroForm.getAllFields(),d=[],h=0,g=e.length;h<g;h++){var _=e[h],j=_[0],$=_[1],et=convertToPDFField(j,$,this.doc);et&&d.push(et)}return d},s.prototype.getFieldMaybe=function(e){assertIs(e,"name",["string"]);for(var d=this.getFields(),h=0,g=d.length;h<g;h++){var _=d[h];if(_.getName()===e)return _}},s.prototype.getField=function(e){assertIs(e,"name",["string"]);var d=this.getFieldMaybe(e);if(d)return d;throw new NoSuchFieldError(e)},s.prototype.getButton=function(e){assertIs(e,"name",["string"]);var d=this.getField(e);if(d instanceof PDFButton)return d;throw new UnexpectedFieldTypeError(e,PDFButton,d)},s.prototype.getCheckBox=function(e){assertIs(e,"name",["string"]);var d=this.getField(e);if(d instanceof PDFCheckBox)return d;throw new UnexpectedFieldTypeError(e,PDFCheckBox,d)},s.prototype.getDropdown=function(e){assertIs(e,"name",["string"]);var d=this.getField(e);if(d instanceof PDFDropdown)return d;throw new UnexpectedFieldTypeError(e,PDFDropdown,d)},s.prototype.getOptionList=function(e){assertIs(e,"name",["string"]);var d=this.getField(e);if(d instanceof PDFOptionList)return d;throw new UnexpectedFieldTypeError(e,PDFOptionList,d)},s.prototype.getRadioGroup=function(e){assertIs(e,"name",["string"]);var d=this.getField(e);if(d instanceof PDFRadioGroup)return d;throw new UnexpectedFieldTypeError(e,PDFRadioGroup,d)},s.prototype.getSignature=function(e){assertIs(e,"name",["string"]);var d=this.getField(e);if(d instanceof PDFSignature)return d;throw new UnexpectedFieldTypeError(e,PDFSignature,d)},s.prototype.getTextField=function(e){assertIs(e,"name",["string"]);var d=this.getField(e);if(d instanceof PDFTextField)return d;throw new UnexpectedFieldTypeError(e,PDFTextField,d)},s.prototype.createButton=function(e){assertIs(e,"name",["string"]);var d=splitFieldName(e),h=this.findOrCreateNonTerminals(d.nonTerminal),g=PDFAcroPushButton.create(this.doc.context);return g.setPartialName(d.terminal),addFieldToParent(h,[g,g.ref],d.terminal),PDFButton.of(g,g.ref,this.doc)},s.prototype.createCheckBox=function(e){assertIs(e,"name",["string"]);var d=splitFieldName(e),h=this.findOrCreateNonTerminals(d.nonTerminal),g=PDFAcroCheckBox.create(this.doc.context);return g.setPartialName(d.terminal),addFieldToParent(h,[g,g.ref],d.terminal),PDFCheckBox.of(g,g.ref,this.doc)},s.prototype.createDropdown=function(e){assertIs(e,"name",["string"]);var d=splitFieldName(e),h=this.findOrCreateNonTerminals(d.nonTerminal),g=PDFAcroComboBox.create(this.doc.context);return g.setPartialName(d.terminal),addFieldToParent(h,[g,g.ref],d.terminal),PDFDropdown.of(g,g.ref,this.doc)},s.prototype.createOptionList=function(e){assertIs(e,"name",["string"]);var d=splitFieldName(e),h=this.findOrCreateNonTerminals(d.nonTerminal),g=PDFAcroListBox.create(this.doc.context);return g.setPartialName(d.terminal),addFieldToParent(h,[g,g.ref],d.terminal),PDFOptionList.of(g,g.ref,this.doc)},s.prototype.createRadioGroup=function(e){assertIs(e,"name",["string"]);var d=splitFieldName(e),h=this.findOrCreateNonTerminals(d.nonTerminal),g=PDFAcroRadioButton.create(this.doc.context);return g.setPartialName(d.terminal),addFieldToParent(h,[g,g.ref],d.terminal),PDFRadioGroup.of(g,g.ref,this.doc)},s.prototype.createTextField=function(e){assertIs(e,"name",["string"]);var d=splitFieldName(e),h=this.findOrCreateNonTerminals(d.nonTerminal),g=PDFAcroText.create(this.doc.context);return g.setPartialName(d.terminal),addFieldToParent(h,[g,g.ref],d.terminal),PDFTextField.of(g,g.ref,this.doc)},s.prototype.flatten=function(e){e===void 0&&(e={updateFieldAppearances:!0}),e.updateFieldAppearances&&this.updateFieldAppearances();for(var d=this.getFields(),h=0,g=d.length;h<g;h++){for(var _=d[h],j=_.acroField.getWidgets(),$=0,et=j.length;$<et;$++){var tt=j[$],nt=this.findWidgetPage(tt),rt=this.findWidgetAppearanceRef(_,tt),it=nt.node.newXObject("FlatWidget",rt),st=tt.getRectangle(),ot=__spreadArrays([pushGraphicsState(),translate(st.x,st.y)],rotateInPlace(__assign(__assign({},st),{rotation:0})),[drawObject(it),popGraphicsState()]).filter(Boolean);nt.pushOperators.apply(nt,ot)}this.removeField(_)}},s.prototype.removeField=function(e){for(var d=e.acroField.getWidgets(),h=new Set,g=0,_=d.length;g<_;g++){var j=d[g],$=this.findWidgetAppearanceRef(e,j),et=this.findWidgetPage(j);h.add(et),et.node.removeAnnot($)}h.forEach(function(st){return st.node.removeAnnot(e.ref)}),this.acroForm.removeField(e.acroField);for(var tt=e.acroField.normalizedEntries().Kids,nt=tt.size(),rt=0;rt<nt;rt++){var it=tt.get(rt);it instanceof PDFRef&&this.doc.context.delete(it)}this.doc.context.delete(e.ref)},s.prototype.updateFieldAppearances=function(e){assertOrUndefined(e,"font",[[PDFFont,"PDFFont"]]),e=e??this.getDefaultFont();for(var d=this.getFields(),h=0,g=d.length;h<g;h++){var _=d[h];_.needsAppearancesUpdate()&&_.defaultUpdateAppearances(e)}},s.prototype.markFieldAsDirty=function(e){assertOrUndefined(e,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.add(e)},s.prototype.markFieldAsClean=function(e){assertOrUndefined(e,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.delete(e)},s.prototype.fieldIsDirty=function(e){return assertOrUndefined(e,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.has(e)},s.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},s.prototype.findWidgetPage=function(e){var d=e.P(),h=this.doc.getPages().find(function(_){return _.ref===d});if(h===void 0){var g=this.doc.context.getObjectRef(e.dict);if(g===void 0)throw new Error("Could not find PDFRef for PDFObject");if(h=this.doc.findPageForAnnotationRef(g),h===void 0)throw new Error("Could not find page for PDFRef "+g)}return h},s.prototype.findWidgetAppearanceRef=function(e,d){var h,g=d.getNormalAppearance();if(g instanceof PDFDict&&(e instanceof PDFCheckBox||e instanceof PDFRadioGroup)){var _=e.acroField.getValue(),j=(h=g.get(_))!==null&&h!==void 0?h:g.get(PDFName.of("Off"));j instanceof PDFRef&&(g=j)}if(!(g instanceof PDFRef)){var $=e.getName();throw new Error("Failed to extract appearance ref for: "+$)}return g},s.prototype.findOrCreateNonTerminals=function(e){for(var d=[this.acroForm],h=0,g=e.length;h<g;h++){var _=e[h];if(!_)throw new InvalidFieldNamePartError(_);var j=d[0],$=d[1],et=this.findNonTerminal(_,j);if(et)d=et;else{var tt=PDFAcroNonTerminal.create(this.doc.context);tt.setPartialName(_),tt.setParent($);var nt=this.doc.context.register(tt.dict);j.addField(nt),d=[tt,nt]}}return d},s.prototype.findNonTerminal=function(e,d){for(var h=d instanceof PDFAcroForm?this.acroForm.getFields():createPDFAcroFields(d.Kids()),g=0,_=h.length;g<_;g++){var j=h[g],$=j[0],et=j[1];if($.getPartialName()===e){if($ instanceof PDFAcroNonTerminal)return[$,et];throw new FieldAlreadyExistsError(e)}}},s.of=function(e,d){return new s(e,d)},s}(),convertToPDFField=function(s,e,d){if(s instanceof PDFAcroPushButton)return PDFButton.of(s,e,d);if(s instanceof PDFAcroCheckBox)return PDFCheckBox.of(s,e,d);if(s instanceof PDFAcroComboBox)return PDFDropdown.of(s,e,d);if(s instanceof PDFAcroListBox)return PDFOptionList.of(s,e,d);if(s instanceof PDFAcroText)return PDFTextField.of(s,e,d);if(s instanceof PDFAcroRadioButton)return PDFRadioGroup.of(s,e,d);if(s instanceof PDFAcroSignature)return PDFSignature.of(s,e,d)},splitFieldName=function(s){if(s.length===0)throw new Error("PDF field names must not be empty strings");for(var e=s.split("."),d=0,h=e.length;d<h;d++)if(e[d]==="")throw new Error('Periods in PDF field names must be separated by at least one character: "'+s+'"');return e.length===1?{nonTerminal:[],terminal:e[0]}:{nonTerminal:e.slice(0,e.length-1),terminal:e[e.length-1]}},addFieldToParent=function(s,e,d){for(var h=s[0],g=s[1],_=e[0],j=e[1],$=h.normalizedEntries(),et=createPDFAcroFields("Kids"in $?$.Kids:$.Fields),tt=0,nt=et.length;tt<nt;tt++)if(et[tt][0].getPartialName()===d)throw new FieldAlreadyExistsError(d);h.addField(j),_.setParent(g)},PageSizes={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],Executive:[521.86,756],Folio:[612,936],Legal:[612,1008],Letter:[612,792],Tabloid:[792,1224]},ParseSpeeds;(function(s){s[s.Fastest=1/0]="Fastest",s[s.Fast=1500]="Fast",s[s.Medium=500]="Medium",s[s.Slow=100]="Slow"})(ParseSpeeds||(ParseSpeeds={}));var PDFEmbeddedFile=function(){function s(e,d,h){this.alreadyEmbedded=!1,this.ref=e,this.doc=d,this.embedder=h}return s.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){var e,d,h,g,_;return __generator(this,function(j){switch(j.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e=j.sent(),this.doc.catalog.has(PDFName.of("Names"))||this.doc.catalog.set(PDFName.of("Names"),this.doc.context.obj({})),d=this.doc.catalog.lookup(PDFName.of("Names"),PDFDict),d.has(PDFName.of("EmbeddedFiles"))||d.set(PDFName.of("EmbeddedFiles"),this.doc.context.obj({})),h=d.lookup(PDFName.of("EmbeddedFiles"),PDFDict),h.has(PDFName.of("Names"))||h.set(PDFName.of("Names"),this.doc.context.obj([])),g=h.lookup(PDFName.of("Names"),PDFArray),g.push(PDFHexString.fromText(this.embedder.fileName)),g.push(e),this.doc.catalog.has(PDFName.of("AF"))||this.doc.catalog.set(PDFName.of("AF"),this.doc.context.obj([])),_=this.doc.catalog.lookup(PDFName.of("AF"),PDFArray),_.push(e),this.alreadyEmbedded=!0,j.label=2;case 2:return[2]}})})},s.of=function(e,d,h){return new s(e,d,h)},s}(),PDFJavaScript=function(){function s(e,d,h){this.alreadyEmbedded=!1,this.ref=e,this.doc=d,this.embedder=h}return s.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){var e,d,h,g,_,j,$;return __generator(this,function(et){switch(et.label){case 0:return this.alreadyEmbedded?[3,2]:(e=this.doc,d=e.catalog,h=e.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:g=et.sent(),d.has(PDFName.of("Names"))||d.set(PDFName.of("Names"),h.obj({})),_=d.lookup(PDFName.of("Names"),PDFDict),_.has(PDFName.of("JavaScript"))||_.set(PDFName.of("JavaScript"),h.obj({})),j=_.lookup(PDFName.of("JavaScript"),PDFDict),j.has(PDFName.of("Names"))||j.set(PDFName.of("Names"),h.obj([])),$=j.lookup(PDFName.of("Names"),PDFArray),$.push(PDFHexString.fromText(this.embedder.scriptName)),$.push(g),this.alreadyEmbedded=!0,et.label=2;case 2:return[2]}})})},s.of=function(e,d,h){return new s(e,d,h)},s}(),JavaScriptEmbedder=function(){function s(e,d){this.script=e,this.scriptName=d}return s.for=function(e,d){return new s(e,d)},s.prototype.embedIntoContext=function(e,d){return __awaiter(this,void 0,void 0,function(){var h;return __generator(this,function(g){return h=e.obj({Type:"Action",S:"JavaScript",JS:PDFHexString.fromText(this.script)}),d?(e.assign(d,h),[2,d]):[2,e.register(h)]})})},s}(),PDFDocument=function(){function s(e,d,h){var g=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var _=[];return g.catalog.Pages().traverse(function(j,$){if(j instanceof PDFPageLeaf){var et=g.pageMap.get(j);et||(et=PDFPage.of(j,$,g),g.pageMap.set(j,et)),_.push(et)}}),_},this.getOrCreateForm=function(){var _=g.catalog.getOrCreateAcroForm();return PDFForm.of(_,g)},assertIs(e,"context",[[PDFContext,"PDFContext"]]),assertIs(d,"ignoreEncryption",["boolean"]),this.context=e,this.catalog=e.lookup(e.trailerInfo.Root),this.isEncrypted=!!e.lookup(e.trailerInfo.Encrypt),this.pageCache=Cache.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=Cache.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!d&&this.isEncrypted)throw new EncryptedPDFError;h&&this.updateInfoDict()}return s.load=function(e,d){return d===void 0&&(d={}),__awaiter(this,void 0,void 0,function(){var h,g,_,j,$,et,tt,nt,rt,it,st,ot;return __generator(this,function(lt){switch(lt.label){case 0:return h=d.ignoreEncryption,g=h===void 0?!1:h,_=d.parseSpeed,j=_===void 0?ParseSpeeds.Slow:_,$=d.throwOnInvalidObject,et=$===void 0?!1:$,tt=d.updateMetadata,nt=tt===void 0?!0:tt,rt=d.capNumbers,it=rt===void 0?!1:rt,assertIs(e,"pdf",["string",Uint8Array,ArrayBuffer]),assertIs(g,"ignoreEncryption",["boolean"]),assertIs(j,"parseSpeed",["number"]),assertIs(et,"throwOnInvalidObject",["boolean"]),st=toUint8Array(e),[4,PDFParser.forBytesWithOptions(st,j,et,it).parseDocument()];case 1:return ot=lt.sent(),[2,new s(ot,g,nt)]}})})},s.create=function(e){return e===void 0&&(e={}),__awaiter(this,void 0,void 0,function(){var d,h,g,_,j,$;return __generator(this,function(et){return d=e.updateMetadata,h=d===void 0?!0:d,g=PDFContext.create(),_=PDFPageTree.withContext(g),j=g.register(_),$=PDFCatalog.withContextAndPages(g,j),g.trailerInfo.Root=g.register($),[2,new s(g,!1,h)]})})},s.prototype.registerFontkit=function(e){this.fontkit=e},s.prototype.getForm=function(){var e=this.formCache.access();return e.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),e.deleteXFA()),e},s.prototype.getTitle=function(){var e=this.getInfoDict().lookup(PDFName.Title);if(e)return assertIsLiteralOrHexString(e),e.decodeText()},s.prototype.getAuthor=function(){var e=this.getInfoDict().lookup(PDFName.Author);if(e)return assertIsLiteralOrHexString(e),e.decodeText()},s.prototype.getSubject=function(){var e=this.getInfoDict().lookup(PDFName.Subject);if(e)return assertIsLiteralOrHexString(e),e.decodeText()},s.prototype.getKeywords=function(){var e=this.getInfoDict().lookup(PDFName.Keywords);if(e)return assertIsLiteralOrHexString(e),e.decodeText()},s.prototype.getCreator=function(){var e=this.getInfoDict().lookup(PDFName.Creator);if(e)return assertIsLiteralOrHexString(e),e.decodeText()},s.prototype.getProducer=function(){var e=this.getInfoDict().lookup(PDFName.Producer);if(e)return assertIsLiteralOrHexString(e),e.decodeText()},s.prototype.getCreationDate=function(){var e=this.getInfoDict().lookup(PDFName.CreationDate);if(e)return assertIsLiteralOrHexString(e),e.decodeDate()},s.prototype.getModificationDate=function(){var e=this.getInfoDict().lookup(PDFName.ModDate);if(e)return assertIsLiteralOrHexString(e),e.decodeDate()},s.prototype.setTitle=function(e,d){assertIs(e,"title",["string"]);var h=PDFName.of("Title");if(this.getInfoDict().set(h,PDFHexString.fromText(e)),d!=null&&d.showInWindowTitleBar){var g=this.catalog.getOrCreateViewerPreferences();g.setDisplayDocTitle(!0)}},s.prototype.setAuthor=function(e){assertIs(e,"author",["string"]);var d=PDFName.of("Author");this.getInfoDict().set(d,PDFHexString.fromText(e))},s.prototype.setSubject=function(e){assertIs(e,"author",["string"]);var d=PDFName.of("Subject");this.getInfoDict().set(d,PDFHexString.fromText(e))},s.prototype.setKeywords=function(e){assertIs(e,"keywords",[Array]);var d=PDFName.of("Keywords");this.getInfoDict().set(d,PDFHexString.fromText(e.join(" ")))},s.prototype.setCreator=function(e){assertIs(e,"creator",["string"]);var d=PDFName.of("Creator");this.getInfoDict().set(d,PDFHexString.fromText(e))},s.prototype.setProducer=function(e){assertIs(e,"creator",["string"]);var d=PDFName.of("Producer");this.getInfoDict().set(d,PDFHexString.fromText(e))},s.prototype.setLanguage=function(e){assertIs(e,"language",["string"]);var d=PDFName.of("Lang");this.catalog.set(d,PDFString.of(e))},s.prototype.setCreationDate=function(e){assertIs(e,"creationDate",[[Date,"Date"]]);var d=PDFName.of("CreationDate");this.getInfoDict().set(d,PDFString.fromDate(e))},s.prototype.setModificationDate=function(e){assertIs(e,"modificationDate",[[Date,"Date"]]);var d=PDFName.of("ModDate");this.getInfoDict().set(d,PDFString.fromDate(e))},s.prototype.getPageCount=function(){return this.pageCount===void 0&&(this.pageCount=this.getPages().length),this.pageCount},s.prototype.getPages=function(){return this.pageCache.access()},s.prototype.getPage=function(e){var d=this.getPages();return assertRange(e,"index",0,d.length-1),d[e]},s.prototype.getPageIndices=function(){return range(0,this.getPageCount())},s.prototype.removePage=function(e){var d=this.getPageCount();if(this.pageCount===0)throw new RemovePageFromEmptyDocumentError;assertRange(e,"index",0,d-1),this.catalog.removeLeafNode(e),this.pageCount=d-1},s.prototype.addPage=function(e){return assertIs(e,"page",["undefined",[PDFPage,"PDFPage"],Array]),this.insertPage(this.getPageCount(),e)},s.prototype.insertPage=function(e,d){var h=this.getPageCount();if(assertRange(e,"index",0,h),assertIs(d,"page",["undefined",[PDFPage,"PDFPage"],Array]),!d||Array.isArray(d)){var g=Array.isArray(d)?d:PageSizes.A4;d=PDFPage.create(this),d.setSize.apply(d,g)}else if(d.doc!==this)throw new ForeignPageError;var _=this.catalog.insertLeafNode(d.ref,e);return d.node.setParent(_),this.pageMap.set(d.node,d),this.pageCache.invalidate(),this.pageCount=h+1,d},s.prototype.copyPages=function(e,d){return __awaiter(this,void 0,void 0,function(){var h,g,_,j,$,et,tt,nt;return __generator(this,function(rt){switch(rt.label){case 0:return assertIs(e,"srcDoc",[[s,"PDFDocument"]]),assertIs(d,"indices",[Array]),[4,e.flush()];case 1:for(rt.sent(),h=PDFObjectCopier.for(e.context,this.context),g=e.getPages(),_=new Array(d.length),j=0,$=d.length;j<$;j++)et=g[d[j]],tt=h.copy(et.node),nt=this.context.register(tt),_[j]=PDFPage.of(tt,nt,this);return[2,_]}})})},s.prototype.copy=function(){return __awaiter(this,void 0,void 0,function(){var e,d,h,g;return __generator(this,function(_){switch(_.label){case 0:return[4,s.create()];case 1:return e=_.sent(),[4,e.copyPages(this,this.getPageIndices())];case 2:for(d=_.sent(),h=0,g=d.length;h<g;h++)e.addPage(d[h]);return this.getAuthor()!==void 0&&e.setAuthor(this.getAuthor()),this.getCreationDate()!==void 0&&e.setCreationDate(this.getCreationDate()),this.getCreator()!==void 0&&e.setCreator(this.getCreator()),this.getModificationDate()!==void 0&&e.setModificationDate(this.getModificationDate()),this.getProducer()!==void 0&&e.setProducer(this.getProducer()),this.getSubject()!==void 0&&e.setSubject(this.getSubject()),this.getTitle()!==void 0&&e.setTitle(this.getTitle()),e.defaultWordBreaks=this.defaultWordBreaks,[2,e]}})})},s.prototype.addJavaScript=function(e,d){assertIs(e,"name",["string"]),assertIs(d,"script",["string"]);var h=JavaScriptEmbedder.for(d,e),g=this.context.nextRef(),_=PDFJavaScript.of(g,this,h);this.javaScripts.push(_)},s.prototype.attach=function(e,d,h){return h===void 0&&(h={}),__awaiter(this,void 0,void 0,function(){var g,_,j,$;return __generator(this,function(et){return assertIs(e,"attachment",["string",Uint8Array,ArrayBuffer]),assertIs(d,"name",["string"]),assertOrUndefined(h.mimeType,"mimeType",["string"]),assertOrUndefined(h.description,"description",["string"]),assertOrUndefined(h.creationDate,"options.creationDate",[Date]),assertOrUndefined(h.modificationDate,"options.modificationDate",[Date]),assertIsOneOfOrUndefined(h.afRelationship,"options.afRelationship",AFRelationship),g=toUint8Array(e),_=FileEmbedder.for(g,d,h),j=this.context.nextRef(),$=PDFEmbeddedFile.of(j,this,_),this.embeddedFiles.push($),[2]})})},s.prototype.embedFont=function(e,d){return d===void 0&&(d={}),__awaiter(this,void 0,void 0,function(){var h,g,_,j,$,et,tt,nt,rt,it;return __generator(this,function(st){switch(st.label){case 0:return h=d.subset,g=h===void 0?!1:h,_=d.customName,j=d.features,assertIs(e,"font",["string",Uint8Array,ArrayBuffer]),assertIs(g,"subset",["boolean"]),isStandardFont(e)?($=StandardFontEmbedder.for(e,_),[3,7]):[3,1];case 1:return canBeConvertedToUint8Array(e)?(et=toUint8Array(e),tt=this.assertFontkit(),g?[4,CustomFontSubsetEmbedder.for(tt,et,_,j)]:[3,3]):[3,6];case 2:return nt=st.sent(),[3,5];case 3:return[4,CustomFontEmbedder.for(tt,et,_,j)];case 4:nt=st.sent(),st.label=5;case 5:return $=nt,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return rt=this.context.nextRef(),it=PDFFont.of(rt,this,$),this.fonts.push(it),[2,it]}})})},s.prototype.embedStandardFont=function(e,d){if(assertIs(e,"font",["string"]),!isStandardFont(e))throw new TypeError("`font` must be one of type `StandardFonts`");var h=StandardFontEmbedder.for(e,d),g=this.context.nextRef(),_=PDFFont.of(g,this,h);return this.fonts.push(_),_},s.prototype.embedJpg=function(e){return __awaiter(this,void 0,void 0,function(){var d,h,g,_;return __generator(this,function(j){switch(j.label){case 0:return assertIs(e,"jpg",["string",Uint8Array,ArrayBuffer]),d=toUint8Array(e),[4,JpegEmbedder.for(d)];case 1:return h=j.sent(),g=this.context.nextRef(),_=PDFImage.of(g,this,h),this.images.push(_),[2,_]}})})},s.prototype.embedPng=function(e){return __awaiter(this,void 0,void 0,function(){var d,h,g,_;return __generator(this,function(j){switch(j.label){case 0:return assertIs(e,"png",["string",Uint8Array,ArrayBuffer]),d=toUint8Array(e),[4,PngEmbedder.for(d)];case 1:return h=j.sent(),g=this.context.nextRef(),_=PDFImage.of(g,this,h),this.images.push(_),[2,_]}})})},s.prototype.embedPdf=function(e,d){return d===void 0&&(d=[0]),__awaiter(this,void 0,void 0,function(){var h,g,_;return __generator(this,function(j){switch(j.label){case 0:return assertIs(e,"pdf",["string",Uint8Array,ArrayBuffer,[s,"PDFDocument"]]),assertIs(d,"indices",[Array]),e instanceof s?(g=e,[3,3]):[3,1];case 1:return[4,s.load(e)];case 2:g=j.sent(),j.label=3;case 3:return h=g,_=pluckIndices(h.getPages(),d),[2,this.embedPages(_)]}})})},s.prototype.embedPage=function(e,d,h){return __awaiter(this,void 0,void 0,function(){var g;return __generator(this,function(_){switch(_.label){case 0:return assertIs(e,"page",[[PDFPage,"PDFPage"]]),[4,this.embedPages([e],[d],[h])];case 1:return g=_.sent()[0],[2,g]}})})},s.prototype.embedPages=function(e,d,h){return d===void 0&&(d=[]),h===void 0&&(h=[]),__awaiter(this,void 0,void 0,function(){var tt,nt,g,_,j,$,et,tt,nt,rt,it,st,ot,lt,dt;return __generator(this,function(at){switch(at.label){case 0:if(e.length===0)return[2,[]];for(tt=0,nt=e.length-1;tt<nt;tt++)if(g=e[tt],_=e[tt+1],g.node.context!==_.node.context)throw new PageEmbeddingMismatchedContextError;j=e[0].node.context,$=j===this.context?function(ut){return ut}:PDFObjectCopier.for(j,this.context).copy,et=new Array(e.length),tt=0,nt=e.length,at.label=1;case 1:return tt<nt?(rt=$(e[tt].node),it=d[tt],st=h[tt],[4,PDFPageEmbedder.for(rt,it,st)]):[3,4];case 2:ot=at.sent(),lt=this.context.nextRef(),et[tt]=PDFEmbeddedPage.of(lt,this,ot),at.label=3;case 3:return tt++,[3,1];case 4:return(dt=this.embeddedPages).push.apply(dt,et),[2,et]}})})},s.prototype.flush=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return e.sent(),[4,this.embedAll(this.images)];case 2:return e.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return e.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return e.sent(),[4,this.embedAll(this.javaScripts)];case 5:return e.sent(),[2]}})})},s.prototype.save=function(e){return e===void 0&&(e={}),__awaiter(this,void 0,void 0,function(){var d,h,g,_,j,$,et,tt,nt,rt;return __generator(this,function(it){switch(it.label){case 0:return d=e.useObjectStreams,h=d===void 0?!0:d,g=e.addDefaultPage,_=g===void 0?!0:g,j=e.objectsPerTick,$=j===void 0?50:j,et=e.updateFieldAppearances,tt=et===void 0?!0:et,assertIs(h,"useObjectStreams",["boolean"]),assertIs(_,"addDefaultPage",["boolean"]),assertIs($,"objectsPerTick",["number"]),assertIs(tt,"updateFieldAppearances",["boolean"]),_&&this.getPageCount()===0&&this.addPage(),tt&&(nt=this.formCache.getValue(),nt&&nt.updateFieldAppearances()),[4,this.flush()];case 1:return it.sent(),rt=h?PDFStreamWriter:PDFWriter,[2,rt.forContext(this.context,$).serializeToBuffer()]}})})},s.prototype.saveAsBase64=function(e){return e===void 0&&(e={}),__awaiter(this,void 0,void 0,function(){var d,h,g,_,j;return __generator(this,function($){switch($.label){case 0:return d=e.dataUri,h=d===void 0?!1:d,g=__rest(e,["dataUri"]),assertIs(h,"dataUri",["boolean"]),[4,this.save(g)];case 1:return _=$.sent(),j=encodeToBase64(_),[2,h?"data:application/pdf;base64,"+j:j]}})})},s.prototype.findPageForAnnotationRef=function(e){for(var d=this.getPages(),h=0,g=d.length;h<g;h++){var _=d[h],j=_.node.Annots();if((j==null?void 0:j.indexOf(e))!==void 0)return _}},s.prototype.embedAll=function(e){return __awaiter(this,void 0,void 0,function(){var d,h;return __generator(this,function(g){switch(g.label){case 0:d=0,h=e.length,g.label=1;case 1:return d<h?[4,e[d].embed()]:[3,4];case 2:g.sent(),g.label=3;case 3:return d++,[3,1];case 4:return[2]}})})},s.prototype.updateInfoDict=function(){var e="pdf-lib (https://github.com/Hopding/pdf-lib)",d=new Date,h=this.getInfoDict();this.setProducer(e),this.setModificationDate(d),h.get(PDFName.of("Creator"))||this.setCreator(e),h.get(PDFName.of("CreationDate"))||this.setCreationDate(d)},s.prototype.getInfoDict=function(){var e=this.context.lookup(this.context.trailerInfo.Info);if(e instanceof PDFDict)return e;var d=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(d),d},s.prototype.assertFontkit=function(){if(!this.fontkit)throw new FontkitNotRegisteredError;return this.fontkit},s}();function assertIsLiteralOrHexString(s){if(!(s instanceof PDFHexString)&&!(s instanceof PDFString))throw new UnexpectedObjectTypeError([PDFHexString,PDFString],s)}var BlendMode;(function(s){s.Normal="Normal",s.Multiply="Multiply",s.Screen="Screen",s.Overlay="Overlay",s.Darken="Darken",s.Lighten="Lighten",s.ColorDodge="ColorDodge",s.ColorBurn="ColorBurn",s.HardLight="HardLight",s.SoftLight="SoftLight",s.Difference="Difference",s.Exclusion="Exclusion"})(BlendMode||(BlendMode={}));var PDFPage=function(){function s(e,d,h){this.fontSize=24,this.fontColor=rgb(0,0,0),this.lineHeight=24,this.x=0,this.y=0,assertIs(e,"leafNode",[[PDFPageLeaf,"PDFPageLeaf"]]),assertIs(d,"ref",[[PDFRef,"PDFRef"]]),assertIs(h,"doc",[[PDFDocument,"PDFDocument"]]),this.node=e,this.ref=d,this.doc=h}return s.prototype.setRotation=function(e){var d=toDegrees$1(e);assertMultiple(d,"degreesAngle",90),this.node.set(PDFName.of("Rotate"),this.doc.context.obj(d))},s.prototype.getRotation=function(){var e=this.node.Rotate();return degrees(e?e.asNumber():0)},s.prototype.setSize=function(e,d){assertIs(e,"width",["number"]),assertIs(d,"height",["number"]);var h=this.getMediaBox();this.setMediaBox(h.x,h.y,e,d);var g=this.getCropBox(),_=this.getBleedBox(),j=this.getTrimBox(),$=this.getArtBox(),et=this.node.CropBox(),tt=this.node.BleedBox(),nt=this.node.TrimBox(),rt=this.node.ArtBox();et&&rectanglesAreEqual(g,h)&&this.setCropBox(h.x,h.y,e,d),tt&&rectanglesAreEqual(_,h)&&this.setBleedBox(h.x,h.y,e,d),nt&&rectanglesAreEqual(j,h)&&this.setTrimBox(h.x,h.y,e,d),rt&&rectanglesAreEqual($,h)&&this.setArtBox(h.x,h.y,e,d)},s.prototype.setWidth=function(e){assertIs(e,"width",["number"]),this.setSize(e,this.getSize().height)},s.prototype.setHeight=function(e){assertIs(e,"height",["number"]),this.setSize(this.getSize().width,e)},s.prototype.setMediaBox=function(e,d,h,g){assertIs(e,"x",["number"]),assertIs(d,"y",["number"]),assertIs(h,"width",["number"]),assertIs(g,"height",["number"]);var _=this.doc.context.obj([e,d,e+h,d+g]);this.node.set(PDFName.MediaBox,_)},s.prototype.setCropBox=function(e,d,h,g){assertIs(e,"x",["number"]),assertIs(d,"y",["number"]),assertIs(h,"width",["number"]),assertIs(g,"height",["number"]);var _=this.doc.context.obj([e,d,e+h,d+g]);this.node.set(PDFName.CropBox,_)},s.prototype.setBleedBox=function(e,d,h,g){assertIs(e,"x",["number"]),assertIs(d,"y",["number"]),assertIs(h,"width",["number"]),assertIs(g,"height",["number"]);var _=this.doc.context.obj([e,d,e+h,d+g]);this.node.set(PDFName.BleedBox,_)},s.prototype.setTrimBox=function(e,d,h,g){assertIs(e,"x",["number"]),assertIs(d,"y",["number"]),assertIs(h,"width",["number"]),assertIs(g,"height",["number"]);var _=this.doc.context.obj([e,d,e+h,d+g]);this.node.set(PDFName.TrimBox,_)},s.prototype.setArtBox=function(e,d,h,g){assertIs(e,"x",["number"]),assertIs(d,"y",["number"]),assertIs(h,"width",["number"]),assertIs(g,"height",["number"]);var _=this.doc.context.obj([e,d,e+h,d+g]);this.node.set(PDFName.ArtBox,_)},s.prototype.getSize=function(){var e=this.getMediaBox(),d=e.width,h=e.height;return{width:d,height:h}},s.prototype.getWidth=function(){return this.getSize().width},s.prototype.getHeight=function(){return this.getSize().height},s.prototype.getMediaBox=function(){var e=this.node.MediaBox();return e.asRectangle()},s.prototype.getCropBox=function(){var e,d=this.node.CropBox();return(e=d==null?void 0:d.asRectangle())!==null&&e!==void 0?e:this.getMediaBox()},s.prototype.getBleedBox=function(){var e,d=this.node.BleedBox();return(e=d==null?void 0:d.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},s.prototype.getTrimBox=function(){var e,d=this.node.TrimBox();return(e=d==null?void 0:d.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},s.prototype.getArtBox=function(){var e,d=this.node.ArtBox();return(e=d==null?void 0:d.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},s.prototype.translateContent=function(e,d){assertIs(e,"x",["number"]),assertIs(d,"y",["number"]),this.node.normalize(),this.getContentStream();var h=this.createContentStream(pushGraphicsState(),translate(e,d)),g=this.doc.context.register(h),_=this.createContentStream(popGraphicsState()),j=this.doc.context.register(_);this.node.wrapContentStreams(g,j)},s.prototype.scale=function(e,d){assertIs(e,"x",["number"]),assertIs(d,"y",["number"]),this.setSize(this.getWidth()*e,this.getHeight()*d),this.scaleContent(e,d),this.scaleAnnotations(e,d)},s.prototype.scaleContent=function(e,d){assertIs(e,"x",["number"]),assertIs(d,"y",["number"]),this.node.normalize(),this.getContentStream();var h=this.createContentStream(pushGraphicsState(),scale(e,d)),g=this.doc.context.register(h),_=this.createContentStream(popGraphicsState()),j=this.doc.context.register(_);this.node.wrapContentStreams(g,j)},s.prototype.scaleAnnotations=function(e,d){assertIs(e,"x",["number"]),assertIs(d,"y",["number"]);var h=this.node.Annots();if(h)for(var g=0;g<h.size();g++){var _=h.lookup(g);_ instanceof PDFDict&&this.scaleAnnot(_,e,d)}},s.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},s.prototype.setFont=function(e){assertIs(e,"font",[[PDFFont,"PDFFont"]]),this.font=e,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},s.prototype.setFontSize=function(e){assertIs(e,"fontSize",["number"]),this.fontSize=e},s.prototype.setFontColor=function(e){assertIs(e,"fontColor",[[Object,"Color"]]),this.fontColor=e},s.prototype.setLineHeight=function(e){assertIs(e,"lineHeight",["number"]),this.lineHeight=e},s.prototype.getPosition=function(){return{x:this.x,y:this.y}},s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.moveTo=function(e,d){assertIs(e,"x",["number"]),assertIs(d,"y",["number"]),this.x=e,this.y=d},s.prototype.moveDown=function(e){assertIs(e,"yDecrease",["number"]),this.y-=e},s.prototype.moveUp=function(e){assertIs(e,"yIncrease",["number"]),this.y+=e},s.prototype.moveLeft=function(e){assertIs(e,"xDecrease",["number"]),this.x-=e},s.prototype.moveRight=function(e){assertIs(e,"xIncrease",["number"]),this.x+=e},s.prototype.pushOperators=function(){for(var e=[],d=0;d<arguments.length;d++)e[d]=arguments[d];assertEachIs(e,"operator",[[PDFOperator,"PDFOperator"]]);var h=this.getContentStream();h.push.apply(h,e)},s.prototype.drawText=function(e,d){var h,g,_,j,$,et,tt;d===void 0&&(d={}),assertIs(e,"text",["string"]),assertOrUndefined(d.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(d.opacity,"opacity.opacity",0,1),assertOrUndefined(d.font,"options.font",[[PDFFont,"PDFFont"]]),assertOrUndefined(d.size,"options.size",["number"]),assertOrUndefined(d.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(d.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(d.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertOrUndefined(d.x,"options.x",["number"]),assertOrUndefined(d.y,"options.y",["number"]),assertOrUndefined(d.lineHeight,"options.lineHeight",["number"]),assertOrUndefined(d.maxWidth,"options.maxWidth",["number"]),assertOrUndefined(d.wordBreaks,"options.wordBreaks",[Array]),assertIsOneOfOrUndefined(d.blendMode,"options.blendMode",BlendMode);for(var nt=this.setOrEmbedFont(d.font),rt=nt.oldFont,it=nt.newFont,st=nt.newFontKey,ot=d.size||this.fontSize,lt=d.wordBreaks||this.doc.defaultWordBreaks,dt=function(gt){return it.widthOfTextAtSize(gt,ot)},at=d.maxWidth===void 0?lineSplit(cleanText(e)):breakTextIntoLines(e,lt,d.maxWidth,dt),ut=new Array(at.length),pt=0,vt=at.length;pt<vt;pt++)ut[pt]=it.encodeText(at[pt]);var ht=this.maybeEmbedGraphicsState({opacity:d.opacity,blendMode:d.blendMode}),yt=this.getContentStream();yt.push.apply(yt,drawLinesOfText(ut,{color:(h=d.color)!==null&&h!==void 0?h:this.fontColor,font:st,size:ot,rotate:(g=d.rotate)!==null&&g!==void 0?g:degrees(0),xSkew:(_=d.xSkew)!==null&&_!==void 0?_:degrees(0),ySkew:(j=d.ySkew)!==null&&j!==void 0?j:degrees(0),x:($=d.x)!==null&&$!==void 0?$:this.x,y:(et=d.y)!==null&&et!==void 0?et:this.y,lineHeight:(tt=d.lineHeight)!==null&&tt!==void 0?tt:this.lineHeight,graphicsState:ht})),d.font&&(rt?this.setFont(rt):this.resetFont())},s.prototype.drawImage=function(e,d){var h,g,_,j,$,et,tt;d===void 0&&(d={}),assertIs(e,"image",[[PDFImage,"PDFImage"]]),assertOrUndefined(d.x,"options.x",["number"]),assertOrUndefined(d.y,"options.y",["number"]),assertOrUndefined(d.width,"options.width",["number"]),assertOrUndefined(d.height,"options.height",["number"]),assertOrUndefined(d.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(d.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(d.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertRangeOrUndefined(d.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(d.blendMode,"options.blendMode",BlendMode);var nt=this.node.newXObject("Image",e.ref),rt=this.maybeEmbedGraphicsState({opacity:d.opacity,blendMode:d.blendMode}),it=this.getContentStream();it.push.apply(it,drawImage(nt,{x:(h=d.x)!==null&&h!==void 0?h:this.x,y:(g=d.y)!==null&&g!==void 0?g:this.y,width:(_=d.width)!==null&&_!==void 0?_:e.size().width,height:(j=d.height)!==null&&j!==void 0?j:e.size().height,rotate:($=d.rotate)!==null&&$!==void 0?$:degrees(0),xSkew:(et=d.xSkew)!==null&&et!==void 0?et:degrees(0),ySkew:(tt=d.ySkew)!==null&&tt!==void 0?tt:degrees(0),graphicsState:rt}))},s.prototype.drawPage=function(e,d){var h,g,_,j,$;d===void 0&&(d={}),assertIs(e,"embeddedPage",[[PDFEmbeddedPage,"PDFEmbeddedPage"]]),assertOrUndefined(d.x,"options.x",["number"]),assertOrUndefined(d.y,"options.y",["number"]),assertOrUndefined(d.xScale,"options.xScale",["number"]),assertOrUndefined(d.yScale,"options.yScale",["number"]),assertOrUndefined(d.width,"options.width",["number"]),assertOrUndefined(d.height,"options.height",["number"]),assertOrUndefined(d.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(d.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(d.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertRangeOrUndefined(d.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(d.blendMode,"options.blendMode",BlendMode);var et=this.node.newXObject("EmbeddedPdfPage",e.ref),tt=this.maybeEmbedGraphicsState({opacity:d.opacity,blendMode:d.blendMode}),nt=d.width!==void 0?d.width/e.width:d.xScale!==void 0?d.xScale:1,rt=d.height!==void 0?d.height/e.height:d.yScale!==void 0?d.yScale:1,it=this.getContentStream();it.push.apply(it,drawPage(et,{x:(h=d.x)!==null&&h!==void 0?h:this.x,y:(g=d.y)!==null&&g!==void 0?g:this.y,xScale:nt,yScale:rt,rotate:(_=d.rotate)!==null&&_!==void 0?_:degrees(0),xSkew:(j=d.xSkew)!==null&&j!==void 0?j:degrees(0),ySkew:($=d.ySkew)!==null&&$!==void 0?$:degrees(0),graphicsState:tt}))},s.prototype.drawSvgPath=function(e,d){var h,g,_,j,$,et,tt,nt,rt;d===void 0&&(d={}),assertIs(e,"path",["string"]),assertOrUndefined(d.x,"options.x",["number"]),assertOrUndefined(d.y,"options.y",["number"]),assertOrUndefined(d.scale,"options.scale",["number"]),assertOrUndefined(d.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(d.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(d.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(d.opacity,"opacity.opacity",0,1),assertOrUndefined(d.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(d.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(d.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(d.borderLineCap,"options.borderLineCap",LineCapStyle),assertRangeOrUndefined(d.borderOpacity,"options.borderOpacity",0,1),assertIsOneOfOrUndefined(d.blendMode,"options.blendMode",BlendMode);var it=this.maybeEmbedGraphicsState({opacity:d.opacity,borderOpacity:d.borderOpacity,blendMode:d.blendMode});!("color"in d)&&!("borderColor"in d)&&(d.borderColor=rgb(0,0,0));var st=this.getContentStream();st.push.apply(st,drawSvgPath(e,{x:(h=d.x)!==null&&h!==void 0?h:this.x,y:(g=d.y)!==null&&g!==void 0?g:this.y,scale:d.scale,rotate:(_=d.rotate)!==null&&_!==void 0?_:degrees(0),color:(j=d.color)!==null&&j!==void 0?j:void 0,borderColor:($=d.borderColor)!==null&&$!==void 0?$:void 0,borderWidth:(et=d.borderWidth)!==null&&et!==void 0?et:0,borderDashArray:(tt=d.borderDashArray)!==null&&tt!==void 0?tt:void 0,borderDashPhase:(nt=d.borderDashPhase)!==null&&nt!==void 0?nt:void 0,borderLineCap:(rt=d.borderLineCap)!==null&&rt!==void 0?rt:void 0,graphicsState:it}))},s.prototype.drawLine=function(e){var d,h,g,_,j;assertIs(e.start,"options.start",[[Object,"{ x: number, y: number }"]]),assertIs(e.end,"options.end",[[Object,"{ x: number, y: number }"]]),assertIs(e.start.x,"options.start.x",["number"]),assertIs(e.start.y,"options.start.y",["number"]),assertIs(e.end.x,"options.end.x",["number"]),assertIs(e.end.y,"options.end.y",["number"]),assertOrUndefined(e.thickness,"options.thickness",["number"]),assertOrUndefined(e.color,"options.color",[[Object,"Color"]]),assertOrUndefined(e.dashArray,"options.dashArray",[Array]),assertOrUndefined(e.dashPhase,"options.dashPhase",["number"]),assertIsOneOfOrUndefined(e.lineCap,"options.lineCap",LineCapStyle),assertRangeOrUndefined(e.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(e.blendMode,"options.blendMode",BlendMode);var $=this.maybeEmbedGraphicsState({borderOpacity:e.opacity,blendMode:e.blendMode});"color"in e||(e.color=rgb(0,0,0));var et=this.getContentStream();et.push.apply(et,drawLine({start:e.start,end:e.end,thickness:(d=e.thickness)!==null&&d!==void 0?d:1,color:(h=e.color)!==null&&h!==void 0?h:void 0,dashArray:(g=e.dashArray)!==null&&g!==void 0?g:void 0,dashPhase:(_=e.dashPhase)!==null&&_!==void 0?_:void 0,lineCap:(j=e.lineCap)!==null&&j!==void 0?j:void 0,graphicsState:$}))},s.prototype.drawRectangle=function(e){var d,h,g,_,j,$,et,tt,nt,rt,it,st,ot;e===void 0&&(e={}),assertOrUndefined(e.x,"options.x",["number"]),assertOrUndefined(e.y,"options.y",["number"]),assertOrUndefined(e.width,"options.width",["number"]),assertOrUndefined(e.height,"options.height",["number"]),assertOrUndefined(e.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertOrUndefined(e.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(e.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(e.opacity,"opacity.opacity",0,1),assertOrUndefined(e.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(e.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(e.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(e.borderLineCap,"options.borderLineCap",LineCapStyle),assertRangeOrUndefined(e.borderOpacity,"options.borderOpacity",0,1),assertIsOneOfOrUndefined(e.blendMode,"options.blendMode",BlendMode);var lt=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.color=rgb(0,0,0));var dt=this.getContentStream();dt.push.apply(dt,drawRectangle({x:(d=e.x)!==null&&d!==void 0?d:this.x,y:(h=e.y)!==null&&h!==void 0?h:this.y,width:(g=e.width)!==null&&g!==void 0?g:150,height:(_=e.height)!==null&&_!==void 0?_:100,rotate:(j=e.rotate)!==null&&j!==void 0?j:degrees(0),xSkew:($=e.xSkew)!==null&&$!==void 0?$:degrees(0),ySkew:(et=e.ySkew)!==null&&et!==void 0?et:degrees(0),borderWidth:(tt=e.borderWidth)!==null&&tt!==void 0?tt:0,color:(nt=e.color)!==null&&nt!==void 0?nt:void 0,borderColor:(rt=e.borderColor)!==null&&rt!==void 0?rt:void 0,borderDashArray:(it=e.borderDashArray)!==null&&it!==void 0?it:void 0,borderDashPhase:(st=e.borderDashPhase)!==null&&st!==void 0?st:void 0,graphicsState:lt,borderLineCap:(ot=e.borderLineCap)!==null&&ot!==void 0?ot:void 0}))},s.prototype.drawSquare=function(e){e===void 0&&(e={});var d=e.size;assertOrUndefined(d,"size",["number"]),this.drawRectangle(__assign(__assign({},e),{width:d,height:d}))},s.prototype.drawEllipse=function(e){var d,h,g,_,j,$,et,tt,nt,rt,it;e===void 0&&(e={}),assertOrUndefined(e.x,"options.x",["number"]),assertOrUndefined(e.y,"options.y",["number"]),assertOrUndefined(e.xScale,"options.xScale",["number"]),assertOrUndefined(e.yScale,"options.yScale",["number"]),assertOrUndefined(e.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(e.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(e.opacity,"opacity.opacity",0,1),assertOrUndefined(e.borderColor,"options.borderColor",[[Object,"Color"]]),assertRangeOrUndefined(e.borderOpacity,"options.borderOpacity",0,1),assertOrUndefined(e.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(e.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(e.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(e.borderLineCap,"options.borderLineCap",LineCapStyle),assertIsOneOfOrUndefined(e.blendMode,"options.blendMode",BlendMode);var st=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.color=rgb(0,0,0));var ot=this.getContentStream();ot.push.apply(ot,drawEllipse({x:(d=e.x)!==null&&d!==void 0?d:this.x,y:(h=e.y)!==null&&h!==void 0?h:this.y,xScale:(g=e.xScale)!==null&&g!==void 0?g:100,yScale:(_=e.yScale)!==null&&_!==void 0?_:100,rotate:(j=e.rotate)!==null&&j!==void 0?j:void 0,color:($=e.color)!==null&&$!==void 0?$:void 0,borderColor:(et=e.borderColor)!==null&&et!==void 0?et:void 0,borderWidth:(tt=e.borderWidth)!==null&&tt!==void 0?tt:0,borderDashArray:(nt=e.borderDashArray)!==null&&nt!==void 0?nt:void 0,borderDashPhase:(rt=e.borderDashPhase)!==null&&rt!==void 0?rt:void 0,borderLineCap:(it=e.borderLineCap)!==null&&it!==void 0?it:void 0,graphicsState:st}))},s.prototype.drawCircle=function(e){e===void 0&&(e={});var d=e.size,h=d===void 0?100:d;assertOrUndefined(h,"size",["number"]),this.drawEllipse(__assign(__assign({},e),{xScale:h,yScale:h}))},s.prototype.setOrEmbedFont=function(e){var d=this.font,h=this.fontKey;e?this.setFont(e):this.getFont();var g=this.font,_=this.fontKey;return{oldFont:d,oldFontKey:h,newFont:g,newFontKey:_}},s.prototype.getFont=function(){if(!this.font||!this.fontKey){var e=this.doc.embedStandardFont(StandardFonts.Helvetica);this.setFont(e)}return[this.font,this.fontKey]},s.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},s.prototype.getContentStream=function(e){return e===void 0&&(e=!0),e&&this.contentStream?this.contentStream:(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef),this.contentStream)},s.prototype.createContentStream=function(){for(var e=[],d=0;d<arguments.length;d++)e[d]=arguments[d];var h=this.doc.context.obj({}),g=PDFContentStream.of(h,e);return g},s.prototype.maybeEmbedGraphicsState=function(e){var d=e.opacity,h=e.borderOpacity,g=e.blendMode;if(!(d===void 0&&h===void 0&&g===void 0)){var _=this.doc.context.obj({Type:"ExtGState",ca:d,CA:h,BM:g}),j=this.node.newExtGState("GS",_);return j}},s.prototype.scaleAnnot=function(e,d,h){for(var g=["RD","CL","Vertices","QuadPoints","L","Rect"],_=0,j=g.length;_<j;_++){var $=e.lookup(PDFName.of(g[_]));$ instanceof PDFArray&&$.scalePDFNumbers(d,h)}var et=e.lookup(PDFName.of("InkList"));if(et instanceof PDFArray)for(var _=0,j=et.size();_<j;_++){var tt=et.lookup(_);tt instanceof PDFArray&&tt.scalePDFNumbers(d,h)}},s.of=function(e,d,h){return new s(e,d,h)},s.create=function(e){assertIs(e,"doc",[[PDFDocument,"PDFDocument"]]);var d=PDFRef.of(-1),h=PDFPageLeaf.withContextAndParent(e.context,d),g=e.context.register(h);return new s(h,g,e)},s}(),PDFButton=function(s){__extends(e,s);function e(d,h,g){var _=s.call(this,d,h,g)||this;return assertIs(d,"acroButton",[[PDFAcroPushButton,"PDFAcroPushButton"]]),_.acroField=d,_}return e.prototype.setImage=function(d,h){h===void 0&&(h=ImageAlignment.Center);for(var g=this.acroField.getWidgets(),_=0,j=g.length;_<j;_++){var $=g[_],et=this.createImageAppearanceStream($,d,h);this.updateWidgetAppearances($,{normal:et})}this.markAsClean()},e.prototype.setFontSize=function(d){assertPositive(d,"fontSize"),this.acroField.setFontSize(d),this.markAsDirty()},e.prototype.addToPage=function(d,h,g){var _,j,$,et,tt,nt,rt,it,st,ot,lt;assertOrUndefined(d,"text",["string"]),assertOrUndefined(h,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(g);var dt=this.createWidget({x:((_=g==null?void 0:g.x)!==null&&_!==void 0?_:0)-((j=g==null?void 0:g.borderWidth)!==null&&j!==void 0?j:0)/2,y:(($=g==null?void 0:g.y)!==null&&$!==void 0?$:0)-((et=g==null?void 0:g.borderWidth)!==null&&et!==void 0?et:0)/2,width:(tt=g==null?void 0:g.width)!==null&&tt!==void 0?tt:100,height:(nt=g==null?void 0:g.height)!==null&&nt!==void 0?nt:50,textColor:(rt=g==null?void 0:g.textColor)!==null&&rt!==void 0?rt:rgb(0,0,0),backgroundColor:(it=g==null?void 0:g.backgroundColor)!==null&&it!==void 0?it:rgb(.75,.75,.75),borderColor:g==null?void 0:g.borderColor,borderWidth:(st=g==null?void 0:g.borderWidth)!==null&&st!==void 0?st:0,rotate:(ot=g==null?void 0:g.rotate)!==null&&ot!==void 0?ot:degrees(0),caption:d,hidden:g==null?void 0:g.hidden,page:h.ref}),at=this.doc.context.register(dt.dict);this.acroField.addWidget(at);var ut=(lt=g==null?void 0:g.font)!==null&&lt!==void 0?lt:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(dt,ut),h.node.addAnnot(at)},e.prototype.needsAppearancesUpdate=function(){var d;if(this.isDirty())return!0;for(var h=this.acroField.getWidgets(),g=0,_=h.length;g<_;g++){var j=h[g],$=((d=j.getAppearances())===null||d===void 0?void 0:d.normal)instanceof PDFStream;if(!$)return!0}return!1},e.prototype.defaultUpdateAppearances=function(d){assertIs(d,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(d)},e.prototype.updateAppearances=function(d,h){assertIs(d,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(h,"provider",[Function]);for(var g=this.acroField.getWidgets(),_=0,j=g.length;_<j;_++){var $=g[_];this.updateWidgetAppearance($,d,h)}},e.prototype.updateWidgetAppearance=function(d,h,g){var _=g??defaultButtonAppearanceProvider,j=normalizeAppearance(_(this,d,h));this.updateWidgetAppearanceWithFont(d,h,j)},e.of=function(d,h,g){return new e(d,h,g)},e}(PDFField),lib={exports:{}},core_min={};function commonjsRequire(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(e,d){module.exports=e.pdfjsLib=d()})(globalThis,()=>(()=>{var __webpack_modules__=[,(s,e)=>{var Fr;Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=Ft,e.bytesToString=Tn,e.createValidAbsoluteUrl=tn,e.getModificationDate=jn,e.getUuid=ar,e.getVerbosityLevel=kt,e.info=Bt,e.isArrayBuffer=dn,e.isArrayEqual=Un,e.isNodeJS=void 0,e.normalizeUnicode=Jn,e.objectFromMap=Mn,e.objectSize=On,e.setVerbosityLevel=Ut,e.shadow=Lt,e.string32=In,e.stringToBytes=Pn,e.stringToPDFString=Rn,e.stringToUTF8String=Nn,e.unreachable=Gt,e.utf8StringToString=kn,e.warn=$t;const d=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=d;const h=[1,0,0,1,0,0];e.IDENTITY_MATRIX=h;const g=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=g;const _=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=_;const j=1.35;e.LINE_FACTOR=j;const $=.35;e.LINE_DESCENT_FACTOR=$;const et=$/j;e.BASELINE_FACTOR=et;const tt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=tt;const nt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=nt;const rt="pdfjs_internal_editor_";e.AnnotationEditorPrefix=rt;const it={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=it;const st={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=st;const ot={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=ot;const lt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=lt;const dt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=dt;const at={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=at;const ut={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=ut;const pt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=pt;const vt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=vt;const ht={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=ht;const yt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=yt;const gt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=gt;const ft={O:"PageOpen",C:"PageClose"};e.PageActionEventType=ft;const _t={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=_t;const Et={NONE:0,BINARY:1};e.CMapCompressionType=Et;const mt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=mt;const xt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=xt;let St=_t.WARNINGS;function Ut(Dn){Number.isInteger(Dn)&&(St=Dn)}function kt(){return St}function Bt(Dn){St>=_t.INFOS&&console.log(`Info: ${Dn}`)}function $t(Dn){St>=_t.WARNINGS&&console.log(`Warning: ${Dn}`)}function Gt(Dn){throw new Error(Dn)}function Ft(Dn,hn){Dn||Gt(hn)}function Wt(Dn){switch(Dn==null?void 0:Dn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function tn(Dn,hn=null,pn=null){if(!Dn)return null;try{if(pn&&typeof Dn=="string"){if(pn.addDefaultProtocol&&Dn.startsWith("www.")){const tr=Dn.match(/\./g);(tr==null?void 0:tr.length)>=2&&(Dn=`http://${Dn}`)}if(pn.tryConvertEncoding)try{Dn=Nn(Dn)}catch{}}const Yn=hn?new URL(Dn,hn):new URL(Dn);if(Wt(Yn))return Yn}catch{}return null}function Lt(Dn,hn,pn,Yn=!1){return Object.defineProperty(Dn,hn,{value:pn,enumerable:!Yn,configurable:!0,writable:!1}),pn}const Rt=function(){function hn(pn,Yn){this.constructor===hn&&Gt("Cannot initialize BaseException."),this.message=pn,this.name=Yn}return hn.prototype=new Error,hn.constructor=hn,hn}();e.BaseException=Rt;class It extends Rt{constructor(hn,pn){super(hn,"PasswordException"),this.code=pn}}e.PasswordException=It;class Mt extends Rt{constructor(hn,pn){super(hn,"UnknownErrorException"),this.details=pn}}e.UnknownErrorException=Mt;class Ht extends Rt{constructor(hn){super(hn,"InvalidPDFException")}}e.InvalidPDFException=Ht;class qt extends Rt{constructor(hn){super(hn,"MissingPDFException")}}e.MissingPDFException=qt;class zt extends Rt{constructor(hn,pn){super(hn,"UnexpectedResponseException"),this.status=pn}}e.UnexpectedResponseException=zt;class an extends Rt{constructor(hn){super(hn,"FormatError")}}e.FormatError=an;class vn extends Rt{constructor(hn){super(hn,"AbortException")}}e.AbortException=vn;function Tn(Dn){(typeof Dn!="object"||(Dn==null?void 0:Dn.length)===void 0)&&Gt("Invalid argument for bytesToString");const hn=Dn.length,pn=8192;if(hn<pn)return String.fromCharCode.apply(null,Dn);const Yn=[];for(let tr=0;tr<hn;tr+=pn){const hr=Math.min(tr+pn,hn),Yt=Dn.subarray(tr,hr);Yn.push(String.fromCharCode.apply(null,Yt))}return Yn.join("")}function Pn(Dn){typeof Dn!="string"&&Gt("Invalid argument for stringToBytes");const hn=Dn.length,pn=new Uint8Array(hn);for(let Yn=0;Yn<hn;++Yn)pn[Yn]=Dn.charCodeAt(Yn)&255;return pn}function In(Dn){return String.fromCharCode(Dn>>24&255,Dn>>16&255,Dn>>8&255,Dn&255)}function On(Dn){return Object.keys(Dn).length}function Mn(Dn){const hn=Object.create(null);for(const[pn,Yn]of Dn)hn[pn]=Yn;return hn}function mn(){const Dn=new Uint8Array(4);return Dn[0]=1,new Uint32Array(Dn.buffer,0,1)[0]===1}function yn(){try{return new Function(""),!0}catch{return!1}}class Vt{static get isLittleEndian(){return Lt(this,"isLittleEndian",mn())}static get isEvalSupported(){return Lt(this,"isEvalSupported",yn())}static get isOffscreenCanvasSupported(){return Lt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Lt(this,"platform",{isWin:!1,isMac:!1}):Lt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var hn,pn;return Lt(this,"isCSSRoundSupported",(pn=(hn=globalThis.CSS)==null?void 0:hn.supports)==null?void 0:pn.call(hn,"width: round(1.5px, 1px)"))}}e.FeatureTest=Vt;const Zt=[...Array(256).keys()].map(Dn=>Dn.toString(16).padStart(2,"0"));class un{static makeHexColor(hn,pn,Yn){return`#${Zt[hn]}${Zt[pn]}${Zt[Yn]}`}static scaleMinMax(hn,pn){let Yn;hn[0]?(hn[0]<0&&(Yn=pn[0],pn[0]=pn[1],pn[1]=Yn),pn[0]*=hn[0],pn[1]*=hn[0],hn[3]<0&&(Yn=pn[2],pn[2]=pn[3],pn[3]=Yn),pn[2]*=hn[3],pn[3]*=hn[3]):(Yn=pn[0],pn[0]=pn[2],pn[2]=Yn,Yn=pn[1],pn[1]=pn[3],pn[3]=Yn,hn[1]<0&&(Yn=pn[2],pn[2]=pn[3],pn[3]=Yn),pn[2]*=hn[1],pn[3]*=hn[1],hn[2]<0&&(Yn=pn[0],pn[0]=pn[1],pn[1]=Yn),pn[0]*=hn[2],pn[1]*=hn[2]),pn[0]+=hn[4],pn[1]+=hn[4],pn[2]+=hn[5],pn[3]+=hn[5]}static transform(hn,pn){return[hn[0]*pn[0]+hn[2]*pn[1],hn[1]*pn[0]+hn[3]*pn[1],hn[0]*pn[2]+hn[2]*pn[3],hn[1]*pn[2]+hn[3]*pn[3],hn[0]*pn[4]+hn[2]*pn[5]+hn[4],hn[1]*pn[4]+hn[3]*pn[5]+hn[5]]}static applyTransform(hn,pn){const Yn=hn[0]*pn[0]+hn[1]*pn[2]+pn[4],tr=hn[0]*pn[1]+hn[1]*pn[3]+pn[5];return[Yn,tr]}static applyInverseTransform(hn,pn){const Yn=pn[0]*pn[3]-pn[1]*pn[2],tr=(hn[0]*pn[3]-hn[1]*pn[2]+pn[2]*pn[5]-pn[4]*pn[3])/Yn,hr=(-hn[0]*pn[1]+hn[1]*pn[0]+pn[4]*pn[1]-pn[5]*pn[0])/Yn;return[tr,hr]}static getAxialAlignedBoundingBox(hn,pn){const Yn=this.applyTransform(hn,pn),tr=this.applyTransform(hn.slice(2,4),pn),hr=this.applyTransform([hn[0],hn[3]],pn),Yt=this.applyTransform([hn[2],hn[1]],pn);return[Math.min(Yn[0],tr[0],hr[0],Yt[0]),Math.min(Yn[1],tr[1],hr[1],Yt[1]),Math.max(Yn[0],tr[0],hr[0],Yt[0]),Math.max(Yn[1],tr[1],hr[1],Yt[1])]}static inverseTransform(hn){const pn=hn[0]*hn[3]-hn[1]*hn[2];return[hn[3]/pn,-hn[1]/pn,-hn[2]/pn,hn[0]/pn,(hn[2]*hn[5]-hn[4]*hn[3])/pn,(hn[4]*hn[1]-hn[5]*hn[0])/pn]}static singularValueDecompose2dScale(hn){const pn=[hn[0],hn[2],hn[1],hn[3]],Yn=hn[0]*pn[0]+hn[1]*pn[2],tr=hn[0]*pn[1]+hn[1]*pn[3],hr=hn[2]*pn[0]+hn[3]*pn[2],Yt=hn[2]*pn[1]+hn[3]*pn[3],Cn=(Yn+Yt)/2,Hn=Math.sqrt((Yn+Yt)**2-4*(Yn*Yt-hr*tr))/2,Qn=Cn+Hn||1,sr=Cn-Hn||1;return[Math.sqrt(Qn),Math.sqrt(sr)]}static normalizeRect(hn){const pn=hn.slice(0);return hn[0]>hn[2]&&(pn[0]=hn[2],pn[2]=hn[0]),hn[1]>hn[3]&&(pn[1]=hn[3],pn[3]=hn[1]),pn}static intersect(hn,pn){const Yn=Math.max(Math.min(hn[0],hn[2]),Math.min(pn[0],pn[2])),tr=Math.min(Math.max(hn[0],hn[2]),Math.max(pn[0],pn[2]));if(Yn>tr)return null;const hr=Math.max(Math.min(hn[1],hn[3]),Math.min(pn[1],pn[3])),Yt=Math.min(Math.max(hn[1],hn[3]),Math.max(pn[1],pn[3]));return hr>Yt?null:[Yn,hr,tr,Yt]}static bezierBoundingBox(hn,pn,Yn,tr,hr,Yt,Cn,Hn){const Qn=[],sr=[[],[]];let Zn,Xt,jt,rn,En,wn,Fn,Bn;for(let Ar=0;Ar<2;++Ar){if(Ar===0?(Xt=6*hn-12*Yn+6*hr,Zn=-3*hn+9*Yn-9*hr+3*Cn,jt=3*Yn-3*hn):(Xt=6*pn-12*tr+6*Yt,Zn=-3*pn+9*tr-9*Yt+3*Hn,jt=3*tr-3*pn),Math.abs(Zn)<1e-12){if(Math.abs(Xt)<1e-12)continue;rn=-jt/Xt,0<rn&&rn<1&&Qn.push(rn);continue}Fn=Xt*Xt-4*jt*Zn,Bn=Math.sqrt(Fn),!(Fn<0)&&(En=(-Xt+Bn)/(2*Zn),0<En&&En<1&&Qn.push(En),wn=(-Xt-Bn)/(2*Zn),0<wn&&wn<1&&Qn.push(wn))}let rr=Qn.length,er;const qn=rr;for(;rr--;)rn=Qn[rr],er=1-rn,sr[0][rr]=er*er*er*hn+3*er*er*rn*Yn+3*er*rn*rn*hr+rn*rn*rn*Cn,sr[1][rr]=er*er*er*pn+3*er*er*rn*tr+3*er*rn*rn*Yt+rn*rn*rn*Hn;return sr[0][qn]=hn,sr[1][qn]=pn,sr[0][qn+1]=Cn,sr[1][qn+1]=Hn,sr[0].length=sr[1].length=qn+2,[Math.min(...sr[0]),Math.min(...sr[1]),Math.max(...sr[0]),Math.max(...sr[1])]}}e.Util=un;const bn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Rn(Dn){if(Dn[0]>="ï"){let pn;if(Dn[0]==="þ"&&Dn[1]==="ÿ"?pn="utf-16be":Dn[0]==="ÿ"&&Dn[1]==="þ"?pn="utf-16le":Dn[0]==="ï"&&Dn[1]==="»"&&Dn[2]==="¿"&&(pn="utf-8"),pn)try{const Yn=new TextDecoder(pn,{fatal:!0}),tr=Pn(Dn);return Yn.decode(tr)}catch(Yn){$t(`stringToPDFString: "${Yn}".`)}}const hn=[];for(let pn=0,Yn=Dn.length;pn<Yn;pn++){const tr=bn[Dn.charCodeAt(pn)];hn.push(tr?String.fromCharCode(tr):Dn.charAt(pn))}return hn.join("")}function Nn(Dn){return decodeURIComponent(escape(Dn))}function kn(Dn){return unescape(encodeURIComponent(Dn))}function dn(Dn){return typeof Dn=="object"&&(Dn==null?void 0:Dn.byteLength)!==void 0}function Un(Dn,hn){if(Dn.length!==hn.length)return!1;for(let pn=0,Yn=Dn.length;pn<Yn;pn++)if(Dn[pn]!==hn[pn])return!1;return!0}function jn(Dn=new Date){return[Dn.getUTCFullYear().toString(),(Dn.getUTCMonth()+1).toString().padStart(2,"0"),Dn.getUTCDate().toString().padStart(2,"0"),Dn.getUTCHours().toString().padStart(2,"0"),Dn.getUTCMinutes().toString().padStart(2,"0"),Dn.getUTCSeconds().toString().padStart(2,"0")].join("")}class vr{constructor(){Sn(this,Fr,!1);this.promise=new Promise((hn,pn)=>{this.resolve=Yn=>{xn(this,Fr,!0),hn(Yn)},this.reject=Yn=>{xn(this,Fr,!0),pn(Yn)}})}get settled(){return Tt(this,Fr)}}Fr=new WeakMap,e.PromiseCapability=vr;let fr=null,Cr=null;function Jn(Dn){return fr||(fr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Cr=new Map([["ﬅ","ſt"]])),Dn.replaceAll(fr,(hn,pn,Yn)=>pn?pn.normalize("NFKC"):Cr.get(Yn))}function ar(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Dn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Dn);else for(let hn=0;hn<32;hn++)Dn[hn]=Math.floor(Math.random()*255);return Tn(Dn)}const xr="pdfjs_internal_id_";e.AnnotationPrefix=xr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var s,d,h,g,na,Bo,$,et,tt,nt,rt,it,st,ot,lt,jo,at,ut,Nl,vt,ht;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(gt){if(typeof gt=="string"||gt instanceof URL?gt={url:gt}:(0,_util.isArrayBuffer)(gt)&&(gt={data:gt}),typeof gt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!gt.url&&!gt.data&&!gt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const ft=new PDFDocumentLoadingTask,{docId:_t}=ft,Et=gt.url?getUrlProp(gt.url):null,mt=gt.data?getDataProp(gt.data):null,xt=gt.httpHeaders||null,St=gt.withCredentials===!0,Ut=gt.password??null,kt=gt.range instanceof PDFDataRangeTransport?gt.range:null,Bt=Number.isInteger(gt.rangeChunkSize)&&gt.rangeChunkSize>0?gt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let $t=gt.worker instanceof PDFWorker?gt.worker:null;const Gt=gt.verbosity,Ft=typeof gt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(gt.docBaseUrl)?gt.docBaseUrl:null,Wt=typeof gt.cMapUrl=="string"?gt.cMapUrl:null,tn=gt.cMapPacked!==!1,Lt=gt.CMapReaderFactory||DefaultCMapReaderFactory,Rt=typeof gt.standardFontDataUrl=="string"?gt.standardFontDataUrl:null,It=gt.StandardFontDataFactory||DefaultStandardFontDataFactory,Mt=gt.stopAtErrors!==!0,Ht=Number.isInteger(gt.maxImageSize)&&gt.maxImageSize>-1?gt.maxImageSize:-1,qt=gt.isEvalSupported!==!1,zt=typeof gt.isOffscreenCanvasSupported=="boolean"?gt.isOffscreenCanvasSupported:!_util.isNodeJS,an=Number.isInteger(gt.canvasMaxAreaInBytes)?gt.canvasMaxAreaInBytes:-1,vn=typeof gt.disableFontFace=="boolean"?gt.disableFontFace:_util.isNodeJS,Tn=gt.fontExtraProperties===!0,Pn=gt.enableXfa===!0,In=gt.ownerDocument||globalThis.document,On=gt.disableRange===!0,Mn=gt.disableStream===!0,mn=gt.disableAutoFetch===!0,yn=gt.pdfBug===!0,Vt=kt?kt.length:gt.length??NaN,Zt=typeof gt.useSystemFonts=="boolean"?gt.useSystemFonts:!_util.isNodeJS&&!vn,un=typeof gt.useWorkerFetch=="boolean"?gt.useWorkerFetch:Lt===_display_utils.DOMCMapReaderFactory&&It===_display_utils.DOMStandardFontDataFactory&&Wt&&Rt&&(0,_display_utils.isValidFetchUrl)(Wt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Rt,document.baseURI),bn=gt.canvasFactory||new DefaultCanvasFactory({ownerDocument:In}),Rn=gt.filterFactory||new DefaultFilterFactory({docId:_t,ownerDocument:In}),Nn=null;(0,_util.setVerbosityLevel)(Gt);const kn={canvasFactory:bn,filterFactory:Rn};if(un||(kn.cMapReaderFactory=new Lt({baseUrl:Wt,isCompressed:tn}),kn.standardFontDataFactory=new It({baseUrl:Rt})),!$t){const jn={verbosity:Gt,port:_worker_options.GlobalWorkerOptions.workerPort};$t=jn.port?PDFWorker.fromPort(jn):new PDFWorker(jn),ft._worker=$t}const dn={docId:_t,apiVersion:"3.11.174",data:mt,password:Ut,disableAutoFetch:mn,rangeChunkSize:Bt,length:Vt,docBaseUrl:Ft,enableXfa:Pn,evaluatorOptions:{maxImageSize:Ht,disableFontFace:vn,ignoreErrors:Mt,isEvalSupported:qt,isOffscreenCanvasSupported:zt,canvasMaxAreaInBytes:an,fontExtraProperties:Tn,useSystemFonts:Zt,cMapUrl:un?Wt:null,standardFontDataUrl:un?Rt:null}},Un={ignoreErrors:Mt,isEvalSupported:qt,disableFontFace:vn,fontExtraProperties:Tn,enableXfa:Pn,ownerDocument:In,disableAutoFetch:mn,pdfBug:yn,styleElement:Nn};return $t.promise.then(function(){if(ft.destroyed)throw new Error("Loading aborted");const jn=_fetchDocument($t,dn),vr=new Promise(function(fr){let Cr;kt?Cr=new _transport_stream.PDFDataTransportStream({length:Vt,initialData:kt.initialData,progressiveDone:kt.progressiveDone,contentDispositionFilename:kt.contentDispositionFilename,disableRange:On,disableStream:Mn},kt):mt||(Cr=(ar=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(ar):(0,_display_utils.isValidFetchUrl)(ar.url)?new _displayFetch_stream.PDFFetchStream(ar):new _displayNetwork.PDFNetworkStream(ar))({url:Et,length:Vt,httpHeaders:xt,withCredentials:St,rangeChunkSize:Bt,disableRange:On,disableStream:Mn})),fr(Cr)});return Promise.all([jn,vr]).then(function([fr,Cr]){if(ft.destroyed)throw new Error("Loading aborted");const Jn=new _message_handler.MessageHandler(_t,fr,$t.port),ar=new WorkerTransport(Jn,ft,Cr,Un,kn);ft._transport=ar,Jn.send("Ready",null)})}).catch(ft._capability.reject),ft}async function _fetchDocument(gt,ft){if(gt.destroyed)throw new Error("Worker was destroyed");const _t=await gt.messageHandler.sendWithPromise("GetDocRequest",ft,ft.data?[ft.data.buffer]:null);if(gt.destroyed)throw new Error("Worker was destroyed");return _t}function getUrlProp(gt){if(gt instanceof URL)return gt.href;try{return new URL(gt,window.location).href}catch{if(_util.isNodeJS&&typeof gt=="string")return gt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(gt){if(_util.isNodeJS&&typeof Buffer<"u"&&gt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(gt instanceof Uint8Array&&gt.byteLength===gt.buffer.byteLength)return gt;if(typeof gt=="string")return(0,_util.stringToBytes)(gt);if(typeof gt=="object"&&!isNaN(gt==null?void 0:gt.length)||(0,_util.isArrayBuffer)(gt))return new Uint8Array(gt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const e=class e{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${go(e,s)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var ft,_t,Et;this.destroyed=!0;try{(ft=this._worker)!=null&&ft.port&&(this._worker._pendingDestroy=!0),await((_t=this._transport)==null?void 0:_t.destroy())}catch(mt){throw(Et=this._worker)!=null&&Et.port&&delete this._worker._pendingDestroy,mt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};s=new WeakMap,Sn(e,s,0);let PDFDocumentLoadingTask=e;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(ft,_t,Et=!1,mt=null){this.length=ft,this.initialData=_t,this.progressiveDone=Et,this.contentDispositionFilename=mt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(ft){this._rangeListeners.push(ft)}addProgressListener(ft){this._progressListeners.push(ft)}addProgressiveReadListener(ft){this._progressiveReadListeners.push(ft)}addProgressiveDoneListener(ft){this._progressiveDoneListeners.push(ft)}onDataRange(ft,_t){for(const Et of this._rangeListeners)Et(ft,_t)}onDataProgress(ft,_t){this._readyCapability.promise.then(()=>{for(const Et of this._progressListeners)Et(ft,_t)})}onDataProgressiveRead(ft){this._readyCapability.promise.then(()=>{for(const _t of this._progressiveReadListeners)_t(ft)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ft of this._progressiveDoneListeners)ft()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ft,_t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(ft,_t){this._pdfInfo=ft,this._transport=_t,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Et=>{if(!Et)return Et;const mt=[];for(const xt in Et)mt.push(...Et[xt]);return mt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ft){return this._transport.getPage(ft)}getPageIndex(ft){return this._transport.getPageIndex(ft)}getDestinations(){return this._transport.getDestinations()}getDestination(ft){return this._transport.getDestination(ft)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ft=!1){return this._transport.startCleanup(ft||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(ft,_t,Et,mt=!1){Sn(this,g);Sn(this,d,null);Sn(this,h,!1);this._pageIndex=ft,this._pageInfo=_t,this._transport=Et,this._stats=mt?new _display_utils.StatTimer:null,this._pdfBug=mt,this.commonObjs=Et.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ft,rotation:_t=this.rotate,offsetX:Et=0,offsetY:mt=0,dontFlip:xt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:ft,rotation:_t,offsetX:Et,offsetY:mt,dontFlip:xt})}getAnnotations({intent:ft="display"}={}){const _t=this._transport.getRenderingIntent(ft);return this._transport.getAnnotations(this._pageIndex,_t.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var ft;return((ft=this._transport._htmlForXfa)==null?void 0:ft.children[this._pageIndex])||null}render({canvasContext:ft,viewport:_t,intent:Et="display",annotationMode:mt=_util.AnnotationMode.ENABLE,transform:xt=null,background:St=null,optionalContentConfigPromise:Ut=null,annotationCanvasMap:kt=null,pageColors:Bt=null,printAnnotationStorage:$t=null}){var It,Mt;(It=this._stats)==null||It.time("Overall");const Gt=this._transport.getRenderingIntent(Et,mt,$t);xn(this,h,!1),cn(this,g,Bo).call(this),Ut||(Ut=this._transport.getOptionalContentConfig());let Ft=this._intentStates.get(Gt.cacheKey);Ft||(Ft=Object.create(null),this._intentStates.set(Gt.cacheKey,Ft)),Ft.streamReaderCancelTimeout&&(clearTimeout(Ft.streamReaderCancelTimeout),Ft.streamReaderCancelTimeout=null);const Wt=!!(Gt.renderingIntent&_util.RenderingIntentFlag.PRINT);Ft.displayReadyCapability||(Ft.displayReadyCapability=new _util.PromiseCapability,Ft.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Mt=this._stats)==null||Mt.time("Page Request"),this._pumpOperatorList(Gt));const tn=Ht=>{var qt,zt;Ft.renderTasks.delete(Lt),(this._maybeCleanupAfterRender||Wt)&&xn(this,h,!0),cn(this,g,na).call(this,!Wt),Ht?(Lt.capability.reject(Ht),this._abortOperatorList({intentState:Ft,reason:Ht instanceof Error?Ht:new Error(Ht)})):Lt.capability.resolve(),(qt=this._stats)==null||qt.timeEnd("Rendering"),(zt=this._stats)==null||zt.timeEnd("Overall")},Lt=new InternalRenderTask({callback:tn,params:{canvasContext:ft,viewport:_t,transform:xt,background:St},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:kt,operatorList:Ft.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Wt,pdfBug:this._pdfBug,pageColors:Bt});(Ft.renderTasks||(Ft.renderTasks=new Set)).add(Lt);const Rt=Lt.task;return Promise.all([Ft.displayReadyCapability.promise,Ut]).then(([Ht,qt])=>{var zt;if(this.destroyed){tn();return}(zt=this._stats)==null||zt.time("Rendering"),Lt.initializeGraphics({transparency:Ht,optionalContentConfig:qt}),Lt.operatorListChanged()}).catch(tn),Rt}getOperatorList({intent:ft="display",annotationMode:_t=_util.AnnotationMode.ENABLE,printAnnotationStorage:Et=null}={}){var kt;function mt(){St.operatorList.lastChunk&&(St.opListReadCapability.resolve(St.operatorList),St.renderTasks.delete(Ut))}const xt=this._transport.getRenderingIntent(ft,_t,Et,!0);let St=this._intentStates.get(xt.cacheKey);St||(St=Object.create(null),this._intentStates.set(xt.cacheKey,St));let Ut;return St.opListReadCapability||(Ut=Object.create(null),Ut.operatorListChanged=mt,St.opListReadCapability=new _util.PromiseCapability,(St.renderTasks||(St.renderTasks=new Set)).add(Ut),St.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(kt=this._stats)==null||kt.time("Page Request"),this._pumpOperatorList(xt)),St.opListReadCapability.promise}streamTextContent({includeMarkedContent:ft=!1,disableNormalization:_t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:ft===!0,disableNormalization:_t===!0},{highWaterMark:100,size(mt){return mt.items.length}})}getTextContent(ft={}){if(this._transport._htmlForXfa)return this.getXfa().then(Et=>_xfa_text.XfaText.textContent(Et));const _t=this.streamTextContent(ft);return new Promise(function(Et,mt){function xt(){St.read().then(function({value:kt,done:Bt}){if(Bt){Et(Ut);return}Object.assign(Ut.styles,kt.styles),Ut.items.push(...kt.items),xt()},mt)}const St=_t.getReader(),Ut={items:[],styles:Object.create(null)};xt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const ft=[];for(const _t of this._intentStates.values())if(this._abortOperatorList({intentState:_t,reason:new Error("Page was destroyed."),force:!0}),!_t.opListReadCapability)for(const Et of _t.renderTasks)ft.push(Et.completed),Et.cancel();return this.objs.clear(),xn(this,h,!1),cn(this,g,Bo).call(this),Promise.all(ft)}cleanup(ft=!1){xn(this,h,!0);const _t=cn(this,g,na).call(this,!1);return ft&&_t&&this._stats&&(this._stats=new _display_utils.StatTimer),_t}_startRenderPage(ft,_t){var mt,xt;const Et=this._intentStates.get(_t);Et&&((mt=this._stats)==null||mt.timeEnd("Page Request"),(xt=Et.displayReadyCapability)==null||xt.resolve(ft))}_renderPageChunk(ft,_t){for(let Et=0,mt=ft.length;Et<mt;Et++)_t.operatorList.fnArray.push(ft.fnArray[Et]),_t.operatorList.argsArray.push(ft.argsArray[Et]);_t.operatorList.lastChunk=ft.lastChunk,_t.operatorList.separateAnnots=ft.separateAnnots;for(const Et of _t.renderTasks)Et.operatorListChanged();ft.lastChunk&&cn(this,g,na).call(this,!0)}_pumpOperatorList({renderingIntent:ft,cacheKey:_t,annotationStorageSerializable:Et}){const{map:mt,transfers:xt}=Et,Ut=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ft,cacheKey:_t,annotationStorage:mt},xt).getReader(),kt=this._intentStates.get(_t);kt.streamReader=Ut;const Bt=()=>{Ut.read().then(({value:$t,done:Gt})=>{if(Gt){kt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk($t,kt),Bt())},$t=>{if(kt.streamReader=null,!this._transport.destroyed){if(kt.operatorList){kt.operatorList.lastChunk=!0;for(const Gt of kt.renderTasks)Gt.operatorListChanged();cn(this,g,na).call(this,!0)}if(kt.displayReadyCapability)kt.displayReadyCapability.reject($t);else if(kt.opListReadCapability)kt.opListReadCapability.reject($t);else throw $t}})};Bt()}_abortOperatorList({intentState:ft,reason:_t,force:Et=!1}){if(ft.streamReader){if(ft.streamReaderCancelTimeout&&(clearTimeout(ft.streamReaderCancelTimeout),ft.streamReaderCancelTimeout=null),!Et){if(ft.renderTasks.size>0)return;if(_t instanceof _display_utils.RenderingCancelledException){let mt=RENDERING_CANCELLED_TIMEOUT;_t.extraDelay>0&&_t.extraDelay<1e3&&(mt+=_t.extraDelay),ft.streamReaderCancelTimeout=setTimeout(()=>{ft.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:ft,reason:_t,force:!0})},mt);return}}if(ft.streamReader.cancel(new _util.AbortException(_t.message)).catch(()=>{}),ft.streamReader=null,!this._transport.destroyed){for(const[mt,xt]of this._intentStates)if(xt===ft){this._intentStates.delete(mt);break}this.cleanup()}}}get stats(){return this._stats}}d=new WeakMap,h=new WeakMap,g=new WeakSet,na=function(ft=!1){if(cn(this,g,Bo).call(this),!Tt(this,h)||this.destroyed)return!1;if(ft)return xn(this,d,setTimeout(()=>{xn(this,d,null),cn(this,g,na).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:_t,operatorList:Et}of this._intentStates.values())if(_t.size>0||!Et.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),xn(this,h,!1),!0},Bo=function(){Tt(this,d)&&(clearTimeout(Tt(this,d)),xn(this,d,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Sn(this,$,new Set);Sn(this,et,Promise.resolve())}postMessage(ft,_t){const Et={data:structuredClone(ft,_t?{transfer:_t}:null)};Tt(this,et).then(()=>{for(const mt of Tt(this,$))mt.call(this,Et)})}addEventListener(ft,_t){Tt(this,$).add(_t)}removeEventListener(ft,_t){Tt(this,$).delete(_t)}terminate(){Tt(this,$).clear()}}$=new WeakMap,et=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const gt=(tt=document==null?void 0:document.currentScript)==null?void 0:tt.src;gt&&(PDFWorkerUtil.fallbackWorkerSrc=gt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(gt,ft){let _t;try{if(_t=new URL(gt),!_t.origin||_t.origin==="null")return!1}catch{return!1}const Et=new URL(ft,_t);return _t.origin===Et.origin},PDFWorkerUtil.createCDNWrapper=function(gt){const ft=`importScripts("${gt}");`;return URL.createObjectURL(new Blob([ft]))}}const _PDFWorker=class _PDFWorker{constructor({name:gt=null,port:ft=null,verbosity:_t=(0,_util.getVerbosityLevel)()}={}){var Et;if(this.name=gt,this.destroyed=!1,this.verbosity=_t,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,ft){if((Et=Tt(_PDFWorker,nt))!=null&&Et.has(ft))throw new Error("Cannot use more than one PDFWorker per port.");(Tt(_PDFWorker,nt)||xn(_PDFWorker,nt,new WeakMap)).set(ft,this),this._initializeFromPort(ft);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(gt){this._port=gt,this._messageHandler=new _message_handler.MessageHandler("main","worker",gt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:gt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,gt)||(gt=PDFWorkerUtil.createCDNWrapper(new URL(gt,window.location).href));const ft=new Worker(gt),_t=new _message_handler.MessageHandler("main","worker",ft),Et=()=>{ft.removeEventListener("error",mt),_t.destroy(),ft.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},mt=()=>{this._webWorker||Et()};ft.addEventListener("error",mt),_t.on("test",St=>{if(ft.removeEventListener("error",mt),this.destroyed){Et();return}St?(this._messageHandler=_t,this._port=ft,this._webWorker=ft,this._readyCapability.resolve(),_t.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),_t.destroy(),ft.terminate())}),_t.on("ready",St=>{if(ft.removeEventListener("error",mt),this.destroyed){Et();return}try{xt()}catch{this._setupFakeWorker()}});const xt=()=>{const St=new Uint8Array;_t.send("test",St,[St.buffer])};xt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(gt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ft=new LoopbackPort;this._port=ft;const _t=`fake${PDFWorkerUtil.fakeWorkerId++}`,Et=new _message_handler.MessageHandler(_t+"_worker",_t,ft);gt.setup(Et,ft);const mt=new _message_handler.MessageHandler(_t,_t+"_worker",ft);this._messageHandler=mt,this._readyCapability.resolve(),mt.send("configure",{verbosity:this.verbosity})}).catch(gt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${gt.message}".`))})}destroy(){var gt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(gt=Tt(_PDFWorker,nt))==null||gt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(gt){var _t;if(!(gt!=null&&gt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const ft=(_t=Tt(this,nt))==null?void 0:_t.get(gt.port);if(ft){if(ft._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ft}return new _PDFWorker(gt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var gt;try{return((gt=globalThis.pdfjsWorker)==null?void 0:gt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};nt=new WeakMap,Sn(_PDFWorker,nt);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(ft,_t,Et,mt,xt){Sn(this,lt);Sn(this,rt,new Map);Sn(this,it,new Map);Sn(this,st,new Map);Sn(this,ot,null);this.messageHandler=ft,this.loadingTask=_t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:mt.ownerDocument,styleElement:mt.styleElement}),this._params=mt,this.canvasFactory=xt.canvasFactory,this.filterFactory=xt.filterFactory,this.cMapReaderFactory=xt.cMapReaderFactory,this.standardFontDataFactory=xt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Et,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(ft,_t=_util.AnnotationMode.ENABLE,Et=null,mt=!1){let xt=_util.RenderingIntentFlag.DISPLAY,St=_annotation_storage.SerializableEmpty;switch(ft){case"any":xt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":xt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${ft}`)}switch(_t){case _util.AnnotationMode.DISABLE:xt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:xt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:xt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,St=(xt&_util.RenderingIntentFlag.PRINT&&Et instanceof _annotation_storage.PrintAnnotationStorage?Et:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${_t}`)}return mt&&(xt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:xt,cacheKey:`${xt}_${St.hash}`,annotationStorageSerializable:St}}destroy(){var Et;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Et=Tt(this,ot))==null||Et.reject(new Error("Worker was destroyed during onPassword callback"));const ft=[];for(const mt of Tt(this,it).values())ft.push(mt._destroy());Tt(this,it).clear(),Tt(this,st).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const _t=this.messageHandler.sendWithPromise("Terminate",null);return ft.push(_t),Promise.all(ft).then(()=>{var mt;this.commonObjs.clear(),this.fontLoader.clear(),Tt(this,rt).clear(),this.filterFactory.destroy(),(mt=this._networkStream)==null||mt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ft,loadingTask:_t}=this;ft.on("GetReader",(Et,mt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=xt=>{this._lastProgress={loaded:xt.loaded,total:xt.total}},mt.onPull=()=>{this._fullReader.read().then(function({value:xt,done:St}){if(St){mt.close();return}(0,_util.assert)(xt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),mt.enqueue(new Uint8Array(xt),1,[xt])}).catch(xt=>{mt.error(xt)})},mt.onCancel=xt=>{this._fullReader.cancel(xt),mt.ready.catch(St=>{if(!this.destroyed)throw St})}}),ft.on("ReaderHeadersReady",Et=>{const mt=new _util.PromiseCapability,xt=this._fullReader;return xt.headersReady.then(()=>{var St;(!xt.isStreamingSupported||!xt.isRangeSupported)&&(this._lastProgress&&((St=_t.onProgress)==null||St.call(_t,this._lastProgress)),xt.onProgress=Ut=>{var kt;(kt=_t.onProgress)==null||kt.call(_t,{loaded:Ut.loaded,total:Ut.total})}),mt.resolve({isStreamingSupported:xt.isStreamingSupported,isRangeSupported:xt.isRangeSupported,contentLength:xt.contentLength})},mt.reject),mt.promise}),ft.on("GetRangeReader",(Et,mt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const xt=this._networkStream.getRangeReader(Et.begin,Et.end);if(!xt){mt.close();return}mt.onPull=()=>{xt.read().then(function({value:St,done:Ut}){if(Ut){mt.close();return}(0,_util.assert)(St instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),mt.enqueue(new Uint8Array(St),1,[St])}).catch(St=>{mt.error(St)})},mt.onCancel=St=>{xt.cancel(St),mt.ready.catch(Ut=>{if(!this.destroyed)throw Ut})}}),ft.on("GetDoc",({pdfInfo:Et})=>{this._numPages=Et.numPages,this._htmlForXfa=Et.htmlForXfa,delete Et.htmlForXfa,_t._capability.resolve(new PDFDocumentProxy(Et,this))}),ft.on("DocException",function(Et){let mt;switch(Et.name){case"PasswordException":mt=new _util.PasswordException(Et.message,Et.code);break;case"InvalidPDFException":mt=new _util.InvalidPDFException(Et.message);break;case"MissingPDFException":mt=new _util.MissingPDFException(Et.message);break;case"UnexpectedResponseException":mt=new _util.UnexpectedResponseException(Et.message,Et.status);break;case"UnknownErrorException":mt=new _util.UnknownErrorException(Et.message,Et.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}_t._capability.reject(mt)}),ft.on("PasswordRequest",Et=>{if(xn(this,ot,new _util.PromiseCapability),_t.onPassword){const mt=xt=>{xt instanceof Error?Tt(this,ot).reject(xt):Tt(this,ot).resolve({password:xt})};try{_t.onPassword(mt,Et.code)}catch(xt){Tt(this,ot).reject(xt)}}else Tt(this,ot).reject(new _util.PasswordException(Et.message,Et.code));return Tt(this,ot).promise}),ft.on("DataLoaded",Et=>{var mt;(mt=_t.onProgress)==null||mt.call(_t,{loaded:Et.length,total:Et.length}),this.downloadInfoCapability.resolve(Et)}),ft.on("StartRenderPage",Et=>{if(this.destroyed)return;Tt(this,it).get(Et.pageIndex)._startRenderPage(Et.transparency,Et.cacheKey)}),ft.on("commonobj",([Et,mt,xt])=>{var St;if(!this.destroyed&&!this.commonObjs.has(Et))switch(mt){case"Font":const Ut=this._params;if("error"in xt){const $t=xt.error;(0,_util.warn)(`Error during font loading: ${$t}`),this.commonObjs.resolve(Et,$t);break}const kt=Ut.pdfBug&&((St=globalThis.FontInspector)!=null&&St.enabled)?($t,Gt)=>globalThis.FontInspector.fontAdded($t,Gt):null,Bt=new _font_loader.FontFaceObject(xt,{isEvalSupported:Ut.isEvalSupported,disableFontFace:Ut.disableFontFace,ignoreErrors:Ut.ignoreErrors,inspectFont:kt});this.fontLoader.bind(Bt).catch($t=>ft.sendWithPromise("FontFallback",{id:Et})).finally(()=>{!Ut.fontExtraProperties&&Bt.data&&(Bt.data=null),this.commonObjs.resolve(Et,Bt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Et,xt);break;default:throw new Error(`Got unknown common object type ${mt}`)}}),ft.on("obj",([Et,mt,xt,St])=>{var kt;if(this.destroyed)return;const Ut=Tt(this,it).get(mt);if(!Ut.objs.has(Et))switch(xt){case"Image":if(Ut.objs.resolve(Et,St),St){let Bt;if(St.bitmap){const{width:$t,height:Gt}=St;Bt=$t*Gt*4}else Bt=((kt=St.data)==null?void 0:kt.length)||0;Bt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Ut._maybeCleanupAfterRender=!0)}break;case"Pattern":Ut.objs.resolve(Et,St);break;default:throw new Error(`Got unknown object type ${xt}`)}}),ft.on("DocProgress",Et=>{var mt;this.destroyed||(mt=_t.onProgress)==null||mt.call(_t,{loaded:Et.loaded,total:Et.total})}),ft.on("FetchBuiltInCMap",Et=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Et):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ft.on("FetchStandardFontData",Et=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Et):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Et;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:ft,transfers:_t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:ft,filename:((Et=this._fullReader)==null?void 0:Et.filename)??null},_t).finally(()=>{this.annotationStorage.resetModified()})}getPage(ft){if(!Number.isInteger(ft)||ft<=0||ft>this._numPages)return Promise.reject(new Error("Invalid page request."));const _t=ft-1,Et=Tt(this,st).get(_t);if(Et)return Et;const mt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:_t}).then(xt=>{if(this.destroyed)throw new Error("Transport destroyed");const St=new PDFPageProxy(_t,xt,this,this._params.pdfBug);return Tt(this,it).set(_t,St),St});return Tt(this,st).set(_t,mt),mt}getPageIndex(ft){return typeof ft!="object"||ft===null||!Number.isInteger(ft.num)||ft.num<0||!Number.isInteger(ft.gen)||ft.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ft.num,gen:ft.gen})}getAnnotations(ft,_t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ft,intent:_t})}getFieldObjects(){return cn(this,lt,jo).call(this,"GetFieldObjects")}hasJSActions(){return cn(this,lt,jo).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ft){return typeof ft!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ft})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return cn(this,lt,jo).call(this,"GetDocJSActions")}getPageJSActions(ft){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ft})}getStructTree(ft){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ft})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ft=>new _optional_content_config.OptionalContentConfig(ft))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const ft="GetMetadata",_t=Tt(this,rt).get(ft);if(_t)return _t;const Et=this.messageHandler.sendWithPromise(ft,null).then(mt=>{var xt,St;return{info:mt[0],metadata:mt[1]?new _metadata.Metadata(mt[1]):null,contentDispositionFilename:((xt=this._fullReader)==null?void 0:xt.filename)??null,contentLength:((St=this._fullReader)==null?void 0:St.contentLength)??null}});return Tt(this,rt).set(ft,Et),Et}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ft=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const _t of Tt(this,it).values())if(!_t.cleanup())throw new Error(`startCleanup: Page ${_t.pageNumber} is currently rendering.`);this.commonObjs.clear(),ft||this.fontLoader.clear(),Tt(this,rt).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:ft,enableXfa:_t}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:ft,enableXfa:_t})}}rt=new WeakMap,it=new WeakMap,st=new WeakMap,ot=new WeakMap,lt=new WeakSet,jo=function(ft,_t=null){const Et=Tt(this,rt).get(ft);if(Et)return Et;const mt=this.messageHandler.sendWithPromise(ft,_t);return Tt(this,rt).set(ft,mt),mt};class PDFObjects{constructor(){Sn(this,ut);Sn(this,at,Object.create(null))}get(ft,_t=null){if(_t){const mt=cn(this,ut,Nl).call(this,ft);return mt.capability.promise.then(()=>_t(mt.data)),null}const Et=Tt(this,at)[ft];if(!(Et!=null&&Et.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${ft}.`);return Et.data}has(ft){const _t=Tt(this,at)[ft];return(_t==null?void 0:_t.capability.settled)||!1}resolve(ft,_t=null){const Et=cn(this,ut,Nl).call(this,ft);Et.data=_t,Et.capability.resolve()}clear(){var ft;for(const _t in Tt(this,at)){const{data:Et}=Tt(this,at)[_t];(ft=Et==null?void 0:Et.bitmap)==null||ft.close()}xn(this,at,Object.create(null))}}at=new WeakMap,ut=new WeakSet,Nl=function(ft){var _t;return(_t=Tt(this,at))[ft]||(_t[ft]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(ft){Sn(this,vt,null);xn(this,vt,ft),this.onContinue=null}get promise(){return Tt(this,vt).capability.promise}cancel(ft=0){Tt(this,vt).cancel(null,ft)}get separateAnnots(){const{separateAnnots:ft}=Tt(this,vt).operatorList;if(!ft)return!1;const{annotationCanvasMap:_t}=Tt(this,vt);return ft.form||ft.canvas&&(_t==null?void 0:_t.size)>0}}vt=new WeakMap,exports.RenderTask=RenderTask;const yt=class yt{constructor({callback:ft,params:_t,objs:Et,commonObjs:mt,annotationCanvasMap:xt,operatorList:St,pageIndex:Ut,canvasFactory:kt,filterFactory:Bt,useRequestAnimationFrame:$t=!1,pdfBug:Gt=!1,pageColors:Ft=null}){this.callback=ft,this.params=_t,this.objs=Et,this.commonObjs=mt,this.annotationCanvasMap=xt,this.operatorListIdx=null,this.operatorList=St,this._pageIndex=Ut,this.canvasFactory=kt,this.filterFactory=Bt,this._pdfBug=Gt,this.pageColors=Ft,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=$t===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=_t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ft=!1,optionalContentConfig:_t}){var Ut,kt;if(this.cancelled)return;if(this._canvas){if(Tt(yt,ht).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Tt(yt,ht).add(this._canvas)}this._pdfBug&&((Ut=globalThis.StepperManager)!=null&&Ut.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Et,viewport:mt,transform:xt,background:St}=this.params;this.gfx=new _canvas.CanvasGraphics(Et,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:_t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:xt,viewport:mt,transparency:ft,background:St}),this.operatorListIdx=0,this.graphicsReady=!0,(kt=this.graphicsReadyCallback)==null||kt.call(this)}cancel(ft=null,_t=0){var Et;this.running=!1,this.cancelled=!0,(Et=this.gfx)==null||Et.endDrawing(),Tt(yt,ht).delete(this._canvas),this.callback(ft||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,_t))}operatorListChanged(){var ft;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(ft=this.stepper)==null||ft.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Tt(yt,ht).delete(this._canvas),this.callback())))}};ht=new WeakMap,Sn(yt,ht,new WeakSet);let InternalRenderTask=yt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(s,e,d)=>{var tt,nt,rt,Pu,st;Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var h=d(1),g=d(4),_=d(8);const j=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=j;class ${constructor(){Sn(this,rt);Sn(this,tt,!1);Sn(this,nt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(lt,dt){const at=Tt(this,nt).get(lt);return at===void 0?dt:Object.assign(dt,at)}getRawValue(lt){return Tt(this,nt).get(lt)}remove(lt){if(Tt(this,nt).delete(lt),Tt(this,nt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const dt of Tt(this,nt).values())if(dt instanceof g.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(lt,dt){const at=Tt(this,nt).get(lt);let ut=!1;if(at!==void 0)for(const[pt,vt]of Object.entries(dt))at[pt]!==vt&&(ut=!0,at[pt]=vt);else ut=!0,Tt(this,nt).set(lt,dt);ut&&cn(this,rt,Pu).call(this),dt instanceof g.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(dt.constructor._type)}has(lt){return Tt(this,nt).has(lt)}getAll(){return Tt(this,nt).size>0?(0,h.objectFromMap)(Tt(this,nt)):null}setAll(lt){for(const[dt,at]of Object.entries(lt))this.setValue(dt,at)}get size(){return Tt(this,nt).size}resetModified(){Tt(this,tt)&&(xn(this,tt,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new et(this)}get serializable(){if(Tt(this,nt).size===0)return j;const lt=new Map,dt=new _.MurmurHash3_64,at=[],ut=Object.create(null);let pt=!1;for(const[vt,ht]of Tt(this,nt)){const yt=ht instanceof g.AnnotationEditor?ht.serialize(!1,ut):ht;yt&&(lt.set(vt,yt),dt.update(`${vt}:${JSON.stringify(yt)}`),pt||(pt=!!yt.bitmap))}if(pt)for(const vt of lt.values())vt.bitmap&&at.push(vt.bitmap);return lt.size>0?{map:lt,hash:dt.hexdigest(),transfers:at}:j}}tt=new WeakMap,nt=new WeakMap,rt=new WeakSet,Pu=function(){Tt(this,tt)||(xn(this,tt,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=$;class et extends ${constructor(dt){super();Sn(this,st);const{map:at,hash:ut,transfers:pt}=dt.serializable,vt=structuredClone(at,pt?{transfer:pt}:null);xn(this,st,{map:vt,hash:ut,transfers:pt})}get print(){(0,h.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Tt(this,st)}}st=new WeakMap,e.PrintAnnotationStorage=et},(s,e,d)=>{var et,tt,nt,rt,it,st,ot,lt,dt,at,ut,pt,vt,ht,yt,Ll,Vl,_t,Bl,$l,Ru,Cu,Iu,Ul,Du;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var h=d(5),g=d(1),_=d(6);const $t=class $t{constructor(Ft){Sn(this,yt);Sn(this,et,"");Sn(this,tt,!1);Sn(this,nt,null);Sn(this,rt,null);Sn(this,it,null);Sn(this,st,!1);Sn(this,ot,null);Sn(this,lt,this.focusin.bind(this));Sn(this,dt,this.focusout.bind(this));Sn(this,at,!1);Sn(this,ut,!1);Sn(this,pt,!1);lr(this,"_initialOptions",Object.create(null));lr(this,"_uiManager",null);lr(this,"_focusEventsAllowed",!0);lr(this,"_l10nPromise",null);Sn(this,vt,!1);Sn(this,ht,$t._zIndex++);this.constructor===$t&&(0,g.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Ft.parent,this.id=Ft.id,this.width=this.height=null,this.pageIndex=Ft.parent.pageIndex,this.name=Ft.name,this.div=null,this._uiManager=Ft.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Ft.isCentered,this._structTreeParentId=null;const{rotation:Wt,rawDims:{pageWidth:tn,pageHeight:Lt,pageX:Rt,pageY:It}}=this.parent.viewport;this.rotation=Wt,this.pageRotation=(360+Wt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[tn,Lt],this.pageTranslation=[Rt,It];const[Mt,Ht]=this.parentDimensions;this.x=Ft.x/Mt,this.y=Ft.y/Ht,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,g.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Ft){const Wt=new $({id:Ft.parent.getNextId(),parent:Ft.parent,uiManager:Ft._uiManager});Wt.annotationElementId=Ft.annotationElementId,Wt.deleted=!0,Wt._uiManager.addToAnnotationStorage(Wt)}static initialize(Ft,Wt=null){if($t._l10nPromise||($t._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Lt=>[Lt,Ft.get(Lt)]))),Wt!=null&&Wt.strings)for(const Lt of Wt.strings)$t._l10nPromise.set(Lt,Ft.get(Lt));if($t._borderLineWidth!==-1)return;const tn=getComputedStyle(document.documentElement);$t._borderLineWidth=parseFloat(tn.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Ft,Wt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Ft){return!1}static paste(Ft,Wt){(0,g.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Tt(this,vt)}set _isDraggable(Ft){var Wt;xn(this,vt,Ft),(Wt=this.div)==null||Wt.classList.toggle("draggable",Ft)}center(){const[Ft,Wt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Wt/(Ft*2),this.y+=this.width*Ft/(Wt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Wt/(Ft*2),this.y-=this.width*Ft/(Wt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Ft){this._uiManager.addCommands(Ft)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Tt(this,ht)}setParent(Ft){Ft!==null&&(this.pageIndex=Ft.pageIndex,this.pageDimensions=Ft.pageDimensions),this.parent=Ft}focusin(Ft){this._focusEventsAllowed&&(Tt(this,at)?xn(this,at,!1):this.parent.setSelected(this))}focusout(Ft){var tn;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Wt=Ft.relatedTarget;Wt!=null&&Wt.closest(`#${this.id}`)||(Ft.preventDefault(),(tn=this.parent)!=null&&tn.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Ft,Wt,tn,Lt){const[Rt,It]=this.parentDimensions;[tn,Lt]=this.screenToPageTranslation(tn,Lt),this.x=(Ft+tn)/Rt,this.y=(Wt+Lt)/It,this.fixAndSetPosition()}translate(Ft,Wt){cn(this,yt,Ll).call(this,this.parentDimensions,Ft,Wt)}translateInPage(Ft,Wt){cn(this,yt,Ll).call(this,this.pageDimensions,Ft,Wt),this.div.scrollIntoView({block:"nearest"})}drag(Ft,Wt){const[tn,Lt]=this.parentDimensions;if(this.x+=Ft/tn,this.y+=Wt/Lt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:qt,y:zt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,qt,zt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Rt,y:It}=this;const[Mt,Ht]=cn(this,yt,Vl).call(this);Rt+=Mt,It+=Ht,this.div.style.left=`${(100*Rt).toFixed(2)}%`,this.div.style.top=`${(100*It).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Ft,Wt]=this.pageDimensions;let{x:tn,y:Lt,width:Rt,height:It}=this;switch(Rt*=Ft,It*=Wt,tn*=Ft,Lt*=Wt,this.rotation){case 0:tn=Math.max(0,Math.min(Ft-Rt,tn)),Lt=Math.max(0,Math.min(Wt-It,Lt));break;case 90:tn=Math.max(0,Math.min(Ft-It,tn)),Lt=Math.min(Wt,Math.max(Rt,Lt));break;case 180:tn=Math.min(Ft,Math.max(Rt,tn)),Lt=Math.min(Wt,Math.max(It,Lt));break;case 270:tn=Math.min(Ft,Math.max(It,tn)),Lt=Math.max(0,Math.min(Wt-Rt,Lt));break}this.x=tn/=Ft,this.y=Lt/=Wt;const[Mt,Ht]=cn(this,yt,Vl).call(this);tn+=Mt,Lt+=Ht;const{style:qt}=this.div;qt.left=`${(100*tn).toFixed(2)}%`,qt.top=`${(100*Lt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Ft,Wt){var tn;return cn(tn=$t,_t,Bl).call(tn,Ft,Wt,this.parentRotation)}pageTranslationToScreen(Ft,Wt){var tn;return cn(tn=$t,_t,Bl).call(tn,Ft,Wt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Ft,pageDimensions:[Wt,tn]}=this,Lt=Wt*Ft,Rt=tn*Ft;return g.FeatureTest.isCSSRoundSupported?[Math.round(Lt),Math.round(Rt)]:[Lt,Rt]}setDims(Ft,Wt){var Rt;const[tn,Lt]=this.parentDimensions;this.div.style.width=`${(100*Ft/tn).toFixed(2)}%`,Tt(this,st)||(this.div.style.height=`${(100*Wt/Lt).toFixed(2)}%`),(Rt=Tt(this,nt))==null||Rt.classList.toggle("small",Ft<$t.SMALL_EDITOR_SIZE||Wt<$t.SMALL_EDITOR_SIZE)}fixDims(){const{style:Ft}=this.div,{height:Wt,width:tn}=Ft,Lt=tn.endsWith("%"),Rt=!Tt(this,st)&&Wt.endsWith("%");if(Lt&&Rt)return;const[It,Mt]=this.parentDimensions;Lt||(Ft.width=`${(100*parseFloat(tn)/It).toFixed(2)}%`),!Tt(this,st)&&!Rt&&(Ft.height=`${(100*parseFloat(Wt)/Mt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(Tt(this,nt))return;const Ft=xn(this,nt,document.createElement("button"));Ft.className="altText";const Wt=await $t._l10nPromise.get("editor_alt_text_button_label");Ft.textContent=Wt,Ft.setAttribute("aria-label",Wt),Ft.tabIndex="0",Ft.addEventListener("contextmenu",_.noContextMenu),Ft.addEventListener("pointerdown",tn=>tn.stopPropagation()),Ft.addEventListener("click",tn=>{tn.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Ft.addEventListener("keydown",tn=>{tn.target===Ft&&tn.key==="Enter"&&(tn.preventDefault(),this._uiManager.editAltText(this))}),cn(this,yt,Ul).call(this),this.div.append(Ft),$t.SMALL_EDITOR_SIZE||($t.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Ft.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:Tt(this,et),decorative:Tt(this,tt)}}set altTextData({altText:Ft,decorative:Wt}){Tt(this,et)===Ft&&Tt(this,tt)===Wt||(xn(this,et,Ft),xn(this,tt,Wt),cn(this,yt,Ul).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Tt(this,lt)),this.div.addEventListener("focusout",Tt(this,dt));const[Ft,Wt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Wt/Ft).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Ft/Wt).toFixed(2)}%`);const[tn,Lt]=this.getInitialTranslation();return this.translate(tn,Lt),(0,h.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Ft){const{isMac:Wt}=g.FeatureTest.platform;if(Ft.button!==0||Ft.ctrlKey&&Wt){Ft.preventDefault();return}xn(this,at,!0),cn(this,yt,Du).call(this,Ft)}moveInDOM(){var Ft;(Ft=this.parent)==null||Ft.moveEditorInDOM(this)}_setParentAndPosition(Ft,Wt,tn){Ft.changeParent(this),this.x=Wt,this.y=tn,this.fixAndSetPosition()}getRect(Ft,Wt){const tn=this.parentScale,[Lt,Rt]=this.pageDimensions,[It,Mt]=this.pageTranslation,Ht=Ft/tn,qt=Wt/tn,zt=this.x*Lt,an=this.y*Rt,vn=this.width*Lt,Tn=this.height*Rt;switch(this.rotation){case 0:return[zt+Ht+It,Rt-an-qt-Tn+Mt,zt+Ht+vn+It,Rt-an-qt+Mt];case 90:return[zt+qt+It,Rt-an+Ht+Mt,zt+qt+Tn+It,Rt-an+Ht+vn+Mt];case 180:return[zt-Ht-vn+It,Rt-an+qt+Mt,zt-Ht+It,Rt-an+qt+Tn+Mt];case 270:return[zt-qt-Tn+It,Rt-an-Ht-vn+Mt,zt-qt+It,Rt-an-Ht+Mt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Ft,Wt){const[tn,Lt,Rt,It]=Ft,Mt=Rt-tn,Ht=It-Lt;switch(this.rotation){case 0:return[tn,Wt-It,Mt,Ht];case 90:return[tn,Wt-Lt,Ht,Mt];case 180:return[Rt,Wt-Lt,Mt,Ht];case 270:return[Rt,Wt-It,Ht,Mt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){xn(this,pt,!0)}disableEditMode(){xn(this,pt,!1)}isInEditMode(){return Tt(this,pt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Ft,Wt;(Ft=this.div)==null||Ft.addEventListener("focusin",Tt(this,lt)),(Wt=this.div)==null||Wt.addEventListener("focusout",Tt(this,dt))}serialize(Ft=!1,Wt=null){(0,g.unreachable)("An editor must be serializable")}static deserialize(Ft,Wt,tn){const Lt=new this.prototype.constructor({parent:Wt,id:Wt.getNextId(),uiManager:tn});Lt.rotation=Ft.rotation;const[Rt,It]=Lt.pageDimensions,[Mt,Ht,qt,zt]=Lt.getRectInCurrentCoords(Ft.rect,It);return Lt.x=Mt/Rt,Lt.y=Ht/It,Lt.width=qt/Rt,Lt.height=zt/It,Lt}remove(){var Ft;this.div.removeEventListener("focusin",Tt(this,lt)),this.div.removeEventListener("focusout",Tt(this,dt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Ft=Tt(this,nt))==null||Ft.remove(),xn(this,nt,null),xn(this,rt,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(cn(this,yt,Ru).call(this),Tt(this,ot).classList.remove("hidden"))}select(){var Ft;this.makeResizable(),(Ft=this.div)==null||Ft.classList.add("selectedEditor")}unselect(){var Ft,Wt,tn;(Ft=Tt(this,ot))==null||Ft.classList.add("hidden"),(Wt=this.div)==null||Wt.classList.remove("selectedEditor"),(tn=this.div)!=null&&tn.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Ft,Wt){}disableEditing(){Tt(this,nt)&&(Tt(this,nt).hidden=!0)}enableEditing(){Tt(this,nt)&&(Tt(this,nt).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return Tt(this,ut)}set isEditing(Ft){xn(this,ut,Ft),this.parent&&(Ft?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Ft,Wt){xn(this,st,!0);const tn=Ft/Wt,{style:Lt}=this.div;Lt.aspectRatio=tn,Lt.height="auto"}static get MIN_SIZE(){return 16}};et=new WeakMap,tt=new WeakMap,nt=new WeakMap,rt=new WeakMap,it=new WeakMap,st=new WeakMap,ot=new WeakMap,lt=new WeakMap,dt=new WeakMap,at=new WeakMap,ut=new WeakMap,pt=new WeakMap,vt=new WeakMap,ht=new WeakMap,yt=new WeakSet,Ll=function([Ft,Wt],tn,Lt){[tn,Lt]=this.screenToPageTranslation(tn,Lt),this.x+=tn/Ft,this.y+=Lt/Wt,this.fixAndSetPosition()},Vl=function(){const[Ft,Wt]=this.parentDimensions,{_borderLineWidth:tn}=$t,Lt=tn/Ft,Rt=tn/Wt;switch(this.rotation){case 90:return[-Lt,Rt];case 180:return[Lt,Rt];case 270:return[Lt,-Rt];default:return[-Lt,-Rt]}},_t=new WeakSet,Bl=function(Ft,Wt,tn){switch(tn){case 90:return[Wt,-Ft];case 180:return[-Ft,-Wt];case 270:return[-Wt,Ft];default:return[Ft,Wt]}},$l=function(Ft){switch(Ft){case 90:{const[Wt,tn]=this.pageDimensions;return[0,-Wt/tn,tn/Wt,0]}case 180:return[-1,0,0,-1];case 270:{const[Wt,tn]=this.pageDimensions;return[0,Wt/tn,-tn/Wt,0]}default:return[1,0,0,1]}},Ru=function(){if(Tt(this,ot))return;xn(this,ot,document.createElement("div")),Tt(this,ot).classList.add("resizers");const Ft=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Ft.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Wt of Ft){const tn=document.createElement("div");Tt(this,ot).append(tn),tn.classList.add("resizer",Wt),tn.addEventListener("pointerdown",cn(this,yt,Cu).bind(this,Wt)),tn.addEventListener("contextmenu",_.noContextMenu)}this.div.prepend(Tt(this,ot))},Cu=function(Ft,Wt){Wt.preventDefault();const{isMac:tn}=g.FeatureTest.platform;if(Wt.button!==0||Wt.ctrlKey&&tn)return;const Lt=cn(this,yt,Iu).bind(this,Ft),Rt=this._isDraggable;this._isDraggable=!1;const It={passive:!0,capture:!0};window.addEventListener("pointermove",Lt,It);const Mt=this.x,Ht=this.y,qt=this.width,zt=this.height,an=this.parent.div.style.cursor,vn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Wt.target).cursor;const Tn=()=>{this._isDraggable=Rt,window.removeEventListener("pointerup",Tn),window.removeEventListener("blur",Tn),window.removeEventListener("pointermove",Lt,It),this.parent.div.style.cursor=an,this.div.style.cursor=vn;const Pn=this.x,In=this.y,On=this.width,Mn=this.height;Pn===Mt&&In===Ht&&On===qt&&Mn===zt||this.addCommands({cmd:()=>{this.width=On,this.height=Mn,this.x=Pn,this.y=In;const[mn,yn]=this.parentDimensions;this.setDims(mn*On,yn*Mn),this.fixAndSetPosition()},undo:()=>{this.width=qt,this.height=zt,this.x=Mt,this.y=Ht;const[mn,yn]=this.parentDimensions;this.setDims(mn*qt,yn*zt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Tn),window.addEventListener("blur",Tn)},Iu=function(Ft,Wt){const[tn,Lt]=this.parentDimensions,Rt=this.x,It=this.y,Mt=this.width,Ht=this.height,qt=$t.MIN_SIZE/tn,zt=$t.MIN_SIZE/Lt,an=Jn=>Math.round(Jn*1e4)/1e4,vn=cn(this,yt,$l).call(this,this.rotation),Tn=(Jn,ar)=>[vn[0]*Jn+vn[2]*ar,vn[1]*Jn+vn[3]*ar],Pn=cn(this,yt,$l).call(this,360-this.rotation),In=(Jn,ar)=>[Pn[0]*Jn+Pn[2]*ar,Pn[1]*Jn+Pn[3]*ar];let On,Mn,mn=!1,yn=!1;switch(Ft){case"topLeft":mn=!0,On=(Jn,ar)=>[0,0],Mn=(Jn,ar)=>[Jn,ar];break;case"topMiddle":On=(Jn,ar)=>[Jn/2,0],Mn=(Jn,ar)=>[Jn/2,ar];break;case"topRight":mn=!0,On=(Jn,ar)=>[Jn,0],Mn=(Jn,ar)=>[0,ar];break;case"middleRight":yn=!0,On=(Jn,ar)=>[Jn,ar/2],Mn=(Jn,ar)=>[0,ar/2];break;case"bottomRight":mn=!0,On=(Jn,ar)=>[Jn,ar],Mn=(Jn,ar)=>[0,0];break;case"bottomMiddle":On=(Jn,ar)=>[Jn/2,ar],Mn=(Jn,ar)=>[Jn/2,0];break;case"bottomLeft":mn=!0,On=(Jn,ar)=>[0,ar],Mn=(Jn,ar)=>[Jn,0];break;case"middleLeft":yn=!0,On=(Jn,ar)=>[0,ar/2],Mn=(Jn,ar)=>[Jn,ar/2];break}const Vt=On(Mt,Ht),Zt=Mn(Mt,Ht);let un=Tn(...Zt);const bn=an(Rt+un[0]),Rn=an(It+un[1]);let Nn=1,kn=1,[dn,Un]=this.screenToPageTranslation(Wt.movementX,Wt.movementY);if([dn,Un]=In(dn/tn,Un/Lt),mn){const Jn=Math.hypot(Mt,Ht);Nn=kn=Math.max(Math.min(Math.hypot(Zt[0]-Vt[0]-dn,Zt[1]-Vt[1]-Un)/Jn,1/Mt,1/Ht),qt/Mt,zt/Ht)}else yn?Nn=Math.max(qt,Math.min(1,Math.abs(Zt[0]-Vt[0]-dn)))/Mt:kn=Math.max(zt,Math.min(1,Math.abs(Zt[1]-Vt[1]-Un)))/Ht;const jn=an(Mt*Nn),vr=an(Ht*kn);un=Tn(...Mn(jn,vr));const fr=bn-un[0],Cr=Rn-un[1];this.width=jn,this.height=vr,this.x=fr,this.y=Cr,this.setDims(tn*jn,Lt*vr),this.fixAndSetPosition()},Ul=async function(){var tn;const Ft=Tt(this,nt);if(!Ft)return;if(!Tt(this,et)&&!Tt(this,tt)){Ft.classList.remove("done"),(tn=Tt(this,rt))==null||tn.remove();return}$t._l10nPromise.get("editor_alt_text_edit_button_label").then(Lt=>{Ft.setAttribute("aria-label",Lt)});let Wt=Tt(this,rt);if(!Wt){xn(this,rt,Wt=document.createElement("span")),Wt.className="tooltip",Wt.setAttribute("role","tooltip");const Lt=Wt.id=`alt-text-tooltip-${this.id}`;Ft.setAttribute("aria-describedby",Lt);const Rt=100;Ft.addEventListener("mouseenter",()=>{xn(this,it,setTimeout(()=>{xn(this,it,null),Tt(this,rt).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Rt))}),Ft.addEventListener("mouseleave",()=>{var It;clearTimeout(Tt(this,it)),xn(this,it,null),(It=Tt(this,rt))==null||It.classList.remove("show")})}Ft.classList.add("done"),Wt.innerText=Tt(this,tt)?await $t._l10nPromise.get("editor_alt_text_decorative_tooltip"):Tt(this,et),Wt.parentNode||Ft.append(Wt)},Du=function(Ft){if(!this._isDraggable)return;const Wt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let tn,Lt;Wt&&(tn={passive:!0,capture:!0},Lt=It=>{const[Mt,Ht]=this.screenToPageTranslation(It.movementX,It.movementY);this._uiManager.dragSelectedEditors(Mt,Ht)},window.addEventListener("pointermove",Lt,tn));const Rt=()=>{if(window.removeEventListener("pointerup",Rt),window.removeEventListener("blur",Rt),Wt&&window.removeEventListener("pointermove",Lt,tn),xn(this,at,!1),!this._uiManager.endDragSession()){const{isMac:It}=g.FeatureTest.platform;Ft.ctrlKey&&!It||Ft.shiftKey||Ft.metaKey&&It?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Rt),window.addEventListener("blur",Rt)},Sn($t,_t),lr($t,"_borderLineWidth",-1),lr($t,"_colorManager",new h.ColorManager),lr($t,"_zIndex",1),lr($t,"SMALL_EDITOR_SIZE",0);let j=$t;e.AnnotationEditor=j;class $ extends j{constructor(Ft){super(Ft),this.annotationElementId=Ft.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(s,e,d)=>{var st,ot,lt,dt,at,zl,vt,ht,yt,gt,ft,ku,mt,xt,St,Ut,kt,Bt,$t,Gt,Ft,Wt,tn,Lt,Rt,It,Mt,Ht,qt,zt,an,vn,Tn,Pn,In,On,Mn,mn,yn,Vt,Zt,un,bn,Rn,Nn,kn,dn,Fu,Hl,Wl,$o,Gl,Kl,ys,_o,Ou,Mu,Xl,vo,Zl;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=_,e.opacityToHex=j;var h=d(1),g=d(6);function _(hr,Yt,Cn){for(const Hn of Cn)Yt.addEventListener(Hn,hr[Hn].bind(hr))}function j(hr){return Math.round(Math.min(255,Math.max(1,255*hr))).toString(16).padStart(2,"0")}class ${constructor(){Sn(this,st,0)}getId(){return`${h.AnnotationEditorPrefix}${go(this,st)._++}`}}st=new WeakMap;const pt=class pt{constructor(){Sn(this,at);Sn(this,ot,(0,h.getUuid)());Sn(this,lt,0);Sn(this,dt,null)}static get _isSVGFittingCanvas(){const Yt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Hn=new OffscreenCanvas(1,3).getContext("2d"),Qn=new Image;Qn.src=Yt;const sr=Qn.decode().then(()=>(Hn.drawImage(Qn,0,0,1,1,0,0,1,3),new Uint32Array(Hn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,h.shadow)(this,"_isSVGFittingCanvas",sr)}async getFromFile(Yt){const{lastModified:Cn,name:Hn,size:Qn,type:sr}=Yt;return cn(this,at,zl).call(this,`${Cn}_${Hn}_${Qn}_${sr}`,Yt)}async getFromUrl(Yt){return cn(this,at,zl).call(this,Yt,Yt)}async getFromId(Yt){Tt(this,dt)||xn(this,dt,new Map);const Cn=Tt(this,dt).get(Yt);return Cn?Cn.bitmap?(Cn.refCounter+=1,Cn):Cn.file?this.getFromFile(Cn.file):this.getFromUrl(Cn.url):null}getSvgUrl(Yt){const Cn=Tt(this,dt).get(Yt);return Cn!=null&&Cn.isSvg?Cn.svgUrl:null}deleteId(Yt){Tt(this,dt)||xn(this,dt,new Map);const Cn=Tt(this,dt).get(Yt);Cn&&(Cn.refCounter-=1,Cn.refCounter===0&&(Cn.bitmap=null))}isValidId(Yt){return Yt.startsWith(`image_${Tt(this,ot)}_`)}};ot=new WeakMap,lt=new WeakMap,dt=new WeakMap,at=new WeakSet,zl=async function(Yt,Cn){Tt(this,dt)||xn(this,dt,new Map);let Hn=Tt(this,dt).get(Yt);if(Hn===null)return null;if(Hn!=null&&Hn.bitmap)return Hn.refCounter+=1,Hn;try{Hn||(Hn={bitmap:null,id:`image_${Tt(this,ot)}_${go(this,lt)._++}`,refCounter:0,isSvg:!1});let Qn;if(typeof Cn=="string"){Hn.url=Cn;const sr=await fetch(Cn);if(!sr.ok)throw new Error(sr.statusText);Qn=await sr.blob()}else Qn=Hn.file=Cn;if(Qn.type==="image/svg+xml"){const sr=pt._isSVGFittingCanvas,Zn=new FileReader,Xt=new Image,jt=new Promise((rn,En)=>{Xt.onload=()=>{Hn.bitmap=Xt,Hn.isSvg=!0,rn()},Zn.onload=async()=>{const wn=Hn.svgUrl=Zn.result;Xt.src=await sr?`${wn}#svgView(preserveAspectRatio(none))`:wn},Xt.onerror=Zn.onerror=En});Zn.readAsDataURL(Qn),await jt}else Hn.bitmap=await createImageBitmap(Qn);Hn.refCounter=1}catch(Qn){console.error(Qn),Hn=null}return Tt(this,dt).set(Yt,Hn),Hn&&Tt(this,dt).set(Hn.id,Hn),Hn};let et=pt;class tt{constructor(Yt=128){Sn(this,vt,[]);Sn(this,ht,!1);Sn(this,yt);Sn(this,gt,-1);xn(this,yt,Yt)}add({cmd:Yt,undo:Cn,mustExec:Hn,type:Qn=NaN,overwriteIfSameType:sr=!1,keepUndo:Zn=!1}){if(Hn&&Yt(),Tt(this,ht))return;const Xt={cmd:Yt,undo:Cn,type:Qn};if(Tt(this,gt)===-1){Tt(this,vt).length>0&&(Tt(this,vt).length=0),xn(this,gt,0),Tt(this,vt).push(Xt);return}if(sr&&Tt(this,vt)[Tt(this,gt)].type===Qn){Zn&&(Xt.undo=Tt(this,vt)[Tt(this,gt)].undo),Tt(this,vt)[Tt(this,gt)]=Xt;return}const jt=Tt(this,gt)+1;jt===Tt(this,yt)?Tt(this,vt).splice(0,1):(xn(this,gt,jt),jt<Tt(this,vt).length&&Tt(this,vt).splice(jt)),Tt(this,vt).push(Xt)}undo(){Tt(this,gt)!==-1&&(xn(this,ht,!0),Tt(this,vt)[Tt(this,gt)].undo(),xn(this,ht,!1),xn(this,gt,Tt(this,gt)-1))}redo(){Tt(this,gt)<Tt(this,vt).length-1&&(xn(this,gt,Tt(this,gt)+1),xn(this,ht,!0),Tt(this,vt)[Tt(this,gt)].cmd(),xn(this,ht,!1))}hasSomethingToUndo(){return Tt(this,gt)!==-1}hasSomethingToRedo(){return Tt(this,gt)<Tt(this,vt).length-1}destroy(){xn(this,vt,null)}}vt=new WeakMap,ht=new WeakMap,yt=new WeakMap,gt=new WeakMap,e.CommandManager=tt;class nt{constructor(Yt){Sn(this,ft);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Cn}=h.FeatureTest.platform;for(const[Hn,Qn,sr={}]of Yt)for(const Zn of Hn){const Xt=Zn.startsWith("mac+");Cn&&Xt?(this.callbacks.set(Zn.slice(4),{callback:Qn,options:sr}),this.allKeys.add(Zn.split("+").at(-1))):!Cn&&!Xt&&(this.callbacks.set(Zn,{callback:Qn,options:sr}),this.allKeys.add(Zn.split("+").at(-1)))}}exec(Yt,Cn){if(!this.allKeys.has(Cn.key))return;const Hn=this.callbacks.get(cn(this,ft,ku).call(this,Cn));if(!Hn)return;const{callback:Qn,options:{bubbles:sr=!1,args:Zn=[],checker:Xt=null}}=Hn;Xt&&!Xt(Yt,Cn)||(Qn.bind(Yt,...Zn)(),sr||(Cn.stopPropagation(),Cn.preventDefault()))}}ft=new WeakSet,ku=function(Yt){Yt.altKey&&this.buffer.push("alt"),Yt.ctrlKey&&this.buffer.push("ctrl"),Yt.metaKey&&this.buffer.push("meta"),Yt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Yt.key);const Cn=this.buffer.join("+");return this.buffer.length=0,Cn},e.KeyboardManager=nt;const Et=class Et{get _colors(){const Yt=new Map([["CanvasText",null],["Canvas",null]]);return(0,g.getColorValues)(Yt),(0,h.shadow)(this,"_colors",Yt)}convert(Yt){const Cn=(0,g.getRGB)(Yt);if(!window.matchMedia("(forced-colors: active)").matches)return Cn;for(const[Hn,Qn]of this._colors)if(Qn.every((sr,Zn)=>sr===Cn[Zn]))return Et._colorsMapping.get(Hn);return Cn}getHexCode(Yt){const Cn=this._colors.get(Yt);return Cn?h.Util.makeHexColor(...Cn):Yt}};lr(Et,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let rt=Et;e.ColorManager=rt;const tr=class tr{constructor(Yt,Cn,Hn,Qn,sr,Zn){Sn(this,dn);Sn(this,mt,null);Sn(this,xt,new Map);Sn(this,St,new Map);Sn(this,Ut,null);Sn(this,kt,null);Sn(this,Bt,new tt);Sn(this,$t,0);Sn(this,Gt,new Set);Sn(this,Ft,null);Sn(this,Wt,null);Sn(this,tn,new Set);Sn(this,Lt,null);Sn(this,Rt,new $);Sn(this,It,!1);Sn(this,Mt,!1);Sn(this,Ht,null);Sn(this,qt,h.AnnotationEditorType.NONE);Sn(this,zt,new Set);Sn(this,an,null);Sn(this,vn,this.blur.bind(this));Sn(this,Tn,this.focus.bind(this));Sn(this,Pn,this.copy.bind(this));Sn(this,In,this.cut.bind(this));Sn(this,On,this.paste.bind(this));Sn(this,Mn,this.keydown.bind(this));Sn(this,mn,this.onEditingAction.bind(this));Sn(this,yn,this.onPageChanging.bind(this));Sn(this,Vt,this.onScaleChanging.bind(this));Sn(this,Zt,this.onRotationChanging.bind(this));Sn(this,un,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Sn(this,bn,[0,0]);Sn(this,Rn,null);Sn(this,Nn,null);Sn(this,kn,null);xn(this,Nn,Yt),xn(this,kn,Cn),xn(this,Ut,Hn),this._eventBus=Qn,this._eventBus._on("editingaction",Tt(this,mn)),this._eventBus._on("pagechanging",Tt(this,yn)),this._eventBus._on("scalechanging",Tt(this,Vt)),this._eventBus._on("rotationchanging",Tt(this,Zt)),xn(this,kt,sr.annotationStorage),xn(this,Lt,sr.filterFactory),xn(this,an,Zn),this.viewParameters={realScale:g.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Yt=tr.prototype,Cn=sr=>{const{activeElement:Zn}=document;return Zn&&Tt(sr,Nn).contains(Zn)&&sr.hasSomethingToControl()},Hn=this.TRANSLATE_SMALL,Qn=this.TRANSLATE_BIG;return(0,h.shadow)(this,"_keyboardManager",new nt([[["ctrl+a","mac+meta+a"],Yt.selectAll],[["ctrl+z","mac+meta+z"],Yt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Yt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Yt.delete],[["Escape","mac+Escape"],Yt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Yt.translateSelectedEditors,{args:[-Hn,0],checker:Cn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Yt.translateSelectedEditors,{args:[-Qn,0],checker:Cn}],[["ArrowRight","mac+ArrowRight"],Yt.translateSelectedEditors,{args:[Hn,0],checker:Cn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Yt.translateSelectedEditors,{args:[Qn,0],checker:Cn}],[["ArrowUp","mac+ArrowUp"],Yt.translateSelectedEditors,{args:[0,-Hn],checker:Cn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Yt.translateSelectedEditors,{args:[0,-Qn],checker:Cn}],[["ArrowDown","mac+ArrowDown"],Yt.translateSelectedEditors,{args:[0,Hn],checker:Cn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Yt.translateSelectedEditors,{args:[0,Qn],checker:Cn}]]))}destroy(){cn(this,dn,$o).call(this),cn(this,dn,Hl).call(this),this._eventBus._off("editingaction",Tt(this,mn)),this._eventBus._off("pagechanging",Tt(this,yn)),this._eventBus._off("scalechanging",Tt(this,Vt)),this._eventBus._off("rotationchanging",Tt(this,Zt));for(const Yt of Tt(this,St).values())Yt.destroy();Tt(this,St).clear(),Tt(this,xt).clear(),Tt(this,tn).clear(),xn(this,mt,null),Tt(this,zt).clear(),Tt(this,Bt).destroy(),Tt(this,Ut).destroy()}get hcmFilter(){return(0,h.shadow)(this,"hcmFilter",Tt(this,an)?Tt(this,Lt).addHCMFilter(Tt(this,an).foreground,Tt(this,an).background):"none")}get direction(){return(0,h.shadow)(this,"direction",getComputedStyle(Tt(this,Nn)).direction)}editAltText(Yt){var Cn;(Cn=Tt(this,Ut))==null||Cn.editAltText(this,Yt)}onPageChanging({pageNumber:Yt}){xn(this,$t,Yt-1)}focusMainContainer(){Tt(this,Nn).focus()}findParent(Yt,Cn){for(const Hn of Tt(this,St).values()){const{x:Qn,y:sr,width:Zn,height:Xt}=Hn.div.getBoundingClientRect();if(Yt>=Qn&&Yt<=Qn+Zn&&Cn>=sr&&Cn<=sr+Xt)return Hn}return null}disableUserSelect(Yt=!1){Tt(this,kn).classList.toggle("noUserSelect",Yt)}addShouldRescale(Yt){Tt(this,tn).add(Yt)}removeShouldRescale(Yt){Tt(this,tn).delete(Yt)}onScaleChanging({scale:Yt}){this.commitOrRemove(),this.viewParameters.realScale=Yt*g.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Cn of Tt(this,tn))Cn.onScaleChanging()}onRotationChanging({pagesRotation:Yt}){this.commitOrRemove(),this.viewParameters.rotation=Yt}addToAnnotationStorage(Yt){!Yt.isEmpty()&&Tt(this,kt)&&!Tt(this,kt).has(Yt.id)&&Tt(this,kt).setValue(Yt.id,Yt)}blur(){if(!this.hasSelection)return;const{activeElement:Yt}=document;for(const Cn of Tt(this,zt))if(Cn.div.contains(Yt)){xn(this,Ht,[Cn,Yt]),Cn._focusEventsAllowed=!1;break}}focus(){if(!Tt(this,Ht))return;const[Yt,Cn]=Tt(this,Ht);xn(this,Ht,null),Cn.addEventListener("focusin",()=>{Yt._focusEventsAllowed=!0},{once:!0}),Cn.focus()}addEditListeners(){cn(this,dn,Wl).call(this),cn(this,dn,Gl).call(this)}removeEditListeners(){cn(this,dn,$o).call(this),cn(this,dn,Kl).call(this)}copy(Yt){var Hn;if(Yt.preventDefault(),(Hn=Tt(this,mt))==null||Hn.commitOrRemove(),!this.hasSelection)return;const Cn=[];for(const Qn of Tt(this,zt)){const sr=Qn.serialize(!0);sr&&Cn.push(sr)}Cn.length!==0&&Yt.clipboardData.setData("application/pdfjs",JSON.stringify(Cn))}cut(Yt){this.copy(Yt),this.delete()}paste(Yt){Yt.preventDefault();const{clipboardData:Cn}=Yt;for(const sr of Cn.items)for(const Zn of Tt(this,Wt))if(Zn.isHandlingMimeForPasting(sr.type)){Zn.paste(sr,this.currentLayer);return}let Hn=Cn.getData("application/pdfjs");if(!Hn)return;try{Hn=JSON.parse(Hn)}catch(sr){(0,h.warn)(`paste: "${sr.message}".`);return}if(!Array.isArray(Hn))return;this.unselectAll();const Qn=this.currentLayer;try{const sr=[];for(const jt of Hn){const rn=Qn.deserialize(jt);if(!rn)return;sr.push(rn)}const Zn=()=>{for(const jt of sr)cn(this,dn,Xl).call(this,jt);cn(this,dn,Zl).call(this,sr)},Xt=()=>{for(const jt of sr)jt.remove()};this.addCommands({cmd:Zn,undo:Xt,mustExec:!0})}catch(sr){(0,h.warn)(`paste: "${sr.message}".`)}}keydown(Yt){var Cn;(Cn=this.getActive())!=null&&Cn.shouldGetKeyboardEvents()||tr._keyboardManager.exec(this,Yt)}onEditingAction(Yt){["undo","redo","delete","selectAll"].includes(Yt.name)&&this[Yt.name]()}setEditingState(Yt){Yt?(cn(this,dn,Fu).call(this),cn(this,dn,Wl).call(this),cn(this,dn,Gl).call(this),cn(this,dn,ys).call(this,{isEditing:Tt(this,qt)!==h.AnnotationEditorType.NONE,isEmpty:cn(this,dn,vo).call(this),hasSomethingToUndo:Tt(this,Bt).hasSomethingToUndo(),hasSomethingToRedo:Tt(this,Bt).hasSomethingToRedo(),hasSelectedEditor:!1})):(cn(this,dn,Hl).call(this),cn(this,dn,$o).call(this),cn(this,dn,Kl).call(this),cn(this,dn,ys).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Yt){if(!Tt(this,Wt)){xn(this,Wt,Yt);for(const Cn of Tt(this,Wt))cn(this,dn,_o).call(this,Cn.defaultPropertiesToUpdate)}}getId(){return Tt(this,Rt).getId()}get currentLayer(){return Tt(this,St).get(Tt(this,$t))}getLayer(Yt){return Tt(this,St).get(Yt)}get currentPageIndex(){return Tt(this,$t)}addLayer(Yt){Tt(this,St).set(Yt.pageIndex,Yt),Tt(this,It)?Yt.enable():Yt.disable()}removeLayer(Yt){Tt(this,St).delete(Yt.pageIndex)}updateMode(Yt,Cn=null){if(Tt(this,qt)!==Yt){if(xn(this,qt,Yt),Yt===h.AnnotationEditorType.NONE){this.setEditingState(!1),cn(this,dn,Mu).call(this);return}this.setEditingState(!0),cn(this,dn,Ou).call(this),this.unselectAll();for(const Hn of Tt(this,St).values())Hn.updateMode(Yt);if(Cn){for(const Hn of Tt(this,xt).values())if(Hn.annotationElementId===Cn){this.setSelected(Hn),Hn.enterInEditMode();break}}}}updateToolbar(Yt){Yt!==Tt(this,qt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Yt})}updateParams(Yt,Cn){if(Tt(this,Wt)){if(Yt===h.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Yt);return}for(const Hn of Tt(this,zt))Hn.updateParams(Yt,Cn);for(const Hn of Tt(this,Wt))Hn.updateDefaultParams(Yt,Cn)}}enableWaiting(Yt=!1){if(Tt(this,Mt)!==Yt){xn(this,Mt,Yt);for(const Cn of Tt(this,St).values())Yt?Cn.disableClick():Cn.enableClick(),Cn.div.classList.toggle("waiting",Yt)}}getEditors(Yt){const Cn=[];for(const Hn of Tt(this,xt).values())Hn.pageIndex===Yt&&Cn.push(Hn);return Cn}getEditor(Yt){return Tt(this,xt).get(Yt)}addEditor(Yt){Tt(this,xt).set(Yt.id,Yt)}removeEditor(Yt){var Cn;Tt(this,xt).delete(Yt.id),this.unselect(Yt),(!Yt.annotationElementId||!Tt(this,Gt).has(Yt.annotationElementId))&&((Cn=Tt(this,kt))==null||Cn.remove(Yt.id))}addDeletedAnnotationElement(Yt){Tt(this,Gt).add(Yt.annotationElementId),Yt.deleted=!0}isDeletedAnnotationElement(Yt){return Tt(this,Gt).has(Yt)}removeDeletedAnnotationElement(Yt){Tt(this,Gt).delete(Yt.annotationElementId),Yt.deleted=!1}setActiveEditor(Yt){Tt(this,mt)!==Yt&&(xn(this,mt,Yt),Yt&&cn(this,dn,_o).call(this,Yt.propertiesToUpdate))}toggleSelected(Yt){if(Tt(this,zt).has(Yt)){Tt(this,zt).delete(Yt),Yt.unselect(),cn(this,dn,ys).call(this,{hasSelectedEditor:this.hasSelection});return}Tt(this,zt).add(Yt),Yt.select(),cn(this,dn,_o).call(this,Yt.propertiesToUpdate),cn(this,dn,ys).call(this,{hasSelectedEditor:!0})}setSelected(Yt){for(const Cn of Tt(this,zt))Cn!==Yt&&Cn.unselect();Tt(this,zt).clear(),Tt(this,zt).add(Yt),Yt.select(),cn(this,dn,_o).call(this,Yt.propertiesToUpdate),cn(this,dn,ys).call(this,{hasSelectedEditor:!0})}isSelected(Yt){return Tt(this,zt).has(Yt)}unselect(Yt){Yt.unselect(),Tt(this,zt).delete(Yt),cn(this,dn,ys).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Tt(this,zt).size!==0}undo(){Tt(this,Bt).undo(),cn(this,dn,ys).call(this,{hasSomethingToUndo:Tt(this,Bt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:cn(this,dn,vo).call(this)})}redo(){Tt(this,Bt).redo(),cn(this,dn,ys).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Tt(this,Bt).hasSomethingToRedo(),isEmpty:cn(this,dn,vo).call(this)})}addCommands(Yt){Tt(this,Bt).add(Yt),cn(this,dn,ys).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:cn(this,dn,vo).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Yt=[...Tt(this,zt)],Cn=()=>{for(const Qn of Yt)Qn.remove()},Hn=()=>{for(const Qn of Yt)cn(this,dn,Xl).call(this,Qn)};this.addCommands({cmd:Cn,undo:Hn,mustExec:!0})}commitOrRemove(){var Yt;(Yt=Tt(this,mt))==null||Yt.commitOrRemove()}hasSomethingToControl(){return Tt(this,mt)||this.hasSelection}selectAll(){for(const Yt of Tt(this,zt))Yt.commit();cn(this,dn,Zl).call(this,Tt(this,xt).values())}unselectAll(){if(Tt(this,mt)){Tt(this,mt).commitOrRemove();return}if(this.hasSelection){for(const Yt of Tt(this,zt))Yt.unselect();Tt(this,zt).clear(),cn(this,dn,ys).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Yt,Cn,Hn=!1){if(Hn||this.commitOrRemove(),!this.hasSelection)return;Tt(this,bn)[0]+=Yt,Tt(this,bn)[1]+=Cn;const[Qn,sr]=Tt(this,bn),Zn=[...Tt(this,zt)],Xt=1e3;Tt(this,Rn)&&clearTimeout(Tt(this,Rn)),xn(this,Rn,setTimeout(()=>{xn(this,Rn,null),Tt(this,bn)[0]=Tt(this,bn)[1]=0,this.addCommands({cmd:()=>{for(const jt of Zn)Tt(this,xt).has(jt.id)&&jt.translateInPage(Qn,sr)},undo:()=>{for(const jt of Zn)Tt(this,xt).has(jt.id)&&jt.translateInPage(-Qn,-sr)},mustExec:!1})},Xt));for(const jt of Zn)jt.translateInPage(Yt,Cn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),xn(this,Ft,new Map);for(const Yt of Tt(this,zt))Tt(this,Ft).set(Yt,{savedX:Yt.x,savedY:Yt.y,savedPageIndex:Yt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Tt(this,Ft))return!1;this.disableUserSelect(!1);const Yt=Tt(this,Ft);xn(this,Ft,null);let Cn=!1;for(const[{x:Qn,y:sr,pageIndex:Zn},Xt]of Yt)Xt.newX=Qn,Xt.newY=sr,Xt.newPageIndex=Zn,Cn||(Cn=Qn!==Xt.savedX||sr!==Xt.savedY||Zn!==Xt.savedPageIndex);if(!Cn)return!1;const Hn=(Qn,sr,Zn,Xt)=>{if(Tt(this,xt).has(Qn.id)){const jt=Tt(this,St).get(Xt);jt?Qn._setParentAndPosition(jt,sr,Zn):(Qn.pageIndex=Xt,Qn.x=sr,Qn.y=Zn)}};return this.addCommands({cmd:()=>{for(const[Qn,{newX:sr,newY:Zn,newPageIndex:Xt}]of Yt)Hn(Qn,sr,Zn,Xt)},undo:()=>{for(const[Qn,{savedX:sr,savedY:Zn,savedPageIndex:Xt}]of Yt)Hn(Qn,sr,Zn,Xt)},mustExec:!0}),!0}dragSelectedEditors(Yt,Cn){if(Tt(this,Ft))for(const Hn of Tt(this,Ft).keys())Hn.drag(Yt,Cn)}rebuild(Yt){if(Yt.parent===null){const Cn=this.getLayer(Yt.pageIndex);Cn?(Cn.changeParent(Yt),Cn.addOrRebuild(Yt)):(this.addEditor(Yt),this.addToAnnotationStorage(Yt),Yt.rebuild())}else Yt.parent.addOrRebuild(Yt)}isActive(Yt){return Tt(this,mt)===Yt}getActive(){return Tt(this,mt)}getMode(){return Tt(this,qt)}get imageManager(){return(0,h.shadow)(this,"imageManager",new et)}};mt=new WeakMap,xt=new WeakMap,St=new WeakMap,Ut=new WeakMap,kt=new WeakMap,Bt=new WeakMap,$t=new WeakMap,Gt=new WeakMap,Ft=new WeakMap,Wt=new WeakMap,tn=new WeakMap,Lt=new WeakMap,Rt=new WeakMap,It=new WeakMap,Mt=new WeakMap,Ht=new WeakMap,qt=new WeakMap,zt=new WeakMap,an=new WeakMap,vn=new WeakMap,Tn=new WeakMap,Pn=new WeakMap,In=new WeakMap,On=new WeakMap,Mn=new WeakMap,mn=new WeakMap,yn=new WeakMap,Vt=new WeakMap,Zt=new WeakMap,un=new WeakMap,bn=new WeakMap,Rn=new WeakMap,Nn=new WeakMap,kn=new WeakMap,dn=new WeakSet,Fu=function(){window.addEventListener("focus",Tt(this,Tn)),window.addEventListener("blur",Tt(this,vn))},Hl=function(){window.removeEventListener("focus",Tt(this,Tn)),window.removeEventListener("blur",Tt(this,vn))},Wl=function(){window.addEventListener("keydown",Tt(this,Mn),{capture:!0})},$o=function(){window.removeEventListener("keydown",Tt(this,Mn),{capture:!0})},Gl=function(){document.addEventListener("copy",Tt(this,Pn)),document.addEventListener("cut",Tt(this,In)),document.addEventListener("paste",Tt(this,On))},Kl=function(){document.removeEventListener("copy",Tt(this,Pn)),document.removeEventListener("cut",Tt(this,In)),document.removeEventListener("paste",Tt(this,On))},ys=function(Yt){Object.entries(Yt).some(([Hn,Qn])=>Tt(this,un)[Hn]!==Qn)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Tt(this,un),Yt)})},_o=function(Yt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Yt})},Ou=function(){if(!Tt(this,It)){xn(this,It,!0);for(const Yt of Tt(this,St).values())Yt.enable()}},Mu=function(){if(this.unselectAll(),Tt(this,It)){xn(this,It,!1);for(const Yt of Tt(this,St).values())Yt.disable()}},Xl=function(Yt){const Cn=Tt(this,St).get(Yt.pageIndex);Cn?Cn.addOrRebuild(Yt):this.addEditor(Yt)},vo=function(){if(Tt(this,xt).size===0)return!0;if(Tt(this,xt).size===1)for(const Yt of Tt(this,xt).values())return Yt.isEmpty();return!1},Zl=function(Yt){Tt(this,zt).clear();for(const Cn of Yt)Cn.isEmpty()||(Tt(this,zt).add(Cn),Cn.select());cn(this,dn,ys).call(this,{hasSelectedEditor:!0})},lr(tr,"TRANSLATE_SMALL",1),lr(tr,"TRANSLATE_BIG",10);let it=tr;e.AnnotationEditorUIManager=it},(s,e,d)=>{var $t,Gt,Ft,Wt,tn,Lt,Rt,It,Mt,Ht,qt,zt,ga,_a,Yl,Uo,zo,bo,Eo;Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=gt,e.getColorValues=xt,e.getCurrentTransform=St,e.getCurrentTransformInverse=Ut,e.getFilenameFromUrl=at,e.getPdfFilenameFromUrl=ut,e.getRGB=mt,e.getXfaPageViewport=Et,e.isDataScheme=lt,e.isPdfFile=dt,e.isValidFetchUrl=vt,e.loadScript=yt,e.noContextMenu=ht,e.setLayerDimensions=kt;var h=d(7),g=d(1);const _="http://www.w3.org/2000/svg",Bt=class Bt{};lr(Bt,"CSS",96),lr(Bt,"PDF",72),lr(Bt,"PDF_TO_CSS_UNITS",Bt.CSS/Bt.PDF);let j=Bt;e.PixelsPerInch=j;class $ extends h.BaseFilterFactory{constructor({docId:Vt,ownerDocument:Zt=globalThis.document}={}){super();Sn(this,zt);Sn(this,$t);Sn(this,Gt);Sn(this,Ft);Sn(this,Wt);Sn(this,tn);Sn(this,Lt);Sn(this,Rt);Sn(this,It);Sn(this,Mt);Sn(this,Ht);Sn(this,qt,0);xn(this,Ft,Vt),xn(this,Wt,Zt)}addFilter(Vt){if(!Vt)return"none";let Zt=Tt(this,zt,ga).get(Vt);if(Zt)return Zt;let un,bn,Rn,Nn;if(Vt.length===1){const jn=Vt[0],vr=new Array(256);for(let fr=0;fr<256;fr++)vr[fr]=jn[fr]/255;Nn=un=bn=Rn=vr.join(",")}else{const[jn,vr,fr]=Vt,Cr=new Array(256),Jn=new Array(256),ar=new Array(256);for(let xr=0;xr<256;xr++)Cr[xr]=jn[xr]/255,Jn[xr]=vr[xr]/255,ar[xr]=fr[xr]/255;un=Cr.join(","),bn=Jn.join(","),Rn=ar.join(","),Nn=`${un}${bn}${Rn}`}if(Zt=Tt(this,zt,ga).get(Nn),Zt)return Tt(this,zt,ga).set(Vt,Zt),Zt;const kn=`g_${Tt(this,Ft)}_transfer_map_${go(this,qt)._++}`,dn=`url(#${kn})`;Tt(this,zt,ga).set(Vt,dn),Tt(this,zt,ga).set(Nn,dn);const Un=cn(this,zt,Uo).call(this,kn);return cn(this,zt,bo).call(this,un,bn,Rn,Un),dn}addHCMFilter(Vt,Zt){var vr;const un=`${Vt}-${Zt}`;if(Tt(this,Lt)===un)return Tt(this,Rt);if(xn(this,Lt,un),xn(this,Rt,"none"),(vr=Tt(this,tn))==null||vr.remove(),!Vt||!Zt)return Tt(this,Rt);const bn=cn(this,zt,Eo).call(this,Vt);Vt=g.Util.makeHexColor(...bn);const Rn=cn(this,zt,Eo).call(this,Zt);if(Zt=g.Util.makeHexColor(...Rn),Tt(this,zt,_a).style.color="",Vt==="#000000"&&Zt==="#ffffff"||Vt===Zt)return Tt(this,Rt);const Nn=new Array(256);for(let fr=0;fr<=255;fr++){const Cr=fr/255;Nn[fr]=Cr<=.03928?Cr/12.92:((Cr+.055)/1.055)**2.4}const kn=Nn.join(","),dn=`g_${Tt(this,Ft)}_hcm_filter`,Un=xn(this,It,cn(this,zt,Uo).call(this,dn));cn(this,zt,bo).call(this,kn,kn,kn,Un),cn(this,zt,Yl).call(this,Un);const jn=(fr,Cr)=>{const Jn=bn[fr]/255,ar=Rn[fr]/255,xr=new Array(Cr+1);for(let Fr=0;Fr<=Cr;Fr++)xr[Fr]=Jn+Fr/Cr*(ar-Jn);return xr.join(",")};return cn(this,zt,bo).call(this,jn(0,5),jn(1,5),jn(2,5),Un),xn(this,Rt,`url(#${dn})`),Tt(this,Rt)}addHighlightHCMFilter(Vt,Zt,un,bn){var ar;const Rn=`${Vt}-${Zt}-${un}-${bn}`;if(Tt(this,Mt)===Rn)return Tt(this,Ht);if(xn(this,Mt,Rn),xn(this,Ht,"none"),(ar=Tt(this,It))==null||ar.remove(),!Vt||!Zt)return Tt(this,Ht);const[Nn,kn]=[Vt,Zt].map(cn(this,zt,Eo).bind(this));let dn=Math.round(.2126*Nn[0]+.7152*Nn[1]+.0722*Nn[2]),Un=Math.round(.2126*kn[0]+.7152*kn[1]+.0722*kn[2]),[jn,vr]=[un,bn].map(cn(this,zt,Eo).bind(this));Un<dn&&([dn,Un,jn,vr]=[Un,dn,vr,jn]),Tt(this,zt,_a).style.color="";const fr=(xr,Fr,Dn)=>{const hn=new Array(256),pn=(Un-dn)/Dn,Yn=xr/255,tr=(Fr-xr)/(255*Dn);let hr=0;for(let Yt=0;Yt<=Dn;Yt++){const Cn=Math.round(dn+Yt*pn),Hn=Yn+Yt*tr;for(let Qn=hr;Qn<=Cn;Qn++)hn[Qn]=Hn;hr=Cn+1}for(let Yt=hr;Yt<256;Yt++)hn[Yt]=hn[hr-1];return hn.join(",")},Cr=`g_${Tt(this,Ft)}_hcm_highlight_filter`,Jn=xn(this,It,cn(this,zt,Uo).call(this,Cr));return cn(this,zt,Yl).call(this,Jn),cn(this,zt,bo).call(this,fr(jn[0],vr[0],5),fr(jn[1],vr[1],5),fr(jn[2],vr[2],5),Jn),xn(this,Ht,`url(#${Cr})`),Tt(this,Ht)}destroy(Vt=!1){Vt&&(Tt(this,Rt)||Tt(this,Ht))||(Tt(this,Gt)&&(Tt(this,Gt).parentNode.parentNode.remove(),xn(this,Gt,null)),Tt(this,$t)&&(Tt(this,$t).clear(),xn(this,$t,null)),xn(this,qt,0))}}$t=new WeakMap,Gt=new WeakMap,Ft=new WeakMap,Wt=new WeakMap,tn=new WeakMap,Lt=new WeakMap,Rt=new WeakMap,It=new WeakMap,Mt=new WeakMap,Ht=new WeakMap,qt=new WeakMap,zt=new WeakSet,ga=function(){return Tt(this,$t)||xn(this,$t,new Map)},_a=function(){if(!Tt(this,Gt)){const Vt=Tt(this,Wt).createElement("div"),{style:Zt}=Vt;Zt.visibility="hidden",Zt.contain="strict",Zt.width=Zt.height=0,Zt.position="absolute",Zt.top=Zt.left=0,Zt.zIndex=-1;const un=Tt(this,Wt).createElementNS(_,"svg");un.setAttribute("width",0),un.setAttribute("height",0),xn(this,Gt,Tt(this,Wt).createElementNS(_,"defs")),Vt.append(un),un.append(Tt(this,Gt)),Tt(this,Wt).body.append(Vt)}return Tt(this,Gt)},Yl=function(Vt){const Zt=Tt(this,Wt).createElementNS(_,"feColorMatrix");Zt.setAttribute("type","matrix"),Zt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Vt.append(Zt)},Uo=function(Vt){const Zt=Tt(this,Wt).createElementNS(_,"filter");return Zt.setAttribute("color-interpolation-filters","sRGB"),Zt.setAttribute("id",Vt),Tt(this,zt,_a).append(Zt),Zt},zo=function(Vt,Zt,un){const bn=Tt(this,Wt).createElementNS(_,Zt);bn.setAttribute("type","discrete"),bn.setAttribute("tableValues",un),Vt.append(bn)},bo=function(Vt,Zt,un,bn){const Rn=Tt(this,Wt).createElementNS(_,"feComponentTransfer");bn.append(Rn),cn(this,zt,zo).call(this,Rn,"feFuncR",Vt),cn(this,zt,zo).call(this,Rn,"feFuncG",Zt),cn(this,zt,zo).call(this,Rn,"feFuncB",un)},Eo=function(Vt){return Tt(this,zt,_a).style.color=Vt,mt(getComputedStyle(Tt(this,zt,_a)).getPropertyValue("color"))},e.DOMFilterFactory=$;class et extends h.BaseCanvasFactory{constructor({ownerDocument:yn=globalThis.document}={}){super(),this._document=yn}_createCanvas(yn,Vt){const Zt=this._document.createElement("canvas");return Zt.width=yn,Zt.height=Vt,Zt}}e.DOMCanvasFactory=et;async function tt(mn,yn=!1){if(vt(mn,document.baseURI)){const Vt=await fetch(mn);if(!Vt.ok)throw new Error(Vt.statusText);return yn?new Uint8Array(await Vt.arrayBuffer()):(0,g.stringToBytes)(await Vt.text())}return new Promise((Vt,Zt)=>{const un=new XMLHttpRequest;un.open("GET",mn,!0),yn&&(un.responseType="arraybuffer"),un.onreadystatechange=()=>{if(un.readyState===XMLHttpRequest.DONE){if(un.status===200||un.status===0){let bn;if(yn&&un.response?bn=new Uint8Array(un.response):!yn&&un.responseText&&(bn=(0,g.stringToBytes)(un.responseText)),bn){Vt(bn);return}}Zt(new Error(un.statusText))}},un.send(null)})}class nt extends h.BaseCMapReaderFactory{_fetchData(yn,Vt){return tt(yn,this.isCompressed).then(Zt=>({cMapData:Zt,compressionType:Vt}))}}e.DOMCMapReaderFactory=nt;class rt extends h.BaseStandardFontDataFactory{_fetchData(yn){return tt(yn,!0)}}e.DOMStandardFontDataFactory=rt;class it extends h.BaseSVGFactory{_createSVG(yn){return document.createElementNS(_,yn)}}e.DOMSVGFactory=it;class st{constructor({viewBox:yn,scale:Vt,rotation:Zt,offsetX:un=0,offsetY:bn=0,dontFlip:Rn=!1}){this.viewBox=yn,this.scale=Vt,this.rotation=Zt,this.offsetX=un,this.offsetY=bn;const Nn=(yn[2]+yn[0])/2,kn=(yn[3]+yn[1])/2;let dn,Un,jn,vr;switch(Zt%=360,Zt<0&&(Zt+=360),Zt){case 180:dn=-1,Un=0,jn=0,vr=1;break;case 90:dn=0,Un=1,jn=1,vr=0;break;case 270:dn=0,Un=-1,jn=-1,vr=0;break;case 0:dn=1,Un=0,jn=0,vr=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Rn&&(jn=-jn,vr=-vr);let fr,Cr,Jn,ar;dn===0?(fr=Math.abs(kn-yn[1])*Vt+un,Cr=Math.abs(Nn-yn[0])*Vt+bn,Jn=(yn[3]-yn[1])*Vt,ar=(yn[2]-yn[0])*Vt):(fr=Math.abs(Nn-yn[0])*Vt+un,Cr=Math.abs(kn-yn[1])*Vt+bn,Jn=(yn[2]-yn[0])*Vt,ar=(yn[3]-yn[1])*Vt),this.transform=[dn*Vt,Un*Vt,jn*Vt,vr*Vt,fr-dn*Vt*Nn-jn*Vt*kn,Cr-Un*Vt*Nn-vr*Vt*kn],this.width=Jn,this.height=ar}get rawDims(){const{viewBox:yn}=this;return(0,g.shadow)(this,"rawDims",{pageWidth:yn[2]-yn[0],pageHeight:yn[3]-yn[1],pageX:yn[0],pageY:yn[1]})}clone({scale:yn=this.scale,rotation:Vt=this.rotation,offsetX:Zt=this.offsetX,offsetY:un=this.offsetY,dontFlip:bn=!1}={}){return new st({viewBox:this.viewBox.slice(),scale:yn,rotation:Vt,offsetX:Zt,offsetY:un,dontFlip:bn})}convertToViewportPoint(yn,Vt){return g.Util.applyTransform([yn,Vt],this.transform)}convertToViewportRectangle(yn){const Vt=g.Util.applyTransform([yn[0],yn[1]],this.transform),Zt=g.Util.applyTransform([yn[2],yn[3]],this.transform);return[Vt[0],Vt[1],Zt[0],Zt[1]]}convertToPdfPoint(yn,Vt){return g.Util.applyInverseTransform([yn,Vt],this.transform)}}e.PageViewport=st;class ot extends g.BaseException{constructor(yn,Vt=0){super(yn,"RenderingCancelledException"),this.extraDelay=Vt}}e.RenderingCancelledException=ot;function lt(mn){const yn=mn.length;let Vt=0;for(;Vt<yn&&mn[Vt].trim()==="";)Vt++;return mn.substring(Vt,Vt+5).toLowerCase()==="data:"}function dt(mn){return typeof mn=="string"&&/\.pdf$/i.test(mn)}function at(mn,yn=!1){return yn||([mn]=mn.split(/[#?]/,1)),mn.substring(mn.lastIndexOf("/")+1)}function ut(mn,yn="document.pdf"){if(typeof mn!="string")return yn;if(lt(mn))return(0,g.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),yn;const Vt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Zt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,un=Vt.exec(mn);let bn=Zt.exec(un[1])||Zt.exec(un[2])||Zt.exec(un[3]);if(bn&&(bn=bn[0],bn.includes("%")))try{bn=Zt.exec(decodeURIComponent(bn))[0]}catch{}return bn||yn}class pt{constructor(){lr(this,"started",Object.create(null));lr(this,"times",[])}time(yn){yn in this.started&&(0,g.warn)(`Timer is already running for ${yn}`),this.started[yn]=Date.now()}timeEnd(yn){yn in this.started||(0,g.warn)(`Timer has not been started for ${yn}`),this.times.push({name:yn,start:this.started[yn],end:Date.now()}),delete this.started[yn]}toString(){const yn=[];let Vt=0;for(const{name:Zt}of this.times)Vt=Math.max(Zt.length,Vt);for(const{name:Zt,start:un,end:bn}of this.times)yn.push(`${Zt.padEnd(Vt)} ${bn-un}ms
`);return yn.join("")}}e.StatTimer=pt;function vt(mn,yn){try{const{protocol:Vt}=yn?new URL(mn,yn):new URL(mn);return Vt==="http:"||Vt==="https:"}catch{return!1}}function ht(mn){mn.preventDefault()}function yt(mn,yn=!1){return new Promise((Vt,Zt)=>{const un=document.createElement("script");un.src=mn,un.onload=function(bn){yn&&un.remove(),Vt(bn)},un.onerror=function(){Zt(new Error(`Cannot load script at: ${un.src}`))},(document.head||document.documentElement).append(un)})}function gt(mn){console.log("Deprecated API usage: "+mn)}let ft;class _t{static toDateObject(yn){if(!yn||typeof yn!="string")return null;ft||(ft=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Vt=ft.exec(yn);if(!Vt)return null;const Zt=parseInt(Vt[1],10);let un=parseInt(Vt[2],10);un=un>=1&&un<=12?un-1:0;let bn=parseInt(Vt[3],10);bn=bn>=1&&bn<=31?bn:1;let Rn=parseInt(Vt[4],10);Rn=Rn>=0&&Rn<=23?Rn:0;let Nn=parseInt(Vt[5],10);Nn=Nn>=0&&Nn<=59?Nn:0;let kn=parseInt(Vt[6],10);kn=kn>=0&&kn<=59?kn:0;const dn=Vt[7]||"Z";let Un=parseInt(Vt[8],10);Un=Un>=0&&Un<=23?Un:0;let jn=parseInt(Vt[9],10)||0;return jn=jn>=0&&jn<=59?jn:0,dn==="-"?(Rn+=Un,Nn+=jn):dn==="+"&&(Rn-=Un,Nn-=jn),new Date(Date.UTC(Zt,un,bn,Rn,Nn,kn))}}e.PDFDateString=_t;function Et(mn,{scale:yn=1,rotation:Vt=0}){const{width:Zt,height:un}=mn.attributes.style,bn=[0,0,parseInt(Zt),parseInt(un)];return new st({viewBox:bn,scale:yn,rotation:Vt})}function mt(mn){if(mn.startsWith("#")){const yn=parseInt(mn.slice(1),16);return[(yn&16711680)>>16,(yn&65280)>>8,yn&255]}return mn.startsWith("rgb(")?mn.slice(4,-1).split(",").map(yn=>parseInt(yn)):mn.startsWith("rgba(")?mn.slice(5,-1).split(",").map(yn=>parseInt(yn)).slice(0,3):((0,g.warn)(`Not a valid color format: "${mn}"`),[0,0,0])}function xt(mn){const yn=document.createElement("span");yn.style.visibility="hidden",document.body.append(yn);for(const Vt of mn.keys()){yn.style.color=Vt;const Zt=window.getComputedStyle(yn).color;mn.set(Vt,mt(Zt))}yn.remove()}function St(mn){const{a:yn,b:Vt,c:Zt,d:un,e:bn,f:Rn}=mn.getTransform();return[yn,Vt,Zt,un,bn,Rn]}function Ut(mn){const{a:yn,b:Vt,c:Zt,d:un,e:bn,f:Rn}=mn.getTransform().invertSelf();return[yn,Vt,Zt,un,bn,Rn]}function kt(mn,yn,Vt=!1,Zt=!0){if(yn instanceof st){const{pageWidth:un,pageHeight:bn}=yn.rawDims,{style:Rn}=mn,Nn=g.FeatureTest.isCSSRoundSupported,kn=`var(--scale-factor) * ${un}px`,dn=`var(--scale-factor) * ${bn}px`,Un=Nn?`round(${kn}, 1px)`:`calc(${kn})`,jn=Nn?`round(${dn}, 1px)`:`calc(${dn})`;!Vt||yn.rotation%180===0?(Rn.width=Un,Rn.height=jn):(Rn.width=jn,Rn.height=Un)}Zt&&mn.setAttribute("data-main-rotation",yn.rotation)}},(s,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var h=d(1);class g{constructor(){this.constructor===g&&(0,h.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(nt){return"none"}addHCMFilter(nt,rt){return"none"}addHighlightHCMFilter(nt,rt,it,st){return"none"}destroy(nt=!1){}}e.BaseFilterFactory=g;class _{constructor(){this.constructor===_&&(0,h.unreachable)("Cannot initialize BaseCanvasFactory.")}create(nt,rt){if(nt<=0||rt<=0)throw new Error("Invalid canvas size");const it=this._createCanvas(nt,rt);return{canvas:it,context:it.getContext("2d")}}reset(nt,rt,it){if(!nt.canvas)throw new Error("Canvas is not specified");if(rt<=0||it<=0)throw new Error("Invalid canvas size");nt.canvas.width=rt,nt.canvas.height=it}destroy(nt){if(!nt.canvas)throw new Error("Canvas is not specified");nt.canvas.width=0,nt.canvas.height=0,nt.canvas=null,nt.context=null}_createCanvas(nt,rt){(0,h.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=_;class j{constructor({baseUrl:nt=null,isCompressed:rt=!0}){this.constructor===j&&(0,h.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=nt,this.isCompressed=rt}async fetch({name:nt}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!nt)throw new Error("CMap name must be specified.");const rt=this.baseUrl+nt+(this.isCompressed?".bcmap":""),it=this.isCompressed?h.CMapCompressionType.BINARY:h.CMapCompressionType.NONE;return this._fetchData(rt,it).catch(st=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${rt}`)})}_fetchData(nt,rt){(0,h.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=j;class ${constructor({baseUrl:nt=null}){this.constructor===$&&(0,h.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=nt}async fetch({filename:nt}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!nt)throw new Error("Font filename must be specified.");const rt=`${this.baseUrl}${nt}`;return this._fetchData(rt).catch(it=>{throw new Error(`Unable to load font data at: ${rt}`)})}_fetchData(nt){(0,h.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=$;class et{constructor(){this.constructor===et&&(0,h.unreachable)("Cannot initialize BaseSVGFactory.")}create(nt,rt,it=!1){if(nt<=0||rt<=0)throw new Error("Invalid SVG dimensions");const st=this._createSVG("svg:svg");return st.setAttribute("version","1.1"),it||(st.setAttribute("width",`${nt}px`),st.setAttribute("height",`${rt}px`)),st.setAttribute("preserveAspectRatio","none"),st.setAttribute("viewBox",`0 0 ${nt} ${rt}`),st}createElement(nt){if(typeof nt!="string")throw new Error("Invalid SVG element type");return this._createSVG(nt)}_createSVG(nt){(0,h.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=et},(s,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var h=d(1);const g=3285377520,_=4294901760,j=65535;class ${constructor(tt){this.h1=tt?tt&4294967295:g,this.h2=tt?tt&4294967295:g}update(tt){let nt,rt;if(typeof tt=="string"){nt=new Uint8Array(tt.length*2),rt=0;for(let gt=0,ft=tt.length;gt<ft;gt++){const _t=tt.charCodeAt(gt);_t<=255?nt[rt++]=_t:(nt[rt++]=_t>>>8,nt[rt++]=_t&255)}}else if((0,h.isArrayBuffer)(tt))nt=tt.slice(),rt=nt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const it=rt>>2,st=rt-it*4,ot=new Uint32Array(nt.buffer,0,it);let lt=0,dt=0,at=this.h1,ut=this.h2;const pt=3432918353,vt=461845907,ht=pt&j,yt=vt&j;for(let gt=0;gt<it;gt++)gt&1?(lt=ot[gt],lt=lt*pt&_|lt*ht&j,lt=lt<<15|lt>>>17,lt=lt*vt&_|lt*yt&j,at^=lt,at=at<<13|at>>>19,at=at*5+3864292196):(dt=ot[gt],dt=dt*pt&_|dt*ht&j,dt=dt<<15|dt>>>17,dt=dt*vt&_|dt*yt&j,ut^=dt,ut=ut<<13|ut>>>19,ut=ut*5+3864292196);switch(lt=0,st){case 3:lt^=nt[it*4+2]<<16;case 2:lt^=nt[it*4+1]<<8;case 1:lt^=nt[it*4],lt=lt*pt&_|lt*ht&j,lt=lt<<15|lt>>>17,lt=lt*vt&_|lt*yt&j,it&1?at^=lt:ut^=lt}this.h1=at,this.h2=ut}hexdigest(){let tt=this.h1,nt=this.h2;return tt^=nt>>>1,tt=tt*3981806797&_|tt*36045&j,nt=nt*4283543511&_|((nt<<16|tt>>>16)*2950163797&_)>>>16,tt^=nt>>>1,tt=tt*444984403&_|tt*60499&j,nt=nt*3301882366&_|((nt<<16|tt>>>16)*3120437893&_)>>>16,tt^=nt>>>1,(tt>>>0).toString(16).padStart(8,"0")+(nt>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=$},(s,e,d)=>{var j;Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var h=d(1);class g{constructor({ownerDocument:et=globalThis.document,styleElement:tt=null}){Sn(this,j,new Set);this._document=et,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(et){this.nativeFontFaces.add(et),this._document.fonts.add(et)}removeNativeFontFace(et){this.nativeFontFaces.delete(et),this._document.fonts.delete(et)}insertRule(et){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const tt=this.styleElement.sheet;tt.insertRule(et,tt.cssRules.length)}clear(){for(const et of this.nativeFontFaces)this._document.fonts.delete(et);this.nativeFontFaces.clear(),Tt(this,j).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(et){if(!(!et||Tt(this,j).has(et.loadedName))){if((0,h.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:tt,src:nt,style:rt}=et,it=new FontFace(tt,nt,rt);this.addNativeFontFace(it);try{await it.load(),Tt(this,j).add(tt)}catch{(0,h.warn)(`Cannot load system font: ${et.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(it)}return}(0,h.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(et){if(et.attached||et.missingFile&&!et.systemFontInfo)return;if(et.attached=!0,et.systemFontInfo){await this.loadSystemFont(et.systemFontInfo);return}if(this.isFontLoadingAPISupported){const nt=et.createNativeFontFace();if(nt){this.addNativeFontFace(nt);try{await nt.loaded}catch(rt){throw(0,h.warn)(`Failed to load font '${nt.family}': '${rt}'.`),et.disableFontFace=!0,rt}}return}const tt=et.createFontFaceRule();if(tt){if(this.insertRule(tt),this.isSyncFontLoadingSupported)return;await new Promise(nt=>{const rt=this._queueLoadingCallback(nt);this._prepareFontLoadEvent(et,rt)})}}get isFontLoadingAPISupported(){var tt;const et=!!((tt=this._document)!=null&&tt.fonts);return(0,h.shadow)(this,"isFontLoadingAPISupported",et)}get isSyncFontLoadingSupported(){let et=!1;return(h.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(et=!0),(0,h.shadow)(this,"isSyncFontLoadingSupported",et)}_queueLoadingCallback(et){function tt(){for((0,h.assert)(!rt.done,"completeRequest() cannot be called twice."),rt.done=!0;nt.length>0&&nt[0].done;){const it=nt.shift();setTimeout(it.callback,0)}}const{loadingRequests:nt}=this,rt={done:!1,complete:tt,callback:et};return nt.push(rt),rt}get _loadTestFont(){const et=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,h.shadow)(this,"_loadTestFont",et)}_prepareFontLoadEvent(et,tt){function nt(mt,xt){return mt.charCodeAt(xt)<<24|mt.charCodeAt(xt+1)<<16|mt.charCodeAt(xt+2)<<8|mt.charCodeAt(xt+3)&255}function rt(mt,xt,St,Ut){const kt=mt.substring(0,xt),Bt=mt.substring(xt+St);return kt+Ut+Bt}let it,st;const ot=this._document.createElement("canvas");ot.width=1,ot.height=1;const lt=ot.getContext("2d");let dt=0;function at(mt,xt){if(++dt>30){(0,h.warn)("Load test font never loaded."),xt();return}if(lt.font="30px "+mt,lt.fillText(".",0,20),lt.getImageData(0,0,1,1).data[3]>0){xt();return}setTimeout(at.bind(null,mt,xt))}const ut=`lt${Date.now()}${this.loadTestFontId++}`;let pt=this._loadTestFont;pt=rt(pt,976,ut.length,ut);const ht=16,yt=1482184792;let gt=nt(pt,ht);for(it=0,st=ut.length-3;it<st;it+=4)gt=gt-yt+nt(ut,it)|0;it<ut.length&&(gt=gt-yt+nt(ut+"XXX",it)|0),pt=rt(pt,ht,4,(0,h.string32)(gt));const ft=`url(data:font/opentype;base64,${btoa(pt)});`,_t=`@font-face {font-family:"${ut}";src:${ft}}`;this.insertRule(_t);const Et=this._document.createElement("div");Et.style.visibility="hidden",Et.style.width=Et.style.height="10px",Et.style.position="absolute",Et.style.top=Et.style.left="0px";for(const mt of[et.loadedName,ut]){const xt=this._document.createElement("span");xt.textContent="Hi",xt.style.fontFamily=mt,Et.append(xt)}this._document.body.append(Et),at(ut,()=>{Et.remove(),tt.complete()})}}j=new WeakMap,e.FontLoader=g;class _{constructor(et,{isEvalSupported:tt=!0,disableFontFace:nt=!1,ignoreErrors:rt=!1,inspectFont:it=null}){this.compiledGlyphs=Object.create(null);for(const st in et)this[st]=et[st];this.isEvalSupported=tt!==!1,this.disableFontFace=nt===!0,this.ignoreErrors=rt===!0,this._inspectFont=it}createNativeFontFace(){var tt;if(!this.data||this.disableFontFace)return null;let et;if(!this.cssFontInfo)et=new FontFace(this.loadedName,this.data,{});else{const nt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(nt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),et=new FontFace(this.cssFontInfo.fontFamily,this.data,nt)}return(tt=this._inspectFont)==null||tt.call(this,this),et}createFontFaceRule(){var rt;if(!this.data||this.disableFontFace)return null;const et=(0,h.bytesToString)(this.data),tt=`url(data:${this.mimetype};base64,${btoa(et)});`;let nt;if(!this.cssFontInfo)nt=`@font-face {font-family:"${this.loadedName}";src:${tt}}`;else{let it=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(it+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),nt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${it}src:${tt}}`}return(rt=this._inspectFont)==null||rt.call(this,this,tt),nt}getPathGenerator(et,tt){if(this.compiledGlyphs[tt]!==void 0)return this.compiledGlyphs[tt];let nt;try{nt=et.get(this.loadedName+"_path_"+tt)}catch(rt){if(!this.ignoreErrors)throw rt;return(0,h.warn)(`getPathGenerator - ignoring character: "${rt}".`),this.compiledGlyphs[tt]=function(it,st){}}if(this.isEvalSupported&&h.FeatureTest.isEvalSupported){const rt=[];for(const it of nt){const st=it.args!==void 0?it.args.join(","):"";rt.push("c.",it.cmd,"(",st,`);
`)}return this.compiledGlyphs[tt]=new Function("c","size",rt.join(""))}return this.compiledGlyphs[tt]=function(rt,it){for(const st of nt)st.cmd==="scale"&&(st.args=[it,-it]),rt[st.cmd].apply(rt,st.args)}}}e.FontFaceObject=_},(s,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var h=d(7);d(1);const g=function(tt){return new Promise((nt,rt)=>{require$$5.readFile(tt,(st,ot)=>{if(st||!ot){rt(new Error(st));return}nt(new Uint8Array(ot))})})};class _ extends h.BaseFilterFactory{}e.NodeFilterFactory=_;class j extends h.BaseCanvasFactory{_createCanvas(nt,rt){return require$$5.createCanvas(nt,rt)}}e.NodeCanvasFactory=j;class $ extends h.BaseCMapReaderFactory{_fetchData(nt,rt){return g(nt).then(it=>({cMapData:it,compressionType:rt}))}}e.NodeCMapReaderFactory=$;class et extends h.BaseStandardFontDataFactory{_fetchData(nt){return g(nt)}}e.NodeStandardFontDataFactory=et},(s,e,d)=>{var Gt,Ql,Jl;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var h=d(1),g=d(6),_=d(12),j=d(13);const $=16,et=100,tt=4096,nt=15,rt=10,it=1e3,st=16;function ot(Lt,Rt){if(Lt._removeMirroring)throw new Error("Context is already forwarding operations.");Lt.__originalSave=Lt.save,Lt.__originalRestore=Lt.restore,Lt.__originalRotate=Lt.rotate,Lt.__originalScale=Lt.scale,Lt.__originalTranslate=Lt.translate,Lt.__originalTransform=Lt.transform,Lt.__originalSetTransform=Lt.setTransform,Lt.__originalResetTransform=Lt.resetTransform,Lt.__originalClip=Lt.clip,Lt.__originalMoveTo=Lt.moveTo,Lt.__originalLineTo=Lt.lineTo,Lt.__originalBezierCurveTo=Lt.bezierCurveTo,Lt.__originalRect=Lt.rect,Lt.__originalClosePath=Lt.closePath,Lt.__originalBeginPath=Lt.beginPath,Lt._removeMirroring=()=>{Lt.save=Lt.__originalSave,Lt.restore=Lt.__originalRestore,Lt.rotate=Lt.__originalRotate,Lt.scale=Lt.__originalScale,Lt.translate=Lt.__originalTranslate,Lt.transform=Lt.__originalTransform,Lt.setTransform=Lt.__originalSetTransform,Lt.resetTransform=Lt.__originalResetTransform,Lt.clip=Lt.__originalClip,Lt.moveTo=Lt.__originalMoveTo,Lt.lineTo=Lt.__originalLineTo,Lt.bezierCurveTo=Lt.__originalBezierCurveTo,Lt.rect=Lt.__originalRect,Lt.closePath=Lt.__originalClosePath,Lt.beginPath=Lt.__originalBeginPath,delete Lt._removeMirroring},Lt.save=function(){Rt.save(),this.__originalSave()},Lt.restore=function(){Rt.restore(),this.__originalRestore()},Lt.translate=function(Mt,Ht){Rt.translate(Mt,Ht),this.__originalTranslate(Mt,Ht)},Lt.scale=function(Mt,Ht){Rt.scale(Mt,Ht),this.__originalScale(Mt,Ht)},Lt.transform=function(Mt,Ht,qt,zt,an,vn){Rt.transform(Mt,Ht,qt,zt,an,vn),this.__originalTransform(Mt,Ht,qt,zt,an,vn)},Lt.setTransform=function(Mt,Ht,qt,zt,an,vn){Rt.setTransform(Mt,Ht,qt,zt,an,vn),this.__originalSetTransform(Mt,Ht,qt,zt,an,vn)},Lt.resetTransform=function(){Rt.resetTransform(),this.__originalResetTransform()},Lt.rotate=function(Mt){Rt.rotate(Mt),this.__originalRotate(Mt)},Lt.clip=function(Mt){Rt.clip(Mt),this.__originalClip(Mt)},Lt.moveTo=function(It,Mt){Rt.moveTo(It,Mt),this.__originalMoveTo(It,Mt)},Lt.lineTo=function(It,Mt){Rt.lineTo(It,Mt),this.__originalLineTo(It,Mt)},Lt.bezierCurveTo=function(It,Mt,Ht,qt,zt,an){Rt.bezierCurveTo(It,Mt,Ht,qt,zt,an),this.__originalBezierCurveTo(It,Mt,Ht,qt,zt,an)},Lt.rect=function(It,Mt,Ht,qt){Rt.rect(It,Mt,Ht,qt),this.__originalRect(It,Mt,Ht,qt)},Lt.closePath=function(){Rt.closePath(),this.__originalClosePath()},Lt.beginPath=function(){Rt.beginPath(),this.__originalBeginPath()}}class lt{constructor(Rt){this.canvasFactory=Rt,this.cache=Object.create(null)}getCanvas(Rt,It,Mt){let Ht;return this.cache[Rt]!==void 0?(Ht=this.cache[Rt],this.canvasFactory.reset(Ht,It,Mt)):(Ht=this.canvasFactory.create(It,Mt),this.cache[Rt]=Ht),Ht}delete(Rt){delete this.cache[Rt]}clear(){for(const Rt in this.cache){const It=this.cache[Rt];this.canvasFactory.destroy(It),delete this.cache[Rt]}}}function dt(Lt,Rt,It,Mt,Ht,qt,zt,an,vn,Tn){const[Pn,In,On,Mn,mn,yn]=(0,g.getCurrentTransform)(Lt);if(In===0&&On===0){const un=zt*Pn+mn,bn=Math.round(un),Rn=an*Mn+yn,Nn=Math.round(Rn),kn=(zt+vn)*Pn+mn,dn=Math.abs(Math.round(kn)-bn)||1,Un=(an+Tn)*Mn+yn,jn=Math.abs(Math.round(Un)-Nn)||1;return Lt.setTransform(Math.sign(Pn),0,0,Math.sign(Mn),bn,Nn),Lt.drawImage(Rt,It,Mt,Ht,qt,0,0,dn,jn),Lt.setTransform(Pn,In,On,Mn,mn,yn),[dn,jn]}if(Pn===0&&Mn===0){const un=an*On+mn,bn=Math.round(un),Rn=zt*In+yn,Nn=Math.round(Rn),kn=(an+Tn)*On+mn,dn=Math.abs(Math.round(kn)-bn)||1,Un=(zt+vn)*In+yn,jn=Math.abs(Math.round(Un)-Nn)||1;return Lt.setTransform(0,Math.sign(In),Math.sign(On),0,bn,Nn),Lt.drawImage(Rt,It,Mt,Ht,qt,0,0,jn,dn),Lt.setTransform(Pn,In,On,Mn,mn,yn),[jn,dn]}Lt.drawImage(Rt,It,Mt,Ht,qt,zt,an,vn,Tn);const Vt=Math.hypot(Pn,In),Zt=Math.hypot(On,Mn);return[Vt*vn,Zt*Tn]}function at(Lt){const{width:Rt,height:It}=Lt;if(Rt>it||It>it)return null;const Mt=1e3,Ht=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),qt=Rt+1;let zt=new Uint8Array(qt*(It+1)),an,vn,Tn;const Pn=Rt+7&-8;let In=new Uint8Array(Pn*It),On=0;for(const Zt of Lt.data){let un=128;for(;un>0;)In[On++]=Zt&un?0:255,un>>=1}let Mn=0;for(On=0,In[On]!==0&&(zt[0]=1,++Mn),vn=1;vn<Rt;vn++)In[On]!==In[On+1]&&(zt[vn]=In[On]?2:1,++Mn),On++;for(In[On]!==0&&(zt[vn]=2,++Mn),an=1;an<It;an++){On=an*Pn,Tn=an*qt,In[On-Pn]!==In[On]&&(zt[Tn]=In[On]?1:8,++Mn);let Zt=(In[On]?4:0)+(In[On-Pn]?8:0);for(vn=1;vn<Rt;vn++)Zt=(Zt>>2)+(In[On+1]?4:0)+(In[On-Pn+1]?8:0),Ht[Zt]&&(zt[Tn+vn]=Ht[Zt],++Mn),On++;if(In[On-Pn]!==In[On]&&(zt[Tn+vn]=In[On]?2:4,++Mn),Mn>Mt)return null}for(On=Pn*(It-1),Tn=an*qt,In[On]!==0&&(zt[Tn]=8,++Mn),vn=1;vn<Rt;vn++)In[On]!==In[On+1]&&(zt[Tn+vn]=In[On]?4:8,++Mn),On++;if(In[On]!==0&&(zt[Tn+vn]=4,++Mn),Mn>Mt)return null;const mn=new Int32Array([0,qt,-1,0,-qt,0,0,0,1]),yn=new Path2D;for(an=0;Mn&&an<=It;an++){let Zt=an*qt;const un=Zt+Rt;for(;Zt<un&&!zt[Zt];)Zt++;if(Zt===un)continue;yn.moveTo(Zt%qt,an);const bn=Zt;let Rn=zt[Zt];do{const Nn=mn[Rn];do Zt+=Nn;while(!zt[Zt]);const kn=zt[Zt];kn!==5&&kn!==10?(Rn=kn,zt[Zt]=0):(Rn=kn&51*Rn>>4,zt[Zt]&=Rn>>2|Rn<<2),yn.lineTo(Zt%qt,Zt/qt|0),zt[Zt]||--Mn}while(bn!==Zt);--an}return In=null,zt=null,function(Zt){Zt.save(),Zt.scale(1/Rt,-1/It),Zt.translate(0,-It),Zt.fill(yn),Zt.beginPath(),Zt.restore()}}class ut{constructor(Rt,It){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=h.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=h.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=h.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Rt,It])}clone(){const Rt=Object.create(this);return Rt.clipBox=this.clipBox.slice(),Rt}setCurrentPoint(Rt,It){this.x=Rt,this.y=It}updatePathMinMax(Rt,It,Mt){[It,Mt]=h.Util.applyTransform([It,Mt],Rt),this.minX=Math.min(this.minX,It),this.minY=Math.min(this.minY,Mt),this.maxX=Math.max(this.maxX,It),this.maxY=Math.max(this.maxY,Mt)}updateRectMinMax(Rt,It){const Mt=h.Util.applyTransform(It,Rt),Ht=h.Util.applyTransform(It.slice(2),Rt);this.minX=Math.min(this.minX,Mt[0],Ht[0]),this.minY=Math.min(this.minY,Mt[1],Ht[1]),this.maxX=Math.max(this.maxX,Mt[0],Ht[0]),this.maxY=Math.max(this.maxY,Mt[1],Ht[1])}updateScalingPathMinMax(Rt,It){h.Util.scaleMinMax(Rt,It),this.minX=Math.min(this.minX,It[0]),this.maxX=Math.max(this.maxX,It[1]),this.minY=Math.min(this.minY,It[2]),this.maxY=Math.max(this.maxY,It[3])}updateCurvePathMinMax(Rt,It,Mt,Ht,qt,zt,an,vn,Tn,Pn){const In=h.Util.bezierBoundingBox(It,Mt,Ht,qt,zt,an,vn,Tn);if(Pn){Pn[0]=Math.min(Pn[0],In[0],In[2]),Pn[1]=Math.max(Pn[1],In[0],In[2]),Pn[2]=Math.min(Pn[2],In[1],In[3]),Pn[3]=Math.max(Pn[3],In[1],In[3]);return}this.updateRectMinMax(Rt,In)}getPathBoundingBox(Rt=_.PathType.FILL,It=null){const Mt=[this.minX,this.minY,this.maxX,this.maxY];if(Rt===_.PathType.STROKE){It||(0,h.unreachable)("Stroke bounding box must include transform.");const Ht=h.Util.singularValueDecompose2dScale(It),qt=Ht[0]*this.lineWidth/2,zt=Ht[1]*this.lineWidth/2;Mt[0]-=qt,Mt[1]-=zt,Mt[2]+=qt,Mt[3]+=zt}return Mt}updateClipFromPath(){const Rt=h.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Rt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Rt){this.clipBox=Rt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Rt=_.PathType.FILL,It=null){return h.Util.intersect(this.clipBox,this.getPathBoundingBox(Rt,It))}}function pt(Lt,Rt){if(typeof ImageData<"u"&&Rt instanceof ImageData){Lt.putImageData(Rt,0,0);return}const It=Rt.height,Mt=Rt.width,Ht=It%st,qt=(It-Ht)/st,zt=Ht===0?qt:qt+1,an=Lt.createImageData(Mt,st);let vn=0,Tn;const Pn=Rt.data,In=an.data;let On,Mn,mn,yn;if(Rt.kind===h.ImageKind.GRAYSCALE_1BPP){const Vt=Pn.byteLength,Zt=new Uint32Array(In.buffer,0,In.byteLength>>2),un=Zt.length,bn=Mt+7>>3,Rn=4294967295,Nn=h.FeatureTest.isLittleEndian?4278190080:255;for(On=0;On<zt;On++){for(mn=On<qt?st:Ht,Tn=0,Mn=0;Mn<mn;Mn++){const kn=Vt-vn;let dn=0;const Un=kn>bn?Mt:kn*8-7,jn=Un&-8;let vr=0,fr=0;for(;dn<jn;dn+=8)fr=Pn[vn++],Zt[Tn++]=fr&128?Rn:Nn,Zt[Tn++]=fr&64?Rn:Nn,Zt[Tn++]=fr&32?Rn:Nn,Zt[Tn++]=fr&16?Rn:Nn,Zt[Tn++]=fr&8?Rn:Nn,Zt[Tn++]=fr&4?Rn:Nn,Zt[Tn++]=fr&2?Rn:Nn,Zt[Tn++]=fr&1?Rn:Nn;for(;dn<Un;dn++)vr===0&&(fr=Pn[vn++],vr=128),Zt[Tn++]=fr&vr?Rn:Nn,vr>>=1}for(;Tn<un;)Zt[Tn++]=0;Lt.putImageData(an,0,On*st)}}else if(Rt.kind===h.ImageKind.RGBA_32BPP){for(Mn=0,yn=Mt*st*4,On=0;On<qt;On++)In.set(Pn.subarray(vn,vn+yn)),vn+=yn,Lt.putImageData(an,0,Mn),Mn+=st;On<zt&&(yn=Mt*Ht*4,In.set(Pn.subarray(vn,vn+yn)),Lt.putImageData(an,0,Mn))}else if(Rt.kind===h.ImageKind.RGB_24BPP)for(mn=st,yn=Mt*mn,On=0;On<zt;On++){for(On>=qt&&(mn=Ht,yn=Mt*mn),Tn=0,Mn=yn;Mn--;)In[Tn++]=Pn[vn++],In[Tn++]=Pn[vn++],In[Tn++]=Pn[vn++],In[Tn++]=255;Lt.putImageData(an,0,On*st)}else throw new Error(`bad image kind: ${Rt.kind}`)}function vt(Lt,Rt){if(Rt.bitmap){Lt.drawImage(Rt.bitmap,0,0);return}const It=Rt.height,Mt=Rt.width,Ht=It%st,qt=(It-Ht)/st,zt=Ht===0?qt:qt+1,an=Lt.createImageData(Mt,st);let vn=0;const Tn=Rt.data,Pn=an.data;for(let In=0;In<zt;In++){const On=In<qt?st:Ht;({srcPos:vn}=(0,j.convertBlackAndWhiteToRGBA)({src:Tn,srcPos:vn,dest:Pn,width:Mt,height:On,nonBlackColor:0})),Lt.putImageData(an,0,In*st)}}function ht(Lt,Rt){const It=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Mt of It)Lt[Mt]!==void 0&&(Rt[Mt]=Lt[Mt]);Lt.setLineDash!==void 0&&(Rt.setLineDash(Lt.getLineDash()),Rt.lineDashOffset=Lt.lineDashOffset)}function yt(Lt){if(Lt.strokeStyle=Lt.fillStyle="#000000",Lt.fillRule="nonzero",Lt.globalAlpha=1,Lt.lineWidth=1,Lt.lineCap="butt",Lt.lineJoin="miter",Lt.miterLimit=10,Lt.globalCompositeOperation="source-over",Lt.font="10px sans-serif",Lt.setLineDash!==void 0&&(Lt.setLineDash([]),Lt.lineDashOffset=0),!h.isNodeJS){const{filter:Rt}=Lt;Rt!=="none"&&Rt!==""&&(Lt.filter="none")}}function gt(Lt,Rt,It,Mt){const Ht=Lt.length;for(let qt=3;qt<Ht;qt+=4){const zt=Lt[qt];if(zt===0)Lt[qt-3]=Rt,Lt[qt-2]=It,Lt[qt-1]=Mt;else if(zt<255){const an=255-zt;Lt[qt-3]=Lt[qt-3]*zt+Rt*an>>8,Lt[qt-2]=Lt[qt-2]*zt+It*an>>8,Lt[qt-1]=Lt[qt-1]*zt+Mt*an>>8}}}function ft(Lt,Rt,It){const Mt=Lt.length,Ht=1/255;for(let qt=3;qt<Mt;qt+=4){const zt=It?It[Lt[qt]]:Lt[qt];Rt[qt]=Rt[qt]*zt*Ht|0}}function _t(Lt,Rt,It){const Mt=Lt.length;for(let Ht=3;Ht<Mt;Ht+=4){const qt=Lt[Ht-3]*77+Lt[Ht-2]*152+Lt[Ht-1]*28;Rt[Ht]=It?Rt[Ht]*It[qt>>8]>>8:Rt[Ht]*qt>>16}}function Et(Lt,Rt,It,Mt,Ht,qt,zt,an,vn,Tn,Pn){const In=!!qt,On=In?qt[0]:0,Mn=In?qt[1]:0,mn=In?qt[2]:0,yn=Ht==="Luminosity"?_t:ft,Zt=Math.min(Mt,Math.ceil(1048576/It));for(let un=0;un<Mt;un+=Zt){const bn=Math.min(Zt,Mt-un),Rn=Lt.getImageData(an-Tn,un+(vn-Pn),It,bn),Nn=Rt.getImageData(an,un+vn,It,bn);In&&gt(Rn.data,On,Mn,mn),yn(Rn.data,Nn.data,zt),Rt.putImageData(Nn,an,un+vn)}}function mt(Lt,Rt,It,Mt){const Ht=Mt[0],qt=Mt[1],zt=Mt[2]-Ht,an=Mt[3]-qt;zt===0||an===0||(Et(Rt.context,It,zt,an,Rt.subtype,Rt.backdrop,Rt.transferMap,Ht,qt,Rt.offsetX,Rt.offsetY),Lt.save(),Lt.globalAlpha=1,Lt.globalCompositeOperation="source-over",Lt.setTransform(1,0,0,1,0,0),Lt.drawImage(It.canvas,0,0),Lt.restore())}function xt(Lt,Rt){const It=h.Util.singularValueDecompose2dScale(Lt);It[0]=Math.fround(It[0]),It[1]=Math.fround(It[1]);const Mt=Math.fround((globalThis.devicePixelRatio||1)*g.PixelsPerInch.PDF_TO_CSS_UNITS);return Rt!==void 0?Rt:It[0]<=Mt||It[1]<=Mt}const St=["butt","round","square"],Ut=["miter","round","bevel"],kt={},Bt={},tn=class tn{constructor(Rt,It,Mt,Ht,qt,{optionalContentConfig:zt,markedContentStack:an=null},vn,Tn){Sn(this,Gt);this.ctx=Rt,this.current=new ut(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=It,this.objs=Mt,this.canvasFactory=Ht,this.filterFactory=qt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=an||[],this.optionalContentConfig=zt,this.cachedCanvases=new lt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=vn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Tn,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Rt,It=null){return typeof Rt=="string"?Rt.startsWith("g_")?this.commonObjs.get(Rt):this.objs.get(Rt):It}beginDrawing({transform:Rt,viewport:It,transparency:Mt=!1,background:Ht=null}){const qt=this.ctx.canvas.width,zt=this.ctx.canvas.height,an=this.ctx.fillStyle;if(this.ctx.fillStyle=Ht||"#ffffff",this.ctx.fillRect(0,0,qt,zt),this.ctx.fillStyle=an,Mt){const vn=this.cachedCanvases.getCanvas("transparent",qt,zt);this.compositeCtx=this.ctx,this.transparentCanvas=vn.canvas,this.ctx=vn.context,this.ctx.save(),this.ctx.transform(...(0,g.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),yt(this.ctx),Rt&&(this.ctx.transform(...Rt),this.outputScaleX=Rt[0],this.outputScaleY=Rt[0]),this.ctx.transform(...It.transform),this.viewportScale=It.scale,this.baseTransform=(0,g.getCurrentTransform)(this.ctx)}executeOperatorList(Rt,It,Mt,Ht){const qt=Rt.argsArray,zt=Rt.fnArray;let an=It||0;const vn=qt.length;if(vn===an)return an;const Tn=vn-an>rt&&typeof Mt=="function",Pn=Tn?Date.now()+nt:0;let In=0;const On=this.commonObjs,Mn=this.objs;let mn;for(;;){if(Ht!==void 0&&an===Ht.nextBreakPoint)return Ht.breakIt(an,Mt),an;if(mn=zt[an],mn!==h.OPS.dependency)this[mn].apply(this,qt[an]);else for(const yn of qt[an]){const Vt=yn.startsWith("g_")?On:Mn;if(!Vt.has(yn))return Vt.get(yn,Mt),an}if(an++,an===vn)return an;if(Tn&&++In>rt){if(Date.now()>Pn)return Mt(),an;In=0}}}endDrawing(){cn(this,Gt,Ql).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Rt of this._cachedBitmapsMap.values()){for(const It of Rt.values())typeof HTMLCanvasElement<"u"&&It instanceof HTMLCanvasElement&&(It.width=It.height=0);Rt.clear()}this._cachedBitmapsMap.clear(),cn(this,Gt,Jl).call(this)}_scaleImage(Rt,It){const Mt=Rt.width,Ht=Rt.height;let qt=Math.max(Math.hypot(It[0],It[1]),1),zt=Math.max(Math.hypot(It[2],It[3]),1),an=Mt,vn=Ht,Tn="prescale1",Pn,In;for(;qt>2&&an>1||zt>2&&vn>1;){let On=an,Mn=vn;qt>2&&an>1&&(On=an>=16384?Math.floor(an/2)-1||1:Math.ceil(an/2),qt/=an/On),zt>2&&vn>1&&(Mn=vn>=16384?Math.floor(vn/2)-1||1:Math.ceil(vn)/2,zt/=vn/Mn),Pn=this.cachedCanvases.getCanvas(Tn,On,Mn),In=Pn.context,In.clearRect(0,0,On,Mn),In.drawImage(Rt,0,0,an,vn,0,0,On,Mn),Rt=Pn.canvas,an=On,vn=Mn,Tn=Tn==="prescale1"?"prescale2":"prescale1"}return{img:Rt,paintWidth:an,paintHeight:vn}}_createMaskCanvas(Rt){const It=this.ctx,{width:Mt,height:Ht}=Rt,qt=this.current.fillColor,zt=this.current.patternFill,an=(0,g.getCurrentTransform)(It);let vn,Tn,Pn,In;if((Rt.bitmap||Rt.data)&&Rt.count>1){const dn=Rt.bitmap||Rt.data.buffer;Tn=JSON.stringify(zt?an:[an.slice(0,4),qt]),vn=this._cachedBitmapsMap.get(dn),vn||(vn=new Map,this._cachedBitmapsMap.set(dn,vn));const Un=vn.get(Tn);if(Un&&!zt){const jn=Math.round(Math.min(an[0],an[2])+an[4]),vr=Math.round(Math.min(an[1],an[3])+an[5]);return{canvas:Un,offsetX:jn,offsetY:vr}}Pn=Un}Pn||(In=this.cachedCanvases.getCanvas("maskCanvas",Mt,Ht),vt(In.context,Rt));let On=h.Util.transform(an,[1/Mt,0,0,-1/Ht,0,0]);On=h.Util.transform(On,[1,0,0,1,0,-Ht]);const Mn=h.Util.applyTransform([0,0],On),mn=h.Util.applyTransform([Mt,Ht],On),yn=h.Util.normalizeRect([Mn[0],Mn[1],mn[0],mn[1]]),Vt=Math.round(yn[2]-yn[0])||1,Zt=Math.round(yn[3]-yn[1])||1,un=this.cachedCanvases.getCanvas("fillCanvas",Vt,Zt),bn=un.context,Rn=Math.min(Mn[0],mn[0]),Nn=Math.min(Mn[1],mn[1]);bn.translate(-Rn,-Nn),bn.transform(...On),Pn||(Pn=this._scaleImage(In.canvas,(0,g.getCurrentTransformInverse)(bn)),Pn=Pn.img,vn&&zt&&vn.set(Tn,Pn)),bn.imageSmoothingEnabled=xt((0,g.getCurrentTransform)(bn),Rt.interpolate),dt(bn,Pn,0,0,Pn.width,Pn.height,0,0,Mt,Ht),bn.globalCompositeOperation="source-in";const kn=h.Util.transform((0,g.getCurrentTransformInverse)(bn),[1,0,0,1,-Rn,-Nn]);return bn.fillStyle=zt?qt.getPattern(It,this,kn,_.PathType.FILL):qt,bn.fillRect(0,0,Mt,Ht),vn&&!zt&&(this.cachedCanvases.delete("fillCanvas"),vn.set(Tn,un.canvas)),{canvas:un.canvas,offsetX:Math.round(Rn),offsetY:Math.round(Nn)}}setLineWidth(Rt){Rt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Rt,this.ctx.lineWidth=Rt}setLineCap(Rt){this.ctx.lineCap=St[Rt]}setLineJoin(Rt){this.ctx.lineJoin=Ut[Rt]}setMiterLimit(Rt){this.ctx.miterLimit=Rt}setDash(Rt,It){const Mt=this.ctx;Mt.setLineDash!==void 0&&(Mt.setLineDash(Rt),Mt.lineDashOffset=It)}setRenderingIntent(Rt){}setFlatness(Rt){}setGState(Rt){for(const[It,Mt]of Rt)switch(It){case"LW":this.setLineWidth(Mt);break;case"LC":this.setLineCap(Mt);break;case"LJ":this.setLineJoin(Mt);break;case"ML":this.setMiterLimit(Mt);break;case"D":this.setDash(Mt[0],Mt[1]);break;case"RI":this.setRenderingIntent(Mt);break;case"FL":this.setFlatness(Mt);break;case"Font":this.setFont(Mt[0],Mt[1]);break;case"CA":this.current.strokeAlpha=Mt;break;case"ca":this.current.fillAlpha=Mt,this.ctx.globalAlpha=Mt;break;case"BM":this.ctx.globalCompositeOperation=Mt;break;case"SMask":this.current.activeSMask=Mt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Mt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Rt=this.inSMaskMode;this.current.activeSMask&&!Rt?this.beginSMaskMode():!this.current.activeSMask&&Rt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Rt=this.ctx.canvas.width,It=this.ctx.canvas.height,Mt="smaskGroupAt"+this.groupLevel,Ht=this.cachedCanvases.getCanvas(Mt,Rt,It);this.suspendedCtx=this.ctx,this.ctx=Ht.context;const qt=this.ctx;qt.setTransform(...(0,g.getCurrentTransform)(this.suspendedCtx)),ht(this.suspendedCtx,qt),ot(qt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ht(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Rt){if(!this.current.activeSMask)return;Rt?(Rt[0]=Math.floor(Rt[0]),Rt[1]=Math.floor(Rt[1]),Rt[2]=Math.ceil(Rt[2]),Rt[3]=Math.ceil(Rt[3])):Rt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const It=this.current.activeSMask,Mt=this.suspendedCtx;mt(Mt,It,this.ctx,Rt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ht(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Rt=this.current;this.stateStack.push(Rt),this.current=Rt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ht(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Rt,It,Mt,Ht,qt,zt){this.ctx.transform(Rt,It,Mt,Ht,qt,zt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Rt,It,Mt){const Ht=this.ctx,qt=this.current;let zt=qt.x,an=qt.y,vn,Tn;const Pn=(0,g.getCurrentTransform)(Ht),In=Pn[0]===0&&Pn[3]===0||Pn[1]===0&&Pn[2]===0,On=In?Mt.slice(0):null;for(let Mn=0,mn=0,yn=Rt.length;Mn<yn;Mn++)switch(Rt[Mn]|0){case h.OPS.rectangle:zt=It[mn++],an=It[mn++];const Vt=It[mn++],Zt=It[mn++],un=zt+Vt,bn=an+Zt;Ht.moveTo(zt,an),Vt===0||Zt===0?Ht.lineTo(un,bn):(Ht.lineTo(un,an),Ht.lineTo(un,bn),Ht.lineTo(zt,bn)),In||qt.updateRectMinMax(Pn,[zt,an,un,bn]),Ht.closePath();break;case h.OPS.moveTo:zt=It[mn++],an=It[mn++],Ht.moveTo(zt,an),In||qt.updatePathMinMax(Pn,zt,an);break;case h.OPS.lineTo:zt=It[mn++],an=It[mn++],Ht.lineTo(zt,an),In||qt.updatePathMinMax(Pn,zt,an);break;case h.OPS.curveTo:vn=zt,Tn=an,zt=It[mn+4],an=It[mn+5],Ht.bezierCurveTo(It[mn],It[mn+1],It[mn+2],It[mn+3],zt,an),qt.updateCurvePathMinMax(Pn,vn,Tn,It[mn],It[mn+1],It[mn+2],It[mn+3],zt,an,On),mn+=6;break;case h.OPS.curveTo2:vn=zt,Tn=an,Ht.bezierCurveTo(zt,an,It[mn],It[mn+1],It[mn+2],It[mn+3]),qt.updateCurvePathMinMax(Pn,vn,Tn,zt,an,It[mn],It[mn+1],It[mn+2],It[mn+3],On),zt=It[mn+2],an=It[mn+3],mn+=4;break;case h.OPS.curveTo3:vn=zt,Tn=an,zt=It[mn+2],an=It[mn+3],Ht.bezierCurveTo(It[mn],It[mn+1],zt,an,zt,an),qt.updateCurvePathMinMax(Pn,vn,Tn,It[mn],It[mn+1],zt,an,zt,an,On),mn+=4;break;case h.OPS.closePath:Ht.closePath();break}In&&qt.updateScalingPathMinMax(Pn,On),qt.setCurrentPoint(zt,an)}closePath(){this.ctx.closePath()}stroke(Rt=!0){const It=this.ctx,Mt=this.current.strokeColor;It.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Mt=="object"&&(Mt!=null&&Mt.getPattern)?(It.save(),It.strokeStyle=Mt.getPattern(It,this,(0,g.getCurrentTransformInverse)(It),_.PathType.STROKE),this.rescaleAndStroke(!1),It.restore()):this.rescaleAndStroke(!0)),Rt&&this.consumePath(this.current.getClippedPathBoundingBox()),It.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Rt=!0){const It=this.ctx,Mt=this.current.fillColor,Ht=this.current.patternFill;let qt=!1;Ht&&(It.save(),It.fillStyle=Mt.getPattern(It,this,(0,g.getCurrentTransformInverse)(It),_.PathType.FILL),qt=!0);const zt=this.current.getClippedPathBoundingBox();this.contentVisible&&zt!==null&&(this.pendingEOFill?(It.fill("evenodd"),this.pendingEOFill=!1):It.fill()),qt&&It.restore(),Rt&&this.consumePath(zt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=kt}eoClip(){this.pendingClip=Bt}beginText(){this.current.textMatrix=h.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Rt=this.pendingTextPaths,It=this.ctx;if(Rt===void 0){It.beginPath();return}It.save(),It.beginPath();for(const Mt of Rt)It.setTransform(...Mt.transform),It.translate(Mt.x,Mt.y),Mt.addToPath(It,Mt.fontSize);It.restore(),It.clip(),It.beginPath(),delete this.pendingTextPaths}setCharSpacing(Rt){this.current.charSpacing=Rt}setWordSpacing(Rt){this.current.wordSpacing=Rt}setHScale(Rt){this.current.textHScale=Rt/100}setLeading(Rt){this.current.leading=-Rt}setFont(Rt,It){var Pn;const Mt=this.commonObjs.get(Rt),Ht=this.current;if(!Mt)throw new Error(`Can't find font for ${Rt}`);if(Ht.fontMatrix=Mt.fontMatrix||h.FONT_IDENTITY_MATRIX,(Ht.fontMatrix[0]===0||Ht.fontMatrix[3]===0)&&(0,h.warn)("Invalid font matrix for font "+Rt),It<0?(It=-It,Ht.fontDirection=-1):Ht.fontDirection=1,this.current.font=Mt,this.current.fontSize=It,Mt.isType3Font)return;const qt=Mt.loadedName||"sans-serif",zt=((Pn=Mt.systemFontInfo)==null?void 0:Pn.css)||`"${qt}", ${Mt.fallbackName}`;let an="normal";Mt.black?an="900":Mt.bold&&(an="bold");const vn=Mt.italic?"italic":"normal";let Tn=It;It<$?Tn=$:It>et&&(Tn=et),this.current.fontSizeScale=It/Tn,this.ctx.font=`${vn} ${an} ${Tn}px ${zt}`}setTextRenderingMode(Rt){this.current.textRenderingMode=Rt}setTextRise(Rt){this.current.textRise=Rt}moveText(Rt,It){this.current.x=this.current.lineX+=Rt,this.current.y=this.current.lineY+=It}setLeadingMoveText(Rt,It){this.setLeading(-It),this.moveText(Rt,It)}setTextMatrix(Rt,It,Mt,Ht,qt,zt){this.current.textMatrix=[Rt,It,Mt,Ht,qt,zt],this.current.textMatrixScale=Math.hypot(Rt,It),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Rt,It,Mt,Ht){const qt=this.ctx,zt=this.current,an=zt.font,vn=zt.textRenderingMode,Tn=zt.fontSize/zt.fontSizeScale,Pn=vn&h.TextRenderingMode.FILL_STROKE_MASK,In=!!(vn&h.TextRenderingMode.ADD_TO_PATH_FLAG),On=zt.patternFill&&!an.missingFile;let Mn;(an.disableFontFace||In||On)&&(Mn=an.getPathGenerator(this.commonObjs,Rt)),an.disableFontFace||On?(qt.save(),qt.translate(It,Mt),qt.beginPath(),Mn(qt,Tn),Ht&&qt.setTransform(...Ht),(Pn===h.TextRenderingMode.FILL||Pn===h.TextRenderingMode.FILL_STROKE)&&qt.fill(),(Pn===h.TextRenderingMode.STROKE||Pn===h.TextRenderingMode.FILL_STROKE)&&qt.stroke(),qt.restore()):((Pn===h.TextRenderingMode.FILL||Pn===h.TextRenderingMode.FILL_STROKE)&&qt.fillText(Rt,It,Mt),(Pn===h.TextRenderingMode.STROKE||Pn===h.TextRenderingMode.FILL_STROKE)&&qt.strokeText(Rt,It,Mt)),In&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,g.getCurrentTransform)(qt),x:It,y:Mt,fontSize:Tn,addToPath:Mn})}get isFontSubpixelAAEnabled(){const{context:Rt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Rt.scale(1.5,1),Rt.fillText("I",0,10);const It=Rt.getImageData(0,0,10,10).data;let Mt=!1;for(let Ht=3;Ht<It.length;Ht+=4)if(It[Ht]>0&&It[Ht]<255){Mt=!0;break}return(0,h.shadow)(this,"isFontSubpixelAAEnabled",Mt)}showText(Rt){const It=this.current,Mt=It.font;if(Mt.isType3Font)return this.showType3Text(Rt);const Ht=It.fontSize;if(Ht===0)return;const qt=this.ctx,zt=It.fontSizeScale,an=It.charSpacing,vn=It.wordSpacing,Tn=It.fontDirection,Pn=It.textHScale*Tn,In=Rt.length,On=Mt.vertical,Mn=On?1:-1,mn=Mt.defaultVMetrics,yn=Ht*It.fontMatrix[0],Vt=It.textRenderingMode===h.TextRenderingMode.FILL&&!Mt.disableFontFace&&!It.patternFill;qt.save(),qt.transform(...It.textMatrix),qt.translate(It.x,It.y+It.textRise),Tn>0?qt.scale(Pn,-1):qt.scale(Pn,1);let Zt;if(It.patternFill){qt.save();const kn=It.fillColor.getPattern(qt,this,(0,g.getCurrentTransformInverse)(qt),_.PathType.FILL);Zt=(0,g.getCurrentTransform)(qt),qt.restore(),qt.fillStyle=kn}let un=It.lineWidth;const bn=It.textMatrixScale;if(bn===0||un===0){const kn=It.textRenderingMode&h.TextRenderingMode.FILL_STROKE_MASK;(kn===h.TextRenderingMode.STROKE||kn===h.TextRenderingMode.FILL_STROKE)&&(un=this.getSinglePixelWidth())}else un/=bn;if(zt!==1&&(qt.scale(zt,zt),un/=zt),qt.lineWidth=un,Mt.isInvalidPDFjsFont){const kn=[];let dn=0;for(const Un of Rt)kn.push(Un.unicode),dn+=Un.width;qt.fillText(kn.join(""),0,0),It.x+=dn*yn*Pn,qt.restore(),this.compose();return}let Rn=0,Nn;for(Nn=0;Nn<In;++Nn){const kn=Rt[Nn];if(typeof kn=="number"){Rn+=Mn*kn*Ht/1e3;continue}let dn=!1;const Un=(kn.isSpace?vn:0)+an,jn=kn.fontChar,vr=kn.accent;let fr,Cr,Jn=kn.width;if(On){const xr=kn.vmetric||mn,Fr=-(kn.vmetric?xr[1]:Jn*.5)*yn,Dn=xr[2]*yn;Jn=xr?-xr[0]:Jn,fr=Fr/zt,Cr=(Rn+Dn)/zt}else fr=Rn/zt,Cr=0;if(Mt.remeasure&&Jn>0){const xr=qt.measureText(jn).width*1e3/Ht*zt;if(Jn<xr&&this.isFontSubpixelAAEnabled){const Fr=Jn/xr;dn=!0,qt.save(),qt.scale(Fr,1),fr/=Fr}else Jn!==xr&&(fr+=(Jn-xr)/2e3*Ht/zt)}if(this.contentVisible&&(kn.isInFont||Mt.missingFile)){if(Vt&&!vr)qt.fillText(jn,fr,Cr);else if(this.paintChar(jn,fr,Cr,Zt),vr){const xr=fr+Ht*vr.offset.x/zt,Fr=Cr-Ht*vr.offset.y/zt;this.paintChar(vr.fontChar,xr,Fr,Zt)}}const ar=On?Jn*yn-Un*Tn:Jn*yn+Un*Tn;Rn+=ar,dn&&qt.restore()}On?It.y-=Rn:It.x+=Rn*Pn,qt.restore(),this.compose()}showType3Text(Rt){const It=this.ctx,Mt=this.current,Ht=Mt.font,qt=Mt.fontSize,zt=Mt.fontDirection,an=Ht.vertical?1:-1,vn=Mt.charSpacing,Tn=Mt.wordSpacing,Pn=Mt.textHScale*zt,In=Mt.fontMatrix||h.FONT_IDENTITY_MATRIX,On=Rt.length,Mn=Mt.textRenderingMode===h.TextRenderingMode.INVISIBLE;let mn,yn,Vt,Zt;if(!(Mn||qt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,It.save(),It.transform(...Mt.textMatrix),It.translate(Mt.x,Mt.y),It.scale(Pn,zt),mn=0;mn<On;++mn){if(yn=Rt[mn],typeof yn=="number"){Zt=an*yn*qt/1e3,this.ctx.translate(Zt,0),Mt.x+=Zt*Pn;continue}const un=(yn.isSpace?Tn:0)+vn,bn=Ht.charProcOperatorList[yn.operatorListId];if(!bn){(0,h.warn)(`Type3 character "${yn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=yn,this.save(),It.scale(qt,qt),It.transform(...In),this.executeOperatorList(bn),this.restore()),Vt=h.Util.applyTransform([yn.width,0],In)[0]*qt+un,It.translate(Vt,0),Mt.x+=Vt*Pn}It.restore(),this.processingType3=null}}setCharWidth(Rt,It){}setCharWidthAndBounds(Rt,It,Mt,Ht,qt,zt){this.ctx.rect(Mt,Ht,qt-Mt,zt-Ht),this.ctx.clip(),this.endPath()}getColorN_Pattern(Rt){let It;if(Rt[0]==="TilingPattern"){const Mt=Rt[1],Ht=this.baseTransform||(0,g.getCurrentTransform)(this.ctx),qt={createCanvasGraphics:zt=>new tn(zt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};It=new _.TilingPattern(Rt,Mt,this.ctx,qt,Ht)}else It=this._getPattern(Rt[1],Rt[2]);return It}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Rt,It,Mt){const Ht=h.Util.makeHexColor(Rt,It,Mt);this.ctx.strokeStyle=Ht,this.current.strokeColor=Ht}setFillRGBColor(Rt,It,Mt){const Ht=h.Util.makeHexColor(Rt,It,Mt);this.ctx.fillStyle=Ht,this.current.fillColor=Ht,this.current.patternFill=!1}_getPattern(Rt,It=null){let Mt;return this.cachedPatterns.has(Rt)?Mt=this.cachedPatterns.get(Rt):(Mt=(0,_.getShadingPattern)(this.getObject(Rt)),this.cachedPatterns.set(Rt,Mt)),It&&(Mt.matrix=It),Mt}shadingFill(Rt){if(!this.contentVisible)return;const It=this.ctx;this.save();const Mt=this._getPattern(Rt);It.fillStyle=Mt.getPattern(It,this,(0,g.getCurrentTransformInverse)(It),_.PathType.SHADING);const Ht=(0,g.getCurrentTransformInverse)(It);if(Ht){const{width:qt,height:zt}=It.canvas,[an,vn,Tn,Pn]=h.Util.getAxialAlignedBoundingBox([0,0,qt,zt],Ht);this.ctx.fillRect(an,vn,Tn-an,Pn-vn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,h.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,h.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Rt,It){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Rt)&&Rt.length===6&&this.transform(...Rt),this.baseTransform=(0,g.getCurrentTransform)(this.ctx),It)){const Mt=It[2]-It[0],Ht=It[3]-It[1];this.ctx.rect(It[0],It[1],Mt,Ht),this.current.updateRectMinMax((0,g.getCurrentTransform)(this.ctx),It),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Rt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const It=this.ctx;Rt.isolated||(0,h.info)("TODO: Support non-isolated groups."),Rt.knockout&&(0,h.warn)("Knockout groups not supported.");const Mt=(0,g.getCurrentTransform)(It);if(Rt.matrix&&It.transform(...Rt.matrix),!Rt.bbox)throw new Error("Bounding box is required.");let Ht=h.Util.getAxialAlignedBoundingBox(Rt.bbox,(0,g.getCurrentTransform)(It));const qt=[0,0,It.canvas.width,It.canvas.height];Ht=h.Util.intersect(Ht,qt)||[0,0,0,0];const zt=Math.floor(Ht[0]),an=Math.floor(Ht[1]);let vn=Math.max(Math.ceil(Ht[2])-zt,1),Tn=Math.max(Math.ceil(Ht[3])-an,1),Pn=1,In=1;vn>tt&&(Pn=vn/tt,vn=tt),Tn>tt&&(In=Tn/tt,Tn=tt),this.current.startNewPathAndClipBox([0,0,vn,Tn]);let On="groupAt"+this.groupLevel;Rt.smask&&(On+="_smask_"+this.smaskCounter++%2);const Mn=this.cachedCanvases.getCanvas(On,vn,Tn),mn=Mn.context;mn.scale(1/Pn,1/In),mn.translate(-zt,-an),mn.transform(...Mt),Rt.smask?this.smaskStack.push({canvas:Mn.canvas,context:mn,offsetX:zt,offsetY:an,scaleX:Pn,scaleY:In,subtype:Rt.smask.subtype,backdrop:Rt.smask.backdrop,transferMap:Rt.smask.transferMap||null,startTransformInverse:null}):(It.setTransform(1,0,0,1,0,0),It.translate(zt,an),It.scale(Pn,In),It.save()),ht(It,mn),this.ctx=mn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(It),this.groupLevel++}endGroup(Rt){if(!this.contentVisible)return;this.groupLevel--;const It=this.ctx,Mt=this.groupStack.pop();if(this.ctx=Mt,this.ctx.imageSmoothingEnabled=!1,Rt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Ht=(0,g.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Ht);const qt=h.Util.getAxialAlignedBoundingBox([0,0,It.canvas.width,It.canvas.height],Ht);this.ctx.drawImage(It.canvas,0,0),this.ctx.restore(),this.compose(qt)}}beginAnnotation(Rt,It,Mt,Ht,qt){if(cn(this,Gt,Ql).call(this),yt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(It)&&It.length===4){const zt=It[2]-It[0],an=It[3]-It[1];if(qt&&this.annotationCanvasMap){Mt=Mt.slice(),Mt[4]-=It[0],Mt[5]-=It[1],It=It.slice(),It[0]=It[1]=0,It[2]=zt,It[3]=an;const[vn,Tn]=h.Util.singularValueDecompose2dScale((0,g.getCurrentTransform)(this.ctx)),{viewportScale:Pn}=this,In=Math.ceil(zt*this.outputScaleX*Pn),On=Math.ceil(an*this.outputScaleY*Pn);this.annotationCanvas=this.canvasFactory.create(In,On);const{canvas:Mn,context:mn}=this.annotationCanvas;this.annotationCanvasMap.set(Rt,Mn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=mn,this.ctx.save(),this.ctx.setTransform(vn,0,0,-Tn,0,an*Tn),yt(this.ctx)}else yt(this.ctx),this.ctx.rect(It[0],It[1],zt,an),this.ctx.clip(),this.endPath()}this.current=new ut(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Mt),this.transform(...Ht)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),cn(this,Gt,Jl).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Rt){if(!this.contentVisible)return;const It=Rt.count;Rt=this.getObject(Rt.data,Rt),Rt.count=It;const Mt=this.ctx,Ht=this.processingType3;if(Ht&&(Ht.compiled===void 0&&(Ht.compiled=at(Rt)),Ht.compiled)){Ht.compiled(Mt);return}const qt=this._createMaskCanvas(Rt),zt=qt.canvas;Mt.save(),Mt.setTransform(1,0,0,1,0,0),Mt.drawImage(zt,qt.offsetX,qt.offsetY),Mt.restore(),this.compose()}paintImageMaskXObjectRepeat(Rt,It,Mt=0,Ht=0,qt,zt){if(!this.contentVisible)return;Rt=this.getObject(Rt.data,Rt);const an=this.ctx;an.save();const vn=(0,g.getCurrentTransform)(an);an.transform(It,Mt,Ht,qt,0,0);const Tn=this._createMaskCanvas(Rt);an.setTransform(1,0,0,1,Tn.offsetX-vn[4],Tn.offsetY-vn[5]);for(let Pn=0,In=zt.length;Pn<In;Pn+=2){const On=h.Util.transform(vn,[It,Mt,Ht,qt,zt[Pn],zt[Pn+1]]),[Mn,mn]=h.Util.applyTransform([0,0],On);an.drawImage(Tn.canvas,Mn,mn)}an.restore(),this.compose()}paintImageMaskXObjectGroup(Rt){if(!this.contentVisible)return;const It=this.ctx,Mt=this.current.fillColor,Ht=this.current.patternFill;for(const qt of Rt){const{data:zt,width:an,height:vn,transform:Tn}=qt,Pn=this.cachedCanvases.getCanvas("maskCanvas",an,vn),In=Pn.context;In.save();const On=this.getObject(zt,qt);vt(In,On),In.globalCompositeOperation="source-in",In.fillStyle=Ht?Mt.getPattern(In,this,(0,g.getCurrentTransformInverse)(It),_.PathType.FILL):Mt,In.fillRect(0,0,an,vn),In.restore(),It.save(),It.transform(...Tn),It.scale(1,-1),dt(It,Pn.canvas,0,0,an,vn,0,-1,1,1),It.restore()}this.compose()}paintImageXObject(Rt){if(!this.contentVisible)return;const It=this.getObject(Rt);if(!It){(0,h.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(It)}paintImageXObjectRepeat(Rt,It,Mt,Ht){if(!this.contentVisible)return;const qt=this.getObject(Rt);if(!qt){(0,h.warn)("Dependent image isn't ready yet");return}const zt=qt.width,an=qt.height,vn=[];for(let Tn=0,Pn=Ht.length;Tn<Pn;Tn+=2)vn.push({transform:[It,0,0,Mt,Ht[Tn],Ht[Tn+1]],x:0,y:0,w:zt,h:an});this.paintInlineImageXObjectGroup(qt,vn)}applyTransferMapsToCanvas(Rt){return this.current.transferMaps!=="none"&&(Rt.filter=this.current.transferMaps,Rt.drawImage(Rt.canvas,0,0),Rt.filter="none"),Rt.canvas}applyTransferMapsToBitmap(Rt){if(this.current.transferMaps==="none")return Rt.bitmap;const{bitmap:It,width:Mt,height:Ht}=Rt,qt=this.cachedCanvases.getCanvas("inlineImage",Mt,Ht),zt=qt.context;return zt.filter=this.current.transferMaps,zt.drawImage(It,0,0),zt.filter="none",qt.canvas}paintInlineImageXObject(Rt){if(!this.contentVisible)return;const It=Rt.width,Mt=Rt.height,Ht=this.ctx;if(this.save(),!h.isNodeJS){const{filter:an}=Ht;an!=="none"&&an!==""&&(Ht.filter="none")}Ht.scale(1/It,-1/Mt);let qt;if(Rt.bitmap)qt=this.applyTransferMapsToBitmap(Rt);else if(typeof HTMLElement=="function"&&Rt instanceof HTMLElement||!Rt.data)qt=Rt;else{const vn=this.cachedCanvases.getCanvas("inlineImage",It,Mt).context;pt(vn,Rt),qt=this.applyTransferMapsToCanvas(vn)}const zt=this._scaleImage(qt,(0,g.getCurrentTransformInverse)(Ht));Ht.imageSmoothingEnabled=xt((0,g.getCurrentTransform)(Ht),Rt.interpolate),dt(Ht,zt.img,0,0,zt.paintWidth,zt.paintHeight,0,-Mt,It,Mt),this.compose(),this.restore()}paintInlineImageXObjectGroup(Rt,It){if(!this.contentVisible)return;const Mt=this.ctx;let Ht;if(Rt.bitmap)Ht=Rt.bitmap;else{const qt=Rt.width,zt=Rt.height,vn=this.cachedCanvases.getCanvas("inlineImage",qt,zt).context;pt(vn,Rt),Ht=this.applyTransferMapsToCanvas(vn)}for(const qt of It)Mt.save(),Mt.transform(...qt.transform),Mt.scale(1,-1),dt(Mt,Ht,qt.x,qt.y,qt.w,qt.h,0,-1,1,1),Mt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Rt){}markPointProps(Rt,It){}beginMarkedContent(Rt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Rt,It){Rt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(It)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Rt){const It=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Rt);const Mt=this.ctx;this.pendingClip&&(It||(this.pendingClip===Bt?Mt.clip("evenodd"):Mt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Mt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Rt=(0,g.getCurrentTransform)(this.ctx);if(Rt[1]===0&&Rt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Rt[0]),Math.abs(Rt[3]));else{const It=Math.abs(Rt[0]*Rt[3]-Rt[2]*Rt[1]),Mt=Math.hypot(Rt[0],Rt[2]),Ht=Math.hypot(Rt[1],Rt[3]);this._cachedGetSinglePixelWidth=Math.max(Mt,Ht)/It}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Rt}=this.current,{a:It,b:Mt,c:Ht,d:qt}=this.ctx.getTransform();let zt,an;if(Mt===0&&Ht===0){const vn=Math.abs(It),Tn=Math.abs(qt);if(vn===Tn)if(Rt===0)zt=an=1/vn;else{const Pn=vn*Rt;zt=an=Pn<1?1/Pn:1}else if(Rt===0)zt=1/vn,an=1/Tn;else{const Pn=vn*Rt,In=Tn*Rt;zt=Pn<1?1/Pn:1,an=In<1?1/In:1}}else{const vn=Math.abs(It*qt-Mt*Ht),Tn=Math.hypot(It,Mt),Pn=Math.hypot(Ht,qt);if(Rt===0)zt=Pn/vn,an=Tn/vn;else{const In=Rt*vn;zt=Pn>In?Pn/In:1,an=Tn>In?Tn/In:1}}this._cachedScaleForStroking[0]=zt,this._cachedScaleForStroking[1]=an}return this._cachedScaleForStroking}rescaleAndStroke(Rt){const{ctx:It}=this,{lineWidth:Mt}=this.current,[Ht,qt]=this.getScaleForStroking();if(It.lineWidth=Mt||1,Ht===1&&qt===1){It.stroke();return}const zt=It.getLineDash();if(Rt&&It.save(),It.scale(Ht,qt),zt.length>0){const an=Math.max(Ht,qt);It.setLineDash(zt.map(vn=>vn/an)),It.lineDashOffset/=an}It.stroke(),Rt&&It.restore()}isContentVisible(){for(let Rt=this.markedContentStack.length-1;Rt>=0;Rt--)if(!this.markedContentStack[Rt].visible)return!1;return!0}};Gt=new WeakSet,Ql=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Jl=function(){if(this.pageColors){const Rt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Rt!=="none"){const It=this.ctx.filter;this.ctx.filter=Rt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=It}}};let $t=tn;e.CanvasGraphics=$t;for(const Lt in h.OPS)$t.prototype[Lt]!==void 0&&($t.prototype[h.OPS[Lt]]=$t.prototype[Lt])},(s,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=st;var h=d(1),g=d(6);const _={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=_;function j(at,ut){if(!ut)return;const pt=ut[2]-ut[0],vt=ut[3]-ut[1],ht=new Path2D;ht.rect(ut[0],ut[1],pt,vt),at.clip(ht)}class ${constructor(){this.constructor===$&&(0,h.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,h.unreachable)("Abstract method `getPattern` called.")}}class et extends ${constructor(ut){super(),this._type=ut[1],this._bbox=ut[2],this._colorStops=ut[3],this._p0=ut[4],this._p1=ut[5],this._r0=ut[6],this._r1=ut[7],this.matrix=null}_createGradient(ut){let pt;this._type==="axial"?pt=ut.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(pt=ut.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const vt of this._colorStops)pt.addColorStop(vt[0],vt[1]);return pt}getPattern(ut,pt,vt,ht){let yt;if(ht===_.STROKE||ht===_.FILL){const gt=pt.current.getClippedPathBoundingBox(ht,(0,g.getCurrentTransform)(ut))||[0,0,0,0],ft=Math.ceil(gt[2]-gt[0])||1,_t=Math.ceil(gt[3]-gt[1])||1,Et=pt.cachedCanvases.getCanvas("pattern",ft,_t,!0),mt=Et.context;mt.clearRect(0,0,mt.canvas.width,mt.canvas.height),mt.beginPath(),mt.rect(0,0,mt.canvas.width,mt.canvas.height),mt.translate(-gt[0],-gt[1]),vt=h.Util.transform(vt,[1,0,0,1,gt[0],gt[1]]),mt.transform(...pt.baseTransform),this.matrix&&mt.transform(...this.matrix),j(mt,this._bbox),mt.fillStyle=this._createGradient(mt),mt.fill(),yt=ut.createPattern(Et.canvas,"no-repeat");const xt=new DOMMatrix(vt);yt.setTransform(xt)}else j(ut,this._bbox),yt=this._createGradient(ut);return yt}}function tt(at,ut,pt,vt,ht,yt,gt,ft){const _t=ut.coords,Et=ut.colors,mt=at.data,xt=at.width*4;let St;_t[pt+1]>_t[vt+1]&&(St=pt,pt=vt,vt=St,St=yt,yt=gt,gt=St),_t[vt+1]>_t[ht+1]&&(St=vt,vt=ht,ht=St,St=gt,gt=ft,ft=St),_t[pt+1]>_t[vt+1]&&(St=pt,pt=vt,vt=St,St=yt,yt=gt,gt=St);const Ut=(_t[pt]+ut.offsetX)*ut.scaleX,kt=(_t[pt+1]+ut.offsetY)*ut.scaleY,Bt=(_t[vt]+ut.offsetX)*ut.scaleX,$t=(_t[vt+1]+ut.offsetY)*ut.scaleY,Gt=(_t[ht]+ut.offsetX)*ut.scaleX,Ft=(_t[ht+1]+ut.offsetY)*ut.scaleY;if(kt>=Ft)return;const Wt=Et[yt],tn=Et[yt+1],Lt=Et[yt+2],Rt=Et[gt],It=Et[gt+1],Mt=Et[gt+2],Ht=Et[ft],qt=Et[ft+1],zt=Et[ft+2],an=Math.round(kt),vn=Math.round(Ft);let Tn,Pn,In,On,Mn,mn,yn,Vt;for(let Zt=an;Zt<=vn;Zt++){if(Zt<$t){const kn=Zt<kt?0:(kt-Zt)/(kt-$t);Tn=Ut-(Ut-Bt)*kn,Pn=Wt-(Wt-Rt)*kn,In=tn-(tn-It)*kn,On=Lt-(Lt-Mt)*kn}else{let kn;Zt>Ft?kn=1:$t===Ft?kn=0:kn=($t-Zt)/($t-Ft),Tn=Bt-(Bt-Gt)*kn,Pn=Rt-(Rt-Ht)*kn,In=It-(It-qt)*kn,On=Mt-(Mt-zt)*kn}let un;Zt<kt?un=0:Zt>Ft?un=1:un=(kt-Zt)/(kt-Ft),Mn=Ut-(Ut-Gt)*un,mn=Wt-(Wt-Ht)*un,yn=tn-(tn-qt)*un,Vt=Lt-(Lt-zt)*un;const bn=Math.round(Math.min(Tn,Mn)),Rn=Math.round(Math.max(Tn,Mn));let Nn=xt*Zt+bn*4;for(let kn=bn;kn<=Rn;kn++)un=(Tn-kn)/(Tn-Mn),un<0?un=0:un>1&&(un=1),mt[Nn++]=Pn-(Pn-mn)*un|0,mt[Nn++]=In-(In-yn)*un|0,mt[Nn++]=On-(On-Vt)*un|0,mt[Nn++]=255}}function nt(at,ut,pt){const vt=ut.coords,ht=ut.colors;let yt,gt;switch(ut.type){case"lattice":const ft=ut.verticesPerRow,_t=Math.floor(vt.length/ft)-1,Et=ft-1;for(yt=0;yt<_t;yt++){let mt=yt*ft;for(let xt=0;xt<Et;xt++,mt++)tt(at,pt,vt[mt],vt[mt+1],vt[mt+ft],ht[mt],ht[mt+1],ht[mt+ft]),tt(at,pt,vt[mt+ft+1],vt[mt+1],vt[mt+ft],ht[mt+ft+1],ht[mt+1],ht[mt+ft])}break;case"triangles":for(yt=0,gt=vt.length;yt<gt;yt+=3)tt(at,pt,vt[yt],vt[yt+1],vt[yt+2],ht[yt],ht[yt+1],ht[yt+2]);break;default:throw new Error("illegal figure")}}class rt extends ${constructor(ut){super(),this._coords=ut[2],this._colors=ut[3],this._figures=ut[4],this._bounds=ut[5],this._bbox=ut[7],this._background=ut[8],this.matrix=null}_createMeshCanvas(ut,pt,vt){const ft=Math.floor(this._bounds[0]),_t=Math.floor(this._bounds[1]),Et=Math.ceil(this._bounds[2])-ft,mt=Math.ceil(this._bounds[3])-_t,xt=Math.min(Math.ceil(Math.abs(Et*ut[0]*1.1)),3e3),St=Math.min(Math.ceil(Math.abs(mt*ut[1]*1.1)),3e3),Ut=Et/xt,kt=mt/St,Bt={coords:this._coords,colors:this._colors,offsetX:-ft,offsetY:-_t,scaleX:1/Ut,scaleY:1/kt},$t=xt+2*2,Gt=St+2*2,Ft=vt.getCanvas("mesh",$t,Gt,!1),Wt=Ft.context,tn=Wt.createImageData(xt,St);if(pt){const Rt=tn.data;for(let It=0,Mt=Rt.length;It<Mt;It+=4)Rt[It]=pt[0],Rt[It+1]=pt[1],Rt[It+2]=pt[2],Rt[It+3]=255}for(const Rt of this._figures)nt(tn,Rt,Bt);return Wt.putImageData(tn,2,2),{canvas:Ft.canvas,offsetX:ft-2*Ut,offsetY:_t-2*kt,scaleX:Ut,scaleY:kt}}getPattern(ut,pt,vt,ht){j(ut,this._bbox);let yt;if(ht===_.SHADING)yt=h.Util.singularValueDecompose2dScale((0,g.getCurrentTransform)(ut));else if(yt=h.Util.singularValueDecompose2dScale(pt.baseTransform),this.matrix){const ft=h.Util.singularValueDecompose2dScale(this.matrix);yt=[yt[0]*ft[0],yt[1]*ft[1]]}const gt=this._createMeshCanvas(yt,ht===_.SHADING?null:this._background,pt.cachedCanvases);return ht!==_.SHADING&&(ut.setTransform(...pt.baseTransform),this.matrix&&ut.transform(...this.matrix)),ut.translate(gt.offsetX,gt.offsetY),ut.scale(gt.scaleX,gt.scaleY),ut.createPattern(gt.canvas,"no-repeat")}}class it extends ${getPattern(){return"hotpink"}}function st(at){switch(at[0]){case"RadialAxial":return new et(at);case"Mesh":return new rt(at);case"Dummy":return new it}throw new Error(`Unknown IR type: ${at[0]}`)}const ot={COLORED:1,UNCOLORED:2},dt=class dt{constructor(ut,pt,vt,ht,yt){this.operatorList=ut[2],this.matrix=ut[3]||[1,0,0,1,0,0],this.bbox=ut[4],this.xstep=ut[5],this.ystep=ut[6],this.paintType=ut[7],this.tilingType=ut[8],this.color=pt,this.ctx=vt,this.canvasGraphicsFactory=ht,this.baseTransform=yt}createPatternCanvas(ut){const pt=this.operatorList,vt=this.bbox,ht=this.xstep,yt=this.ystep,gt=this.paintType,ft=this.tilingType,_t=this.color,Et=this.canvasGraphicsFactory;(0,h.info)("TilingType: "+ft);const mt=vt[0],xt=vt[1],St=vt[2],Ut=vt[3],kt=h.Util.singularValueDecompose2dScale(this.matrix),Bt=h.Util.singularValueDecompose2dScale(this.baseTransform),$t=[kt[0]*Bt[0],kt[1]*Bt[1]],Gt=this.getSizeAndScale(ht,this.ctx.canvas.width,$t[0]),Ft=this.getSizeAndScale(yt,this.ctx.canvas.height,$t[1]),Wt=ut.cachedCanvases.getCanvas("pattern",Gt.size,Ft.size,!0),tn=Wt.context,Lt=Et.createCanvasGraphics(tn);Lt.groupLevel=ut.groupLevel,this.setFillAndStrokeStyleToContext(Lt,gt,_t);let Rt=mt,It=xt,Mt=St,Ht=Ut;return mt<0&&(Rt=0,Mt+=Math.abs(mt)),xt<0&&(It=0,Ht+=Math.abs(xt)),tn.translate(-(Gt.scale*Rt),-(Ft.scale*It)),Lt.transform(Gt.scale,0,0,Ft.scale,0,0),tn.save(),this.clipBbox(Lt,Rt,It,Mt,Ht),Lt.baseTransform=(0,g.getCurrentTransform)(Lt.ctx),Lt.executeOperatorList(pt),Lt.endDrawing(),{canvas:Wt.canvas,scaleX:Gt.scale,scaleY:Ft.scale,offsetX:Rt,offsetY:It}}getSizeAndScale(ut,pt,vt){ut=Math.abs(ut);const ht=Math.max(dt.MAX_PATTERN_SIZE,pt);let yt=Math.ceil(ut*vt);return yt>=ht?yt=ht:vt=yt/ut,{scale:vt,size:yt}}clipBbox(ut,pt,vt,ht,yt){const gt=ht-pt,ft=yt-vt;ut.ctx.rect(pt,vt,gt,ft),ut.current.updateRectMinMax((0,g.getCurrentTransform)(ut.ctx),[pt,vt,ht,yt]),ut.clip(),ut.endPath()}setFillAndStrokeStyleToContext(ut,pt,vt){const ht=ut.ctx,yt=ut.current;switch(pt){case ot.COLORED:const gt=this.ctx;ht.fillStyle=gt.fillStyle,ht.strokeStyle=gt.strokeStyle,yt.fillColor=gt.fillStyle,yt.strokeColor=gt.strokeStyle;break;case ot.UNCOLORED:const ft=h.Util.makeHexColor(vt[0],vt[1],vt[2]);ht.fillStyle=ft,ht.strokeStyle=ft,yt.fillColor=ft,yt.strokeColor=ft;break;default:throw new h.FormatError(`Unsupported paint type: ${pt}`)}}getPattern(ut,pt,vt,ht){let yt=vt;ht!==_.SHADING&&(yt=h.Util.transform(yt,pt.baseTransform),this.matrix&&(yt=h.Util.transform(yt,this.matrix)));const gt=this.createPatternCanvas(pt);let ft=new DOMMatrix(yt);ft=ft.translate(gt.offsetX,gt.offsetY),ft=ft.scale(1/gt.scaleX,1/gt.scaleY);const _t=ut.createPattern(gt.canvas,"repeat");return _t.setTransform(ft),_t}};lr(dt,"MAX_PATTERN_SIZE",3e3);let lt=dt;e.TilingPattern=lt},(s,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=_,e.convertToRGBA=g,e.grayToRGBA=$;var h=d(1);function g(et){switch(et.kind){case h.ImageKind.GRAYSCALE_1BPP:return _(et);case h.ImageKind.RGB_24BPP:return j(et)}return null}function _({src:et,srcPos:tt=0,dest:nt,width:rt,height:it,nonBlackColor:st=4294967295,inverseDecode:ot=!1}){const lt=h.FeatureTest.isLittleEndian?4278190080:255,[dt,at]=ot?[st,lt]:[lt,st],ut=rt>>3,pt=rt&7,vt=et.length;nt=new Uint32Array(nt.buffer);let ht=0;for(let yt=0;yt<it;yt++){for(const ft=tt+ut;tt<ft;tt++){const _t=tt<vt?et[tt]:255;nt[ht++]=_t&128?at:dt,nt[ht++]=_t&64?at:dt,nt[ht++]=_t&32?at:dt,nt[ht++]=_t&16?at:dt,nt[ht++]=_t&8?at:dt,nt[ht++]=_t&4?at:dt,nt[ht++]=_t&2?at:dt,nt[ht++]=_t&1?at:dt}if(pt===0)continue;const gt=tt<vt?et[tt++]:255;for(let ft=0;ft<pt;ft++)nt[ht++]=gt&1<<7-ft?at:dt}return{srcPos:tt,destPos:ht}}function j({src:et,srcPos:tt=0,dest:nt,destPos:rt=0,width:it,height:st}){let ot=0;const lt=et.length>>2,dt=new Uint32Array(et.buffer,tt,lt);if(h.FeatureTest.isLittleEndian){for(;ot<lt-2;ot+=3,rt+=4){const at=dt[ot],ut=dt[ot+1],pt=dt[ot+2];nt[rt]=at|4278190080,nt[rt+1]=at>>>24|ut<<8|4278190080,nt[rt+2]=ut>>>16|pt<<16|4278190080,nt[rt+3]=pt>>>8|4278190080}for(let at=ot*4,ut=et.length;at<ut;at+=3)nt[rt++]=et[at]|et[at+1]<<8|et[at+2]<<16|4278190080}else{for(;ot<lt-2;ot+=3,rt+=4){const at=dt[ot],ut=dt[ot+1],pt=dt[ot+2];nt[rt]=at|255,nt[rt+1]=at<<24|ut>>>8|255,nt[rt+2]=ut<<16|pt>>>16|255,nt[rt+3]=pt<<8|255}for(let at=ot*4,ut=et.length;at<ut;at+=3)nt[rt++]=et[at]<<24|et[at+1]<<16|et[at+2]<<8|255}return{srcPos:tt,destPos:rt}}function $(et,tt){if(h.FeatureTest.isLittleEndian)for(let nt=0,rt=et.length;nt<rt;nt++)tt[nt]=et[nt]*65793|4278190080;else for(let nt=0,rt=et.length;nt<rt;nt++)tt[nt]=et[nt]*16843008|255}},(s,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const d=Object.create(null);e.GlobalWorkerOptions=d,d.workerPort=null,d.workerSrc=""},(s,e,d)=>{var et,Nu,Lu,Ho;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var h=d(1);const g={UNKNOWN:0,DATA:1,ERROR:2},_={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function j(it){switch(it instanceof Error||typeof it=="object"&&it!==null||(0,h.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),it.name){case"AbortException":return new h.AbortException(it.message);case"MissingPDFException":return new h.MissingPDFException(it.message);case"PasswordException":return new h.PasswordException(it.message,it.code);case"UnexpectedResponseException":return new h.UnexpectedResponseException(it.message,it.status);case"UnknownErrorException":return new h.UnknownErrorException(it.message,it.details);default:return new h.UnknownErrorException(it.message,it.toString())}}class ${constructor(st,ot,lt){Sn(this,et);this.sourceName=st,this.targetName=ot,this.comObj=lt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=dt=>{const at=dt.data;if(at.targetName!==this.sourceName)return;if(at.stream){cn(this,et,Lu).call(this,at);return}if(at.callback){const pt=at.callbackId,vt=this.callbackCapabilities[pt];if(!vt)throw new Error(`Cannot resolve callback ${pt}`);if(delete this.callbackCapabilities[pt],at.callback===g.DATA)vt.resolve(at.data);else if(at.callback===g.ERROR)vt.reject(j(at.reason));else throw new Error("Unexpected callback case");return}const ut=this.actionHandler[at.action];if(!ut)throw new Error(`Unknown action from worker: ${at.action}`);if(at.callbackId){const pt=this.sourceName,vt=at.sourceName;new Promise(function(ht){ht(ut(at.data))}).then(function(ht){lt.postMessage({sourceName:pt,targetName:vt,callback:g.DATA,callbackId:at.callbackId,data:ht})},function(ht){lt.postMessage({sourceName:pt,targetName:vt,callback:g.ERROR,callbackId:at.callbackId,reason:j(ht)})});return}if(at.streamId){cn(this,et,Nu).call(this,at);return}ut(at.data)},lt.addEventListener("message",this._onComObjOnMessage)}on(st,ot){const lt=this.actionHandler;if(lt[st])throw new Error(`There is already an actionName called "${st}"`);lt[st]=ot}send(st,ot,lt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:st,data:ot},lt)}sendWithPromise(st,ot,lt){const dt=this.callbackId++,at=new h.PromiseCapability;this.callbackCapabilities[dt]=at;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:st,callbackId:dt,data:ot},lt)}catch(ut){at.reject(ut)}return at.promise}sendWithStream(st,ot,lt,dt){const at=this.streamId++,ut=this.sourceName,pt=this.targetName,vt=this.comObj;return new ReadableStream({start:ht=>{const yt=new h.PromiseCapability;return this.streamControllers[at]={controller:ht,startCall:yt,pullCall:null,cancelCall:null,isClosed:!1},vt.postMessage({sourceName:ut,targetName:pt,action:st,streamId:at,data:ot,desiredSize:ht.desiredSize},dt),yt.promise},pull:ht=>{const yt=new h.PromiseCapability;return this.streamControllers[at].pullCall=yt,vt.postMessage({sourceName:ut,targetName:pt,stream:_.PULL,streamId:at,desiredSize:ht.desiredSize}),yt.promise},cancel:ht=>{(0,h.assert)(ht instanceof Error,"cancel must have a valid reason");const yt=new h.PromiseCapability;return this.streamControllers[at].cancelCall=yt,this.streamControllers[at].isClosed=!0,vt.postMessage({sourceName:ut,targetName:pt,stream:_.CANCEL,streamId:at,reason:j(ht)}),yt.promise}},lt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}et=new WeakSet,Nu=function(st){const ot=st.streamId,lt=this.sourceName,dt=st.sourceName,at=this.comObj,ut=this,pt=this.actionHandler[st.action],vt={enqueue(ht,yt=1,gt){if(this.isCancelled)return;const ft=this.desiredSize;this.desiredSize-=yt,ft>0&&this.desiredSize<=0&&(this.sinkCapability=new h.PromiseCapability,this.ready=this.sinkCapability.promise),at.postMessage({sourceName:lt,targetName:dt,stream:_.ENQUEUE,streamId:ot,chunk:ht},gt)},close(){this.isCancelled||(this.isCancelled=!0,at.postMessage({sourceName:lt,targetName:dt,stream:_.CLOSE,streamId:ot}),delete ut.streamSinks[ot])},error(ht){(0,h.assert)(ht instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,at.postMessage({sourceName:lt,targetName:dt,stream:_.ERROR,streamId:ot,reason:j(ht)}))},sinkCapability:new h.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:st.desiredSize,ready:null};vt.sinkCapability.resolve(),vt.ready=vt.sinkCapability.promise,this.streamSinks[ot]=vt,new Promise(function(ht){ht(pt(st.data,vt))}).then(function(){at.postMessage({sourceName:lt,targetName:dt,stream:_.START_COMPLETE,streamId:ot,success:!0})},function(ht){at.postMessage({sourceName:lt,targetName:dt,stream:_.START_COMPLETE,streamId:ot,reason:j(ht)})})},Lu=function(st){const ot=st.streamId,lt=this.sourceName,dt=st.sourceName,at=this.comObj,ut=this.streamControllers[ot],pt=this.streamSinks[ot];switch(st.stream){case _.START_COMPLETE:st.success?ut.startCall.resolve():ut.startCall.reject(j(st.reason));break;case _.PULL_COMPLETE:st.success?ut.pullCall.resolve():ut.pullCall.reject(j(st.reason));break;case _.PULL:if(!pt){at.postMessage({sourceName:lt,targetName:dt,stream:_.PULL_COMPLETE,streamId:ot,success:!0});break}pt.desiredSize<=0&&st.desiredSize>0&&pt.sinkCapability.resolve(),pt.desiredSize=st.desiredSize,new Promise(function(vt){var ht;vt((ht=pt.onPull)==null?void 0:ht.call(pt))}).then(function(){at.postMessage({sourceName:lt,targetName:dt,stream:_.PULL_COMPLETE,streamId:ot,success:!0})},function(vt){at.postMessage({sourceName:lt,targetName:dt,stream:_.PULL_COMPLETE,streamId:ot,reason:j(vt)})});break;case _.ENQUEUE:if((0,h.assert)(ut,"enqueue should have stream controller"),ut.isClosed)break;ut.controller.enqueue(st.chunk);break;case _.CLOSE:if((0,h.assert)(ut,"close should have stream controller"),ut.isClosed)break;ut.isClosed=!0,ut.controller.close(),cn(this,et,Ho).call(this,ut,ot);break;case _.ERROR:(0,h.assert)(ut,"error should have stream controller"),ut.controller.error(j(st.reason)),cn(this,et,Ho).call(this,ut,ot);break;case _.CANCEL_COMPLETE:st.success?ut.cancelCall.resolve():ut.cancelCall.reject(j(st.reason)),cn(this,et,Ho).call(this,ut,ot);break;case _.CANCEL:if(!pt)break;new Promise(function(vt){var ht;vt((ht=pt.onCancel)==null?void 0:ht.call(pt,j(st.reason)))}).then(function(){at.postMessage({sourceName:lt,targetName:dt,stream:_.CANCEL_COMPLETE,streamId:ot,success:!0})},function(vt){at.postMessage({sourceName:lt,targetName:dt,stream:_.CANCEL_COMPLETE,streamId:ot,reason:j(vt)})}),pt.sinkCapability.reject(j(st.reason)),pt.isCancelled=!0,delete this.streamSinks[ot];break;default:throw new Error("Unexpected stream case")}},Ho=async function(st,ot){var lt,dt,at;await Promise.allSettled([(lt=st.startCall)==null?void 0:lt.promise,(dt=st.pullCall)==null?void 0:dt.promise,(at=st.cancelCall)==null?void 0:at.promise]),delete this.streamControllers[ot]},e.MessageHandler=$},(s,e,d)=>{var _,j;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var h=d(1);class g{constructor({parsedData:et,rawData:tt}){Sn(this,_);Sn(this,j);xn(this,_,et),xn(this,j,tt)}getRaw(){return Tt(this,j)}get(et){return Tt(this,_).get(et)??null}getAll(){return(0,h.objectFromMap)(Tt(this,_))}has(et){return Tt(this,_).has(et)}}_=new WeakMap,j=new WeakMap,e.Metadata=g},(s,e,d)=>{var et,tt,nt,rt,it,st,_c;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var h=d(1),g=d(8);const _=Symbol("INTERNAL");class j{constructor(dt,at){Sn(this,et,!0);this.name=dt,this.intent=at}get visible(){return Tt(this,et)}_setVisible(dt,at){dt!==_&&(0,h.unreachable)("Internal method `_setVisible` called."),xn(this,et,at)}}et=new WeakMap;class ${constructor(dt){Sn(this,st);Sn(this,tt,null);Sn(this,nt,new Map);Sn(this,rt,null);Sn(this,it,null);if(this.name=null,this.creator=null,dt!==null){this.name=dt.name,this.creator=dt.creator,xn(this,it,dt.order);for(const at of dt.groups)Tt(this,nt).set(at.id,new j(at.name,at.intent));if(dt.baseState==="OFF")for(const at of Tt(this,nt).values())at._setVisible(_,!1);for(const at of dt.on)Tt(this,nt).get(at)._setVisible(_,!0);for(const at of dt.off)Tt(this,nt).get(at)._setVisible(_,!1);xn(this,rt,this.getHash())}}isVisible(dt){if(Tt(this,nt).size===0)return!0;if(!dt)return(0,h.warn)("Optional content group not defined."),!0;if(dt.type==="OCG")return Tt(this,nt).has(dt.id)?Tt(this,nt).get(dt.id).visible:((0,h.warn)(`Optional content group not found: ${dt.id}`),!0);if(dt.type==="OCMD"){if(dt.expression)return cn(this,st,_c).call(this,dt.expression);if(!dt.policy||dt.policy==="AnyOn"){for(const at of dt.ids){if(!Tt(this,nt).has(at))return(0,h.warn)(`Optional content group not found: ${at}`),!0;if(Tt(this,nt).get(at).visible)return!0}return!1}else if(dt.policy==="AllOn"){for(const at of dt.ids){if(!Tt(this,nt).has(at))return(0,h.warn)(`Optional content group not found: ${at}`),!0;if(!Tt(this,nt).get(at).visible)return!1}return!0}else if(dt.policy==="AnyOff"){for(const at of dt.ids){if(!Tt(this,nt).has(at))return(0,h.warn)(`Optional content group not found: ${at}`),!0;if(!Tt(this,nt).get(at).visible)return!0}return!1}else if(dt.policy==="AllOff"){for(const at of dt.ids){if(!Tt(this,nt).has(at))return(0,h.warn)(`Optional content group not found: ${at}`),!0;if(Tt(this,nt).get(at).visible)return!1}return!0}return(0,h.warn)(`Unknown optional content policy ${dt.policy}.`),!0}return(0,h.warn)(`Unknown group type ${dt.type}.`),!0}setVisibility(dt,at=!0){if(!Tt(this,nt).has(dt)){(0,h.warn)(`Optional content group not found: ${dt}`);return}Tt(this,nt).get(dt)._setVisible(_,!!at),xn(this,tt,null)}get hasInitialVisibility(){return Tt(this,rt)===null||this.getHash()===Tt(this,rt)}getOrder(){return Tt(this,nt).size?Tt(this,it)?Tt(this,it).slice():[...Tt(this,nt).keys()]:null}getGroups(){return Tt(this,nt).size>0?(0,h.objectFromMap)(Tt(this,nt)):null}getGroup(dt){return Tt(this,nt).get(dt)||null}getHash(){if(Tt(this,tt)!==null)return Tt(this,tt);const dt=new g.MurmurHash3_64;for(const[at,ut]of Tt(this,nt))dt.update(`${at}:${ut.visible}`);return xn(this,tt,dt.hexdigest())}}tt=new WeakMap,nt=new WeakMap,rt=new WeakMap,it=new WeakMap,st=new WeakSet,_c=function(dt){const at=dt.length;if(at<2)return!0;const ut=dt[0];for(let pt=1;pt<at;pt++){const vt=dt[pt];let ht;if(Array.isArray(vt))ht=cn(this,st,_c).call(this,vt);else if(Tt(this,nt).has(vt))ht=Tt(this,nt).get(vt).visible;else return(0,h.warn)(`Optional content group not found: ${vt}`),!0;switch(ut){case"And":if(!ht)return!1;break;case"Or":if(ht)return!0;break;case"Not":return!ht;default:return!0}}return ut==="And"},e.OptionalContentConfig=$},(s,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var h=d(1),g=d(6);class _{constructor({length:tt,initialData:nt,progressiveDone:rt=!1,contentDispositionFilename:it=null,disableRange:st=!1,disableStream:ot=!1},lt){if((0,h.assert)(lt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=rt,this._contentDispositionFilename=it,(nt==null?void 0:nt.length)>0){const dt=nt instanceof Uint8Array&&nt.byteLength===nt.buffer.byteLength?nt.buffer:new Uint8Array(nt).buffer;this._queuedChunks.push(dt)}this._pdfDataRangeTransport=lt,this._isStreamingSupported=!ot,this._isRangeSupported=!st,this._contentLength=tt,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((dt,at)=>{this._onReceiveData({begin:dt,chunk:at})}),this._pdfDataRangeTransport.addProgressListener((dt,at)=>{this._onProgress({loaded:dt,total:at})}),this._pdfDataRangeTransport.addProgressiveReadListener(dt=>{this._onReceiveData({chunk:dt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:tt,chunk:nt}){const rt=nt instanceof Uint8Array&&nt.byteLength===nt.buffer.byteLength?nt.buffer:new Uint8Array(nt).buffer;if(tt===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(rt):this._queuedChunks.push(rt);else{const it=this._rangeReaders.some(function(st){return st._begin!==tt?!1:(st._enqueue(rt),!0)});(0,h.assert)(it,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var tt;return((tt=this._fullRequestReader)==null?void 0:tt._loaded)??0}_onProgress(tt){var nt,rt,it,st;tt.total===void 0?(rt=(nt=this._rangeReaders[0])==null?void 0:nt.onProgress)==null||rt.call(nt,{loaded:tt.loaded}):(st=(it=this._fullRequestReader)==null?void 0:it.onProgress)==null||st.call(it,{loaded:tt.loaded,total:tt.total})}_onProgressiveDone(){var tt;(tt=this._fullRequestReader)==null||tt.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(tt){const nt=this._rangeReaders.indexOf(tt);nt>=0&&this._rangeReaders.splice(nt,1)}getFullReader(){(0,h.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const tt=this._queuedChunks;return this._queuedChunks=null,new j(this,tt,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(tt,nt){if(nt<=this._progressiveDataLength)return null;const rt=new $(this,tt,nt);return this._pdfDataRangeTransport.requestDataRange(tt,nt),this._rangeReaders.push(rt),rt}cancelAllRequests(tt){var nt;(nt=this._fullRequestReader)==null||nt.cancel(tt);for(const rt of this._rangeReaders.slice(0))rt.cancel(tt);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=_;class j{constructor(tt,nt,rt=!1,it=null){this._stream=tt,this._done=rt||!1,this._filename=(0,g.isPdfFile)(it)?it:null,this._queuedChunks=nt||[],this._loaded=0;for(const st of this._queuedChunks)this._loaded+=st.byteLength;this._requests=[],this._headersReady=Promise.resolve(),tt._fullRequestReader=this,this.onProgress=null}_enqueue(tt){this._done||(this._requests.length>0?this._requests.shift().resolve({value:tt,done:!1}):this._queuedChunks.push(tt),this._loaded+=tt.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const tt=new h.PromiseCapability;return this._requests.push(tt),tt.promise}cancel(tt){this._done=!0;for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ${constructor(tt,nt,rt){this._stream=tt,this._begin=nt,this._end=rt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(tt){if(!this._done){if(this._requests.length===0)this._queuedChunk=tt;else{this._requests.shift().resolve({value:tt,done:!1});for(const rt of this._requests)rt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const nt=this._queuedChunk;return this._queuedChunk=null,{value:nt,done:!1}}if(this._done)return{value:void 0,done:!0};const tt=new h.PromiseCapability;return this._requests.push(tt),tt.promise}cancel(tt){this._done=!0;for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(s,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var h=d(1),g=d(20);function _(rt,it,st){return{method:"GET",headers:rt,signal:st.signal,mode:"cors",credentials:it?"include":"same-origin",redirect:"follow"}}function j(rt){const it=new Headers;for(const st in rt){const ot=rt[st];ot!==void 0&&it.append(st,ot)}return it}function $(rt){return rt instanceof Uint8Array?rt.buffer:rt instanceof ArrayBuffer?rt:((0,h.warn)(`getArrayBuffer - unexpected data format: ${rt}`),new Uint8Array(rt).buffer)}class et{constructor(it){this.source=it,this.isHttp=/^https?:/i.test(it.url),this.httpHeaders=this.isHttp&&it.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var it;return((it=this._fullRequestReader)==null?void 0:it._loaded)??0}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new tt(this),this._fullRequestReader}getRangeReader(it,st){if(st<=this._progressiveDataLength)return null;const ot=new nt(this,it,st);return this._rangeRequestReaders.push(ot),ot}cancelAllRequests(it){var st;(st=this._fullRequestReader)==null||st.cancel(it);for(const ot of this._rangeRequestReaders.slice(0))ot.cancel(it)}}e.PDFFetchStream=et;class tt{constructor(it){this._stream=it,this._reader=null,this._loaded=0,this._filename=null;const st=it.source;this._withCredentials=st.withCredentials||!1,this._contentLength=st.length,this._headersCapability=new h.PromiseCapability,this._disableRange=st.disableRange||!1,this._rangeChunkSize=st.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!st.disableStream,this._isRangeSupported=!st.disableRange,this._headers=j(this._stream.httpHeaders);const ot=st.url;fetch(ot,_(this._headers,this._withCredentials,this._abortController)).then(lt=>{if(!(0,g.validateResponseStatus)(lt.status))throw(0,g.createResponseStatusError)(lt.status,ot);this._reader=lt.body.getReader(),this._headersCapability.resolve();const dt=pt=>lt.headers.get(pt),{allowRangeRequests:at,suggestedLength:ut}=(0,g.validateRangeRequestCapabilities)({getResponseHeader:dt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=at,this._contentLength=ut||this._contentLength,this._filename=(0,g.extractFilenameFromHeader)(dt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new h.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ot;await this._headersCapability.promise;const{value:it,done:st}=await this._reader.read();return st?{value:it,done:st}:(this._loaded+=it.byteLength,(ot=this.onProgress)==null||ot.call(this,{loaded:this._loaded,total:this._contentLength}),{value:$(it),done:!1})}cancel(it){var st;(st=this._reader)==null||st.cancel(it),this._abortController.abort()}}class nt{constructor(it,st,ot){this._stream=it,this._reader=null,this._loaded=0;const lt=it.source;this._withCredentials=lt.withCredentials||!1,this._readCapability=new h.PromiseCapability,this._isStreamingSupported=!lt.disableStream,this._abortController=new AbortController,this._headers=j(this._stream.httpHeaders),this._headers.append("Range",`bytes=${st}-${ot-1}`);const dt=lt.url;fetch(dt,_(this._headers,this._withCredentials,this._abortController)).then(at=>{if(!(0,g.validateResponseStatus)(at.status))throw(0,g.createResponseStatusError)(at.status,dt);this._readCapability.resolve(),this._reader=at.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ot;await this._readCapability.promise;const{value:it,done:st}=await this._reader.read();return st?{value:it,done:st}:(this._loaded+=it.byteLength,(ot=this.onProgress)==null||ot.call(this,{loaded:this._loaded}),{value:$(it),done:!1})}cancel(it){var st;(st=this._reader)==null||st.cancel(it),this._abortController.abort()}}},(s,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=et,e.extractFilenameFromHeader=$,e.validateRangeRequestCapabilities=j,e.validateResponseStatus=tt;var h=d(1),g=d(21),_=d(6);function j({getResponseHeader:nt,isHttp:rt,rangeChunkSize:it,disableRange:st}){const ot={allowRangeRequests:!1,suggestedLength:void 0},lt=parseInt(nt("Content-Length"),10);return!Number.isInteger(lt)||(ot.suggestedLength=lt,lt<=2*it)||st||!rt||nt("Accept-Ranges")!=="bytes"||(nt("Content-Encoding")||"identity")!=="identity"||(ot.allowRangeRequests=!0),ot}function $(nt){const rt=nt("Content-Disposition");if(rt){let it=(0,g.getFilenameFromContentDispositionHeader)(rt);if(it.includes("%"))try{it=decodeURIComponent(it)}catch{}if((0,_.isPdfFile)(it))return it}return null}function et(nt,rt){return nt===404||nt===0&&rt.startsWith("file:")?new h.MissingPDFException('Missing PDF "'+rt+'".'):new h.UnexpectedResponseException(`Unexpected server response (${nt}) while retrieving PDF "${rt}".`,nt)}function tt(nt){return nt===200||nt===206}},(s,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=g;var h=d(1);function g(_){let j=!0,$=et("filename\\*","i").exec(_);if($){$=$[1];let lt=it($);return lt=unescape(lt),lt=st(lt),lt=ot(lt),nt(lt)}if($=rt(_),$){const lt=ot($);return nt(lt)}if($=et("filename","i").exec(_),$){$=$[1];let lt=it($);return lt=ot(lt),nt(lt)}function et(lt,dt){return new RegExp("(?:^|;)\\s*"+lt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',dt)}function tt(lt,dt){if(lt){if(!/^[\x00-\xFF]+$/.test(dt))return dt;try{const at=new TextDecoder(lt,{fatal:!0}),ut=(0,h.stringToBytes)(dt);dt=at.decode(ut),j=!1}catch{}}return dt}function nt(lt){return j&&/[\x80-\xff]/.test(lt)&&(lt=tt("utf-8",lt),j&&(lt=tt("iso-8859-1",lt))),lt}function rt(lt){const dt=[];let at;const ut=et("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(at=ut.exec(lt))!==null;){let[,vt,ht,yt]=at;if(vt=parseInt(vt,10),vt in dt){if(vt===0)break;continue}dt[vt]=[ht,yt]}const pt=[];for(let vt=0;vt<dt.length&&vt in dt;++vt){let[ht,yt]=dt[vt];yt=it(yt),ht&&(yt=unescape(yt),vt===0&&(yt=st(yt))),pt.push(yt)}return pt.join("")}function it(lt){if(lt.startsWith('"')){const dt=lt.slice(1).split('\\"');for(let at=0;at<dt.length;++at){const ut=dt[at].indexOf('"');ut!==-1&&(dt[at]=dt[at].slice(0,ut),dt.length=at+1),dt[at]=dt[at].replaceAll(/\\(.)/g,"$1")}lt=dt.join('"')}return lt}function st(lt){const dt=lt.indexOf("'");if(dt===-1)return lt;const at=lt.slice(0,dt),pt=lt.slice(dt+1).replace(/^[^']*'/,"");return tt(at,pt)}function ot(lt){return!lt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(lt)?lt:lt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(dt,at,ut,pt){if(ut==="q"||ut==="Q")return pt=pt.replaceAll("_"," "),pt=pt.replaceAll(/=([0-9a-fA-F]{2})/g,function(vt,ht){return String.fromCharCode(parseInt(ht,16))}),tt(at,pt);try{pt=atob(pt)}catch{}return tt(at,pt)})}return""}},(s,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var h=d(1),g=d(20);const _=200,j=206;function $(it){const st=it.response;return typeof st!="string"?st:(0,h.stringToBytes)(st).buffer}class et{constructor(st,ot={}){this.url=st,this.isHttp=/^https?:/i.test(st),this.httpHeaders=this.isHttp&&ot.httpHeaders||Object.create(null),this.withCredentials=ot.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(st,ot,lt){const dt={begin:st,end:ot};for(const at in lt)dt[at]=lt[at];return this.request(dt)}requestFull(st){return this.request(st)}request(st){const ot=new XMLHttpRequest,lt=this.currXhrId++,dt=this.pendingRequests[lt]={xhr:ot};ot.open("GET",this.url),ot.withCredentials=this.withCredentials;for(const at in this.httpHeaders){const ut=this.httpHeaders[at];ut!==void 0&&ot.setRequestHeader(at,ut)}return this.isHttp&&"begin"in st&&"end"in st?(ot.setRequestHeader("Range",`bytes=${st.begin}-${st.end-1}`),dt.expectedStatus=j):dt.expectedStatus=_,ot.responseType="arraybuffer",st.onError&&(ot.onerror=function(at){st.onError(ot.status)}),ot.onreadystatechange=this.onStateChange.bind(this,lt),ot.onprogress=this.onProgress.bind(this,lt),dt.onHeadersReceived=st.onHeadersReceived,dt.onDone=st.onDone,dt.onError=st.onError,dt.onProgress=st.onProgress,ot.send(null),lt}onProgress(st,ot){var dt;const lt=this.pendingRequests[st];lt&&((dt=lt.onProgress)==null||dt.call(lt,ot))}onStateChange(st,ot){var vt,ht,yt;const lt=this.pendingRequests[st];if(!lt)return;const dt=lt.xhr;if(dt.readyState>=2&&lt.onHeadersReceived&&(lt.onHeadersReceived(),delete lt.onHeadersReceived),dt.readyState!==4||!(st in this.pendingRequests))return;if(delete this.pendingRequests[st],dt.status===0&&this.isHttp){(vt=lt.onError)==null||vt.call(lt,dt.status);return}const at=dt.status||_;if(!(at===_&&lt.expectedStatus===j)&&at!==lt.expectedStatus){(ht=lt.onError)==null||ht.call(lt,dt.status);return}const pt=$(dt);if(at===j){const gt=dt.getResponseHeader("Content-Range"),ft=/bytes (\d+)-(\d+)\/(\d+)/.exec(gt);lt.onDone({begin:parseInt(ft[1],10),chunk:pt})}else pt?lt.onDone({begin:0,chunk:pt}):(yt=lt.onError)==null||yt.call(lt,dt.status)}getRequestXhr(st){return this.pendingRequests[st].xhr}isPendingRequest(st){return st in this.pendingRequests}abortRequest(st){const ot=this.pendingRequests[st].xhr;delete this.pendingRequests[st],ot.abort()}}class tt{constructor(st){this._source=st,this._manager=new et(st.url,{httpHeaders:st.httpHeaders,withCredentials:st.withCredentials}),this._rangeChunkSize=st.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(st){const ot=this._rangeRequestReaders.indexOf(st);ot>=0&&this._rangeRequestReaders.splice(ot,1)}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new nt(this._manager,this._source),this._fullRequestReader}getRangeReader(st,ot){const lt=new rt(this._manager,st,ot);return lt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(lt),lt}cancelAllRequests(st){var ot;(ot=this._fullRequestReader)==null||ot.cancel(st);for(const lt of this._rangeRequestReaders.slice(0))lt.cancel(st)}}e.PDFNetworkStream=tt;class nt{constructor(st,ot){this._manager=st;const lt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ot.url,this._fullRequestId=st.requestFull(lt),this._headersReceivedCapability=new h.PromiseCapability,this._disableRange=ot.disableRange||!1,this._contentLength=ot.length,this._rangeChunkSize=ot.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const st=this._fullRequestId,ot=this._manager.getRequestXhr(st),lt=ut=>ot.getResponseHeader(ut),{allowRangeRequests:dt,suggestedLength:at}=(0,g.validateRangeRequestCapabilities)({getResponseHeader:lt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});dt&&(this._isRangeSupported=!0),this._contentLength=at||this._contentLength,this._filename=(0,g.extractFilenameFromHeader)(lt),this._isRangeSupported&&this._manager.abortRequest(st),this._headersReceivedCapability.resolve()}_onDone(st){if(st&&(this._requests.length>0?this._requests.shift().resolve({value:st.chunk,done:!1}):this._cachedChunks.push(st.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ot of this._requests)ot.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(st){this._storedError=(0,g.createResponseStatusError)(st,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ot of this._requests)ot.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(st){var ot;(ot=this.onProgress)==null||ot.call(this,{loaded:st.loaded,total:st.lengthComputable?st.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const st=new h.PromiseCapability;return this._requests.push(st),st.promise}cancel(st){this._done=!0,this._headersReceivedCapability.reject(st);for(const ot of this._requests)ot.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class rt{constructor(st,ot,lt){this._manager=st;const dt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=st.url,this._requestId=st.requestRange(ot,lt,dt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var st;(st=this.onClosed)==null||st.call(this,this)}_onDone(st){const ot=st.chunk;this._requests.length>0?this._requests.shift().resolve({value:ot,done:!1}):this._queuedChunk=ot,this._done=!0;for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(st){this._storedError=(0,g.createResponseStatusError)(st,this._url);for(const ot of this._requests)ot.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(st){var ot;this.isStreamingSupported||(ot=this.onProgress)==null||ot.call(this,{loaded:st.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ot=this._queuedChunk;return this._queuedChunk=null,{value:ot,done:!1}}if(this._done)return{value:void 0,done:!0};const st=new h.PromiseCapability;return this._requests.push(st),st.promise}cancel(st){this._done=!0;for(const ot of this._requests)ot.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(s,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var h=d(1),g=d(20);const _=/^file:\/\/\/[a-zA-Z]:\//;function j(lt){const dt=require$$5,at=dt.parse(lt);return at.protocol==="file:"||at.host?at:/^[a-z]:[/\\]/i.test(lt)?dt.parse(`file:///${lt}`):(at.host||(at.protocol="file:"),at)}class ${constructor(dt){this.source=dt,this.url=j(dt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&dt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var dt;return((dt=this._fullRequestReader)==null?void 0:dt._loaded)??0}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new st(this):new rt(this),this._fullRequestReader}getRangeReader(dt,at){if(at<=this._progressiveDataLength)return null;const ut=this.isFsUrl?new ot(this,dt,at):new it(this,dt,at);return this._rangeRequestReaders.push(ut),ut}cancelAllRequests(dt){var at;(at=this._fullRequestReader)==null||at.cancel(dt);for(const ut of this._rangeRequestReaders.slice(0))ut.cancel(dt)}}e.PDFNodeStream=$;class et{constructor(dt){this._url=dt.url,this._done=!1,this._storedError=null,this.onProgress=null;const at=dt.source;this._contentLength=at.length,this._loaded=0,this._filename=null,this._disableRange=at.disableRange||!1,this._rangeChunkSize=at.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!at.disableStream,this._isRangeSupported=!at.disableRange,this._readableStream=null,this._readCapability=new h.PromiseCapability,this._headersCapability=new h.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ut;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const dt=this._readableStream.read();return dt===null?(this._readCapability=new h.PromiseCapability,this.read()):(this._loaded+=dt.length,(ut=this.onProgress)==null||ut.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(dt).buffer,done:!1})}cancel(dt){if(!this._readableStream){this._error(dt);return}this._readableStream.destroy(dt)}_error(dt){this._storedError=dt,this._readCapability.resolve()}_setReadableStream(dt){this._readableStream=dt,dt.on("readable",()=>{this._readCapability.resolve()}),dt.on("end",()=>{dt.destroy(),this._done=!0,this._readCapability.resolve()}),dt.on("error",at=>{this._error(at)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new h.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class tt{constructor(dt){this._url=dt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new h.PromiseCapability;const at=dt.source;this._isStreamingSupported=!at.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ut;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const dt=this._readableStream.read();return dt===null?(this._readCapability=new h.PromiseCapability,this.read()):(this._loaded+=dt.length,(ut=this.onProgress)==null||ut.call(this,{loaded:this._loaded}),{value:new Uint8Array(dt).buffer,done:!1})}cancel(dt){if(!this._readableStream){this._error(dt);return}this._readableStream.destroy(dt)}_error(dt){this._storedError=dt,this._readCapability.resolve()}_setReadableStream(dt){this._readableStream=dt,dt.on("readable",()=>{this._readCapability.resolve()}),dt.on("end",()=>{dt.destroy(),this._done=!0,this._readCapability.resolve()}),dt.on("error",at=>{this._error(at)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function nt(lt,dt){return{protocol:lt.protocol,auth:lt.auth,host:lt.hostname,port:lt.port,path:lt.path,method:"GET",headers:dt}}class rt extends et{constructor(dt){super(dt);const at=ut=>{if(ut.statusCode===404){const yt=new h.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=yt,this._headersCapability.reject(yt);return}this._headersCapability.resolve(),this._setReadableStream(ut);const pt=yt=>this._readableStream.headers[yt.toLowerCase()],{allowRangeRequests:vt,suggestedLength:ht}=(0,g.validateRangeRequestCapabilities)({getResponseHeader:pt,isHttp:dt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=vt,this._contentLength=ht||this._contentLength,this._filename=(0,g.extractFilenameFromHeader)(pt)};if(this._request=null,this._url.protocol==="http:"){const ut=require$$5;this._request=ut.request(nt(this._url,dt.httpHeaders),at)}else{const ut=require$$5;this._request=ut.request(nt(this._url,dt.httpHeaders),at)}this._request.on("error",ut=>{this._storedError=ut,this._headersCapability.reject(ut)}),this._request.end()}}class it extends tt{constructor(dt,at,ut){super(dt),this._httpHeaders={};for(const vt in dt.httpHeaders){const ht=dt.httpHeaders[vt];ht!==void 0&&(this._httpHeaders[vt]=ht)}this._httpHeaders.Range=`bytes=${at}-${ut-1}`;const pt=vt=>{if(vt.statusCode===404){const ht=new h.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ht;return}this._setReadableStream(vt)};if(this._request=null,this._url.protocol==="http:"){const vt=require$$5;this._request=vt.request(nt(this._url,this._httpHeaders),pt)}else{const vt=require$$5;this._request=vt.request(nt(this._url,this._httpHeaders),pt)}this._request.on("error",vt=>{this._storedError=vt}),this._request.end()}}class st extends et{constructor(dt){super(dt);let at=decodeURIComponent(this._url.path);_.test(this._url.href)&&(at=at.replace(/^\//,""));const ut=require$$5;ut.lstat(at,(pt,vt)=>{if(pt){pt.code==="ENOENT"&&(pt=new h.MissingPDFException(`Missing PDF "${at}".`)),this._storedError=pt,this._headersCapability.reject(pt);return}this._contentLength=vt.size,this._setReadableStream(ut.createReadStream(at)),this._headersCapability.resolve()})}}class ot extends tt{constructor(dt,at,ut){super(dt);let pt=decodeURIComponent(this._url.path);_.test(this._url.href)&&(pt=pt.replace(/^\//,""));const vt=require$$5;this._setReadableStream(vt.createReadStream(pt,{start:at,end:ut-1}))}}},(s,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var h=d(6),g=d(1);const _={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},j="http://www.w3.org/XML/1998/namespace",$="http://www.w3.org/1999/xlink",et=["butt","round","square"],tt=["miter","round","bevel"],nt=function(vt,ht="",yt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!yt)return URL.createObjectURL(new Blob([vt],{type:ht}));const gt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let ft=`data:${ht};base64,`;for(let _t=0,Et=vt.length;_t<Et;_t+=3){const mt=vt[_t]&255,xt=vt[_t+1]&255,St=vt[_t+2]&255,Ut=mt>>2,kt=(mt&3)<<4|xt>>4,Bt=_t+1<Et?(xt&15)<<2|St>>6:64,$t=_t+2<Et?St&63:64;ft+=gt[Ut]+gt[kt]+gt[Bt]+gt[$t]}return ft},rt=function(){const vt=new Uint8Array([137,80,78,71,13,10,26,10]),ht=12,yt=new Int32Array(256);for(let St=0;St<256;St++){let Ut=St;for(let kt=0;kt<8;kt++)Ut=Ut&1?3988292384^Ut>>1&2147483647:Ut>>1&2147483647;yt[St]=Ut}function gt(St,Ut,kt){let Bt=-1;for(let $t=Ut;$t<kt;$t++){const Gt=(Bt^St[$t])&255,Ft=yt[Gt];Bt=Bt>>>8^Ft}return Bt^-1}function ft(St,Ut,kt,Bt){let $t=Bt;const Gt=Ut.length;kt[$t]=Gt>>24&255,kt[$t+1]=Gt>>16&255,kt[$t+2]=Gt>>8&255,kt[$t+3]=Gt&255,$t+=4,kt[$t]=St.charCodeAt(0)&255,kt[$t+1]=St.charCodeAt(1)&255,kt[$t+2]=St.charCodeAt(2)&255,kt[$t+3]=St.charCodeAt(3)&255,$t+=4,kt.set(Ut,$t),$t+=Ut.length;const Ft=gt(kt,Bt+4,$t);kt[$t]=Ft>>24&255,kt[$t+1]=Ft>>16&255,kt[$t+2]=Ft>>8&255,kt[$t+3]=Ft&255}function _t(St,Ut,kt){let Bt=1,$t=0;for(let Gt=Ut;Gt<kt;++Gt)Bt=(Bt+(St[Gt]&255))%65521,$t=($t+Bt)%65521;return $t<<16|Bt}function Et(St){if(!g.isNodeJS)return mt(St);try{const Ut=parseInt(process.versions.node)>=8?St:Buffer.from(St),kt=require$$5.deflateSync(Ut,{level:9});return kt instanceof Uint8Array?kt:new Uint8Array(kt)}catch(Ut){(0,g.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Ut)}return mt(St)}function mt(St){let Ut=St.length;const kt=65535,Bt=Math.ceil(Ut/kt),$t=new Uint8Array(2+Ut+Bt*5+4);let Gt=0;$t[Gt++]=120,$t[Gt++]=156;let Ft=0;for(;Ut>kt;)$t[Gt++]=0,$t[Gt++]=255,$t[Gt++]=255,$t[Gt++]=0,$t[Gt++]=0,$t.set(St.subarray(Ft,Ft+kt),Gt),Gt+=kt,Ft+=kt,Ut-=kt;$t[Gt++]=1,$t[Gt++]=Ut&255,$t[Gt++]=Ut>>8&255,$t[Gt++]=~Ut&65535&255,$t[Gt++]=(~Ut&65535)>>8&255,$t.set(St.subarray(Ft),Gt),Gt+=St.length-Ft;const Wt=_t(St,0,St.length);return $t[Gt++]=Wt>>24&255,$t[Gt++]=Wt>>16&255,$t[Gt++]=Wt>>8&255,$t[Gt++]=Wt&255,$t}function xt(St,Ut,kt,Bt){const $t=St.width,Gt=St.height;let Ft,Wt,tn;const Lt=St.data;switch(Ut){case g.ImageKind.GRAYSCALE_1BPP:Wt=0,Ft=1,tn=$t+7>>3;break;case g.ImageKind.RGB_24BPP:Wt=2,Ft=8,tn=$t*3;break;case g.ImageKind.RGBA_32BPP:Wt=6,Ft=8,tn=$t*4;break;default:throw new Error("invalid format")}const Rt=new Uint8Array((1+tn)*Gt);let It=0,Mt=0;for(let Tn=0;Tn<Gt;++Tn)Rt[It++]=0,Rt.set(Lt.subarray(Mt,Mt+tn),It),Mt+=tn,It+=tn;if(Ut===g.ImageKind.GRAYSCALE_1BPP&&Bt){It=0;for(let Tn=0;Tn<Gt;Tn++){It++;for(let Pn=0;Pn<tn;Pn++)Rt[It++]^=255}}const Ht=new Uint8Array([$t>>24&255,$t>>16&255,$t>>8&255,$t&255,Gt>>24&255,Gt>>16&255,Gt>>8&255,Gt&255,Ft,Wt,0,0,0]),qt=Et(Rt),zt=vt.length+ht*3+Ht.length+qt.length,an=new Uint8Array(zt);let vn=0;return an.set(vt,vn),vn+=vt.length,ft("IHDR",Ht,an,vn),vn+=ht+Ht.length,ft("IDATA",qt,an,vn),vn+=ht+qt.length,ft("IEND",new Uint8Array(0),an,vn),nt(an,"image/png",kt)}return function(Ut,kt,Bt){const $t=Ut.kind===void 0?g.ImageKind.GRAYSCALE_1BPP:Ut.kind;return xt(Ut,$t,kt,Bt)}}();class it{constructor(){this.fontSizeScale=1,this.fontWeight=_.fontWeight,this.fontSize=0,this.textMatrix=g.IDENTITY_MATRIX,this.fontMatrix=g.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=g.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=_.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ht,yt){this.x=ht,this.y=yt}}function st(vt){let ht=[];const yt=[];for(const gt of vt){if(gt.fn==="save"){ht.push({fnId:92,fn:"group",items:[]}),yt.push(ht),ht=ht.at(-1).items;continue}gt.fn==="restore"?ht=yt.pop():ht.push(gt)}return ht}function ot(vt){if(Number.isInteger(vt))return vt.toString();const ht=vt.toFixed(10);let yt=ht.length-1;if(ht[yt]!=="0")return ht;do yt--;while(ht[yt]==="0");return ht.substring(0,ht[yt]==="."?yt:yt+1)}function lt(vt){if(vt[4]===0&&vt[5]===0){if(vt[1]===0&&vt[2]===0)return vt[0]===1&&vt[3]===1?"":`scale(${ot(vt[0])} ${ot(vt[3])})`;if(vt[0]===vt[3]&&vt[1]===-vt[2]){const ht=Math.acos(vt[0])*180/Math.PI;return`rotate(${ot(ht)})`}}else if(vt[0]===1&&vt[1]===0&&vt[2]===0&&vt[3]===1)return`translate(${ot(vt[4])} ${ot(vt[5])})`;return`matrix(${ot(vt[0])} ${ot(vt[1])} ${ot(vt[2])} ${ot(vt[3])} ${ot(vt[4])} ${ot(vt[5])})`}let dt=0,at=0,ut=0;class pt{constructor(ht,yt,gt=!1){(0,h.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new h.DOMSVGFactory,this.current=new it,this.transformMatrix=g.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ht,this.objs=yt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!gt,this._operatorIdMapping=[];for(const ft in g.OPS)this._operatorIdMapping[g.OPS[ft]]=ft}getObject(ht,yt=null){return typeof ht=="string"?ht.startsWith("g_")?this.commonObjs.get(ht):this.objs.get(ht):yt}save(){this.transformStack.push(this.transformMatrix);const ht=this.current;this.extraStack.push(ht),this.current=ht.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ht){this.save(),this.executeOpTree(ht),this.restore()}loadDependencies(ht){const yt=ht.fnArray,gt=ht.argsArray;for(let ft=0,_t=yt.length;ft<_t;ft++)if(yt[ft]===g.OPS.dependency)for(const Et of gt[ft]){const mt=Et.startsWith("g_")?this.commonObjs:this.objs,xt=new Promise(St=>{mt.get(Et,St)});this.current.dependencies.push(xt)}return Promise.all(this.current.dependencies)}transform(ht,yt,gt,ft,_t,Et){const mt=[ht,yt,gt,ft,_t,Et];this.transformMatrix=g.Util.transform(this.transformMatrix,mt),this.tgrp=null}getSVG(ht,yt){this.viewport=yt;const gt=this._initialize(yt);return this.loadDependencies(ht).then(()=>(this.transformMatrix=g.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ht)),gt))}convertOpList(ht){const yt=this._operatorIdMapping,gt=ht.argsArray,ft=ht.fnArray,_t=[];for(let Et=0,mt=ft.length;Et<mt;Et++){const xt=ft[Et];_t.push({fnId:xt,fn:yt[xt],args:gt[Et]})}return st(_t)}executeOpTree(ht){for(const yt of ht){const gt=yt.fn,ft=yt.fnId,_t=yt.args;switch(ft|0){case g.OPS.beginText:this.beginText();break;case g.OPS.dependency:break;case g.OPS.setLeading:this.setLeading(_t);break;case g.OPS.setLeadingMoveText:this.setLeadingMoveText(_t[0],_t[1]);break;case g.OPS.setFont:this.setFont(_t);break;case g.OPS.showText:this.showText(_t[0]);break;case g.OPS.showSpacedText:this.showText(_t[0]);break;case g.OPS.endText:this.endText();break;case g.OPS.moveText:this.moveText(_t[0],_t[1]);break;case g.OPS.setCharSpacing:this.setCharSpacing(_t[0]);break;case g.OPS.setWordSpacing:this.setWordSpacing(_t[0]);break;case g.OPS.setHScale:this.setHScale(_t[0]);break;case g.OPS.setTextMatrix:this.setTextMatrix(_t[0],_t[1],_t[2],_t[3],_t[4],_t[5]);break;case g.OPS.setTextRise:this.setTextRise(_t[0]);break;case g.OPS.setTextRenderingMode:this.setTextRenderingMode(_t[0]);break;case g.OPS.setLineWidth:this.setLineWidth(_t[0]);break;case g.OPS.setLineJoin:this.setLineJoin(_t[0]);break;case g.OPS.setLineCap:this.setLineCap(_t[0]);break;case g.OPS.setMiterLimit:this.setMiterLimit(_t[0]);break;case g.OPS.setFillRGBColor:this.setFillRGBColor(_t[0],_t[1],_t[2]);break;case g.OPS.setStrokeRGBColor:this.setStrokeRGBColor(_t[0],_t[1],_t[2]);break;case g.OPS.setStrokeColorN:this.setStrokeColorN(_t);break;case g.OPS.setFillColorN:this.setFillColorN(_t);break;case g.OPS.shadingFill:this.shadingFill(_t[0]);break;case g.OPS.setDash:this.setDash(_t[0],_t[1]);break;case g.OPS.setRenderingIntent:this.setRenderingIntent(_t[0]);break;case g.OPS.setFlatness:this.setFlatness(_t[0]);break;case g.OPS.setGState:this.setGState(_t[0]);break;case g.OPS.fill:this.fill();break;case g.OPS.eoFill:this.eoFill();break;case g.OPS.stroke:this.stroke();break;case g.OPS.fillStroke:this.fillStroke();break;case g.OPS.eoFillStroke:this.eoFillStroke();break;case g.OPS.clip:this.clip("nonzero");break;case g.OPS.eoClip:this.clip("evenodd");break;case g.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case g.OPS.paintImageXObject:this.paintImageXObject(_t[0]);break;case g.OPS.paintInlineImageXObject:this.paintInlineImageXObject(_t[0]);break;case g.OPS.paintImageMaskXObject:this.paintImageMaskXObject(_t[0]);break;case g.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(_t[0],_t[1]);break;case g.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case g.OPS.closePath:this.closePath();break;case g.OPS.closeStroke:this.closeStroke();break;case g.OPS.closeFillStroke:this.closeFillStroke();break;case g.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case g.OPS.nextLine:this.nextLine();break;case g.OPS.transform:this.transform(_t[0],_t[1],_t[2],_t[3],_t[4],_t[5]);break;case g.OPS.constructPath:this.constructPath(_t[0],_t[1]);break;case g.OPS.endPath:this.endPath();break;case 92:this.group(yt.items);break;default:(0,g.warn)(`Unimplemented operator ${gt}`);break}}}setWordSpacing(ht){this.current.wordSpacing=ht}setCharSpacing(ht){this.current.charSpacing=ht}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ht,yt,gt,ft,_t,Et){const mt=this.current;mt.textMatrix=mt.lineMatrix=[ht,yt,gt,ft,_t,Et],mt.textMatrixScale=Math.hypot(ht,yt),mt.x=mt.lineX=0,mt.y=mt.lineY=0,mt.xcoords=[],mt.ycoords=[],mt.tspan=this.svgFactory.createElement("svg:tspan"),mt.tspan.setAttributeNS(null,"font-family",mt.fontFamily),mt.tspan.setAttributeNS(null,"font-size",`${ot(mt.fontSize)}px`),mt.tspan.setAttributeNS(null,"y",ot(-mt.y)),mt.txtElement=this.svgFactory.createElement("svg:text"),mt.txtElement.append(mt.tspan)}beginText(){const ht=this.current;ht.x=ht.lineX=0,ht.y=ht.lineY=0,ht.textMatrix=g.IDENTITY_MATRIX,ht.lineMatrix=g.IDENTITY_MATRIX,ht.textMatrixScale=1,ht.tspan=this.svgFactory.createElement("svg:tspan"),ht.txtElement=this.svgFactory.createElement("svg:text"),ht.txtgrp=this.svgFactory.createElement("svg:g"),ht.xcoords=[],ht.ycoords=[]}moveText(ht,yt){const gt=this.current;gt.x=gt.lineX+=ht,gt.y=gt.lineY+=yt,gt.xcoords=[],gt.ycoords=[],gt.tspan=this.svgFactory.createElement("svg:tspan"),gt.tspan.setAttributeNS(null,"font-family",gt.fontFamily),gt.tspan.setAttributeNS(null,"font-size",`${ot(gt.fontSize)}px`),gt.tspan.setAttributeNS(null,"y",ot(-gt.y))}showText(ht){const yt=this.current,gt=yt.font,ft=yt.fontSize;if(ft===0)return;const _t=yt.fontSizeScale,Et=yt.charSpacing,mt=yt.wordSpacing,xt=yt.fontDirection,St=yt.textHScale*xt,Ut=gt.vertical,kt=Ut?1:-1,Bt=gt.defaultVMetrics,$t=ft*yt.fontMatrix[0];let Gt=0;for(const tn of ht){if(tn===null){Gt+=xt*mt;continue}else if(typeof tn=="number"){Gt+=kt*tn*ft/1e3;continue}const Lt=(tn.isSpace?mt:0)+Et,Rt=tn.fontChar;let It,Mt,Ht=tn.width;if(Ut){let zt;const an=tn.vmetric||Bt;zt=tn.vmetric?an[1]:Ht*.5,zt=-zt*$t;const vn=an[2]*$t;Ht=an?-an[0]:Ht,It=zt/_t,Mt=(Gt+vn)/_t}else It=Gt/_t,Mt=0;(tn.isInFont||gt.missingFile)&&(yt.xcoords.push(yt.x+It),Ut&&yt.ycoords.push(-yt.y+Mt),yt.tspan.textContent+=Rt);const qt=Ut?Ht*$t-Lt*xt:Ht*$t+Lt*xt;Gt+=qt}yt.tspan.setAttributeNS(null,"x",yt.xcoords.map(ot).join(" ")),Ut?yt.tspan.setAttributeNS(null,"y",yt.ycoords.map(ot).join(" ")):yt.tspan.setAttributeNS(null,"y",ot(-yt.y)),Ut?yt.y-=Gt:yt.x+=Gt*St,yt.tspan.setAttributeNS(null,"font-family",yt.fontFamily),yt.tspan.setAttributeNS(null,"font-size",`${ot(yt.fontSize)}px`),yt.fontStyle!==_.fontStyle&&yt.tspan.setAttributeNS(null,"font-style",yt.fontStyle),yt.fontWeight!==_.fontWeight&&yt.tspan.setAttributeNS(null,"font-weight",yt.fontWeight);const Ft=yt.textRenderingMode&g.TextRenderingMode.FILL_STROKE_MASK;if(Ft===g.TextRenderingMode.FILL||Ft===g.TextRenderingMode.FILL_STROKE?(yt.fillColor!==_.fillColor&&yt.tspan.setAttributeNS(null,"fill",yt.fillColor),yt.fillAlpha<1&&yt.tspan.setAttributeNS(null,"fill-opacity",yt.fillAlpha)):yt.textRenderingMode===g.TextRenderingMode.ADD_TO_PATH?yt.tspan.setAttributeNS(null,"fill","transparent"):yt.tspan.setAttributeNS(null,"fill","none"),Ft===g.TextRenderingMode.STROKE||Ft===g.TextRenderingMode.FILL_STROKE){const tn=1/(yt.textMatrixScale||1);this._setStrokeAttributes(yt.tspan,tn)}let Wt=yt.textMatrix;yt.textRise!==0&&(Wt=Wt.slice(),Wt[5]+=yt.textRise),yt.txtElement.setAttributeNS(null,"transform",`${lt(Wt)} scale(${ot(St)}, -1)`),yt.txtElement.setAttributeNS(j,"xml:space","preserve"),yt.txtElement.append(yt.tspan),yt.txtgrp.append(yt.txtElement),this._ensureTransformGroup().append(yt.txtElement)}setLeadingMoveText(ht,yt){this.setLeading(-yt),this.moveText(ht,yt)}addFontStyle(ht){if(!ht.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const yt=nt(ht.data,ht.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ht.loadedName}"; src: url(${yt}); }
`}setFont(ht){const yt=this.current,gt=this.commonObjs.get(ht[0]);let ft=ht[1];yt.font=gt,this.embedFonts&&!gt.missingFile&&!this.embeddedFonts[gt.loadedName]&&(this.addFontStyle(gt),this.embeddedFonts[gt.loadedName]=gt),yt.fontMatrix=gt.fontMatrix||g.FONT_IDENTITY_MATRIX;let _t="normal";gt.black?_t="900":gt.bold&&(_t="bold");const Et=gt.italic?"italic":"normal";ft<0?(ft=-ft,yt.fontDirection=-1):yt.fontDirection=1,yt.fontSize=ft,yt.fontFamily=gt.loadedName,yt.fontWeight=_t,yt.fontStyle=Et,yt.tspan=this.svgFactory.createElement("svg:tspan"),yt.tspan.setAttributeNS(null,"y",ot(-yt.y)),yt.xcoords=[],yt.ycoords=[]}endText(){var yt;const ht=this.current;ht.textRenderingMode&g.TextRenderingMode.ADD_TO_PATH_FLAG&&((yt=ht.txtElement)!=null&&yt.hasChildNodes())&&(ht.element=ht.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ht){ht>0&&(this.current.lineWidth=ht)}setLineCap(ht){this.current.lineCap=et[ht]}setLineJoin(ht){this.current.lineJoin=tt[ht]}setMiterLimit(ht){this.current.miterLimit=ht}setStrokeAlpha(ht){this.current.strokeAlpha=ht}setStrokeRGBColor(ht,yt,gt){this.current.strokeColor=g.Util.makeHexColor(ht,yt,gt)}setFillAlpha(ht){this.current.fillAlpha=ht}setFillRGBColor(ht,yt,gt){this.current.fillColor=g.Util.makeHexColor(ht,yt,gt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ht){this.current.strokeColor=this._makeColorN_Pattern(ht)}setFillColorN(ht){this.current.fillColor=this._makeColorN_Pattern(ht)}shadingFill(ht){const{width:yt,height:gt}=this.viewport,ft=g.Util.inverseTransform(this.transformMatrix),[_t,Et,mt,xt]=g.Util.getAxialAlignedBoundingBox([0,0,yt,gt],ft),St=this.svgFactory.createElement("svg:rect");St.setAttributeNS(null,"x",_t),St.setAttributeNS(null,"y",Et),St.setAttributeNS(null,"width",mt-_t),St.setAttributeNS(null,"height",xt-Et),St.setAttributeNS(null,"fill",this._makeShadingPattern(ht)),this.current.fillAlpha<1&&St.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(St)}_makeColorN_Pattern(ht){return ht[0]==="TilingPattern"?this._makeTilingPattern(ht):this._makeShadingPattern(ht)}_makeTilingPattern(ht){const yt=ht[1],gt=ht[2],ft=ht[3]||g.IDENTITY_MATRIX,[_t,Et,mt,xt]=ht[4],St=ht[5],Ut=ht[6],kt=ht[7],Bt=`shading${ut++}`,[$t,Gt,Ft,Wt]=g.Util.normalizeRect([...g.Util.applyTransform([_t,Et],ft),...g.Util.applyTransform([mt,xt],ft)]),[tn,Lt]=g.Util.singularValueDecompose2dScale(ft),Rt=St*tn,It=Ut*Lt,Mt=this.svgFactory.createElement("svg:pattern");Mt.setAttributeNS(null,"id",Bt),Mt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Mt.setAttributeNS(null,"width",Rt),Mt.setAttributeNS(null,"height",It),Mt.setAttributeNS(null,"x",`${$t}`),Mt.setAttributeNS(null,"y",`${Gt}`);const Ht=this.svg,qt=this.transformMatrix,zt=this.current.fillColor,an=this.current.strokeColor,vn=this.svgFactory.create(Ft-$t,Wt-Gt);if(this.svg=vn,this.transformMatrix=ft,kt===2){const Tn=g.Util.makeHexColor(...yt);this.current.fillColor=Tn,this.current.strokeColor=Tn}return this.executeOpTree(this.convertOpList(gt)),this.svg=Ht,this.transformMatrix=qt,this.current.fillColor=zt,this.current.strokeColor=an,Mt.append(vn.childNodes[0]),this.defs.append(Mt),`url(#${Bt})`}_makeShadingPattern(ht){switch(typeof ht=="string"&&(ht=this.objs.get(ht)),ht[0]){case"RadialAxial":const yt=`shading${ut++}`,gt=ht[3];let ft;switch(ht[1]){case"axial":const _t=ht[4],Et=ht[5];ft=this.svgFactory.createElement("svg:linearGradient"),ft.setAttributeNS(null,"id",yt),ft.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ft.setAttributeNS(null,"x1",_t[0]),ft.setAttributeNS(null,"y1",_t[1]),ft.setAttributeNS(null,"x2",Et[0]),ft.setAttributeNS(null,"y2",Et[1]);break;case"radial":const mt=ht[4],xt=ht[5],St=ht[6],Ut=ht[7];ft=this.svgFactory.createElement("svg:radialGradient"),ft.setAttributeNS(null,"id",yt),ft.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ft.setAttributeNS(null,"cx",xt[0]),ft.setAttributeNS(null,"cy",xt[1]),ft.setAttributeNS(null,"r",Ut),ft.setAttributeNS(null,"fx",mt[0]),ft.setAttributeNS(null,"fy",mt[1]),ft.setAttributeNS(null,"fr",St);break;default:throw new Error(`Unknown RadialAxial type: ${ht[1]}`)}for(const _t of gt){const Et=this.svgFactory.createElement("svg:stop");Et.setAttributeNS(null,"offset",_t[0]),Et.setAttributeNS(null,"stop-color",_t[1]),ft.append(Et)}return this.defs.append(ft),`url(#${yt})`;case"Mesh":return(0,g.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ht[0]}`)}}setDash(ht,yt){this.current.dashArray=ht,this.current.dashPhase=yt}constructPath(ht,yt){const gt=this.current;let ft=gt.x,_t=gt.y,Et=[],mt=0;for(const xt of ht)switch(xt|0){case g.OPS.rectangle:ft=yt[mt++],_t=yt[mt++];const St=yt[mt++],Ut=yt[mt++],kt=ft+St,Bt=_t+Ut;Et.push("M",ot(ft),ot(_t),"L",ot(kt),ot(_t),"L",ot(kt),ot(Bt),"L",ot(ft),ot(Bt),"Z");break;case g.OPS.moveTo:ft=yt[mt++],_t=yt[mt++],Et.push("M",ot(ft),ot(_t));break;case g.OPS.lineTo:ft=yt[mt++],_t=yt[mt++],Et.push("L",ot(ft),ot(_t));break;case g.OPS.curveTo:ft=yt[mt+4],_t=yt[mt+5],Et.push("C",ot(yt[mt]),ot(yt[mt+1]),ot(yt[mt+2]),ot(yt[mt+3]),ot(ft),ot(_t)),mt+=6;break;case g.OPS.curveTo2:Et.push("C",ot(ft),ot(_t),ot(yt[mt]),ot(yt[mt+1]),ot(yt[mt+2]),ot(yt[mt+3])),ft=yt[mt+2],_t=yt[mt+3],mt+=4;break;case g.OPS.curveTo3:ft=yt[mt+2],_t=yt[mt+3],Et.push("C",ot(yt[mt]),ot(yt[mt+1]),ot(ft),ot(_t),ot(ft),ot(_t)),mt+=4;break;case g.OPS.closePath:Et.push("Z");break}Et=Et.join(" "),gt.path&&ht.length>0&&ht[0]!==g.OPS.rectangle&&ht[0]!==g.OPS.moveTo?Et=gt.path.getAttributeNS(null,"d")+Et:(gt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(gt.path)),gt.path.setAttributeNS(null,"d",Et),gt.path.setAttributeNS(null,"fill","none"),gt.element=gt.path,gt.setCurrentPoint(ft,_t)}endPath(){const ht=this.current;if(ht.path=null,!this.pendingClip)return;if(!ht.element){this.pendingClip=null;return}const yt=`clippath${dt++}`,gt=this.svgFactory.createElement("svg:clipPath");gt.setAttributeNS(null,"id",yt),gt.setAttributeNS(null,"transform",lt(this.transformMatrix));const ft=ht.element.cloneNode(!0);if(this.pendingClip==="evenodd"?ft.setAttributeNS(null,"clip-rule","evenodd"):ft.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,gt.append(ft),this.defs.append(gt),ht.activeClipUrl){ht.clipGroup=null;for(const _t of this.extraStack)_t.clipGroup=null;gt.setAttributeNS(null,"clip-path",ht.activeClipUrl)}ht.activeClipUrl=`url(#${yt})`,this.tgrp=null}clip(ht){this.pendingClip=ht}closePath(){const ht=this.current;if(ht.path){const yt=`${ht.path.getAttributeNS(null,"d")}Z`;ht.path.setAttributeNS(null,"d",yt)}}setLeading(ht){this.current.leading=-ht}setTextRise(ht){this.current.textRise=ht}setTextRenderingMode(ht){this.current.textRenderingMode=ht}setHScale(ht){this.current.textHScale=ht/100}setRenderingIntent(ht){}setFlatness(ht){}setGState(ht){for(const[yt,gt]of ht)switch(yt){case"LW":this.setLineWidth(gt);break;case"LC":this.setLineCap(gt);break;case"LJ":this.setLineJoin(gt);break;case"ML":this.setMiterLimit(gt);break;case"D":this.setDash(gt[0],gt[1]);break;case"RI":this.setRenderingIntent(gt);break;case"FL":this.setFlatness(gt);break;case"Font":this.setFont(gt);break;case"CA":this.setStrokeAlpha(gt);break;case"ca":this.setFillAlpha(gt);break;default:(0,g.warn)(`Unimplemented graphic state operator ${yt}`);break}}fill(){const ht=this.current;ht.element&&(ht.element.setAttributeNS(null,"fill",ht.fillColor),ht.element.setAttributeNS(null,"fill-opacity",ht.fillAlpha),this.endPath())}stroke(){const ht=this.current;ht.element&&(this._setStrokeAttributes(ht.element),ht.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ht,yt=1){const gt=this.current;let ft=gt.dashArray;yt!==1&&ft.length>0&&(ft=ft.map(function(_t){return yt*_t})),ht.setAttributeNS(null,"stroke",gt.strokeColor),ht.setAttributeNS(null,"stroke-opacity",gt.strokeAlpha),ht.setAttributeNS(null,"stroke-miterlimit",ot(gt.miterLimit)),ht.setAttributeNS(null,"stroke-linecap",gt.lineCap),ht.setAttributeNS(null,"stroke-linejoin",gt.lineJoin),ht.setAttributeNS(null,"stroke-width",ot(yt*gt.lineWidth)+"px"),ht.setAttributeNS(null,"stroke-dasharray",ft.map(ot).join(" ")),ht.setAttributeNS(null,"stroke-dashoffset",ot(yt*gt.dashPhase)+"px")}eoFill(){var ht;(ht=this.current.element)==null||ht.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var ht;(ht=this.current.element)==null||ht.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ht=this.svgFactory.createElement("svg:rect");ht.setAttributeNS(null,"x","0"),ht.setAttributeNS(null,"y","0"),ht.setAttributeNS(null,"width","1px"),ht.setAttributeNS(null,"height","1px"),ht.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ht)}paintImageXObject(ht){const yt=this.getObject(ht);if(!yt){(0,g.warn)(`Dependent image with object ID ${ht} is not ready yet`);return}this.paintInlineImageXObject(yt)}paintInlineImageXObject(ht,yt){const gt=ht.width,ft=ht.height,_t=rt(ht,this.forceDataSchema,!!yt),Et=this.svgFactory.createElement("svg:rect");Et.setAttributeNS(null,"x","0"),Et.setAttributeNS(null,"y","0"),Et.setAttributeNS(null,"width",ot(gt)),Et.setAttributeNS(null,"height",ot(ft)),this.current.element=Et,this.clip("nonzero");const mt=this.svgFactory.createElement("svg:image");mt.setAttributeNS($,"xlink:href",_t),mt.setAttributeNS(null,"x","0"),mt.setAttributeNS(null,"y",ot(-ft)),mt.setAttributeNS(null,"width",ot(gt)+"px"),mt.setAttributeNS(null,"height",ot(ft)+"px"),mt.setAttributeNS(null,"transform",`scale(${ot(1/gt)} ${ot(-1/ft)})`),yt?yt.append(mt):this._ensureTransformGroup().append(mt)}paintImageMaskXObject(ht){const yt=this.getObject(ht.data,ht);if(yt.bitmap){(0,g.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const gt=this.current,ft=yt.width,_t=yt.height,Et=gt.fillColor;gt.maskId=`mask${at++}`;const mt=this.svgFactory.createElement("svg:mask");mt.setAttributeNS(null,"id",gt.maskId);const xt=this.svgFactory.createElement("svg:rect");xt.setAttributeNS(null,"x","0"),xt.setAttributeNS(null,"y","0"),xt.setAttributeNS(null,"width",ot(ft)),xt.setAttributeNS(null,"height",ot(_t)),xt.setAttributeNS(null,"fill",Et),xt.setAttributeNS(null,"mask",`url(#${gt.maskId})`),this.defs.append(mt),this._ensureTransformGroup().append(xt),this.paintInlineImageXObject(yt,mt)}paintFormXObjectBegin(ht,yt){if(Array.isArray(ht)&&ht.length===6&&this.transform(ht[0],ht[1],ht[2],ht[3],ht[4],ht[5]),yt){const gt=yt[2]-yt[0],ft=yt[3]-yt[1],_t=this.svgFactory.createElement("svg:rect");_t.setAttributeNS(null,"x",yt[0]),_t.setAttributeNS(null,"y",yt[1]),_t.setAttributeNS(null,"width",ot(gt)),_t.setAttributeNS(null,"height",ot(ft)),this.current.element=_t,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ht){const yt=this.svgFactory.create(ht.width,ht.height),gt=this.svgFactory.createElement("svg:defs");yt.append(gt),this.defs=gt;const ft=this.svgFactory.createElement("svg:g");return ft.setAttributeNS(null,"transform",lt(ht.transform)),yt.append(ft),this.svg=ft,yt}_ensureClipGroup(){if(!this.current.clipGroup){const ht=this.svgFactory.createElement("svg:g");ht.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ht),this.current.clipGroup=ht}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",lt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=pt},(s,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class d{static textContent(g){const _=[],j={items:_,styles:Object.create(null)};function $(et){var rt;if(!et)return;let tt=null;const nt=et.name;if(nt==="#text")tt=et.value;else if(d.shouldBuildText(nt))(rt=et==null?void 0:et.attributes)!=null&&rt.textContent?tt=et.attributes.textContent:et.value&&(tt=et.value);else return;if(tt!==null&&_.push({str:tt}),!!et.children)for(const it of et.children)$(it)}return $(g),j}static shouldBuildText(g){return!(g==="textarea"||g==="input"||g==="option"||g==="select")}}e.XfaText=d},(s,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=lt,e.updateTextLayer=dt;var h=d(1),g=d(6);const _=1e5,j=30,$=.8,et=new Map;function tt(at,ut){let pt;if(ut&&h.FeatureTest.isOffscreenCanvasSupported)pt=new OffscreenCanvas(at,at).getContext("2d",{alpha:!1});else{const vt=document.createElement("canvas");vt.width=vt.height=at,pt=vt.getContext("2d",{alpha:!1})}return pt}function nt(at,ut){const pt=et.get(at);if(pt)return pt;const vt=tt(j,ut);vt.font=`${j}px ${at}`;const ht=vt.measureText("");let yt=ht.fontBoundingBoxAscent,gt=Math.abs(ht.fontBoundingBoxDescent);if(yt){const _t=yt/(yt+gt);return et.set(at,_t),vt.canvas.width=vt.canvas.height=0,_t}vt.strokeStyle="red",vt.clearRect(0,0,j,j),vt.strokeText("g",0,0);let ft=vt.getImageData(0,0,j,j).data;gt=0;for(let _t=ft.length-1-3;_t>=0;_t-=4)if(ft[_t]>0){gt=Math.ceil(_t/4/j);break}vt.clearRect(0,0,j,j),vt.strokeText("A",0,j),ft=vt.getImageData(0,0,j,j).data,yt=0;for(let _t=0,Et=ft.length;_t<Et;_t+=4)if(ft[_t]>0){yt=j-Math.floor(_t/4/j);break}if(vt.canvas.width=vt.canvas.height=0,yt){const _t=yt/(yt+gt);return et.set(at,_t),_t}return et.set(at,$),$}function rt(at,ut,pt){const vt=document.createElement("span"),ht={angle:0,canvasWidth:0,hasText:ut.str!=="",hasEOL:ut.hasEOL,fontSize:0};at._textDivs.push(vt);const yt=h.Util.transform(at._transform,ut.transform);let gt=Math.atan2(yt[1],yt[0]);const ft=pt[ut.fontName];ft.vertical&&(gt+=Math.PI/2);const _t=Math.hypot(yt[2],yt[3]),Et=_t*nt(ft.fontFamily,at._isOffscreenCanvasSupported);let mt,xt;gt===0?(mt=yt[4],xt=yt[5]-Et):(mt=yt[4]+Et*Math.sin(gt),xt=yt[5]-Et*Math.cos(gt));const St="calc(var(--scale-factor)*",Ut=vt.style;at._container===at._rootContainer?(Ut.left=`${(100*mt/at._pageWidth).toFixed(2)}%`,Ut.top=`${(100*xt/at._pageHeight).toFixed(2)}%`):(Ut.left=`${St}${mt.toFixed(2)}px)`,Ut.top=`${St}${xt.toFixed(2)}px)`),Ut.fontSize=`${St}${_t.toFixed(2)}px)`,Ut.fontFamily=ft.fontFamily,ht.fontSize=_t,vt.setAttribute("role","presentation"),vt.textContent=ut.str,vt.dir=ut.dir,at._fontInspectorEnabled&&(vt.dataset.fontName=ut.fontName),gt!==0&&(ht.angle=gt*(180/Math.PI));let kt=!1;if(ut.str.length>1)kt=!0;else if(ut.str!==" "&&ut.transform[0]!==ut.transform[3]){const Bt=Math.abs(ut.transform[0]),$t=Math.abs(ut.transform[3]);Bt!==$t&&Math.max(Bt,$t)/Math.min(Bt,$t)>1.5&&(kt=!0)}kt&&(ht.canvasWidth=ft.vertical?ut.height:ut.width),at._textDivProperties.set(vt,ht),at._isReadableStream&&at._layoutText(vt)}function it(at){const{div:ut,scale:pt,properties:vt,ctx:ht,prevFontSize:yt,prevFontFamily:gt}=at,{style:ft}=ut;let _t="";if(vt.canvasWidth!==0&&vt.hasText){const{fontFamily:Et}=ft,{canvasWidth:mt,fontSize:xt}=vt;(yt!==xt||gt!==Et)&&(ht.font=`${xt*pt}px ${Et}`,at.prevFontSize=xt,at.prevFontFamily=Et);const{width:St}=ht.measureText(ut.textContent);St>0&&(_t=`scaleX(${mt*pt/St})`)}vt.angle!==0&&(_t=`rotate(${vt.angle}deg) ${_t}`),_t.length>0&&(ft.transform=_t)}function st(at){if(at._canceled)return;const ut=at._textDivs,pt=at._capability;if(ut.length>_){pt.resolve();return}if(!at._isReadableStream)for(const ht of ut)at._layoutText(ht);pt.resolve()}class ot{constructor({textContentSource:ut,container:pt,viewport:vt,textDivs:ht,textDivProperties:yt,textContentItemsStr:gt,isOffscreenCanvasSupported:ft}){var St;this._textContentSource=ut,this._isReadableStream=ut instanceof ReadableStream,this._container=this._rootContainer=pt,this._textDivs=ht||[],this._textContentItemsStr=gt||[],this._isOffscreenCanvasSupported=ft,this._fontInspectorEnabled=!!((St=globalThis.FontInspector)!=null&&St.enabled),this._reader=null,this._textDivProperties=yt||new WeakMap,this._canceled=!1,this._capability=new h.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:vt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:tt(0,ft)};const{pageWidth:_t,pageHeight:Et,pageX:mt,pageY:xt}=vt.rawDims;this._transform=[1,0,0,-1,-mt,xt+Et],this._pageWidth=_t,this._pageHeight=Et,(0,g.setLayerDimensions)(pt,vt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new h.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new h.AbortException("TextLayer task cancelled."))}_processItems(ut,pt){for(const vt of ut){if(vt.str===void 0){if(vt.type==="beginMarkedContentProps"||vt.type==="beginMarkedContent"){const ht=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),vt.id!==null&&this._container.setAttribute("id",`${vt.id}`),ht.append(this._container)}else vt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(vt.str),rt(this,vt,pt)}}_layoutText(ut){const pt=this._layoutTextParams.properties=this._textDivProperties.get(ut);if(this._layoutTextParams.div=ut,it(this._layoutTextParams),pt.hasText&&this._container.append(ut),pt.hasEOL){const vt=document.createElement("br");vt.setAttribute("role","presentation"),this._container.append(vt)}}_render(){const ut=new h.PromiseCapability;let pt=Object.create(null);if(this._isReadableStream){const vt=()=>{this._reader.read().then(({value:ht,done:yt})=>{if(yt){ut.resolve();return}Object.assign(pt,ht.styles),this._processItems(ht.items,pt),vt()},ut.reject)};this._reader=this._textContentSource.getReader(),vt()}else if(this._textContentSource){const{items:vt,styles:ht}=this._textContentSource;this._processItems(vt,ht),ut.resolve()}else throw new Error('No "textContentSource" parameter specified.');ut.promise.then(()=>{pt=null,st(this)},this._capability.reject)}}e.TextLayerRenderTask=ot;function lt(at){!at.textContentSource&&(at.textContent||at.textContentStream)&&((0,g.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),at.textContentSource=at.textContent||at.textContentStream);const{container:ut,viewport:pt}=at,vt=getComputedStyle(ut),ht=vt.getPropertyValue("visibility"),yt=parseFloat(vt.getPropertyValue("--scale-factor"));ht==="visible"&&(!yt||Math.abs(yt-pt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const gt=new ot(at);return gt._render(),gt}function dt({container:at,viewport:ut,textDivs:pt,textDivProperties:vt,isOffscreenCanvasSupported:ht,mustRotate:yt=!0,mustRescale:gt=!0}){if(yt&&(0,g.setLayerDimensions)(at,{rotation:ut.rotation}),gt){const ft=tt(0,ht),Et={prevFontSize:null,prevFontFamily:null,div:null,scale:ut.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ft};for(const mt of pt)Et.properties=vt.get(mt),Et.div=mt,it(Et)}}},(s,e,d)=>{var nt,rt,it,st,ot,lt,dt,at,ut,pt,vt,eu,Wo,tu,nu;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var h=d(1),g=d(4),_=d(28),j=d(33),$=d(6),et=d(34);const _t=class _t{constructor({uiManager:mt,pageIndex:xt,div:St,accessibilityManager:Ut,annotationLayer:kt,viewport:Bt,l10n:$t}){Sn(this,vt);Sn(this,nt);Sn(this,rt,!1);Sn(this,it,null);Sn(this,st,this.pointerup.bind(this));Sn(this,ot,this.pointerdown.bind(this));Sn(this,lt,new Map);Sn(this,dt,!1);Sn(this,at,!1);Sn(this,ut,!1);Sn(this,pt);const Gt=[_.FreeTextEditor,j.InkEditor,et.StampEditor];if(!_t._initialized){_t._initialized=!0;for(const Ft of Gt)Ft.initialize($t)}mt.registerEditorTypes(Gt),xn(this,pt,mt),this.pageIndex=xt,this.div=St,xn(this,nt,Ut),xn(this,it,kt),this.viewport=Bt,Tt(this,pt).addLayer(this)}get isEmpty(){return Tt(this,lt).size===0}updateToolbar(mt){Tt(this,pt).updateToolbar(mt)}updateMode(mt=Tt(this,pt).getMode()){cn(this,vt,nu).call(this),mt===h.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),mt!==h.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",mt===h.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",mt===h.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",mt===h.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(mt){if(!mt&&Tt(this,pt).getMode()!==h.AnnotationEditorType.INK)return;if(!mt){for(const St of Tt(this,lt).values())if(St.isEmpty()){St.setInBackground();return}}cn(this,vt,Wo).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(mt){Tt(this,pt).setEditingState(mt)}addCommands(mt){Tt(this,pt).addCommands(mt)}enable(){this.div.style.pointerEvents="auto";const mt=new Set;for(const St of Tt(this,lt).values())St.enableEditing(),St.annotationElementId&&mt.add(St.annotationElementId);if(!Tt(this,it))return;const xt=Tt(this,it).getEditableAnnotations();for(const St of xt){if(St.hide(),Tt(this,pt).isDeletedAnnotationElement(St.data.id)||mt.has(St.data.id))continue;const Ut=this.deserialize(St);Ut&&(this.addOrRebuild(Ut),Ut.enableEditing())}}disable(){var xt;xn(this,ut,!0),this.div.style.pointerEvents="none";const mt=new Set;for(const St of Tt(this,lt).values()){if(St.disableEditing(),!St.annotationElementId||St.serialize()!==null){mt.add(St.annotationElementId);continue}(xt=this.getEditableAnnotation(St.annotationElementId))==null||xt.show(),St.remove()}if(Tt(this,it)){const St=Tt(this,it).getEditableAnnotations();for(const Ut of St){const{id:kt}=Ut.data;mt.has(kt)||Tt(this,pt).isDeletedAnnotationElement(kt)||Ut.show()}}cn(this,vt,nu).call(this),this.isEmpty&&(this.div.hidden=!0),xn(this,ut,!1)}getEditableAnnotation(mt){var xt;return((xt=Tt(this,it))==null?void 0:xt.getEditableAnnotation(mt))||null}setActiveEditor(mt){Tt(this,pt).getActive()!==mt&&Tt(this,pt).setActiveEditor(mt)}enableClick(){this.div.addEventListener("pointerdown",Tt(this,ot)),this.div.addEventListener("pointerup",Tt(this,st))}disableClick(){this.div.removeEventListener("pointerdown",Tt(this,ot)),this.div.removeEventListener("pointerup",Tt(this,st))}attach(mt){Tt(this,lt).set(mt.id,mt);const{annotationElementId:xt}=mt;xt&&Tt(this,pt).isDeletedAnnotationElement(xt)&&Tt(this,pt).removeDeletedAnnotationElement(mt)}detach(mt){var xt;Tt(this,lt).delete(mt.id),(xt=Tt(this,nt))==null||xt.removePointerInTextLayer(mt.contentDiv),!Tt(this,ut)&&mt.annotationElementId&&Tt(this,pt).addDeletedAnnotationElement(mt)}remove(mt){this.detach(mt),Tt(this,pt).removeEditor(mt),mt.div.contains(document.activeElement)&&setTimeout(()=>{Tt(this,pt).focusMainContainer()},0),mt.div.remove(),mt.isAttachedToDOM=!1,Tt(this,at)||this.addInkEditorIfNeeded(!1)}changeParent(mt){var xt;mt.parent!==this&&(mt.annotationElementId&&(Tt(this,pt).addDeletedAnnotationElement(mt.annotationElementId),g.AnnotationEditor.deleteAnnotationElement(mt),mt.annotationElementId=null),this.attach(mt),(xt=mt.parent)==null||xt.detach(mt),mt.setParent(this),mt.div&&mt.isAttachedToDOM&&(mt.div.remove(),this.div.append(mt.div)))}add(mt){if(this.changeParent(mt),Tt(this,pt).addEditor(mt),this.attach(mt),!mt.isAttachedToDOM){const xt=mt.render();this.div.append(xt),mt.isAttachedToDOM=!0}mt.fixAndSetPosition(),mt.onceAdded(),Tt(this,pt).addToAnnotationStorage(mt)}moveEditorInDOM(mt){var St;if(!mt.isAttachedToDOM)return;const{activeElement:xt}=document;mt.div.contains(xt)&&(mt._focusEventsAllowed=!1,setTimeout(()=>{mt.div.contains(document.activeElement)?mt._focusEventsAllowed=!0:(mt.div.addEventListener("focusin",()=>{mt._focusEventsAllowed=!0},{once:!0}),xt.focus())},0)),mt._structTreeParentId=(St=Tt(this,nt))==null?void 0:St.moveElementInDOM(this.div,mt.div,mt.contentDiv,!0)}addOrRebuild(mt){mt.needsToBeRebuilt()?mt.rebuild():this.add(mt)}addUndoableEditor(mt){const xt=()=>mt._uiManager.rebuild(mt),St=()=>{mt.remove()};this.addCommands({cmd:xt,undo:St,mustExec:!1})}getNextId(){return Tt(this,pt).getId()}pasteEditor(mt,xt){Tt(this,pt).updateToolbar(mt),Tt(this,pt).updateMode(mt);const{offsetX:St,offsetY:Ut}=cn(this,vt,tu).call(this),kt=this.getNextId(),Bt=cn(this,vt,eu).call(this,{parent:this,id:kt,x:St,y:Ut,uiManager:Tt(this,pt),isCentered:!0,...xt});Bt&&this.add(Bt)}deserialize(mt){switch(mt.annotationType??mt.annotationEditorType){case h.AnnotationEditorType.FREETEXT:return _.FreeTextEditor.deserialize(mt,this,Tt(this,pt));case h.AnnotationEditorType.INK:return j.InkEditor.deserialize(mt,this,Tt(this,pt));case h.AnnotationEditorType.STAMP:return et.StampEditor.deserialize(mt,this,Tt(this,pt))}return null}addNewEditor(){cn(this,vt,Wo).call(this,cn(this,vt,tu).call(this),!0)}setSelected(mt){Tt(this,pt).setSelected(mt)}toggleSelected(mt){Tt(this,pt).toggleSelected(mt)}isSelected(mt){return Tt(this,pt).isSelected(mt)}unselect(mt){Tt(this,pt).unselect(mt)}pointerup(mt){const{isMac:xt}=h.FeatureTest.platform;if(!(mt.button!==0||mt.ctrlKey&&xt)&&mt.target===this.div&&Tt(this,dt)){if(xn(this,dt,!1),!Tt(this,rt)){xn(this,rt,!0);return}if(Tt(this,pt).getMode()===h.AnnotationEditorType.STAMP){Tt(this,pt).unselectAll();return}cn(this,vt,Wo).call(this,mt,!1)}}pointerdown(mt){if(Tt(this,dt)){xn(this,dt,!1);return}const{isMac:xt}=h.FeatureTest.platform;if(mt.button!==0||mt.ctrlKey&&xt||mt.target!==this.div)return;xn(this,dt,!0);const St=Tt(this,pt).getActive();xn(this,rt,!St||St.isEmpty())}findNewParent(mt,xt,St){const Ut=Tt(this,pt).findParent(xt,St);return Ut===null||Ut===this?!1:(Ut.changeParent(mt),!0)}destroy(){var mt,xt;((mt=Tt(this,pt).getActive())==null?void 0:mt.parent)===this&&(Tt(this,pt).commitOrRemove(),Tt(this,pt).setActiveEditor(null));for(const St of Tt(this,lt).values())(xt=Tt(this,nt))==null||xt.removePointerInTextLayer(St.contentDiv),St.setParent(null),St.isAttachedToDOM=!1,St.div.remove();this.div=null,Tt(this,lt).clear(),Tt(this,pt).removeLayer(this)}render({viewport:mt}){this.viewport=mt,(0,$.setLayerDimensions)(this.div,mt);for(const xt of Tt(this,pt).getEditors(this.pageIndex))this.add(xt);this.updateMode()}update({viewport:mt}){Tt(this,pt).commitOrRemove(),this.viewport=mt,(0,$.setLayerDimensions)(this.div,{rotation:mt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:mt,pageHeight:xt}=this.viewport.rawDims;return[mt,xt]}};nt=new WeakMap,rt=new WeakMap,it=new WeakMap,st=new WeakMap,ot=new WeakMap,lt=new WeakMap,dt=new WeakMap,at=new WeakMap,ut=new WeakMap,pt=new WeakMap,vt=new WeakSet,eu=function(mt){switch(Tt(this,pt).getMode()){case h.AnnotationEditorType.FREETEXT:return new _.FreeTextEditor(mt);case h.AnnotationEditorType.INK:return new j.InkEditor(mt);case h.AnnotationEditorType.STAMP:return new et.StampEditor(mt)}return null},Wo=function(mt,xt){const St=this.getNextId(),Ut=cn(this,vt,eu).call(this,{parent:this,id:St,x:mt.offsetX,y:mt.offsetY,uiManager:Tt(this,pt),isCentered:xt});return Ut&&this.add(Ut),Ut},tu=function(){const{x:mt,y:xt,width:St,height:Ut}=this.div.getBoundingClientRect(),kt=Math.max(0,mt),Bt=Math.max(0,xt),$t=Math.min(window.innerWidth,mt+St),Gt=Math.min(window.innerHeight,xt+Ut),Ft=(kt+$t)/2-mt,Wt=(Bt+Gt)/2-xt,[tn,Lt]=this.viewport.rotation%180===0?[Ft,Wt]:[Wt,Ft];return{offsetX:tn,offsetY:Lt}},nu=function(){xn(this,at,!0);for(const mt of Tt(this,lt).values())mt.isEmpty()&&mt.remove();xn(this,at,!1)},lr(_t,"_initialized",!1);let tt=_t;e.AnnotationEditorLayer=tt},(s,e,d)=>{var et,tt,nt,rt,it,st,ot,lt,dt,at,Vu,Bu,ju,xo,ru,$u,iu;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var h=d(1),g=d(5),_=d(4),j=d(29);const _t=class _t extends _.AnnotationEditor{constructor(xt){super({...xt,name:"freeTextEditor"});Sn(this,at);Sn(this,et,this.editorDivBlur.bind(this));Sn(this,tt,this.editorDivFocus.bind(this));Sn(this,nt,this.editorDivInput.bind(this));Sn(this,rt,this.editorDivKeydown.bind(this));Sn(this,it);Sn(this,st,"");Sn(this,ot,`${this.id}-editor`);Sn(this,lt);Sn(this,dt,null);xn(this,it,xt.color||_t._defaultColor||_.AnnotationEditor._defaultLineColor),xn(this,lt,xt.fontSize||_t._defaultFontSize)}static get _keyboardManager(){const xt=_t.prototype,St=Bt=>Bt.isEmpty(),Ut=g.AnnotationEditorUIManager.TRANSLATE_SMALL,kt=g.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,h.shadow)(this,"_keyboardManager",new g.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],xt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],xt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],xt._translateEmpty,{args:[-Ut,0],checker:St}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],xt._translateEmpty,{args:[-kt,0],checker:St}],[["ArrowRight","mac+ArrowRight"],xt._translateEmpty,{args:[Ut,0],checker:St}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],xt._translateEmpty,{args:[kt,0],checker:St}],[["ArrowUp","mac+ArrowUp"],xt._translateEmpty,{args:[0,-Ut],checker:St}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],xt._translateEmpty,{args:[0,-kt],checker:St}],[["ArrowDown","mac+ArrowDown"],xt._translateEmpty,{args:[0,Ut],checker:St}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],xt._translateEmpty,{args:[0,kt],checker:St}]]))}static initialize(xt){_.AnnotationEditor.initialize(xt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const St=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(St.getPropertyValue("--freetext-padding"))}static updateDefaultParams(xt,St){switch(xt){case h.AnnotationEditorParamsType.FREETEXT_SIZE:_t._defaultFontSize=St;break;case h.AnnotationEditorParamsType.FREETEXT_COLOR:_t._defaultColor=St;break}}updateParams(xt,St){switch(xt){case h.AnnotationEditorParamsType.FREETEXT_SIZE:cn(this,at,Vu).call(this,St);break;case h.AnnotationEditorParamsType.FREETEXT_COLOR:cn(this,at,Bu).call(this,St);break}}static get defaultPropertiesToUpdate(){return[[h.AnnotationEditorParamsType.FREETEXT_SIZE,_t._defaultFontSize],[h.AnnotationEditorParamsType.FREETEXT_COLOR,_t._defaultColor||_.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[h.AnnotationEditorParamsType.FREETEXT_SIZE,Tt(this,lt)],[h.AnnotationEditorParamsType.FREETEXT_COLOR,Tt(this,it)]]}_translateEmpty(xt,St){this._uiManager.translateSelectedEditors(xt,St,!0)}getInitialTranslation(){const xt=this.parentScale;return[-_t._internalPadding*xt,-(_t._internalPadding+Tt(this,lt))*xt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(h.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Tt(this,rt)),this.editorDiv.addEventListener("focus",Tt(this,tt)),this.editorDiv.addEventListener("blur",Tt(this,et)),this.editorDiv.addEventListener("input",Tt(this,nt)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Tt(this,ot)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Tt(this,rt)),this.editorDiv.removeEventListener("focus",Tt(this,tt)),this.editorDiv.removeEventListener("blur",Tt(this,et)),this.editorDiv.removeEventListener("input",Tt(this,nt)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(xt){this._focusEventsAllowed&&(super.focusin(xt),xt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var xt;if(this.width){cn(this,at,iu).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(xt=this._initialOptions)!=null&&xt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const xt=Tt(this,st),St=xn(this,st,cn(this,at,ju).call(this).trimEnd());if(xt===St)return;const Ut=kt=>{if(xn(this,st,kt),!kt){this.remove();return}cn(this,at,ru).call(this),this._uiManager.rebuild(this),cn(this,at,xo).call(this)};this.addCommands({cmd:()=>{Ut(St)},undo:()=>{Ut(xt)},mustExec:!1}),cn(this,at,xo).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(xt){this.enterInEditMode()}keydown(xt){xt.target===this.div&&xt.key==="Enter"&&(this.enterInEditMode(),xt.preventDefault())}editorDivKeydown(xt){_t._keyboardManager.exec(this,xt)}editorDivFocus(xt){this.isEditing=!0}editorDivBlur(xt){this.isEditing=!1}editorDivInput(xt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let xt,St;this.width&&(xt=this.x,St=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Tt(this,ot)),this.enableEditing(),_.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(kt=>{var Bt;return(Bt=this.editorDiv)==null?void 0:Bt.setAttribute("aria-label",kt)}),_.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(kt=>{var Bt;return(Bt=this.editorDiv)==null?void 0:Bt.setAttribute("default-content",kt)}),this.editorDiv.contentEditable=!0;const{style:Ut}=this.editorDiv;if(Ut.fontSize=`calc(${Tt(this,lt)}px * var(--scale-factor))`,Ut.color=Tt(this,it),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,g.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[kt,Bt]=this.parentDimensions;if(this.annotationElementId){const{position:$t}=Tt(this,dt);let[Gt,Ft]=this.getInitialTranslation();[Gt,Ft]=this.pageTranslationToScreen(Gt,Ft);const[Wt,tn]=this.pageDimensions,[Lt,Rt]=this.pageTranslation;let It,Mt;switch(this.rotation){case 0:It=xt+($t[0]-Lt)/Wt,Mt=St+this.height-($t[1]-Rt)/tn;break;case 90:It=xt+($t[0]-Lt)/Wt,Mt=St-($t[1]-Rt)/tn,[Gt,Ft]=[Ft,-Gt];break;case 180:It=xt-this.width+($t[0]-Lt)/Wt,Mt=St-($t[1]-Rt)/tn,[Gt,Ft]=[-Gt,-Ft];break;case 270:It=xt+($t[0]-Lt-this.height*tn)/Wt,Mt=St+($t[1]-Rt-this.width*Wt)/tn,[Gt,Ft]=[-Ft,Gt];break}this.setAt(It*kt,Mt*Bt,Gt,Ft)}else this.setAt(xt*kt,St*Bt,this.width*kt,this.height*Bt);cn(this,at,ru).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(xt,St,Ut){let kt=null;if(xt instanceof j.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:$t,fontColor:Gt},rect:Ft,rotation:Wt,id:tn},textContent:Lt,textPosition:Rt,parent:{page:{pageNumber:It}}}=xt;if(!Lt||Lt.length===0)return null;kt=xt={annotationType:h.AnnotationEditorType.FREETEXT,color:Array.from(Gt),fontSize:$t,value:Lt.join(`
`),position:Rt,pageIndex:It-1,rect:Ft,rotation:Wt,id:tn,deleted:!1}}const Bt=super.deserialize(xt,St,Ut);return xn(Bt,lt,xt.fontSize),xn(Bt,it,h.Util.makeHexColor(...xt.color)),xn(Bt,st,xt.value),Bt.annotationElementId=xt.id||null,xn(Bt,dt,kt),Bt}serialize(xt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const St=_t._internalPadding*this.parentScale,Ut=this.getRect(St,St),kt=_.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Tt(this,it)),Bt={annotationType:h.AnnotationEditorType.FREETEXT,color:kt,fontSize:Tt(this,lt),value:Tt(this,st),pageIndex:this.pageIndex,rect:Ut,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return xt?Bt:this.annotationElementId&&!cn(this,at,$u).call(this,Bt)?null:(Bt.id=this.annotationElementId,Bt)}};et=new WeakMap,tt=new WeakMap,nt=new WeakMap,rt=new WeakMap,it=new WeakMap,st=new WeakMap,ot=new WeakMap,lt=new WeakMap,dt=new WeakMap,at=new WeakSet,Vu=function(xt){const St=kt=>{this.editorDiv.style.fontSize=`calc(${kt}px * var(--scale-factor))`,this.translate(0,-(kt-Tt(this,lt))*this.parentScale),xn(this,lt,kt),cn(this,at,xo).call(this)},Ut=Tt(this,lt);this.addCommands({cmd:()=>{St(xt)},undo:()=>{St(Ut)},mustExec:!0,type:h.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Bu=function(xt){const St=Tt(this,it);this.addCommands({cmd:()=>{xn(this,it,this.editorDiv.style.color=xt)},undo:()=>{xn(this,it,this.editorDiv.style.color=St)},mustExec:!0,type:h.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ju=function(){const xt=this.editorDiv.getElementsByTagName("div");if(xt.length===0)return this.editorDiv.innerText;const St=[];for(const Ut of xt)St.push(Ut.innerText.replace(/\r\n?|\n/,""));return St.join(`
`)},xo=function(){const[xt,St]=this.parentDimensions;let Ut;if(this.isAttachedToDOM)Ut=this.div.getBoundingClientRect();else{const{currentLayer:kt,div:Bt}=this,$t=Bt.style.display;Bt.style.display="hidden",kt.div.append(this.div),Ut=Bt.getBoundingClientRect(),Bt.remove(),Bt.style.display=$t}this.rotation%180===this.parentRotation%180?(this.width=Ut.width/xt,this.height=Ut.height/St):(this.width=Ut.height/xt,this.height=Ut.width/St),this.fixAndSetPosition()},ru=function(){if(this.editorDiv.replaceChildren(),!!Tt(this,st))for(const xt of Tt(this,st).split(`
`)){const St=document.createElement("div");St.append(xt?document.createTextNode(xt):document.createElement("br")),this.editorDiv.append(St)}},$u=function(xt){const{value:St,fontSize:Ut,color:kt,rect:Bt,pageIndex:$t}=Tt(this,dt);return xt.value!==St||xt.fontSize!==Ut||xt.rect.some((Gt,Ft)=>Math.abs(Gt-Bt[Ft])>=1)||xt.color.some((Gt,Ft)=>Gt!==kt[Ft])||xt.pageIndex!==$t},iu=function(xt=!1){if(!this.annotationElementId)return;if(cn(this,at,xo).call(this),!xt&&(this.width===0||this.height===0)){setTimeout(()=>cn(this,at,iu).call(this,!0),0);return}const St=_t._internalPadding*this.parentScale;Tt(this,dt).rect=this.getRect(St,St)},lr(_t,"_freeTextDefaultContent",""),lr(_t,"_internalPadding",0),lr(_t,"_defaultColor",null),lr(_t,"_defaultFontSize",10),lr(_t,"_type","freetext");let $=_t;e.FreeTextEditor=$},(s,e,d)=>{var Mt,qt,Hs,Uu,vn,Tn,Pn,In,On,Mn,mn,yn,Vt,Zt,un,bn,Rn,Nn,kn,dn,Un,jn,zu,Go,su,au,ar,xr,Fr,Dn,hn,pn,Yn,ou,hr,Yt,Cn,Hn,Hu,lu;Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0;var h=d(1),g=d(6),_=d(3),j=d(30),$=d(31),et=d(32);const tt=1e3,nt=9,rt=new WeakSet;function it(Zn){return{width:Zn[2]-Zn[0],height:Zn[3]-Zn[1]}}class st{static create(Xt){switch(Xt.data.annotationType){case h.AnnotationType.LINK:return new lt(Xt);case h.AnnotationType.TEXT:return new dt(Xt);case h.AnnotationType.WIDGET:switch(Xt.data.fieldType){case"Tx":return new ut(Xt);case"Btn":return Xt.data.radioButton?new ht(Xt):Xt.data.checkBox?new vt(Xt):new yt(Xt);case"Ch":return new gt(Xt);case"Sig":return new pt(Xt)}return new at(Xt);case h.AnnotationType.POPUP:return new ft(Xt);case h.AnnotationType.FREETEXT:return new Et(Xt);case h.AnnotationType.LINE:return new mt(Xt);case h.AnnotationType.SQUARE:return new xt(Xt);case h.AnnotationType.CIRCLE:return new St(Xt);case h.AnnotationType.POLYLINE:return new Ut(Xt);case h.AnnotationType.CARET:return new Bt(Xt);case h.AnnotationType.INK:return new $t(Xt);case h.AnnotationType.POLYGON:return new kt(Xt);case h.AnnotationType.HIGHLIGHT:return new Gt(Xt);case h.AnnotationType.UNDERLINE:return new Ft(Xt);case h.AnnotationType.SQUIGGLY:return new Wt(Xt);case h.AnnotationType.STRIKEOUT:return new tn(Xt);case h.AnnotationType.STAMP:return new Lt(Xt);case h.AnnotationType.FILEATTACHMENT:return new Rt(Xt);default:return new ot(Xt)}}}const Ht=class Ht{constructor(Xt,{isRenderable:jt=!1,ignoreBorder:rn=!1,createQuadrilaterals:En=!1}={}){Sn(this,Mt,!1);this.isRenderable=jt,this.data=Xt.data,this.layer=Xt.layer,this.linkService=Xt.linkService,this.downloadManager=Xt.downloadManager,this.imageResourcesPath=Xt.imageResourcesPath,this.renderForms=Xt.renderForms,this.svgFactory=Xt.svgFactory,this.annotationStorage=Xt.annotationStorage,this.enableScripting=Xt.enableScripting,this.hasJSActions=Xt.hasJSActions,this._fieldObjects=Xt.fieldObjects,this.parent=Xt.parent,jt&&(this.container=this._createContainer(rn)),En&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Xt,contentsObj:jt,richText:rn}){return!!(Xt!=null&&Xt.str||jt!=null&&jt.str||rn!=null&&rn.str)}get hasPopupData(){return Ht._hasPopupData(this.data)}_createContainer(Xt){const{data:jt,parent:{page:rn,viewport:En}}=this,wn=document.createElement("section");wn.setAttribute("data-annotation-id",jt.id),this instanceof at||(wn.tabIndex=tt),wn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&wn.setAttribute("aria-haspopup","dialog"),jt.noRotate&&wn.classList.add("norotate");const{pageWidth:Fn,pageHeight:Bn,pageX:rr,pageY:er}=En.rawDims;if(!jt.rect||this instanceof ft){const{rotation:_r}=jt;return!jt.hasOwnCanvas&&_r!==0&&this.setRotation(_r,wn),wn}const{width:qn,height:Ar}=it(jt.rect),nr=h.Util.normalizeRect([jt.rect[0],rn.view[3]-jt.rect[1]+rn.view[1],jt.rect[2],rn.view[3]-jt.rect[3]+rn.view[1]]);if(!Xt&&jt.borderStyle.width>0){wn.style.borderWidth=`${jt.borderStyle.width}px`;const _r=jt.borderStyle.horizontalCornerRadius,Rr=jt.borderStyle.verticalCornerRadius;if(_r>0||Rr>0){const Or=`calc(${_r}px * var(--scale-factor)) / calc(${Rr}px * var(--scale-factor))`;wn.style.borderRadius=Or}else if(this instanceof ht){const Or=`calc(${qn}px * var(--scale-factor)) / calc(${Ar}px * var(--scale-factor))`;wn.style.borderRadius=Or}switch(jt.borderStyle.style){case h.AnnotationBorderStyleType.SOLID:wn.style.borderStyle="solid";break;case h.AnnotationBorderStyleType.DASHED:wn.style.borderStyle="dashed";break;case h.AnnotationBorderStyleType.BEVELED:(0,h.warn)("Unimplemented border style: beveled");break;case h.AnnotationBorderStyleType.INSET:(0,h.warn)("Unimplemented border style: inset");break;case h.AnnotationBorderStyleType.UNDERLINE:wn.style.borderBottomStyle="solid";break}const kr=jt.borderColor||null;kr?(xn(this,Mt,!0),wn.style.borderColor=h.Util.makeHexColor(kr[0]|0,kr[1]|0,kr[2]|0)):wn.style.borderWidth=0}wn.style.left=`${100*(nr[0]-rr)/Fn}%`,wn.style.top=`${100*(nr[1]-er)/Bn}%`;const{rotation:ir}=jt;return jt.hasOwnCanvas||ir===0?(wn.style.width=`${100*qn/Fn}%`,wn.style.height=`${100*Ar/Bn}%`):this.setRotation(ir,wn),wn}setRotation(Xt,jt=this.container){if(!this.data.rect)return;const{pageWidth:rn,pageHeight:En}=this.parent.viewport.rawDims,{width:wn,height:Fn}=it(this.data.rect);let Bn,rr;Xt%180===0?(Bn=100*wn/rn,rr=100*Fn/En):(Bn=100*Fn/rn,rr=100*wn/En),jt.style.width=`${Bn}%`,jt.style.height=`${rr}%`,jt.setAttribute("data-main-rotation",(360-Xt)%360)}get _commonActions(){const Xt=(jt,rn,En)=>{const wn=En.detail[jt],Fn=wn[0],Bn=wn.slice(1);En.target.style[rn]=j.ColorConverters[`${Fn}_HTML`](Bn),this.annotationStorage.setValue(this.data.id,{[rn]:j.ColorConverters[`${Fn}_rgb`](Bn)})};return(0,h.shadow)(this,"_commonActions",{display:jt=>{const{display:rn}=jt.detail,En=rn%2===1;this.container.style.visibility=En?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:En,noPrint:rn===1||rn===2})},print:jt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!jt.detail.print})},hidden:jt=>{const{hidden:rn}=jt.detail;this.container.style.visibility=rn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:rn,noView:rn})},focus:jt=>{setTimeout(()=>jt.target.focus({preventScroll:!1}),0)},userName:jt=>{jt.target.title=jt.detail.userName},readonly:jt=>{jt.target.disabled=jt.detail.readonly},required:jt=>{this._setRequired(jt.target,jt.detail.required)},bgColor:jt=>{Xt("bgColor","backgroundColor",jt)},fillColor:jt=>{Xt("fillColor","backgroundColor",jt)},fgColor:jt=>{Xt("fgColor","color",jt)},textColor:jt=>{Xt("textColor","color",jt)},borderColor:jt=>{Xt("borderColor","borderColor",jt)},strokeColor:jt=>{Xt("strokeColor","borderColor",jt)},rotation:jt=>{const rn=jt.detail.rotation;this.setRotation(rn),this.annotationStorage.setValue(this.data.id,{rotation:rn})}})}_dispatchEventFromSandbox(Xt,jt){const rn=this._commonActions;for(const En of Object.keys(jt.detail)){const wn=Xt[En]||rn[En];wn==null||wn(jt)}}_setDefaultPropertiesFromJS(Xt){if(!this.enableScripting)return;const jt=this.annotationStorage.getRawValue(this.data.id);if(!jt)return;const rn=this._commonActions;for(const[En,wn]of Object.entries(jt)){const Fn=rn[En];if(Fn){const Bn={detail:{[En]:wn},target:Xt};Fn(Bn),delete jt[En]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Xt}=this.data;if(!Xt)return;const[jt,rn,En,wn]=this.data.rect;if(Xt.length===1){const[,{x:Rr,y:kr},{x:Or,y:ss}]=Xt[0];if(En===Rr&&wn===kr&&jt===Or&&rn===ss)return}const{style:Fn}=this.container;let Bn;if(Tt(this,Mt)){const{borderColor:Rr,borderWidth:kr}=Fn;Fn.borderWidth=0,Bn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Rr}" stroke-width="${kr}">`],this.container.classList.add("hasBorder")}const rr=En-jt,er=wn-rn,{svgFactory:qn}=this,Ar=qn.createElement("svg");Ar.classList.add("quadrilateralsContainer"),Ar.setAttribute("width",0),Ar.setAttribute("height",0);const nr=qn.createElement("defs");Ar.append(nr);const ir=qn.createElement("clipPath"),_r=`clippath_${this.data.id}`;ir.setAttribute("id",_r),ir.setAttribute("clipPathUnits","objectBoundingBox"),nr.append(ir);for(const[,{x:Rr,y:kr},{x:Or,y:ss}]of Xt){const Yr=qn.createElement("rect"),ds=(Or-jt)/rr,hs=(wn-kr)/er,ps=(Rr-Or)/rr,Ms=(kr-ss)/er;Yr.setAttribute("x",ds),Yr.setAttribute("y",hs),Yr.setAttribute("width",ps),Yr.setAttribute("height",Ms),ir.append(Yr),Bn==null||Bn.push(`<rect vector-effect="non-scaling-stroke" x="${ds}" y="${hs}" width="${ps}" height="${Ms}"/>`)}Tt(this,Mt)&&(Bn.push("</g></svg>')"),Fn.backgroundImage=Bn.join("")),this.container.append(Ar),this.container.style.clipPath=`url(#${_r})`}_createPopup(){const{container:Xt,data:jt}=this;Xt.setAttribute("aria-haspopup","dialog");const rn=new ft({data:{color:jt.color,titleObj:jt.titleObj,modificationDate:jt.modificationDate,contentsObj:jt.contentsObj,richText:jt.richText,parentRect:jt.rect,borderStyle:0,id:`popup_${jt.id}`,rotation:jt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(rn.render())}render(){(0,h.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Xt,jt=null){const rn=[];if(this._fieldObjects){const En=this._fieldObjects[Xt];if(En)for(const{page:wn,id:Fn,exportValues:Bn}of En){if(wn===-1||Fn===jt)continue;const rr=typeof Bn=="string"?Bn:null,er=document.querySelector(`[data-element-id="${Fn}"]`);if(er&&!rt.has(er)){(0,h.warn)(`_getElementsByName - element not allowed: ${Fn}`);continue}rn.push({id:Fn,exportValue:rr,domElement:er})}return rn}for(const En of document.getElementsByName(Xt)){const{exportValue:wn}=En,Fn=En.getAttribute("data-element-id");Fn!==jt&&rt.has(En)&&rn.push({id:Fn,exportValue:wn,domElement:En})}return rn}show(){var Xt;this.container&&(this.container.hidden=!1),(Xt=this.popup)==null||Xt.maybeShow()}hide(){var Xt;this.container&&(this.container.hidden=!0),(Xt=this.popup)==null||Xt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Xt=this.getElementsToTriggerPopup();if(Array.isArray(Xt))for(const jt of Xt)jt.classList.add("highlightArea");else Xt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Xt,data:{id:jt}}=this;this.container.addEventListener("dblclick",()=>{var rn;(rn=this.linkService.eventBus)==null||rn.dispatch("switchannotationeditormode",{source:this,mode:Xt,editId:jt})})}};Mt=new WeakMap;let ot=Ht;class lt extends ot{constructor(jt,rn=null){super(jt,{isRenderable:!0,ignoreBorder:!!(rn!=null&&rn.ignoreBorder),createQuadrilaterals:!0});Sn(this,qt);this.isTooltipOnly=jt.data.isTooltipOnly}render(){const{data:jt,linkService:rn}=this,En=document.createElement("a");En.setAttribute("data-element-id",jt.id);let wn=!1;return jt.url?(rn.addLinkAttributes(En,jt.url,jt.newWindow),wn=!0):jt.action?(this._bindNamedAction(En,jt.action),wn=!0):jt.attachment?(this._bindAttachment(En,jt.attachment),wn=!0):jt.setOCGState?(cn(this,qt,Uu).call(this,En,jt.setOCGState),wn=!0):jt.dest?(this._bindLink(En,jt.dest),wn=!0):(jt.actions&&(jt.actions.Action||jt.actions["Mouse Up"]||jt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(En,jt),wn=!0),jt.resetForm?(this._bindResetFormAction(En,jt.resetForm),wn=!0):this.isTooltipOnly&&!wn&&(this._bindLink(En,""),wn=!0)),this.container.classList.add("linkAnnotation"),wn&&this.container.append(En),this.container}_bindLink(jt,rn){jt.href=this.linkService.getDestinationHash(rn),jt.onclick=()=>(rn&&this.linkService.goToDestination(rn),!1),(rn||rn==="")&&cn(this,qt,Hs).call(this)}_bindNamedAction(jt,rn){jt.href=this.linkService.getAnchorUrl(""),jt.onclick=()=>(this.linkService.executeNamedAction(rn),!1),cn(this,qt,Hs).call(this)}_bindAttachment(jt,rn){jt.href=this.linkService.getAnchorUrl(""),jt.onclick=()=>{var En;return(En=this.downloadManager)==null||En.openOrDownloadData(this.container,rn.content,rn.filename),!1},cn(this,qt,Hs).call(this)}_bindJSAction(jt,rn){jt.href=this.linkService.getAnchorUrl("");const En=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const wn of Object.keys(rn.actions)){const Fn=En.get(wn);Fn&&(jt[Fn]=()=>{var Bn;return(Bn=this.linkService.eventBus)==null||Bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:rn.id,name:wn}}),!1})}jt.onclick||(jt.onclick=()=>!1),cn(this,qt,Hs).call(this)}_bindResetFormAction(jt,rn){const En=jt.onclick;if(En||(jt.href=this.linkService.getAnchorUrl("")),cn(this,qt,Hs).call(this),!this._fieldObjects){(0,h.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),En||(jt.onclick=()=>!1);return}jt.onclick=()=>{var Ar;En==null||En();const{fields:wn,refs:Fn,include:Bn}=rn,rr=[];if(wn.length!==0||Fn.length!==0){const nr=new Set(Fn);for(const ir of wn){const _r=this._fieldObjects[ir]||[];for(const{id:Rr}of _r)nr.add(Rr)}for(const ir of Object.values(this._fieldObjects))for(const _r of ir)nr.has(_r.id)===Bn&&rr.push(_r)}else for(const nr of Object.values(this._fieldObjects))rr.push(...nr);const er=this.annotationStorage,qn=[];for(const nr of rr){const{id:ir}=nr;switch(qn.push(ir),nr.type){case"text":{const Rr=nr.defaultValue||"";er.setValue(ir,{value:Rr});break}case"checkbox":case"radiobutton":{const Rr=nr.defaultValue===nr.exportValues;er.setValue(ir,{value:Rr});break}case"combobox":case"listbox":{const Rr=nr.defaultValue||"";er.setValue(ir,{value:Rr});break}default:continue}const _r=document.querySelector(`[data-element-id="${ir}"]`);if(_r){if(!rt.has(_r)){(0,h.warn)(`_bindResetFormAction - element not allowed: ${ir}`);continue}}else continue;_r.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Ar=this.linkService.eventBus)==null||Ar.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:qn,name:"ResetForm"}})),!1}}}qt=new WeakSet,Hs=function(){this.container.setAttribute("data-internal-link","")},Uu=function(jt,rn){jt.href=this.linkService.getAnchorUrl(""),jt.onclick=()=>(this.linkService.executeSetOCGState(rn),!1),cn(this,qt,Hs).call(this)};class dt extends ot{constructor(Xt){super(Xt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Xt=document.createElement("img");return Xt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Xt.alt="[{{type}} Annotation]",Xt.dataset.l10nId="text_annotation_type",Xt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Xt),this.container}}class at extends ot{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Xt){var jt;this.data.hasOwnCanvas&&(((jt=Xt.previousSibling)==null?void 0:jt.nodeName)==="CANVAS"&&(Xt.previousSibling.hidden=!0),Xt.hidden=!1)}_getKeyModifier(Xt){const{isWin:jt,isMac:rn}=h.FeatureTest.platform;return jt&&Xt.ctrlKey||rn&&Xt.metaKey}_setEventListener(Xt,jt,rn,En,wn){rn.includes("mouse")?Xt.addEventListener(rn,Fn=>{var Bn;(Bn=this.linkService.eventBus)==null||Bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:En,value:wn(Fn),shift:Fn.shiftKey,modifier:this._getKeyModifier(Fn)}})}):Xt.addEventListener(rn,Fn=>{var Bn;if(rn==="blur"){if(!jt.focused||!Fn.relatedTarget)return;jt.focused=!1}else if(rn==="focus"){if(jt.focused)return;jt.focused=!0}wn&&((Bn=this.linkService.eventBus)==null||Bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:En,value:wn(Fn)}}))})}_setEventListeners(Xt,jt,rn,En){var wn,Fn,Bn;for(const[rr,er]of rn)(er==="Action"||(wn=this.data.actions)!=null&&wn[er])&&((er==="Focus"||er==="Blur")&&(jt||(jt={focused:!1})),this._setEventListener(Xt,jt,rr,er,En),er==="Focus"&&!((Fn=this.data.actions)!=null&&Fn.Blur)?this._setEventListener(Xt,jt,"blur","Blur",null):er==="Blur"&&!((Bn=this.data.actions)!=null&&Bn.Focus)&&this._setEventListener(Xt,jt,"focus","Focus",null))}_setBackgroundColor(Xt){const jt=this.data.backgroundColor||null;Xt.style.backgroundColor=jt===null?"transparent":h.Util.makeHexColor(jt[0],jt[1],jt[2])}_setTextStyle(Xt){const jt=["left","center","right"],{fontColor:rn}=this.data.defaultAppearanceData,En=this.data.defaultAppearanceData.fontSize||nt,wn=Xt.style;let Fn;const Bn=2,rr=er=>Math.round(10*er)/10;if(this.data.multiLine){const er=Math.abs(this.data.rect[3]-this.data.rect[1]-Bn),qn=Math.round(er/(h.LINE_FACTOR*En))||1,Ar=er/qn;Fn=Math.min(En,rr(Ar/h.LINE_FACTOR))}else{const er=Math.abs(this.data.rect[3]-this.data.rect[1]-Bn);Fn=Math.min(En,rr(er/h.LINE_FACTOR))}wn.fontSize=`calc(${Fn}px * var(--scale-factor))`,wn.color=h.Util.makeHexColor(rn[0],rn[1],rn[2]),this.data.textAlignment!==null&&(wn.textAlign=jt[this.data.textAlignment])}_setRequired(Xt,jt){jt?Xt.setAttribute("required",!0):Xt.removeAttribute("required"),Xt.setAttribute("aria-required",jt)}}class ut extends at{constructor(Xt){const jt=Xt.renderForms||!Xt.data.hasAppearance&&!!Xt.data.fieldValue;super(Xt,{isRenderable:jt})}setPropertyOnSiblings(Xt,jt,rn,En){const wn=this.annotationStorage;for(const Fn of this._getElementsByName(Xt.name,Xt.id))Fn.domElement&&(Fn.domElement[jt]=rn),wn.setValue(Fn.id,{[En]:rn})}render(){var En,wn;const Xt=this.annotationStorage,jt=this.data.id;this.container.classList.add("textWidgetAnnotation");let rn=null;if(this.renderForms){const Fn=Xt.getValue(jt,{value:this.data.fieldValue});let Bn=Fn.value||"";const rr=Xt.getValue(jt,{charLimit:this.data.maxLen}).charLimit;rr&&Bn.length>rr&&(Bn=Bn.slice(0,rr));let er=Fn.formattedValue||((En=this.data.textContent)==null?void 0:En.join(`
`))||null;er&&this.data.comb&&(er=er.replaceAll(/\s+/g,""));const qn={userValue:Bn,formattedValue:er,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(rn=document.createElement("textarea"),rn.textContent=er??Bn,this.data.doNotScroll&&(rn.style.overflowY="hidden")):(rn=document.createElement("input"),rn.type="text",rn.setAttribute("value",er??Bn),this.data.doNotScroll&&(rn.style.overflowX="hidden")),this.data.hasOwnCanvas&&(rn.hidden=!0),rt.add(rn),rn.setAttribute("data-element-id",jt),rn.disabled=this.data.readOnly,rn.name=this.data.fieldName,rn.tabIndex=tt,this._setRequired(rn,this.data.required),rr&&(rn.maxLength=rr),rn.addEventListener("input",nr=>{Xt.setValue(jt,{value:nr.target.value}),this.setPropertyOnSiblings(rn,"value",nr.target.value,"value"),qn.formattedValue=null}),rn.addEventListener("resetform",nr=>{const ir=this.data.defaultFieldValue??"";rn.value=qn.userValue=ir,qn.formattedValue=null});let Ar=nr=>{const{formattedValue:ir}=qn;ir!=null&&(nr.target.value=ir),nr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){rn.addEventListener("focus",ir=>{if(qn.focused)return;const{target:_r}=ir;qn.userValue&&(_r.value=qn.userValue),qn.lastCommittedValue=_r.value,qn.commitKey=1,qn.focused=!0}),rn.addEventListener("updatefromsandbox",ir=>{this.showElementAndHideCanvas(ir.target);const _r={value(Rr){qn.userValue=Rr.detail.value??"",Xt.setValue(jt,{value:qn.userValue.toString()}),Rr.target.value=qn.userValue},formattedValue(Rr){const{formattedValue:kr}=Rr.detail;qn.formattedValue=kr,kr!=null&&Rr.target!==document.activeElement&&(Rr.target.value=kr),Xt.setValue(jt,{formattedValue:kr})},selRange(Rr){Rr.target.setSelectionRange(...Rr.detail.selRange)},charLimit:Rr=>{var Yr;const{charLimit:kr}=Rr.detail,{target:Or}=Rr;if(kr===0){Or.removeAttribute("maxLength");return}Or.setAttribute("maxLength",kr);let ss=qn.userValue;!ss||ss.length<=kr||(ss=ss.slice(0,kr),Or.value=qn.userValue=ss,Xt.setValue(jt,{value:ss}),(Yr=this.linkService.eventBus)==null||Yr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:jt,name:"Keystroke",value:ss,willCommit:!0,commitKey:1,selStart:Or.selectionStart,selEnd:Or.selectionEnd}}))}};this._dispatchEventFromSandbox(_r,ir)}),rn.addEventListener("keydown",ir=>{var kr;qn.commitKey=1;let _r=-1;if(ir.key==="Escape"?_r=0:ir.key==="Enter"&&!this.data.multiLine?_r=2:ir.key==="Tab"&&(qn.commitKey=3),_r===-1)return;const{value:Rr}=ir.target;qn.lastCommittedValue!==Rr&&(qn.lastCommittedValue=Rr,qn.userValue=Rr,(kr=this.linkService.eventBus)==null||kr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:jt,name:"Keystroke",value:Rr,willCommit:!0,commitKey:_r,selStart:ir.target.selectionStart,selEnd:ir.target.selectionEnd}}))});const nr=Ar;Ar=null,rn.addEventListener("blur",ir=>{var Rr;if(!qn.focused||!ir.relatedTarget)return;qn.focused=!1;const{value:_r}=ir.target;qn.userValue=_r,qn.lastCommittedValue!==_r&&((Rr=this.linkService.eventBus)==null||Rr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:jt,name:"Keystroke",value:_r,willCommit:!0,commitKey:qn.commitKey,selStart:ir.target.selectionStart,selEnd:ir.target.selectionEnd}})),nr(ir)}),(wn=this.data.actions)!=null&&wn.Keystroke&&rn.addEventListener("beforeinput",ir=>{var hs;qn.lastCommittedValue=null;const{data:_r,target:Rr}=ir,{value:kr,selectionStart:Or,selectionEnd:ss}=Rr;let Yr=Or,ds=ss;switch(ir.inputType){case"deleteWordBackward":{const ps=kr.substring(0,Or).match(/\w*[^\w]*$/);ps&&(Yr-=ps[0].length);break}case"deleteWordForward":{const ps=kr.substring(Or).match(/^[^\w]*\w*/);ps&&(ds+=ps[0].length);break}case"deleteContentBackward":Or===ss&&(Yr-=1);break;case"deleteContentForward":Or===ss&&(ds+=1);break}ir.preventDefault(),(hs=this.linkService.eventBus)==null||hs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:jt,name:"Keystroke",value:kr,change:_r||"",willCommit:!1,selStart:Yr,selEnd:ds}})}),this._setEventListeners(rn,qn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ir=>ir.target.value)}if(Ar&&rn.addEventListener("blur",Ar),this.data.comb){const ir=(this.data.rect[2]-this.data.rect[0])/rr;rn.classList.add("comb"),rn.style.letterSpacing=`calc(${ir}px * var(--scale-factor) - 1ch)`}}else rn=document.createElement("div"),rn.textContent=this.data.fieldValue,rn.style.verticalAlign="middle",rn.style.display="table-cell";return this._setTextStyle(rn),this._setBackgroundColor(rn),this._setDefaultPropertiesFromJS(rn),this.container.append(rn),this.container}}class pt extends at{constructor(Xt){super(Xt,{isRenderable:!!Xt.data.hasOwnCanvas})}}class vt extends at{constructor(Xt){super(Xt,{isRenderable:Xt.renderForms})}render(){const Xt=this.annotationStorage,jt=this.data,rn=jt.id;let En=Xt.getValue(rn,{value:jt.exportValue===jt.fieldValue}).value;typeof En=="string"&&(En=En!=="Off",Xt.setValue(rn,{value:En})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const wn=document.createElement("input");return rt.add(wn),wn.setAttribute("data-element-id",rn),wn.disabled=jt.readOnly,this._setRequired(wn,this.data.required),wn.type="checkbox",wn.name=jt.fieldName,En&&wn.setAttribute("checked",!0),wn.setAttribute("exportValue",jt.exportValue),wn.tabIndex=tt,wn.addEventListener("change",Fn=>{const{name:Bn,checked:rr}=Fn.target;for(const er of this._getElementsByName(Bn,rn)){const qn=rr&&er.exportValue===jt.exportValue;er.domElement&&(er.domElement.checked=qn),Xt.setValue(er.id,{value:qn})}Xt.setValue(rn,{value:rr})}),wn.addEventListener("resetform",Fn=>{const Bn=jt.defaultFieldValue||"Off";Fn.target.checked=Bn===jt.exportValue}),this.enableScripting&&this.hasJSActions&&(wn.addEventListener("updatefromsandbox",Fn=>{const Bn={value(rr){rr.target.checked=rr.detail.value!=="Off",Xt.setValue(rn,{value:rr.target.checked})}};this._dispatchEventFromSandbox(Bn,Fn)}),this._setEventListeners(wn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Fn=>Fn.target.checked)),this._setBackgroundColor(wn),this._setDefaultPropertiesFromJS(wn),this.container.append(wn),this.container}}class ht extends at{constructor(Xt){super(Xt,{isRenderable:Xt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Xt=this.annotationStorage,jt=this.data,rn=jt.id;let En=Xt.getValue(rn,{value:jt.fieldValue===jt.buttonValue}).value;typeof En=="string"&&(En=En!==jt.buttonValue,Xt.setValue(rn,{value:En}));const wn=document.createElement("input");if(rt.add(wn),wn.setAttribute("data-element-id",rn),wn.disabled=jt.readOnly,this._setRequired(wn,this.data.required),wn.type="radio",wn.name=jt.fieldName,En&&wn.setAttribute("checked",!0),wn.tabIndex=tt,wn.addEventListener("change",Fn=>{const{name:Bn,checked:rr}=Fn.target;for(const er of this._getElementsByName(Bn,rn))Xt.setValue(er.id,{value:!1});Xt.setValue(rn,{value:rr})}),wn.addEventListener("resetform",Fn=>{const Bn=jt.defaultFieldValue;Fn.target.checked=Bn!=null&&Bn===jt.buttonValue}),this.enableScripting&&this.hasJSActions){const Fn=jt.buttonValue;wn.addEventListener("updatefromsandbox",Bn=>{const rr={value:er=>{const qn=Fn===er.detail.value;for(const Ar of this._getElementsByName(er.target.name)){const nr=qn&&Ar.id===rn;Ar.domElement&&(Ar.domElement.checked=nr),Xt.setValue(Ar.id,{value:nr})}}};this._dispatchEventFromSandbox(rr,Bn)}),this._setEventListeners(wn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Bn=>Bn.target.checked)}return this._setBackgroundColor(wn),this._setDefaultPropertiesFromJS(wn),this.container.append(wn),this.container}}class yt extends lt{constructor(Xt){super(Xt,{ignoreBorder:Xt.data.hasAppearance})}render(){const Xt=super.render();Xt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Xt.title=this.data.alternativeText);const jt=Xt.lastChild;return this.enableScripting&&this.hasJSActions&&jt&&(this._setDefaultPropertiesFromJS(jt),jt.addEventListener("updatefromsandbox",rn=>{this._dispatchEventFromSandbox({},rn)})),Xt}}class gt extends at{constructor(Xt){super(Xt,{isRenderable:Xt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Xt=this.annotationStorage,jt=this.data.id,rn=Xt.getValue(jt,{value:this.data.fieldValue}),En=document.createElement("select");rt.add(En),En.setAttribute("data-element-id",jt),En.disabled=this.data.readOnly,this._setRequired(En,this.data.required),En.name=this.data.fieldName,En.tabIndex=tt;let wn=this.data.combo&&this.data.options.length>0;this.data.combo||(En.size=this.data.options.length,this.data.multiSelect&&(En.multiple=!0)),En.addEventListener("resetform",qn=>{const Ar=this.data.defaultFieldValue;for(const nr of En.options)nr.selected=nr.value===Ar});for(const qn of this.data.options){const Ar=document.createElement("option");Ar.textContent=qn.displayValue,Ar.value=qn.exportValue,rn.value.includes(qn.exportValue)&&(Ar.setAttribute("selected",!0),wn=!1),En.append(Ar)}let Fn=null;if(wn){const qn=document.createElement("option");qn.value=" ",qn.setAttribute("hidden",!0),qn.setAttribute("selected",!0),En.prepend(qn),Fn=()=>{qn.remove(),En.removeEventListener("input",Fn),Fn=null},En.addEventListener("input",Fn)}const Bn=qn=>{const Ar=qn?"value":"textContent",{options:nr,multiple:ir}=En;return ir?Array.prototype.filter.call(nr,_r=>_r.selected).map(_r=>_r[Ar]):nr.selectedIndex===-1?null:nr[nr.selectedIndex][Ar]};let rr=Bn(!1);const er=qn=>{const Ar=qn.target.options;return Array.prototype.map.call(Ar,nr=>({displayValue:nr.textContent,exportValue:nr.value}))};return this.enableScripting&&this.hasJSActions?(En.addEventListener("updatefromsandbox",qn=>{const Ar={value(nr){Fn==null||Fn();const ir=nr.detail.value,_r=new Set(Array.isArray(ir)?ir:[ir]);for(const Rr of En.options)Rr.selected=_r.has(Rr.value);Xt.setValue(jt,{value:Bn(!0)}),rr=Bn(!1)},multipleSelection(nr){En.multiple=!0},remove(nr){const ir=En.options,_r=nr.detail.remove;ir[_r].selected=!1,En.remove(_r),ir.length>0&&Array.prototype.findIndex.call(ir,kr=>kr.selected)===-1&&(ir[0].selected=!0),Xt.setValue(jt,{value:Bn(!0),items:er(nr)}),rr=Bn(!1)},clear(nr){for(;En.length!==0;)En.remove(0);Xt.setValue(jt,{value:null,items:[]}),rr=Bn(!1)},insert(nr){const{index:ir,displayValue:_r,exportValue:Rr}=nr.detail.insert,kr=En.children[ir],Or=document.createElement("option");Or.textContent=_r,Or.value=Rr,kr?kr.before(Or):En.append(Or),Xt.setValue(jt,{value:Bn(!0),items:er(nr)}),rr=Bn(!1)},items(nr){const{items:ir}=nr.detail;for(;En.length!==0;)En.remove(0);for(const _r of ir){const{displayValue:Rr,exportValue:kr}=_r,Or=document.createElement("option");Or.textContent=Rr,Or.value=kr,En.append(Or)}En.options.length>0&&(En.options[0].selected=!0),Xt.setValue(jt,{value:Bn(!0),items:er(nr)}),rr=Bn(!1)},indices(nr){const ir=new Set(nr.detail.indices);for(const _r of nr.target.options)_r.selected=ir.has(_r.index);Xt.setValue(jt,{value:Bn(!0)}),rr=Bn(!1)},editable(nr){nr.target.disabled=!nr.detail.editable}};this._dispatchEventFromSandbox(Ar,qn)}),En.addEventListener("input",qn=>{var nr;const Ar=Bn(!0);Xt.setValue(jt,{value:Ar}),qn.preventDefault(),(nr=this.linkService.eventBus)==null||nr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:jt,name:"Keystroke",value:rr,changeEx:Ar,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(En,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],qn=>qn.target.value)):En.addEventListener("input",function(qn){Xt.setValue(jt,{value:Bn(!0)})}),this.data.combo&&this._setTextStyle(En),this._setBackgroundColor(En),this._setDefaultPropertiesFromJS(En),this.container.append(En),this.container}}class ft extends ot{constructor(Xt){const{data:jt,elements:rn}=Xt;super(Xt,{isRenderable:ot._hasPopupData(jt)}),this.elements=rn}render(){this.container.classList.add("popupAnnotation");const Xt=new _t({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),jt=[];for(const rn of this.elements)rn.popup=Xt,jt.push(rn.data.id),rn.addHighlightArea();return this.container.setAttribute("aria-controls",jt.map(rn=>`${h.AnnotationPrefix}${rn}`).join(",")),this.container}}class _t{constructor({container:Xt,color:jt,elements:rn,titleObj:En,modificationDate:wn,contentsObj:Fn,richText:Bn,parent:rr,rect:er,parentRect:qn,open:Ar}){Sn(this,jn);Sn(this,vn,null);Sn(this,Tn,cn(this,jn,zu).bind(this));Sn(this,Pn,cn(this,jn,au).bind(this));Sn(this,In,cn(this,jn,su).bind(this));Sn(this,On,cn(this,jn,Go).bind(this));Sn(this,Mn,null);Sn(this,mn,null);Sn(this,yn,null);Sn(this,Vt,null);Sn(this,Zt,null);Sn(this,un,null);Sn(this,bn,!1);Sn(this,Rn,null);Sn(this,Nn,null);Sn(this,kn,null);Sn(this,dn,null);Sn(this,Un,!1);var ir;xn(this,mn,Xt),xn(this,dn,En),xn(this,yn,Fn),xn(this,kn,Bn),xn(this,Zt,rr),xn(this,Mn,jt),xn(this,Nn,er),xn(this,un,qn),xn(this,Vt,rn);const nr=g.PDFDateString.toDateObject(wn);nr&&xn(this,vn,rr.l10n.get("annotation_date_string",{date:nr.toLocaleDateString(),time:nr.toLocaleTimeString()})),this.trigger=rn.flatMap(_r=>_r.getElementsToTriggerPopup());for(const _r of this.trigger)_r.addEventListener("click",Tt(this,On)),_r.addEventListener("mouseenter",Tt(this,In)),_r.addEventListener("mouseleave",Tt(this,Pn)),_r.classList.add("popupTriggerArea");for(const _r of rn)(ir=_r.container)==null||ir.addEventListener("keydown",Tt(this,Tn));Tt(this,mn).hidden=!0,Ar&&cn(this,jn,Go).call(this)}render(){if(Tt(this,Rn))return;const{page:{view:Xt},viewport:{rawDims:{pageWidth:jt,pageHeight:rn,pageX:En,pageY:wn}}}=Tt(this,Zt),Fn=xn(this,Rn,document.createElement("div"));if(Fn.className="popup",Tt(this,Mn)){const Yr=Fn.style.outlineColor=h.Util.makeHexColor(...Tt(this,Mn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Fn.style.backgroundColor=`color-mix(in srgb, ${Yr} 30%, white)`:Fn.style.backgroundColor=h.Util.makeHexColor(...Tt(this,Mn).map(hs=>Math.floor(.7*(255-hs)+hs)))}const Bn=document.createElement("span");Bn.className="header";const rr=document.createElement("h1");if(Bn.append(rr),{dir:rr.dir,str:rr.textContent}=Tt(this,dn),Fn.append(Bn),Tt(this,vn)){const Yr=document.createElement("span");Yr.classList.add("popupDate"),Tt(this,vn).then(ds=>{Yr.textContent=ds}),Bn.append(Yr)}const er=Tt(this,yn),qn=Tt(this,kn);if(qn!=null&&qn.str&&(!(er!=null&&er.str)||er.str===qn.str))et.XfaLayer.render({xfaHtml:qn.html,intent:"richText",div:Fn}),Fn.lastChild.classList.add("richText","popupContent");else{const Yr=this._formatContents(er);Fn.append(Yr)}let Ar=!!Tt(this,un),nr=Ar?Tt(this,un):Tt(this,Nn);for(const Yr of Tt(this,Vt))if(!nr||h.Util.intersect(Yr.data.rect,nr)!==null){nr=Yr.data.rect,Ar=!0;break}const ir=h.Util.normalizeRect([nr[0],Xt[3]-nr[1]+Xt[1],nr[2],Xt[3]-nr[3]+Xt[1]]),Rr=Ar?nr[2]-nr[0]+5:0,kr=ir[0]+Rr,Or=ir[1],{style:ss}=Tt(this,mn);ss.left=`${100*(kr-En)/jt}%`,ss.top=`${100*(Or-wn)/rn}%`,Tt(this,mn).append(Fn)}_formatContents({str:Xt,dir:jt}){const rn=document.createElement("p");rn.classList.add("popupContent"),rn.dir=jt;const En=Xt.split(/(?:\r\n?|\n)/);for(let wn=0,Fn=En.length;wn<Fn;++wn){const Bn=En[wn];rn.append(document.createTextNode(Bn)),wn<Fn-1&&rn.append(document.createElement("br"))}return rn}forceHide(){xn(this,Un,this.isVisible),Tt(this,Un)&&(Tt(this,mn).hidden=!0)}maybeShow(){Tt(this,Un)&&(xn(this,Un,!1),Tt(this,mn).hidden=!1)}get isVisible(){return Tt(this,mn).hidden===!1}}vn=new WeakMap,Tn=new WeakMap,Pn=new WeakMap,In=new WeakMap,On=new WeakMap,Mn=new WeakMap,mn=new WeakMap,yn=new WeakMap,Vt=new WeakMap,Zt=new WeakMap,un=new WeakMap,bn=new WeakMap,Rn=new WeakMap,Nn=new WeakMap,kn=new WeakMap,dn=new WeakMap,Un=new WeakMap,jn=new WeakSet,zu=function(Xt){Xt.altKey||Xt.shiftKey||Xt.ctrlKey||Xt.metaKey||(Xt.key==="Enter"||Xt.key==="Escape"&&Tt(this,bn))&&cn(this,jn,Go).call(this)},Go=function(){xn(this,bn,!Tt(this,bn)),Tt(this,bn)?(cn(this,jn,su).call(this),Tt(this,mn).addEventListener("click",Tt(this,On)),Tt(this,mn).addEventListener("keydown",Tt(this,Tn))):(cn(this,jn,au).call(this),Tt(this,mn).removeEventListener("click",Tt(this,On)),Tt(this,mn).removeEventListener("keydown",Tt(this,Tn)))},su=function(){Tt(this,Rn)||this.render(),this.isVisible?Tt(this,bn)&&Tt(this,mn).classList.add("focused"):(Tt(this,mn).hidden=!1,Tt(this,mn).style.zIndex=parseInt(Tt(this,mn).style.zIndex)+1e3)},au=function(){Tt(this,mn).classList.remove("focused"),!(Tt(this,bn)||!this.isVisible)&&(Tt(this,mn).hidden=!0,Tt(this,mn).style.zIndex=parseInt(Tt(this,mn).style.zIndex)-1e3)};class Et extends ot{constructor(Xt){super(Xt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Xt.data.textContent,this.textPosition=Xt.data.textPosition,this.annotationEditorType=h.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Xt=document.createElement("div");Xt.classList.add("annotationTextContent"),Xt.setAttribute("role","comment");for(const jt of this.textContent){const rn=document.createElement("span");rn.textContent=jt,Xt.append(rn)}this.container.append(Xt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=Et;class mt extends ot{constructor(jt){super(jt,{isRenderable:!0,ignoreBorder:!0});Sn(this,ar,null)}render(){this.container.classList.add("lineAnnotation");const jt=this.data,{width:rn,height:En}=it(jt.rect),wn=this.svgFactory.create(rn,En,!0),Fn=xn(this,ar,this.svgFactory.createElement("svg:line"));return Fn.setAttribute("x1",jt.rect[2]-jt.lineCoordinates[0]),Fn.setAttribute("y1",jt.rect[3]-jt.lineCoordinates[1]),Fn.setAttribute("x2",jt.rect[2]-jt.lineCoordinates[2]),Fn.setAttribute("y2",jt.rect[3]-jt.lineCoordinates[3]),Fn.setAttribute("stroke-width",jt.borderStyle.width||1),Fn.setAttribute("stroke","transparent"),Fn.setAttribute("fill","transparent"),wn.append(Fn),this.container.append(wn),!jt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Tt(this,ar)}addHighlightArea(){this.container.classList.add("highlightArea")}}ar=new WeakMap;class xt extends ot{constructor(jt){super(jt,{isRenderable:!0,ignoreBorder:!0});Sn(this,xr,null)}render(){this.container.classList.add("squareAnnotation");const jt=this.data,{width:rn,height:En}=it(jt.rect),wn=this.svgFactory.create(rn,En,!0),Fn=jt.borderStyle.width,Bn=xn(this,xr,this.svgFactory.createElement("svg:rect"));return Bn.setAttribute("x",Fn/2),Bn.setAttribute("y",Fn/2),Bn.setAttribute("width",rn-Fn),Bn.setAttribute("height",En-Fn),Bn.setAttribute("stroke-width",Fn||1),Bn.setAttribute("stroke","transparent"),Bn.setAttribute("fill","transparent"),wn.append(Bn),this.container.append(wn),!jt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Tt(this,xr)}addHighlightArea(){this.container.classList.add("highlightArea")}}xr=new WeakMap;class St extends ot{constructor(jt){super(jt,{isRenderable:!0,ignoreBorder:!0});Sn(this,Fr,null)}render(){this.container.classList.add("circleAnnotation");const jt=this.data,{width:rn,height:En}=it(jt.rect),wn=this.svgFactory.create(rn,En,!0),Fn=jt.borderStyle.width,Bn=xn(this,Fr,this.svgFactory.createElement("svg:ellipse"));return Bn.setAttribute("cx",rn/2),Bn.setAttribute("cy",En/2),Bn.setAttribute("rx",rn/2-Fn/2),Bn.setAttribute("ry",En/2-Fn/2),Bn.setAttribute("stroke-width",Fn||1),Bn.setAttribute("stroke","transparent"),Bn.setAttribute("fill","transparent"),wn.append(Bn),this.container.append(wn),!jt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Tt(this,Fr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fr=new WeakMap;class Ut extends ot{constructor(jt){super(jt,{isRenderable:!0,ignoreBorder:!0});Sn(this,Dn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const jt=this.data,{width:rn,height:En}=it(jt.rect),wn=this.svgFactory.create(rn,En,!0);let Fn=[];for(const rr of jt.vertices){const er=rr.x-jt.rect[0],qn=jt.rect[3]-rr.y;Fn.push(er+","+qn)}Fn=Fn.join(" ");const Bn=xn(this,Dn,this.svgFactory.createElement(this.svgElementName));return Bn.setAttribute("points",Fn),Bn.setAttribute("stroke-width",jt.borderStyle.width||1),Bn.setAttribute("stroke","transparent"),Bn.setAttribute("fill","transparent"),wn.append(Bn),this.container.append(wn),!jt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Tt(this,Dn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dn=new WeakMap;class kt extends Ut{constructor(Xt){super(Xt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Bt extends ot{constructor(Xt){super(Xt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class $t extends ot{constructor(jt){super(jt,{isRenderable:!0,ignoreBorder:!0});Sn(this,hn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=h.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const jt=this.data,{width:rn,height:En}=it(jt.rect),wn=this.svgFactory.create(rn,En,!0);for(const Fn of jt.inkLists){let Bn=[];for(const er of Fn){const qn=er.x-jt.rect[0],Ar=jt.rect[3]-er.y;Bn.push(`${qn},${Ar}`)}Bn=Bn.join(" ");const rr=this.svgFactory.createElement(this.svgElementName);Tt(this,hn).push(rr),rr.setAttribute("points",Bn),rr.setAttribute("stroke-width",jt.borderStyle.width||1),rr.setAttribute("stroke","transparent"),rr.setAttribute("fill","transparent"),!jt.popupRef&&this.hasPopupData&&this._createPopup(),wn.append(rr)}return this.container.append(wn),this.container}getElementsToTriggerPopup(){return Tt(this,hn)}addHighlightArea(){this.container.classList.add("highlightArea")}}hn=new WeakMap,e.InkAnnotationElement=$t;class Gt extends ot{constructor(Xt){super(Xt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Ft extends ot{constructor(Xt){super(Xt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Wt extends ot{constructor(Xt){super(Xt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class tn extends ot{constructor(Xt){super(Xt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Lt extends ot{constructor(Xt){super(Xt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=Lt;class Rt extends ot{constructor(jt){var wn;super(jt,{isRenderable:!0});Sn(this,Yn);Sn(this,pn,null);const{filename:rn,content:En}=this.data.file;this.filename=(0,g.getFilenameFromUrl)(rn,!0),this.content=En,(wn=this.linkService.eventBus)==null||wn.dispatch("fileattachmentannotation",{source:this,filename:rn,content:En})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:jt,data:rn}=this;let En;rn.hasAppearance||rn.fillAlpha===0?En=document.createElement("div"):(En=document.createElement("img"),En.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(rn.name)?"paperclip":"pushpin"}.svg`,rn.fillAlpha&&rn.fillAlpha<1&&(En.style=`filter: opacity(${Math.round(rn.fillAlpha*100)}%);`)),En.addEventListener("dblclick",cn(this,Yn,ou).bind(this)),xn(this,pn,En);const{isMac:wn}=h.FeatureTest.platform;return jt.addEventListener("keydown",Fn=>{Fn.key==="Enter"&&(wn?Fn.metaKey:Fn.ctrlKey)&&cn(this,Yn,ou).call(this)}),!rn.popupRef&&this.hasPopupData?this._createPopup():En.classList.add("popupTriggerArea"),jt.append(En),jt}getElementsToTriggerPopup(){return Tt(this,pn)}addHighlightArea(){this.container.classList.add("highlightArea")}}pn=new WeakMap,Yn=new WeakSet,ou=function(){var jt;(jt=this.downloadManager)==null||jt.openOrDownloadData(this.container,this.content,this.filename)};class It{constructor({div:Xt,accessibilityManager:jt,annotationCanvasMap:rn,l10n:En,page:wn,viewport:Fn}){Sn(this,Hn);Sn(this,hr,null);Sn(this,Yt,null);Sn(this,Cn,new Map);this.div=Xt,xn(this,hr,jt),xn(this,Yt,rn),this.l10n=En,this.page=wn,this.viewport=Fn,this.zIndex=0,this.l10n||(this.l10n=$.NullL10n)}async render(Xt){const{annotations:jt}=Xt,rn=this.div;(0,g.setLayerDimensions)(rn,this.viewport);const En=new Map,wn={data:null,layer:rn,linkService:Xt.linkService,downloadManager:Xt.downloadManager,imageResourcesPath:Xt.imageResourcesPath||"",renderForms:Xt.renderForms!==!1,svgFactory:new g.DOMSVGFactory,annotationStorage:Xt.annotationStorage||new _.AnnotationStorage,enableScripting:Xt.enableScripting===!0,hasJSActions:Xt.hasJSActions,fieldObjects:Xt.fieldObjects,parent:this,elements:null};for(const Fn of jt){if(Fn.noHTML)continue;const Bn=Fn.annotationType===h.AnnotationType.POPUP;if(Bn){const qn=En.get(Fn.id);if(!qn)continue;wn.elements=qn}else{const{width:qn,height:Ar}=it(Fn.rect);if(qn<=0||Ar<=0)continue}wn.data=Fn;const rr=st.create(wn);if(!rr.isRenderable)continue;if(!Bn&&Fn.popupRef){const qn=En.get(Fn.popupRef);qn?qn.push(rr):En.set(Fn.popupRef,[rr])}rr.annotationEditorType>0&&Tt(this,Cn).set(rr.data.id,rr);const er=rr.render();Fn.hidden&&(er.style.visibility="hidden"),cn(this,Hn,Hu).call(this,er,Fn.id)}cn(this,Hn,lu).call(this),await this.l10n.translate(rn)}update({viewport:Xt}){const jt=this.div;this.viewport=Xt,(0,g.setLayerDimensions)(jt,{rotation:Xt.rotation}),cn(this,Hn,lu).call(this),jt.hidden=!1}getEditableAnnotations(){return Array.from(Tt(this,Cn).values())}getEditableAnnotation(Xt){return Tt(this,Cn).get(Xt)}}hr=new WeakMap,Yt=new WeakMap,Cn=new WeakMap,Hn=new WeakSet,Hu=function(Xt,jt){var En;const rn=Xt.firstChild||Xt;rn.id=`${h.AnnotationPrefix}${jt}`,this.div.append(Xt),(En=Tt(this,hr))==null||En.moveElementInDOM(this.div,Xt,rn,!1)},lu=function(){if(!Tt(this,Yt))return;const Xt=this.div;for(const[jt,rn]of Tt(this,Yt)){const En=Xt.querySelector(`[data-annotation-id="${jt}"]`);if(!En)continue;const{firstChild:wn}=En;wn?wn.nodeName==="CANVAS"?wn.replaceWith(rn):wn.before(rn):En.append(rn)}Tt(this,Yt).clear()},e.AnnotationLayer=It},(s,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function d(_){return Math.floor(Math.max(0,Math.min(1,_))*255).toString(16).padStart(2,"0")}function h(_){return Math.max(0,Math.min(255,255*_))}class g{static CMYK_G([j,$,et,tt]){return["G",1-Math.min(1,.3*j+.59*et+.11*$+tt)]}static G_CMYK([j]){return["CMYK",0,0,0,1-j]}static G_RGB([j]){return["RGB",j,j,j]}static G_rgb([j]){return j=h(j),[j,j,j]}static G_HTML([j]){const $=d(j);return`#${$}${$}${$}`}static RGB_G([j,$,et]){return["G",.3*j+.59*$+.11*et]}static RGB_rgb(j){return j.map(h)}static RGB_HTML(j){return`#${j.map(d).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([j,$,et,tt]){return["RGB",1-Math.min(1,j+tt),1-Math.min(1,et+tt),1-Math.min(1,$+tt)]}static CMYK_rgb([j,$,et,tt]){return[h(1-Math.min(1,j+tt)),h(1-Math.min(1,et+tt)),h(1-Math.min(1,$+tt))]}static CMYK_HTML(j){const $=this.CMYK_RGB(j).slice(1);return this.RGB_HTML($)}static RGB_CMYK([j,$,et]){const tt=1-j,nt=1-$,rt=1-et,it=Math.min(tt,nt,rt);return["CMYK",tt,nt,rt,it]}}e.ColorConverters=g},(s,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=h;const d={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};d.print_progress_percent="{{progress}}%";function h(j,$){switch(j){case"find_match_count":j=`find_match_count[${$.total===1?"one":"other"}]`;break;case"find_match_count_limit":j=`find_match_count_limit[${$.limit===1?"one":"other"}]`;break}return d[j]||""}function g(j,$){return $?j.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(et,tt)=>tt in $?$[tt]:"{{"+tt+"}}"):j}const _={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(j,$=null,et=h(j,$)){return g(et,$)},async translate(j){}};e.NullL10n=_},(s,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var h=d(25);class g{static setupStorage(j,$,et,tt,nt){const rt=tt.getValue($,{value:null});switch(et.name){case"textarea":if(rt.value!==null&&(j.textContent=rt.value),nt==="print")break;j.addEventListener("input",it=>{tt.setValue($,{value:it.target.value})});break;case"input":if(et.attributes.type==="radio"||et.attributes.type==="checkbox"){if(rt.value===et.attributes.xfaOn?j.setAttribute("checked",!0):rt.value===et.attributes.xfaOff&&j.removeAttribute("checked"),nt==="print")break;j.addEventListener("change",it=>{tt.setValue($,{value:it.target.checked?it.target.getAttribute("xfaOn"):it.target.getAttribute("xfaOff")})})}else{if(rt.value!==null&&j.setAttribute("value",rt.value),nt==="print")break;j.addEventListener("input",it=>{tt.setValue($,{value:it.target.value})})}break;case"select":if(rt.value!==null){j.setAttribute("value",rt.value);for(const it of et.children)it.attributes.value===rt.value?it.attributes.selected=!0:it.attributes.hasOwnProperty("selected")&&delete it.attributes.selected}j.addEventListener("input",it=>{const st=it.target.options,ot=st.selectedIndex===-1?"":st[st.selectedIndex].value;tt.setValue($,{value:ot})});break}}static setAttributes({html:j,element:$,storage:et=null,intent:tt,linkService:nt}){const{attributes:rt}=$,it=j instanceof HTMLAnchorElement;rt.type==="radio"&&(rt.name=`${rt.name}-${tt}`);for(const[st,ot]of Object.entries(rt))if(ot!=null)switch(st){case"class":ot.length&&j.setAttribute(st,ot.join(" "));break;case"dataId":break;case"id":j.setAttribute("data-element-id",ot);break;case"style":Object.assign(j.style,ot);break;case"textContent":j.textContent=ot;break;default:(!it||st!=="href"&&st!=="newWindow")&&j.setAttribute(st,ot)}it&&nt.addLinkAttributes(j,rt.href,rt.newWindow),et&&rt.dataId&&this.setupStorage(j,rt.dataId,$,et)}static render(j){var lt;const $=j.annotationStorage,et=j.linkService,tt=j.xfaHtml,nt=j.intent||"display",rt=document.createElement(tt.name);tt.attributes&&this.setAttributes({html:rt,element:tt,intent:nt,linkService:et});const it=[[tt,-1,rt]],st=j.div;if(st.append(rt),j.viewport){const dt=`matrix(${j.viewport.transform.join(",")})`;st.style.transform=dt}nt!=="richText"&&st.setAttribute("class","xfaLayer xfaFont");const ot=[];for(;it.length>0;){const[dt,at,ut]=it.at(-1);if(at+1===dt.children.length){it.pop();continue}const pt=dt.children[++it.at(-1)[1]];if(pt===null)continue;const{name:vt}=pt;if(vt==="#text"){const yt=document.createTextNode(pt.value);ot.push(yt),ut.append(yt);continue}const ht=(lt=pt==null?void 0:pt.attributes)!=null&&lt.xmlns?document.createElementNS(pt.attributes.xmlns,vt):document.createElement(vt);if(ut.append(ht),pt.attributes&&this.setAttributes({html:ht,element:pt,storage:$,intent:nt,linkService:et}),pt.children&&pt.children.length>0)it.push([pt,-1,ht]);else if(pt.value){const yt=document.createTextNode(pt.value);h.XfaText.shouldBuildText(vt)&&ot.push(yt),ht.append(yt)}}for(const dt of st.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))dt.setAttribute("readOnly",!0);return{textDivs:ot}}static update(j){const $=`matrix(${j.viewport.transform.join(",")})`;j.div.style.transform=$,j.div.hidden=!1}}e.XfaLayer=g},(s,e,d)=>{var tt,nt,rt,it,st,ot,lt,dt,at,ut,pt,vt,ht,yt,gt,Wu,Gu,Ku,qu,cu,Xu,uu,Zu,Yu,Qu,Ju,_d,Ts,du,Ko,qo,ba,hu,Xo,qt,_h,fu,_f,ep,pu,Zo,xa;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0;var h=d(1),g=d(4),_=d(29),j=d(6),$=d(5);const Mn=class Mn extends g.AnnotationEditor{constructor(Vt){super({...Vt,name:"inkEditor"});Sn(this,gt);Sn(this,tt,0);Sn(this,nt,0);Sn(this,rt,this.canvasPointermove.bind(this));Sn(this,it,this.canvasPointerleave.bind(this));Sn(this,st,this.canvasPointerup.bind(this));Sn(this,ot,this.canvasPointerdown.bind(this));Sn(this,lt,new Path2D);Sn(this,dt,!1);Sn(this,at,!1);Sn(this,ut,!1);Sn(this,pt,null);Sn(this,vt,0);Sn(this,ht,0);Sn(this,yt,null);this.color=Vt.color||null,this.thickness=Vt.thickness||null,this.opacity=Vt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Vt){g.AnnotationEditor.initialize(Vt,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Vt,Zt){switch(Vt){case h.AnnotationEditorParamsType.INK_THICKNESS:Mn._defaultThickness=Zt;break;case h.AnnotationEditorParamsType.INK_COLOR:Mn._defaultColor=Zt;break;case h.AnnotationEditorParamsType.INK_OPACITY:Mn._defaultOpacity=Zt/100;break}}updateParams(Vt,Zt){switch(Vt){case h.AnnotationEditorParamsType.INK_THICKNESS:cn(this,gt,Wu).call(this,Zt);break;case h.AnnotationEditorParamsType.INK_COLOR:cn(this,gt,Gu).call(this,Zt);break;case h.AnnotationEditorParamsType.INK_OPACITY:cn(this,gt,Ku).call(this,Zt);break}}static get defaultPropertiesToUpdate(){return[[h.AnnotationEditorParamsType.INK_THICKNESS,Mn._defaultThickness],[h.AnnotationEditorParamsType.INK_COLOR,Mn._defaultColor||g.AnnotationEditor._defaultLineColor],[h.AnnotationEditorParamsType.INK_OPACITY,Math.round(Mn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[h.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Mn._defaultThickness],[h.AnnotationEditorParamsType.INK_COLOR,this.color||Mn._defaultColor||g.AnnotationEditor._defaultLineColor],[h.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Mn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(cn(this,gt,Ko).call(this),cn(this,gt,qo).call(this)),this.isAttachedToDOM||(this.parent.add(this),cn(this,gt,ba).call(this)),cn(this,gt,xa).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Tt(this,pt).disconnect(),xn(this,pt,null),super.remove())}setParent(Vt){!this.parent&&Vt?this._uiManager.removeShouldRescale(this):this.parent&&Vt===null&&this._uiManager.addShouldRescale(this),super.setParent(Vt)}onScaleChanging(){const[Vt,Zt]=this.parentDimensions,un=this.width*Vt,bn=this.height*Zt;this.setDimensions(un,bn)}enableEditMode(){Tt(this,dt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Tt(this,ot)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Tt(this,ot)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Tt(this,dt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),xn(this,dt,!0),this.div.classList.add("disabled"),cn(this,gt,xa).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Vt){this._focusEventsAllowed&&(super.focusin(Vt),this.enableEditMode())}canvasPointerdown(Vt){Vt.button!==0||!this.isInEditMode()||Tt(this,dt)||(this.setInForeground(),Vt.preventDefault(),Vt.type!=="mouse"&&this.div.focus(),cn(this,gt,Xu).call(this,Vt.offsetX,Vt.offsetY))}canvasPointermove(Vt){Vt.preventDefault(),cn(this,gt,uu).call(this,Vt.offsetX,Vt.offsetY)}canvasPointerup(Vt){Vt.preventDefault(),cn(this,gt,du).call(this,Vt)}canvasPointerleave(Vt){cn(this,gt,du).call(this,Vt)}get isResizable(){return!this.isEmpty()&&Tt(this,dt)}render(){if(this.div)return this.div;let Vt,Zt;this.width&&(Vt=this.x,Zt=this.y),super.render(),g.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(kn=>{var dn;return(dn=this.div)==null?void 0:dn.setAttribute("aria-label",kn)});const[un,bn,Rn,Nn]=cn(this,gt,qu).call(this);if(this.setAt(un,bn,0,0),this.setDims(Rn,Nn),cn(this,gt,Ko).call(this),this.width){const[kn,dn]=this.parentDimensions;this.setAspectRatio(this.width*kn,this.height*dn),this.setAt(Vt*kn,Zt*dn,this.width*kn,this.height*dn),xn(this,ut,!0),cn(this,gt,ba).call(this),this.setDims(this.width*kn,this.height*dn),cn(this,gt,Ts).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return cn(this,gt,qo).call(this),this.div}setDimensions(Vt,Zt){const un=Math.round(Vt),bn=Math.round(Zt);if(Tt(this,vt)===un&&Tt(this,ht)===bn)return;xn(this,vt,un),xn(this,ht,bn),this.canvas.style.visibility="hidden";const[Rn,Nn]=this.parentDimensions;this.width=Vt/Rn,this.height=Zt/Nn,this.fixAndSetPosition(),Tt(this,dt)&&cn(this,gt,hu).call(this,Vt,Zt),cn(this,gt,ba).call(this),cn(this,gt,Ts).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Vt,Zt,un){var ar,xr,Fr;if(Vt instanceof _.InkAnnotationElement)return null;const bn=super.deserialize(Vt,Zt,un);bn.thickness=Vt.thickness,bn.color=h.Util.makeHexColor(...Vt.color),bn.opacity=Vt.opacity;const[Rn,Nn]=bn.pageDimensions,kn=bn.width*Rn,dn=bn.height*Nn,Un=bn.parentScale,jn=Vt.thickness/2;xn(bn,dt,!0),xn(bn,vt,Math.round(kn)),xn(bn,ht,Math.round(dn));const{paths:vr,rect:fr,rotation:Cr}=Vt;for(let{bezier:Dn}of vr){Dn=cn(ar=Mn,qt,_f).call(ar,Dn,fr,Cr);const hn=[];bn.paths.push(hn);let pn=Un*(Dn[0]-jn),Yn=Un*(Dn[1]-jn);for(let hr=2,Yt=Dn.length;hr<Yt;hr+=6){const Cn=Un*(Dn[hr]-jn),Hn=Un*(Dn[hr+1]-jn),Qn=Un*(Dn[hr+2]-jn),sr=Un*(Dn[hr+3]-jn),Zn=Un*(Dn[hr+4]-jn),Xt=Un*(Dn[hr+5]-jn);hn.push([[pn,Yn],[Cn,Hn],[Qn,sr],[Zn,Xt]]),pn=Zn,Yn=Xt}const tr=cn(this,qt,_h).call(this,hn);bn.bezierPath2D.push(tr)}const Jn=cn(xr=bn,gt,pu).call(xr);return xn(bn,nt,Math.max(g.AnnotationEditor.MIN_SIZE,Jn[2]-Jn[0])),xn(bn,tt,Math.max(g.AnnotationEditor.MIN_SIZE,Jn[3]-Jn[1])),cn(Fr=bn,gt,hu).call(Fr,kn,dn),bn}serialize(){if(this.isEmpty())return null;const Vt=this.getRect(0,0),Zt=g.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:h.AnnotationEditorType.INK,color:Zt,thickness:this.thickness,opacity:this.opacity,paths:cn(this,gt,ep).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Vt),pageIndex:this.pageIndex,rect:Vt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};tt=new WeakMap,nt=new WeakMap,rt=new WeakMap,it=new WeakMap,st=new WeakMap,ot=new WeakMap,lt=new WeakMap,dt=new WeakMap,at=new WeakMap,ut=new WeakMap,pt=new WeakMap,vt=new WeakMap,ht=new WeakMap,yt=new WeakMap,gt=new WeakSet,Wu=function(Vt){const Zt=this.thickness;this.addCommands({cmd:()=>{this.thickness=Vt,cn(this,gt,xa).call(this)},undo:()=>{this.thickness=Zt,cn(this,gt,xa).call(this)},mustExec:!0,type:h.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Gu=function(Vt){const Zt=this.color;this.addCommands({cmd:()=>{this.color=Vt,cn(this,gt,Ts).call(this)},undo:()=>{this.color=Zt,cn(this,gt,Ts).call(this)},mustExec:!0,type:h.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ku=function(Vt){Vt/=100;const Zt=this.opacity;this.addCommands({cmd:()=>{this.opacity=Vt,cn(this,gt,Ts).call(this)},undo:()=>{this.opacity=Zt,cn(this,gt,Ts).call(this)},mustExec:!0,type:h.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},qu=function(){const{parentRotation:Vt,parentDimensions:[Zt,un]}=this;switch(Vt){case 90:return[0,un,un,Zt];case 180:return[Zt,un,Zt,un];case 270:return[Zt,0,un,Zt];default:return[0,0,Zt,un]}},cu=function(){const{ctx:Vt,color:Zt,opacity:un,thickness:bn,parentScale:Rn,scaleFactor:Nn}=this;Vt.lineWidth=bn*Rn/Nn,Vt.lineCap="round",Vt.lineJoin="round",Vt.miterLimit=10,Vt.strokeStyle=`${Zt}${(0,$.opacityToHex)(un)}`},Xu=function(Vt,Zt){this.canvas.addEventListener("contextmenu",j.noContextMenu),this.canvas.addEventListener("pointerleave",Tt(this,it)),this.canvas.addEventListener("pointermove",Tt(this,rt)),this.canvas.addEventListener("pointerup",Tt(this,st)),this.canvas.removeEventListener("pointerdown",Tt(this,ot)),this.isEditing=!0,Tt(this,ut)||(xn(this,ut,!0),cn(this,gt,ba).call(this),this.thickness||(this.thickness=Mn._defaultThickness),this.color||(this.color=Mn._defaultColor||g.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Mn._defaultOpacity)),this.currentPath.push([Vt,Zt]),xn(this,at,!1),cn(this,gt,cu).call(this),xn(this,yt,()=>{cn(this,gt,Qu).call(this),Tt(this,yt)&&window.requestAnimationFrame(Tt(this,yt))}),window.requestAnimationFrame(Tt(this,yt))},uu=function(Vt,Zt){const[un,bn]=this.currentPath.at(-1);if(this.currentPath.length>1&&Vt===un&&Zt===bn)return;const Rn=this.currentPath;let Nn=Tt(this,lt);if(Rn.push([Vt,Zt]),xn(this,at,!0),Rn.length<=2){Nn.moveTo(...Rn[0]),Nn.lineTo(Vt,Zt);return}Rn.length===3&&(xn(this,lt,Nn=new Path2D),Nn.moveTo(...Rn[0])),cn(this,gt,Ju).call(this,Nn,...Rn.at(-3),...Rn.at(-2),Vt,Zt)},Zu=function(){if(this.currentPath.length===0)return;const Vt=this.currentPath.at(-1);Tt(this,lt).lineTo(...Vt)},Yu=function(Vt,Zt){xn(this,yt,null),Vt=Math.min(Math.max(Vt,0),this.canvas.width),Zt=Math.min(Math.max(Zt,0),this.canvas.height),cn(this,gt,uu).call(this,Vt,Zt),cn(this,gt,Zu).call(this);let un;if(this.currentPath.length!==1)un=cn(this,gt,_d).call(this);else{const dn=[Vt,Zt];un=[[dn,dn.slice(),dn.slice(),dn]]}const bn=Tt(this,lt),Rn=this.currentPath;this.currentPath=[],xn(this,lt,new Path2D);const Nn=()=>{this.allRawPaths.push(Rn),this.paths.push(un),this.bezierPath2D.push(bn),this.rebuild()},kn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(cn(this,gt,Ko).call(this),cn(this,gt,qo).call(this)),cn(this,gt,xa).call(this))};this.addCommands({cmd:Nn,undo:kn,mustExec:!0})},Qu=function(){if(!Tt(this,at))return;xn(this,at,!1);const Vt=Math.ceil(this.thickness*this.parentScale),Zt=this.currentPath.slice(-3),un=Zt.map(Nn=>Nn[0]),bn=Zt.map(Nn=>Nn[1]);Math.min(...un)-Vt,Math.max(...un)+Vt,Math.min(...bn)-Vt,Math.max(...bn)+Vt;const{ctx:Rn}=this;Rn.save(),Rn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Nn of this.bezierPath2D)Rn.stroke(Nn);Rn.stroke(Tt(this,lt)),Rn.restore()},Ju=function(Vt,Zt,un,bn,Rn,Nn,kn){const dn=(Zt+bn)/2,Un=(un+Rn)/2,jn=(bn+Nn)/2,vr=(Rn+kn)/2;Vt.bezierCurveTo(dn+2*(bn-dn)/3,Un+2*(Rn-Un)/3,jn+2*(bn-jn)/3,vr+2*(Rn-vr)/3,jn,vr)},_d=function(){const Vt=this.currentPath;if(Vt.length<=2)return[[Vt[0],Vt[0],Vt.at(-1),Vt.at(-1)]];const Zt=[];let un,[bn,Rn]=Vt[0];for(un=1;un<Vt.length-2;un++){const[fr,Cr]=Vt[un],[Jn,ar]=Vt[un+1],xr=(fr+Jn)/2,Fr=(Cr+ar)/2,Dn=[bn+2*(fr-bn)/3,Rn+2*(Cr-Rn)/3],hn=[xr+2*(fr-xr)/3,Fr+2*(Cr-Fr)/3];Zt.push([[bn,Rn],Dn,hn,[xr,Fr]]),[bn,Rn]=[xr,Fr]}const[Nn,kn]=Vt[un],[dn,Un]=Vt[un+1],jn=[bn+2*(Nn-bn)/3,Rn+2*(kn-Rn)/3],vr=[dn+2*(Nn-dn)/3,Un+2*(kn-Un)/3];return Zt.push([[bn,Rn],jn,vr,[dn,Un]]),Zt},Ts=function(){if(this.isEmpty()){cn(this,gt,Xo).call(this);return}cn(this,gt,cu).call(this);const{canvas:Vt,ctx:Zt}=this;Zt.setTransform(1,0,0,1,0,0),Zt.clearRect(0,0,Vt.width,Vt.height),cn(this,gt,Xo).call(this);for(const un of this.bezierPath2D)Zt.stroke(un)},du=function(Vt){this.canvas.removeEventListener("pointerleave",Tt(this,it)),this.canvas.removeEventListener("pointermove",Tt(this,rt)),this.canvas.removeEventListener("pointerup",Tt(this,st)),this.canvas.addEventListener("pointerdown",Tt(this,ot)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",j.noContextMenu)},10),cn(this,gt,Yu).call(this,Vt.offsetX,Vt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Ko=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",g.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Vt=>{var Zt;return(Zt=this.canvas)==null?void 0:Zt.setAttribute("aria-label",Vt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},qo=function(){xn(this,pt,new ResizeObserver(Vt=>{const Zt=Vt[0].contentRect;Zt.width&&Zt.height&&this.setDimensions(Zt.width,Zt.height)})),Tt(this,pt).observe(this.div)},ba=function(){if(!Tt(this,ut))return;const[Vt,Zt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Vt),this.canvas.height=Math.ceil(this.height*Zt),cn(this,gt,Xo).call(this)},hu=function(Vt,Zt){const un=cn(this,gt,Zo).call(this),bn=(Vt-un)/Tt(this,nt),Rn=(Zt-un)/Tt(this,tt);this.scaleFactor=Math.min(bn,Rn)},Xo=function(){const Vt=cn(this,gt,Zo).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Vt,this.translationY*this.scaleFactor+Vt)},qt=new WeakSet,_h=function(Vt){const Zt=new Path2D;for(let un=0,bn=Vt.length;un<bn;un++){const[Rn,Nn,kn,dn]=Vt[un];un===0&&Zt.moveTo(...Rn),Zt.bezierCurveTo(Nn[0],Nn[1],kn[0],kn[1],dn[0],dn[1])}return Zt},fu=function(Vt,Zt,un){const[bn,Rn,Nn,kn]=Zt;switch(un){case 0:for(let dn=0,Un=Vt.length;dn<Un;dn+=2)Vt[dn]+=bn,Vt[dn+1]=kn-Vt[dn+1];break;case 90:for(let dn=0,Un=Vt.length;dn<Un;dn+=2){const jn=Vt[dn];Vt[dn]=Vt[dn+1]+bn,Vt[dn+1]=jn+Rn}break;case 180:for(let dn=0,Un=Vt.length;dn<Un;dn+=2)Vt[dn]=Nn-Vt[dn],Vt[dn+1]+=Rn;break;case 270:for(let dn=0,Un=Vt.length;dn<Un;dn+=2){const jn=Vt[dn];Vt[dn]=Nn-Vt[dn+1],Vt[dn+1]=kn-jn}break;default:throw new Error("Invalid rotation")}return Vt},_f=function(Vt,Zt,un){const[bn,Rn,Nn,kn]=Zt;switch(un){case 0:for(let dn=0,Un=Vt.length;dn<Un;dn+=2)Vt[dn]-=bn,Vt[dn+1]=kn-Vt[dn+1];break;case 90:for(let dn=0,Un=Vt.length;dn<Un;dn+=2){const jn=Vt[dn];Vt[dn]=Vt[dn+1]-Rn,Vt[dn+1]=jn-bn}break;case 180:for(let dn=0,Un=Vt.length;dn<Un;dn+=2)Vt[dn]=Nn-Vt[dn],Vt[dn+1]-=Rn;break;case 270:for(let dn=0,Un=Vt.length;dn<Un;dn+=2){const jn=Vt[dn];Vt[dn]=kn-Vt[dn+1],Vt[dn+1]=Nn-jn}break;default:throw new Error("Invalid rotation")}return Vt},ep=function(Vt,Zt,un,bn){var Un,jn;const Rn=[],Nn=this.thickness/2,kn=Vt*Zt+Nn,dn=Vt*un+Nn;for(const vr of this.paths){const fr=[],Cr=[];for(let Jn=0,ar=vr.length;Jn<ar;Jn++){const[xr,Fr,Dn,hn]=vr[Jn],pn=Vt*xr[0]+kn,Yn=Vt*xr[1]+dn,tr=Vt*Fr[0]+kn,hr=Vt*Fr[1]+dn,Yt=Vt*Dn[0]+kn,Cn=Vt*Dn[1]+dn,Hn=Vt*hn[0]+kn,Qn=Vt*hn[1]+dn;Jn===0&&(fr.push(pn,Yn),Cr.push(pn,Yn)),fr.push(tr,hr,Yt,Cn,Hn,Qn),Cr.push(tr,hr),Jn===ar-1&&Cr.push(Hn,Qn)}Rn.push({bezier:cn(Un=Mn,qt,fu).call(Un,fr,bn,this.rotation),points:cn(jn=Mn,qt,fu).call(jn,Cr,bn,this.rotation)})}return Rn},pu=function(){let Vt=1/0,Zt=-1/0,un=1/0,bn=-1/0;for(const Rn of this.paths)for(const[Nn,kn,dn,Un]of Rn){const jn=h.Util.bezierBoundingBox(...Nn,...kn,...dn,...Un);Vt=Math.min(Vt,jn[0]),un=Math.min(un,jn[1]),Zt=Math.max(Zt,jn[2]),bn=Math.max(bn,jn[3])}return[Vt,un,Zt,bn]},Zo=function(){return Tt(this,dt)?Math.ceil(this.thickness*this.parentScale):0},xa=function(Vt=!1){if(this.isEmpty())return;if(!Tt(this,dt)){cn(this,gt,Ts).call(this);return}const Zt=cn(this,gt,pu).call(this),un=cn(this,gt,Zo).call(this);xn(this,nt,Math.max(g.AnnotationEditor.MIN_SIZE,Zt[2]-Zt[0])),xn(this,tt,Math.max(g.AnnotationEditor.MIN_SIZE,Zt[3]-Zt[1]));const bn=Math.ceil(un+Tt(this,nt)*this.scaleFactor),Rn=Math.ceil(un+Tt(this,tt)*this.scaleFactor),[Nn,kn]=this.parentDimensions;this.width=bn/Nn,this.height=Rn/kn,this.setAspectRatio(bn,Rn);const dn=this.translationX,Un=this.translationY;this.translationX=-Zt[0],this.translationY=-Zt[1],cn(this,gt,ba).call(this),cn(this,gt,Ts).call(this),xn(this,vt,bn),xn(this,ht,Rn),this.setDims(bn,Rn);const jn=Vt?un/this.scaleFactor/2:0;this.translate(dn-this.translationX-jn,Un-this.translationY-jn)},Sn(Mn,qt),lr(Mn,"_defaultColor",null),lr(Mn,"_defaultOpacity",1),lr(Mn,"_defaultThickness",1),lr(Mn,"_type","ink");let et=Mn;e.InkEditor=et},(s,e,d)=>{var et,tt,nt,rt,it,st,ot,lt,dt,at,ut,Ao,To,Yo,gu,tp,np,mu,Qo,rp;Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0;var h=d(1),g=d(4),_=d(6),j=d(29);const xt=class xt extends g.AnnotationEditor{constructor(kt){super({...kt,name:"stampEditor"});Sn(this,ut);Sn(this,et,null);Sn(this,tt,null);Sn(this,nt,null);Sn(this,rt,null);Sn(this,it,null);Sn(this,st,null);Sn(this,ot,null);Sn(this,lt,null);Sn(this,dt,!1);Sn(this,at,!1);xn(this,rt,kt.bitmapUrl),xn(this,it,kt.bitmapFile)}static initialize(kt){g.AnnotationEditor.initialize(kt)}static get supportedTypes(){const kt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,h.shadow)(this,"supportedTypes",kt.map(Bt=>`image/${Bt}`))}static get supportedTypesStr(){return(0,h.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(kt){return this.supportedTypes.includes(kt)}static paste(kt,Bt){Bt.pasteEditor(h.AnnotationEditorType.STAMP,{bitmapFile:kt.getAsFile()})}remove(){var kt,Bt;Tt(this,tt)&&(xn(this,et,null),this._uiManager.imageManager.deleteId(Tt(this,tt)),(kt=Tt(this,st))==null||kt.remove(),xn(this,st,null),(Bt=Tt(this,ot))==null||Bt.disconnect(),xn(this,ot,null)),super.remove()}rebuild(){if(!this.parent){Tt(this,tt)&&cn(this,ut,Yo).call(this);return}super.rebuild(),this.div!==null&&(Tt(this,tt)&&cn(this,ut,Yo).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Tt(this,nt)||Tt(this,et)||Tt(this,rt)||Tt(this,it))}get isResizable(){return!0}render(){if(this.div)return this.div;let kt,Bt;if(this.width&&(kt=this.x,Bt=this.y),super.render(),this.div.hidden=!0,Tt(this,et)?cn(this,ut,gu).call(this):cn(this,ut,Yo).call(this),this.width){const[$t,Gt]=this.parentDimensions;this.setAt(kt*$t,Bt*Gt,this.width*$t,this.height*Gt)}return this.div}static deserialize(kt,Bt,$t){if(kt instanceof j.StampAnnotationElement)return null;const Gt=super.deserialize(kt,Bt,$t),{rect:Ft,bitmapUrl:Wt,bitmapId:tn,isSvg:Lt,accessibilityData:Rt}=kt;tn&&$t.imageManager.isValidId(tn)?xn(Gt,tt,tn):xn(Gt,rt,Wt),xn(Gt,dt,Lt);const[It,Mt]=Gt.pageDimensions;return Gt.width=(Ft[2]-Ft[0])/It,Gt.height=(Ft[3]-Ft[1])/Mt,Rt&&(Gt.altTextData=Rt),Gt}serialize(kt=!1,Bt=null){if(this.isEmpty())return null;const $t={annotationType:h.AnnotationEditorType.STAMP,bitmapId:Tt(this,tt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Tt(this,dt),structTreeParentId:this._structTreeParentId};if(kt)return $t.bitmapUrl=cn(this,ut,Qo).call(this,!0),$t.accessibilityData=this.altTextData,$t;const{decorative:Gt,altText:Ft}=this.altTextData;if(!Gt&&Ft&&($t.accessibilityData={type:"Figure",alt:Ft}),Bt===null)return $t;Bt.stamps||(Bt.stamps=new Map);const Wt=Tt(this,dt)?($t.rect[2]-$t.rect[0])*($t.rect[3]-$t.rect[1]):null;if(!Bt.stamps.has(Tt(this,tt)))Bt.stamps.set(Tt(this,tt),{area:Wt,serialized:$t}),$t.bitmap=cn(this,ut,Qo).call(this,!1);else if(Tt(this,dt)){const tn=Bt.stamps.get(Tt(this,tt));Wt>tn.area&&(tn.area=Wt,tn.serialized.bitmap.close(),tn.serialized.bitmap=cn(this,ut,Qo).call(this,!1))}return $t}};et=new WeakMap,tt=new WeakMap,nt=new WeakMap,rt=new WeakMap,it=new WeakMap,st=new WeakMap,ot=new WeakMap,lt=new WeakMap,dt=new WeakMap,at=new WeakMap,ut=new WeakSet,Ao=function(kt,Bt=!1){if(!kt){this.remove();return}xn(this,et,kt.bitmap),Bt||(xn(this,tt,kt.id),xn(this,dt,kt.isSvg)),cn(this,ut,gu).call(this)},To=function(){xn(this,nt,null),this._uiManager.enableWaiting(!1),Tt(this,st)&&this.div.focus()},Yo=function(){if(Tt(this,tt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Tt(this,tt)).then(Bt=>cn(this,ut,Ao).call(this,Bt,!0)).finally(()=>cn(this,ut,To).call(this));return}if(Tt(this,rt)){const Bt=Tt(this,rt);xn(this,rt,null),this._uiManager.enableWaiting(!0),xn(this,nt,this._uiManager.imageManager.getFromUrl(Bt).then($t=>cn(this,ut,Ao).call(this,$t)).finally(()=>cn(this,ut,To).call(this)));return}if(Tt(this,it)){const Bt=Tt(this,it);xn(this,it,null),this._uiManager.enableWaiting(!0),xn(this,nt,this._uiManager.imageManager.getFromFile(Bt).then($t=>cn(this,ut,Ao).call(this,$t)).finally(()=>cn(this,ut,To).call(this)));return}const kt=document.createElement("input");kt.type="file",kt.accept=xt.supportedTypesStr,xn(this,nt,new Promise(Bt=>{kt.addEventListener("change",async()=>{if(!kt.files||kt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const $t=await this._uiManager.imageManager.getFromFile(kt.files[0]);cn(this,ut,Ao).call(this,$t)}Bt()}),kt.addEventListener("cancel",()=>{this.remove(),Bt()})}).finally(()=>cn(this,ut,To).call(this))),kt.click()},gu=function(){const{div:kt}=this;let{width:Bt,height:$t}=Tt(this,et);const[Gt,Ft]=this.pageDimensions,Wt=.75;if(this.width)Bt=this.width*Gt,$t=this.height*Ft;else if(Bt>Wt*Gt||$t>Wt*Ft){const It=Math.min(Wt*Gt/Bt,Wt*Ft/$t);Bt*=It,$t*=It}const[tn,Lt]=this.parentDimensions;this.setDims(Bt*tn/Gt,$t*Lt/Ft),this._uiManager.enableWaiting(!1);const Rt=xn(this,st,document.createElement("canvas"));kt.append(Rt),kt.hidden=!1,cn(this,ut,mu).call(this,Bt,$t),cn(this,ut,rp).call(this),Tt(this,at)||(this.parent.addUndoableEditor(this),xn(this,at,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},tp=function(kt,Bt){var Wt;const[$t,Gt]=this.parentDimensions;this.width=kt/$t,this.height=Bt/Gt,this.setDims(kt,Bt),(Wt=this._initialOptions)!=null&&Wt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Tt(this,lt)!==null&&clearTimeout(Tt(this,lt)),xn(this,lt,setTimeout(()=>{xn(this,lt,null),cn(this,ut,mu).call(this,kt,Bt)},200))},np=function(kt,Bt){const{width:$t,height:Gt}=Tt(this,et);let Ft=$t,Wt=Gt,tn=Tt(this,et);for(;Ft>2*kt||Wt>2*Bt;){const Lt=Ft,Rt=Wt;Ft>2*kt&&(Ft=Ft>=16384?Math.floor(Ft/2)-1:Math.ceil(Ft/2)),Wt>2*Bt&&(Wt=Wt>=16384?Math.floor(Wt/2)-1:Math.ceil(Wt/2));const It=new OffscreenCanvas(Ft,Wt);It.getContext("2d").drawImage(tn,0,0,Lt,Rt,0,0,Ft,Wt),tn=It.transferToImageBitmap()}return tn},mu=function(kt,Bt){kt=Math.ceil(kt),Bt=Math.ceil(Bt);const $t=Tt(this,st);if(!$t||$t.width===kt&&$t.height===Bt)return;$t.width=kt,$t.height=Bt;const Gt=Tt(this,dt)?Tt(this,et):cn(this,ut,np).call(this,kt,Bt),Ft=$t.getContext("2d");Ft.filter=this._uiManager.hcmFilter,Ft.drawImage(Gt,0,0,Gt.width,Gt.height,0,0,kt,Bt)},Qo=function(kt){if(kt){if(Tt(this,dt)){const Gt=this._uiManager.imageManager.getSvgUrl(Tt(this,tt));if(Gt)return Gt}const Bt=document.createElement("canvas");return{width:Bt.width,height:Bt.height}=Tt(this,et),Bt.getContext("2d").drawImage(Tt(this,et),0,0),Bt.toDataURL()}if(Tt(this,dt)){const[Bt,$t]=this.pageDimensions,Gt=Math.round(this.width*Bt*_.PixelsPerInch.PDF_TO_CSS_UNITS),Ft=Math.round(this.height*$t*_.PixelsPerInch.PDF_TO_CSS_UNITS),Wt=new OffscreenCanvas(Gt,Ft);return Wt.getContext("2d").drawImage(Tt(this,et),0,0,Tt(this,et).width,Tt(this,et).height,0,0,Gt,Ft),Wt.transferToImageBitmap()}return structuredClone(Tt(this,et))},rp=function(){xn(this,ot,new ResizeObserver(kt=>{const Bt=kt[0].contentRect;Bt.width&&Bt.height&&cn(this,ut,tp).call(this,Bt.width,Bt.height)})),Tt(this,ot).observe(this.div)},lr(xt,"_type","stamp");let $=xt;e.StampEditor=$}],__webpack_module_cache__={};function __w_pdfjs_require__(s){var e=__webpack_module_cache__[s];if(e!==void 0)return e.exports;var d=__webpack_module_cache__[s]={exports:{}};return __webpack_modules__[s](d,d.exports,__w_pdfjs_require__),d.exports}var __webpack_exports__={};return(()=>{var s=__webpack_exports__;Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(s,"AnnotationEditorLayer",{enumerable:!0,get:function(){return _.AnnotationEditorLayer}}),Object.defineProperty(s,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(s,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(s,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return j.AnnotationEditorUIManager}}),Object.defineProperty(s,"AnnotationLayer",{enumerable:!0,get:function(){return $.AnnotationLayer}}),Object.defineProperty(s,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(s,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(s,"DOMSVGFactory",{enumerable:!0,get:function(){return h.DOMSVGFactory}}),Object.defineProperty(s,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(s,"GlobalWorkerOptions",{enumerable:!0,get:function(){return et.GlobalWorkerOptions}}),Object.defineProperty(s,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(s,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(s,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(s,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(s,"PDFDataRangeTransport",{enumerable:!0,get:function(){return d.PDFDataRangeTransport}}),Object.defineProperty(s,"PDFDateString",{enumerable:!0,get:function(){return h.PDFDateString}}),Object.defineProperty(s,"PDFWorker",{enumerable:!0,get:function(){return d.PDFWorker}}),Object.defineProperty(s,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(s,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(s,"PixelsPerInch",{enumerable:!0,get:function(){return h.PixelsPerInch}}),Object.defineProperty(s,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(s,"RenderingCancelledException",{enumerable:!0,get:function(){return h.RenderingCancelledException}}),Object.defineProperty(s,"SVGGraphics",{enumerable:!0,get:function(){return d.SVGGraphics}}),Object.defineProperty(s,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(s,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(s,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(s,"XfaLayer",{enumerable:!0,get:function(){return tt.XfaLayer}}),Object.defineProperty(s,"build",{enumerable:!0,get:function(){return d.build}}),Object.defineProperty(s,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(s,"getDocument",{enumerable:!0,get:function(){return d.getDocument}}),Object.defineProperty(s,"getFilenameFromUrl",{enumerable:!0,get:function(){return h.getFilenameFromUrl}}),Object.defineProperty(s,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return h.getPdfFilenameFromUrl}}),Object.defineProperty(s,"getXfaPageViewport",{enumerable:!0,get:function(){return h.getXfaPageViewport}}),Object.defineProperty(s,"isDataScheme",{enumerable:!0,get:function(){return h.isDataScheme}}),Object.defineProperty(s,"isPdfFile",{enumerable:!0,get:function(){return h.isPdfFile}}),Object.defineProperty(s,"loadScript",{enumerable:!0,get:function(){return h.loadScript}}),Object.defineProperty(s,"noContextMenu",{enumerable:!0,get:function(){return h.noContextMenu}}),Object.defineProperty(s,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(s,"renderTextLayer",{enumerable:!0,get:function(){return g.renderTextLayer}}),Object.defineProperty(s,"setLayerDimensions",{enumerable:!0,get:function(){return h.setLayerDimensions}}),Object.defineProperty(s,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(s,"updateTextLayer",{enumerable:!0,get:function(){return g.updateTextLayer}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return d.version}});var e=__w_pdfjs_require__(1),d=__w_pdfjs_require__(2),h=__w_pdfjs_require__(6),g=__w_pdfjs_require__(26),_=__w_pdfjs_require__(27),j=__w_pdfjs_require__(5),$=__w_pdfjs_require__(29),et=__w_pdfjs_require__(14),tt=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(s){var e=reactExports,d=pdfExports;function h(Pt){var Nt=Object.create(null);return Pt&&Object.keys(Pt).forEach(function(Qt){if(Qt!=="default"){var Jt=Object.getOwnPropertyDescriptor(Pt,Qt);Object.defineProperty(Nt,Qt,Jt.get?Jt:{enumerable:!0,get:function(){return Pt[Qt]}})}}),Nt.default=Pt,Object.freeze(Nt)}var g,_=h(e),j=h(d);s.AnnotationType=void 0,(g=s.AnnotationType||(s.AnnotationType={}))[g.Text=1]="Text",g[g.Link=2]="Link",g[g.FreeText=3]="FreeText",g[g.Line=4]="Line",g[g.Square=5]="Square",g[g.Circle=6]="Circle",g[g.Polygon=7]="Polygon",g[g.Polyline=8]="Polyline",g[g.Highlight=9]="Highlight",g[g.Underline=10]="Underline",g[g.Squiggly=11]="Squiggly",g[g.StrikeOut=12]="StrikeOut",g[g.Stamp=13]="Stamp",g[g.Caret=14]="Caret",g[g.Ink=15]="Ink",g[g.Popup=16]="Popup",g[g.FileAttachment=17]="FileAttachment";var $=function(Pt,Nt){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qt,Jt){Qt.__proto__=Jt}||function(Qt,Jt){for(var nn in Jt)Object.prototype.hasOwnProperty.call(Jt,nn)&&(Qt[nn]=Jt[nn])},$(Pt,Nt)};function et(Pt,Nt){if(typeof Nt!="function"&&Nt!==null)throw new TypeError("Class extends value "+String(Nt)+" is not a constructor or null");function Qt(){this.constructor=Pt}$(Pt,Nt),Pt.prototype=Nt===null?Object.create(Nt):(Qt.prototype=Nt.prototype,new Qt)}var tt,nt=function(){return nt=Object.assign||function(Pt){for(var Nt,Qt=1,Jt=arguments.length;Qt<Jt;Qt++)for(var nn in Nt=arguments[Qt])Object.prototype.hasOwnProperty.call(Nt,nn)&&(Pt[nn]=Nt[nn]);return Pt},nt.apply(this,arguments)};s.TextDirection=void 0,(tt=s.TextDirection||(s.TextDirection={})).RightToLeft="RTL",tt.LeftToRight="LTR";var rt,it=_.createContext({currentTheme:"light",direction:s.TextDirection.LeftToRight,setCurrentTheme:function(){}}),st=function(Pt){var Nt=[];return Object.keys(Pt).forEach(function(Qt){Qt&&Pt[Qt]&&Nt.push(Qt)}),Nt.join(" ")},ot=typeof window<"u"?_.useLayoutEffect:_.useEffect,lt=function(Pt){var Nt=_.useRef(null),Qt=Pt.once,Jt=Pt.threshold,nn=Pt.onVisibilityChanged;return ot(function(){var sn=Nt.current;if(sn){var _n=new IntersectionObserver(function(fn){fn.forEach(function(en){var on=en.isIntersecting,gn=en.intersectionRatio;nn({isVisible:on,ratio:gn}),on&&Qt&&(_n.unobserve(sn),_n.disconnect())})},{threshold:Jt||0});return _n.observe(sn),function(){_n.unobserve(sn),_n.disconnect()}}},[]),Nt},dt=function(Pt){var Nt=Pt.children,Qt=Pt.ignoreDirection,Jt=Qt!==void 0&&Qt,nn=Pt.size,sn=nn===void 0?24:nn,_n=_.useContext(it).direction,fn=!Jt&&_n===s.TextDirection.RightToLeft,en="".concat(sn||24,"px");return _.createElement("svg",{"aria-hidden":"true",className:st({"rpv-core__icon":!0,"rpv-core__icon--rtl":fn}),focusable:"false",height:en,viewBox:"0 0 24 24",width:en},Nt)},at=function(){return _.createElement(dt,{size:16},_.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},ut=function(Pt){var Nt=Pt.children,Qt=Pt.testId,Jt=Pt.onClick,nn=_.useContext(it).direction===s.TextDirection.RightToLeft,sn=Qt?{"data-testid":Qt}:{};return _.createElement("button",nt({className:st({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":nn}),type:"button",onClick:Jt},sn),Nt)},pt=function(Pt){var Nt=Pt.size,Qt=Nt===void 0?"4rem":Nt,Jt=Pt.testId,nn=_.useState(!1),sn=nn[0],_n=nn[1],fn=Jt?{"data-testid":Jt}:{},en=lt({onVisibilityChanged:function(on){_n(on.isVisible)}});return _.createElement("div",nt({},fn,{className:st({"rpv-core__spinner":!0,"rpv-core__spinner--animating":sn}),ref:en,style:{height:Qt,width:Qt}}))},vt=function(Pt){var Nt=Pt.ariaLabel,Qt=Nt===void 0?"":Nt,Jt=Pt.autoFocus,nn=Jt!==void 0&&Jt,sn=Pt.placeholder,_n=sn===void 0?"":sn,fn=Pt.testId,en=Pt.type,on=en===void 0?"text":en,gn=Pt.value,$n=gn===void 0?"":gn,Vn=Pt.onChange,Ln=Pt.onKeyDown,Xn=Ln===void 0?function(){}:Ln,Kn=_.useContext(it).direction,Wn=_.useRef(),wr=Kn===s.TextDirection.RightToLeft,gr={ref:Wn,"data-testid":"","aria-label":Qt,className:st({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":wr}),placeholder:_n,value:$n,onChange:function(yr){return Vn(yr.target.value)},onKeyDown:Xn};return fn&&(gr["data-testid"]=fn),ot(function(){if(nn){var yr=Wn.current;if(yr){var br=window.scrollX,ur=window.scrollY;yr.focus(),window.scrollTo(br,ur)}}},[]),on==="text"?_.createElement("input",nt({type:"text"},gr)):_.createElement("input",nt({type:"password"},gr))};(function(Pt){Pt[Pt.ExitFullScreen=0]="ExitFullScreen",Pt[Pt.FullScreenChange=1]="FullScreenChange",Pt[Pt.FullScreenElement=2]="FullScreenElement",Pt[Pt.FullScreenEnabled=3]="FullScreenEnabled",Pt[Pt.RequestFullScreen=4]="RequestFullScreen"})(rt||(rt={}));var ht,yt={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},gt={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},ft={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},_t=typeof window<"u",Et=_t&&(rt.FullScreenEnabled in document&&yt||gt.FullScreenEnabled in document&&gt||ft.FullScreenEnabled in document&&ft)||yt,mt=function(){return _t&&Et.FullScreenEnabled in document&&document[Et.FullScreenEnabled]===!0},xt=function(Pt){return _t?Pt[Et.ExitFullScreen]():Promise.resolve({})},St=function(){return _t?document[Et.FullScreenElement]:null},Ut=function(Pt,Nt){var Qt=_.useRef(),Jt=function(){Qt.current&&clearTimeout(Qt.current)};return _.useEffect(function(){return function(){return Jt()}},[]),_.useCallback(function(){for(var nn=[],sn=0;sn<arguments.length;sn++)nn[sn]=arguments[sn];Jt(),Qt.current=setTimeout(function(){Pt.apply(void 0,nn)},Nt)},[Pt,Nt])},kt=function(){var Pt=_.useRef(!1);return _.useEffect(function(){return Pt.current=!0,function(){Pt.current=!1}},[]),Pt},Bt=function(Pt){var Nt=_.useRef(Pt);return _.useEffect(function(){Nt.current=Pt},[Pt]),Nt.current};(function(Pt){Pt.NotRenderedYet="NotRenderedYet",Pt.Rendering="Rendering",Pt.Rendered="Rendered"})(ht||(ht={}));var $t,Gt=-9999,Ft=function(Pt){var Nt=Pt.doc,Qt=Nt.numPages,Jt=Nt.loadingTask.docId,nn=_.useMemo(function(){return Array(Qt).fill(null).map(function(fn,en){return{pageIndex:en,renderStatus:ht.NotRenderedYet,visibility:Gt}})},[Jt]),sn=_.useRef({currentRenderingPage:-1,startRange:0,endRange:Qt-1,visibilities:nn}),_n=function(fn,en){sn.current.visibilities[fn].visibility=en};return{getHighestPriorityPage:function(){var fn=sn.current.visibilities.slice(sn.current.startRange,sn.current.endRange+1).filter(function(Vn){return Vn.visibility>Gt});if(!fn.length)return-1;for(var en=fn[0].pageIndex,on=fn[fn.length-1].pageIndex,gn=fn.length,$n=0;$n<gn;$n++){if(fn[$n].renderStatus===ht.Rendering)return-1;if(fn[$n].renderStatus===ht.NotRenderedYet)return fn[$n].pageIndex}return on+1<Qt&&sn.current.visibilities[on+1].renderStatus!==ht.Rendered?on+1:en-1>=0&&sn.current.visibilities[en-1].renderStatus!==ht.Rendered?en-1:-1},isInRange:function(fn){return fn>=sn.current.startRange&&fn<=sn.current.endRange},markNotRendered:function(){for(var fn=0;fn<Qt;fn++)sn.current.visibilities[fn].renderStatus=ht.NotRenderedYet},markRendered:function(fn){sn.current.visibilities[fn].renderStatus=ht.Rendered},markRendering:function(fn){sn.current.currentRenderingPage!==-1&&sn.current.currentRenderingPage!==fn&&sn.current.visibilities[sn.current.currentRenderingPage].renderStatus===ht.Rendering&&(sn.current.visibilities[sn.current.currentRenderingPage].renderStatus=ht.NotRenderedYet),sn.current.visibilities[fn].renderStatus=ht.Rendering,sn.current.currentRenderingPage=fn},setOutOfRange:function(fn){_n(fn,Gt)},setRange:function(fn,en){sn.current.startRange=fn,sn.current.endRange=en;for(var on=0;on<Qt;on++)(on<fn||on>en)&&(sn.current.visibilities[on].visibility=Gt,sn.current.visibilities[on].renderStatus=ht.NotRenderedYet)},setVisibility:_n}},Wt={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},tn=_.createContext({l10n:Wt,setL10n:function(){}}),Lt=0,Rt=function(){return Lt++},It=function(Pt,Nt,Qt){var Jt=function(nn){var sn=Nt.current;if(sn){var _n=nn.target;if(_n instanceof Element&&_n.shadowRoot){var fn=nn.composedPath();fn.length>0&&!sn.contains(fn[0])&&Qt()}else sn.contains(_n)||Qt()}};_.useEffect(function(){if(Pt){var nn={capture:!0};return document.addEventListener("click",Jt,nn),function(){document.removeEventListener("click",Jt,nn)}}},[])},Mt=function(Pt){var Nt=function(Qt){Qt.key==="Escape"&&Pt()};_.useEffect(function(){return document.addEventListener("keyup",Nt),function(){document.removeEventListener("keyup",Nt)}},[])},Ht=function(Pt){var Nt=Pt.ariaControlsSuffix,Qt=Pt.children,Jt=Pt.closeOnClickOutside,nn=Pt.closeOnEscape,sn=Pt.onToggle,_n=_.useRef(),fn=_.useContext(it).direction===s.TextDirection.RightToLeft;return _.useEffect(function(){var en=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=en}},[]),Mt(function(){_n.current&&nn&&sn()}),It(Jt,_n,sn),ot(function(){var en=_n.current;if(en){var on=.75*document.body.clientHeight;en.getBoundingClientRect().height>=on&&(en.style.overflow="auto",en.style.maxHeight="".concat(on,"px"))}},[]),_.createElement("div",{"aria-modal":"true",className:st({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":fn}),id:"rpv-core__modal-body-".concat(Nt),ref:_n,role:"dialog",tabIndex:-1},Qt)},qt=function(Pt){var Nt=Pt.children;return _.createElement("div",{className:"rpv-core__modal-overlay"},Nt)};s.ToggleStatus=void 0,($t=s.ToggleStatus||(s.ToggleStatus={})).Close="Close",$t.Open="Open",$t.Toggle="Toggle";var zt,an=function(Pt){var Nt=_.useState(Pt),Qt=Nt[0],Jt=Nt[1];return{opened:Qt,toggle:function(nn){switch(nn){case s.ToggleStatus.Close:Jt(!1);break;case s.ToggleStatus.Open:Jt(!0);break;case s.ToggleStatus.Toggle:default:Jt(function(sn){return!sn})}}}},vn=function(Pt){var Nt=Pt.content,Qt=Pt.isOpened,Jt=Qt!==void 0&&Qt,nn=Pt.target,sn=an(Jt),_n=sn.opened,fn=sn.toggle;return _.createElement(_.Fragment,null,nn&&nn(fn,_n),_n&&Nt(fn))};s.Position=void 0,(zt=s.Position||(s.Position={})).TopLeft="TOP_LEFT",zt.TopCenter="TOP_CENTER",zt.TopRight="TOP_RIGHT",zt.RightTop="RIGHT_TOP",zt.RightCenter="RIGHT_CENTER",zt.RightBottom="RIGHT_BOTTOM",zt.BottomLeft="BOTTOM_LEFT",zt.BottomCenter="BOTTOM_CENTER",zt.BottomRight="BOTTOM_RIGHT",zt.LeftTop="LEFT_TOP",zt.LeftCenter="LEFT_CENTER",zt.LeftBottom="LEFT_BOTTOM";var Tn,Pn,In,On,Mn,mn,yn,Vt,Zt=function(Pt,Nt,Qt,Jt,nn){ot(function(){var sn=Nt.current,_n=Pt.current,fn=Qt.current;if(_n&&sn&&fn){var en=fn.getBoundingClientRect(),on=function(Vn,Ln,Xn,Kn){var Wn=Ln.getBoundingClientRect(),wr=Vn.getBoundingClientRect(),gr=wr.height,yr=wr.width,br=0,ur=0;switch(Xn){case s.Position.TopLeft:br=Wn.top-gr,ur=Wn.left;break;case s.Position.TopCenter:br=Wn.top-gr,ur=Wn.left+Wn.width/2-yr/2;break;case s.Position.TopRight:br=Wn.top-gr,ur=Wn.left+Wn.width-yr;break;case s.Position.RightTop:br=Wn.top,ur=Wn.left+Wn.width;break;case s.Position.RightCenter:br=Wn.top+Wn.height/2-gr/2,ur=Wn.left+Wn.width;break;case s.Position.RightBottom:br=Wn.top+Wn.height-gr,ur=Wn.left+Wn.width;break;case s.Position.BottomLeft:br=Wn.top+Wn.height,ur=Wn.left;break;case s.Position.BottomCenter:br=Wn.top+Wn.height,ur=Wn.left+Wn.width/2-yr/2;break;case s.Position.BottomRight:br=Wn.top+Wn.height,ur=Wn.left+Wn.width-yr;break;case s.Position.LeftTop:br=Wn.top,ur=Wn.left-yr;break;case s.Position.LeftCenter:br=Wn.top+Wn.height/2-gr/2,ur=Wn.left-yr;break;case s.Position.LeftBottom:br=Wn.top+Wn.height-gr,ur=Wn.left-yr}return{left:ur+(Kn.left||0),top:br+(Kn.top||0)}}(_n,sn,Jt,nn),gn=on.top,$n=on.left;_n.style.top="".concat(gn-en.top,"px"),_n.style.left="".concat($n-en.left,"px")}},[])},un=function(Pt){var Nt,Qt=Pt.customClassName,Jt=Pt.position;return _.createElement("div",{className:st((Nt={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Jt===s.Position.TopLeft,"rpv-core__arrow--tc":Jt===s.Position.TopCenter,"rpv-core__arrow--tr":Jt===s.Position.TopRight,"rpv-core__arrow--rt":Jt===s.Position.RightTop,"rpv-core__arrow--rc":Jt===s.Position.RightCenter,"rpv-core__arrow--rb":Jt===s.Position.RightBottom,"rpv-core__arrow--bl":Jt===s.Position.BottomLeft,"rpv-core__arrow--bc":Jt===s.Position.BottomCenter,"rpv-core__arrow--br":Jt===s.Position.BottomRight,"rpv-core__arrow--lt":Jt===s.Position.LeftTop,"rpv-core__arrow--lc":Jt===s.Position.LeftCenter,"rpv-core__arrow--lb":Jt===s.Position.LeftBottom},Nt["".concat(Qt)]=Qt!=="",Nt))})},bn=function(Pt){var Nt=Pt.ariaControlsSuffix,Qt=Pt.children,Jt=Pt.closeOnClickOutside,nn=Pt.offset,sn=Pt.position,_n=Pt.targetRef,fn=Pt.onClose,en=_.useRef(),on=_.useRef(),gn=_.useRef(),$n=_.useContext(it).direction===s.TextDirection.RightToLeft;It(Jt,en,fn),Zt(en,_n,gn,sn,nn),ot(function(){var Ln=on.current;if(Ln){var Xn=.75*document.body.clientHeight;Ln.getBoundingClientRect().height>=Xn&&(Ln.style.overflow="auto",Ln.style.maxHeight="".concat(Xn,"px"))}},[]);var Vn="rpv-core__popover-body-inner-".concat(Nt);return _.createElement(_.Fragment,null,_.createElement("div",{ref:gn,style:{left:0,position:"absolute",top:0}}),_.createElement("div",{"aria-describedby":Vn,className:st({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":$n}),id:"rpv-core__popover-body-".concat(Nt),ref:en,role:"dialog",tabIndex:-1},_.createElement(un,{customClassName:"rpv-core__popover-body-arrow",position:sn}),_.createElement("div",{id:Vn,ref:on},Qt)))},Rn=function(Pt){var Nt=Pt.closeOnEscape,Qt=Pt.onClose,Jt=_.useRef();return Mt(function(){Jt.current&&Nt&&Qt()}),_.createElement("div",{className:"rpv-core__popover-overlay",ref:Jt})},Nn=function(Pt){var Nt=Pt.ariaControlsSuffix,Qt=Pt.children,Jt=Pt.contentRef,nn=Pt.offset,sn=Pt.position,_n=Pt.targetRef,fn=_.useRef(),en=_.useContext(it).direction===s.TextDirection.RightToLeft;return Zt(Jt,_n,fn,sn,nn),_.createElement(_.Fragment,null,_.createElement("div",{ref:fn,style:{left:0,position:"absolute",top:0}}),_.createElement("div",{className:st({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":en}),id:"rpv-core__tooltip-body-".concat(Nt),ref:Jt,role:"tooltip"},_.createElement(un,{customClassName:"rpv-core__tooltip-body-arrow",position:sn}),_.createElement("div",{className:"rpv-core__tooltip-body-content"},Qt)))};s.FullScreenMode=void 0,(Tn=s.FullScreenMode||(s.FullScreenMode={})).Normal="Normal",Tn.Entering="Entering",Tn.Entered="Entered",Tn.EnteredCompletely="EnteredCompletely",Tn.Exitting="Exitting",Tn.Exited="Exited",s.LayerRenderStatus=void 0,(Pn=s.LayerRenderStatus||(s.LayerRenderStatus={}))[Pn.PreRender=0]="PreRender",Pn[Pn.DidRender=1]="DidRender",s.PageMode=void 0,(In=s.PageMode||(s.PageMode={})).Attachments="UseAttachments",In.Bookmarks="UseOutlines",In.ContentGroup="UseOC",In.Default="UserNone",In.FullScreen="FullScreen",In.Thumbnails="UseThumbs",s.PasswordStatus=void 0,(On=s.PasswordStatus||(s.PasswordStatus={})).RequiredPassword="RequiredPassword",On.WrongPassword="WrongPassword",s.RotateDirection=void 0,(Mn=s.RotateDirection||(s.RotateDirection={})).Backward="Backward",Mn.Forward="Forward",s.ScrollMode=void 0,(mn=s.ScrollMode||(s.ScrollMode={})).Page="Page",mn.Horizontal="Horizontal",mn.Vertical="Vertical",mn.Wrapped="Wrapped",s.SpecialZoomLevel=void 0,(yn=s.SpecialZoomLevel||(s.SpecialZoomLevel={})).ActualSize="ActualSize",yn.PageFit="PageFit",yn.PageWidth="PageWidth",s.ViewMode=void 0,(Vt=s.ViewMode||(s.ViewMode={})).DualPage="DualPage",Vt.DualPageWithCover="DualPageWithCover",Vt.SinglePage="SinglePage";var kn,dn=function(Pt,Nt){return Pt.reduce(function(Qt,Jt,nn){return nn%Nt?Qt[Qt.length-1].push(Jt):Qt.push([Jt]),Qt},[])},Un=function(Pt,Nt){switch(Nt[1].name){case"XYZ":return{bottomOffset:function(Qt,Jt){return Nt[3]===null?Jt:Nt[3]},leftOffset:function(Qt,Jt){return Nt[2]===null?0:Nt[2]},pageIndex:Pt,scaleTo:Nt[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:Pt,scaleTo:s.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:Nt[2],leftOffset:0,pageIndex:Pt,scaleTo:s.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:Pt,scaleTo:1}}},jn=new Map,vr=new Map,fr=function(Pt,Nt){return"".concat(Pt.loadingTask.docId,"___").concat(Nt.num,"R").concat(Nt.gen===0?"":Nt.gen)},Cr=function(Pt,Nt,Qt){jn.set(fr(Pt,Nt),Qt)},Jn=function(Pt,Nt){if(!Pt)return Promise.reject("The document is not loaded yet");var Qt="".concat(Pt.loadingTask.docId,"___").concat(Nt),Jt=vr.get(Qt);return Jt?Promise.resolve(Jt):new Promise(function(nn,sn){Pt.getPage(Nt+1).then(function(_n){vr.set(Qt,_n),_n.ref&&Cr(Pt,_n.ref,Nt),nn(_n)})})},ar=function(Pt,Nt){return new Promise(function(Qt){new Promise(function(Jt){typeof Nt=="string"?Pt.getDestination(Nt).then(function(nn){Jt(nn)}):Jt(Nt)}).then(function(Jt){if(typeof Jt[0]=="object"&&Jt[0]!==null){var nn=Jt[0],sn=function(fn,en){var on=fr(fn,en);return jn.has(on)?jn.get(on):null}(Pt,nn);sn===null?Pt.getPageIndex(nn).then(function(fn){Cr(Pt,nn,fn),ar(Pt,Nt).then(function(en){return Qt(en)})}):Qt(Un(sn,Jt))}else{var _n=Un(Jt[0],Jt);Qt(_n)}})})};(function(Pt){Pt[Pt.Solid=1]="Solid",Pt[Pt.Dashed=2]="Dashed",Pt[Pt.Beveled=3]="Beveled",Pt[Pt.Inset=4]="Inset",Pt[Pt.Underline=5]="Underline"})(kn||(kn={}));var xr,Fr=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Dn=function(Pt,Nt,Qt,Jt){var nn=parseInt(Pt,10);return nn>=Nt&&nn<=Qt?nn:Jt},hn=function(Pt){return Pt.contentsObj?Pt.contentsObj.str:Pt.contents||""},pn=function(Pt){return Pt.titleObj?Pt.titleObj.str:Pt.title||""},Yn=function(Pt){var Nt=Pt.annotation,Qt=_.useContext(it).direction,Jt=pn(Nt),nn=hn(Nt),sn=Qt===s.TextDirection.RightToLeft,_n=_.useRef(),fn="";if(Nt.modificationDate){var en=function(on){var gn=Fr.exec(on);if(!gn)return null;var $n=parseInt(gn[1],10),Vn=Dn(gn[2],1,12,1)-1,Ln=Dn(gn[3],1,31,1),Xn=Dn(gn[4],0,23,0),Kn=Dn(gn[5],0,59,0),Wn=Dn(gn[6],0,59,0),wr=gn[7]||"Z",gr=Dn(gn[8],0,23,0),yr=Dn(gn[9],0,59,0);switch(wr){case"-":Xn+=gr,Kn+=yr;break;case"+":Xn-=gr,Kn-=yr}return new Date(Date.UTC($n,Vn,Ln,Xn,Kn,Wn))}(Nt.modificationDate);fn=en?"".concat(en.toLocaleDateString(),", ").concat(en.toLocaleTimeString()):""}return _.useLayoutEffect(function(){if(_n.current){var on=document.querySelector('[data-annotation-id="'.concat(Nt.id,'"]'));if(on){var gn=on;return gn.style.zIndex+=1,function(){gn.style.zIndex="".concat(parseInt(gn.style.zIndex,10)-1)}}}},[]),_.createElement("div",{ref:_n,className:st({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":sn}),style:{top:Nt.annotationType===s.AnnotationType.Popup?"":"100%"}},Jt&&_.createElement(_.Fragment,null,_.createElement("div",{className:st({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!sn,"rpv-core__annotation-popup-title--rtl":sn})},Jt),_.createElement("div",{className:"rpv-core__annotation-popup-date"},fn)),nn&&_.createElement("div",{className:"rpv-core__annotation-popup-content"},nn.split(`
`).map(function(on,gn){return _.createElement(_.Fragment,{key:gn},on,_.createElement("br",null))})))};(function(Pt){Pt.Click="Click",Pt.Hover="Hover"})(xr||(xr={}));var tr,hr=function(Pt){var Nt,Qt=Pt.annotation,Jt=Pt.children,nn=Pt.ignoreBorder,sn=Pt.hasPopup,_n=Pt.isRenderable,fn=Pt.page,en=Pt.viewport,on=Qt.rect,gn=function(){var Er=an(!1),jr=Er.opened,Mr=Er.toggle,$r=_.useState(xr.Hover),Ur=$r[0],Vr=$r[1];return{opened:jr,closeOnHover:function(){Ur===xr.Hover&&Mr(s.ToggleStatus.Close)},openOnHover:function(){Ur===xr.Hover&&Mr(s.ToggleStatus.Open)},toggleOnClick:function(){switch(Ur){case xr.Click:jr&&Vr(xr.Hover),Mr(s.ToggleStatus.Toggle);break;case xr.Hover:Vr(xr.Click),Mr(s.ToggleStatus.Open)}}}}(),$n=gn.closeOnHover,Vn=gn.opened,Ln=gn.openOnHover,Xn=gn.toggleOnClick,Kn=(Nt=[on[0],fn.view[3]+fn.view[1]-on[1],on[2],fn.view[3]+fn.view[1]-on[3]],[Math.min(Nt[0],Nt[2]),Math.min(Nt[1],Nt[3]),Math.max(Nt[0],Nt[2]),Math.max(Nt[1],Nt[3])]),Wn=on[2]-on[0],wr=on[3]-on[1],gr={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!nn&&Qt.borderStyle.width>0){switch(Qt.borderStyle.style){case kn.Dashed:gr.borderStyle="dashed";break;case kn.Solid:gr.borderStyle="solid";break;case kn.Underline:gr=Object.assign({borderBottomStyle:"solid"},gr);case kn.Beveled:case kn.Inset:}var yr=Qt.borderStyle.width;gr.borderWidth="".concat(yr,"px"),Qt.borderStyle.style!==kn.Underline&&(Wn-=2*yr,wr-=2*yr);var br=Qt.borderStyle,ur=br.horizontalCornerRadius,Pr=br.verticalCornerRadius;(ur>0||Pr>0)&&(gr.borderRadius="".concat(ur,"px / ").concat(Pr,"px")),Qt.color?gr.borderColor="rgb(".concat(0|Qt.color[0],", ").concat(0|Qt.color[1],", ").concat(0|Qt.color[2],")"):gr.borderWidth="0"}return _.createElement(_.Fragment,null,_n&&Jt({popup:{opened:Vn,closeOnHover:$n,openOnHover:Ln,toggleOnClick:Xn},slot:{attrs:{style:Object.assign({height:"".concat(wr,"px"),left:"".concat(Kn[0],"px"),top:"".concat(Kn[1],"px"),transform:"matrix(".concat(en.transform.join(","),")"),transformOrigin:"-".concat(Kn[0],"px -").concat(Kn[1],"px"),width:"".concat(Wn,"px")},gr)},children:_.createElement(_.Fragment,null,sn&&Vn&&_.createElement(Yn,{annotation:Qt}))}}))},Yt=function(Pt){var Nt=Pt.annotation,Qt=Pt.page,Jt=Pt.viewport,nn=Nt.hasPopup===!1,sn=pn(Nt),_n=hn(Nt),fn=!!(Nt.hasPopup||sn||_n);return _.createElement(hr,{annotation:Nt,hasPopup:nn,ignoreBorder:!0,isRenderable:fn,page:Qt,viewport:Jt},function(en){return _.createElement("div",nt({},en.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":Nt.id,onClick:en.popup.toggleOnClick,onMouseEnter:en.popup.openOnHover,onMouseLeave:en.popup.closeOnHover}),en.slot.children)})},Cn=function(Pt){var Nt=Pt.annotation,Qt=Pt.page,Jt=Pt.viewport,nn=Nt.hasPopup===!1,sn=pn(Nt),_n=hn(Nt),fn=!!(Nt.hasPopup||sn||_n),en=Nt.rect,on=en[2]-en[0],gn=en[3]-en[1],$n=Nt.borderStyle.width;return _.createElement(hr,{annotation:Nt,hasPopup:nn,ignoreBorder:!0,isRenderable:fn,page:Qt,viewport:Jt},function(Vn){return _.createElement("div",nt({},Vn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":Nt.id,onClick:Vn.popup.toggleOnClick,onMouseEnter:Vn.popup.openOnHover,onMouseLeave:Vn.popup.closeOnHover}),_.createElement("svg",{height:"".concat(gn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(on," ").concat(gn),width:"".concat(on,"px")},_.createElement("circle",{cy:gn/2,fill:"none",rx:on/2-$n/2,ry:gn/2-$n/2,stroke:"transparent",strokeWidth:$n||1})),Vn.slot.children)})},Hn=function(Pt){var Nt=Pt.annotation,Qt=Pt.page,Jt=Pt.viewport,nn=pn(Nt),sn=hn(Nt),_n=!(Nt.hasPopup!==!1||!nn&&!sn),fn=function(){var en,on,gn,$n,Vn=Nt.file;Vn&&(en=Vn.filename,on=Vn.content,gn=typeof on=="string"?"":URL.createObjectURL(new Blob([on],{type:""})),($n=document.createElement("a")).style.display="none",$n.href=gn||en,$n.setAttribute("download",function(Ln){var Xn=Ln.split("/").pop();return Xn?Xn.split("#")[0].split("?")[0]:Ln}(en)),document.body.appendChild($n),$n.click(),document.body.removeChild($n),gn&&URL.revokeObjectURL(gn))};return _.createElement(hr,{annotation:Nt,hasPopup:_n,ignoreBorder:!0,isRenderable:!0,page:Qt,viewport:Jt},function(en){return _.createElement("div",nt({},en.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":Nt.id,onClick:en.popup.toggleOnClick,onDoubleClick:fn,onMouseEnter:en.popup.openOnHover,onMouseLeave:en.popup.closeOnHover}),en.slot.children)})},Qn=function(Pt){var Nt=Pt.annotation,Qt=Pt.page,Jt=Pt.viewport,nn=Nt.hasPopup===!1,sn=pn(Nt),_n=hn(Nt),fn=!!(Nt.hasPopup||sn||_n);return _.createElement(hr,{annotation:Nt,hasPopup:nn,ignoreBorder:!0,isRenderable:fn,page:Qt,viewport:Jt},function(en){return _.createElement("div",nt({},en.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":Nt.id,onClick:en.popup.toggleOnClick,onMouseEnter:en.popup.openOnHover,onMouseLeave:en.popup.closeOnHover}),en.slot.children)})},sr=function(Pt){var Nt=Pt.annotation,Qt=Pt.page,Jt=Pt.viewport,nn=pn(Nt),sn=hn(Nt),_n=!(!nn&&!sn),fn=!Nt.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(Nt.parentType)!==-1;return ot(function(){if(Nt.parentId){var en=document.querySelector('[data-annotation-id="'.concat(Nt.parentId,'"]')),on=document.querySelector('[data-annotation-id="'.concat(Nt.id,'"]'));if(en&&on){var gn=parseFloat(en.style.left),$n=parseFloat(en.style.top)+parseFloat(en.style.height);on.style.left="".concat(gn,"px"),on.style.top="".concat($n,"px"),on.style.transformOrigin="-".concat(gn,"px -").concat($n,"px")}}},[]),_.createElement(hr,{annotation:Nt,hasPopup:fn,ignoreBorder:!1,isRenderable:_n,page:Qt,viewport:Jt},function(en){return _.createElement("div",nt({},en.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":Nt.id}),_.createElement(Yn,{annotation:Nt}))})},Zn=function(Pt){var Nt=Pt.annotation,Qt=Pt.childAnnotation,Jt=Pt.page,nn=Pt.viewport,sn=Nt.hasPopup===!1,_n=pn(Nt),fn=hn(Nt),en=!!(Nt.hasPopup||_n||fn);if(Nt.quadPoints&&Nt.quadPoints.length>0){var on=Nt.quadPoints.map(function(gn){return Object.assign({},Nt,{rect:[gn[2].x,gn[2].y,gn[1].x,gn[1].y],quadPoints:[]})});return _.createElement(_.Fragment,null,on.map(function(gn,$n){return _.createElement(Zn,{key:$n,annotation:gn,childAnnotation:Qt,page:Jt,viewport:nn})}))}return _.createElement(hr,{annotation:Nt,hasPopup:sn,ignoreBorder:!0,isRenderable:en,page:Jt,viewport:nn},function(gn){return _.createElement(_.Fragment,null,_.createElement("div",nt({},gn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":Nt.id,onClick:gn.popup.toggleOnClick,onMouseEnter:gn.popup.openOnHover,onMouseLeave:gn.popup.closeOnHover}),gn.slot.children),Qt&&Qt.annotationType===s.AnnotationType.Popup&&gn.popup.opened&&_.createElement(sr,{annotation:Qt,page:Jt,viewport:nn}))})},Xt=function(Pt){var Nt=Pt.annotation,Qt=Pt.page,Jt=Pt.viewport,nn=Nt.hasPopup===!1,sn=pn(Nt),_n=hn(Nt),fn=!!(Nt.hasPopup||sn||_n),en=Nt.rect,on=en[2]-en[0],gn=en[3]-en[1],$n=Nt.borderStyle.width;return _.createElement(hr,{annotation:Nt,hasPopup:nn,ignoreBorder:!0,isRenderable:fn,page:Qt,viewport:Jt},function(Vn){return _.createElement("div",nt({},Vn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":Nt.id,onClick:Vn.popup.toggleOnClick,onMouseEnter:Vn.popup.openOnHover,onMouseLeave:Vn.popup.closeOnHover}),Nt.inkLists&&Nt.inkLists.length&&_.createElement("svg",{height:"".concat(gn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(on," ").concat(gn),width:"".concat(on,"px")},Nt.inkLists.map(function(Ln,Xn){return _.createElement("polyline",{key:Xn,fill:"none",stroke:"transparent",strokeWidth:$n||1,points:Ln.map(function(Kn){return"".concat(Kn.x-en[0],",").concat(en[3]-Kn.y)}).join(" ")})})),Vn.slot.children)})},jt=function(Pt){var Nt=Pt.annotation,Qt=Pt.page,Jt=Pt.viewport,nn=Nt.hasPopup===!1,sn=pn(Nt),_n=hn(Nt),fn=!!(Nt.hasPopup||sn||_n),en=Nt.rect,on=en[2]-en[0],gn=en[3]-en[1],$n=Nt.borderStyle.width;return _.createElement(hr,{annotation:Nt,hasPopup:nn,ignoreBorder:!0,isRenderable:fn,page:Qt,viewport:Jt},function(Vn){return _.createElement("div",nt({},Vn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":Nt.id,onClick:Vn.popup.toggleOnClick,onMouseEnter:Vn.popup.openOnHover,onMouseLeave:Vn.popup.closeOnHover}),_.createElement("svg",{height:"".concat(gn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(on," ").concat(gn),width:"".concat(on,"px")},_.createElement("line",{stroke:"transparent",strokeWidth:$n||1,x1:en[2]-Nt.lineCoordinates[0],x2:en[2]-Nt.lineCoordinates[2],y1:en[3]-Nt.lineCoordinates[1],y2:en[3]-Nt.lineCoordinates[3]})),Vn.slot.children)})},rn=/^([^\w]*)(javascript|data|vbscript)/im,En=/&#(\w+)(^\w|;)?/g,wn=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Fn=/^([^:]+):/gm,Bn=function(Pt,Nt){var Qt,Jt=(Qt=Pt||"",Qt.replace(En,function(fn,en){return String.fromCharCode(en)})).replace(wn,"").trim();if(!Jt)return Nt;var nn=Jt[0];if(nn==="."||nn==="/")return Jt;var sn=Jt.match(Fn);if(!sn)return Jt;var _n=sn[0];return rn.test(_n)?Nt:Jt},rr=function(Pt){var Nt,Qt=Pt.annotation,Jt=Pt.annotationContainerRef,nn=Pt.doc,sn=Pt.outlines,_n=Pt.page,fn=Pt.pageIndex,en=Pt.scale,on=Pt.viewport,gn=Pt.onExecuteNamedAction,$n=Pt.onJumpFromLinkAnnotation,Vn=Pt.onJumpToDest,Ln=_.useRef(),Xn=sn&&sn.length&&Qt.dest&&typeof Qt.dest=="string"?(Nt=sn.find(function(gr){return gr.dest===Qt.dest}))===null||Nt===void 0?void 0:Nt.title:"",Kn=!!(Qt.url||Qt.dest||Qt.action||Qt.unsafeUrl),Wn={};if(Qt.url||Qt.unsafeUrl){var wr=Bn(Qt.url||Qt.unsafeUrl,"");wr?Wn={"data-target":"external",href:wr,rel:"noopener noreferrer nofollow",target:Qt.newWindow?"_blank":"",title:wr}:Kn=!1}else Wn={href:"","data-annotation-link":Qt.id,onClick:function(gr){gr.preventDefault(),Qt.action?gn(Qt.action):ar(nn,Qt.dest).then(function(yr){var br=Ln.current,ur=Jt.current;if(br&&ur){var Pr=br.getBoundingClientRect();ur.style.setProperty("height","100%"),ur.style.setProperty("width","100%");var Er=ur.getBoundingClientRect();ur.style.removeProperty("height"),ur.style.removeProperty("width");var jr=(Pr.left-Er.left)/en,Mr=(Er.bottom-Pr.bottom+Pr.height)/en;$n({bottomOffset:Mr,label:Xn,leftOffset:jr,pageIndex:fn})}Vn(yr)})}};return Xn&&(Wn=Object.assign({},Wn,{title:Xn,"aria-label":Xn})),_.createElement(hr,{annotation:Qt,hasPopup:!1,ignoreBorder:!1,isRenderable:Kn,page:_n,viewport:on},function(gr){return _.createElement("div",nt({},gr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Qt.id,"data-testid":"core__annotation--link-".concat(Qt.id)}),_.createElement("a",nt({ref:Ln},Wn)))})},er=function(Pt){var Nt=Pt.annotation,Qt=Pt.page,Jt=Pt.viewport,nn=Nt.hasPopup===!1,sn=pn(Nt),_n=hn(Nt),fn=!!(Nt.hasPopup||sn||_n),en=Nt.rect,on=en[2]-en[0],gn=en[3]-en[1],$n=Nt.borderStyle.width;return _.createElement(hr,{annotation:Nt,hasPopup:nn,ignoreBorder:!0,isRenderable:fn,page:Qt,viewport:Jt},function(Vn){return _.createElement("div",nt({},Vn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":Nt.id,onClick:Vn.popup.toggleOnClick,onMouseEnter:Vn.popup.openOnHover,onMouseLeave:Vn.popup.closeOnHover}),Nt.vertices&&Nt.vertices.length&&_.createElement("svg",{height:"".concat(gn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(on," ").concat(gn),width:"".concat(on,"px")},_.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:$n||1,points:Nt.vertices.map(function(Ln){return"".concat(Ln.x-en[0],",").concat(en[3]-Ln.y)}).join(" ")})),Vn.slot.children)})},qn=function(Pt){var Nt=Pt.annotation,Qt=Pt.page,Jt=Pt.viewport,nn=Nt.hasPopup===!1,sn=pn(Nt),_n=hn(Nt),fn=!!(Nt.hasPopup||sn||_n),en=Nt.rect,on=en[2]-en[0],gn=en[3]-en[1],$n=Nt.borderStyle.width;return _.createElement(hr,{annotation:Nt,hasPopup:nn,ignoreBorder:!0,isRenderable:fn,page:Qt,viewport:Jt},function(Vn){return _.createElement("div",nt({},Vn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":Nt.id,onClick:Vn.popup.toggleOnClick,onMouseEnter:Vn.popup.openOnHover,onMouseLeave:Vn.popup.closeOnHover}),Nt.vertices&&Nt.vertices.length&&_.createElement("svg",{height:"".concat(gn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(on," ").concat(gn),width:"".concat(on,"px")},_.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:$n||1,points:Nt.vertices.map(function(Ln){return"".concat(Ln.x-en[0],",").concat(en[3]-Ln.y)}).join(" ")})),Vn.slot.children)})},Ar=function(Pt){var Nt=Pt.annotation,Qt=Pt.page,Jt=Pt.viewport,nn=Nt.hasPopup===!1,sn=pn(Nt),_n=hn(Nt),fn=!!(Nt.hasPopup||sn||_n),en=Nt.rect,on=en[2]-en[0],gn=en[3]-en[1],$n=Nt.borderStyle.width;return _.createElement(hr,{annotation:Nt,hasPopup:nn,ignoreBorder:!0,isRenderable:fn,page:Qt,viewport:Jt},function(Vn){return _.createElement("div",nt({},Vn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":Nt.id,onClick:Vn.popup.toggleOnClick,onMouseEnter:Vn.popup.openOnHover,onMouseLeave:Vn.popup.closeOnHover}),_.createElement("svg",{height:"".concat(gn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(on," ").concat(gn),width:"".concat(on,"px")},_.createElement("rect",{height:gn-$n,fill:"none",stroke:"transparent",strokeWidth:$n||1,x:$n/2,y:$n/2,width:on-$n})),Vn.slot.children)})},nr=function(Pt){var Nt=Pt.annotation,Qt=Pt.page,Jt=Pt.viewport,nn=Nt.hasPopup===!1,sn=pn(Nt),_n=hn(Nt),fn=!!(Nt.hasPopup||sn||_n);return _.createElement(hr,{annotation:Nt,hasPopup:nn,ignoreBorder:!0,isRenderable:fn,page:Qt,viewport:Jt},function(en){return _.createElement("div",nt({},en.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":Nt.id,onClick:en.popup.toggleOnClick,onMouseEnter:en.popup.openOnHover,onMouseLeave:en.popup.closeOnHover}),en.slot.children)})},ir=function(Pt){var Nt=Pt.annotation,Qt=Pt.page,Jt=Pt.viewport,nn=Nt.hasPopup===!1,sn=pn(Nt),_n=hn(Nt),fn=!!(Nt.hasPopup||sn||_n);return _.createElement(hr,{annotation:Nt,hasPopup:nn,ignoreBorder:!0,isRenderable:fn,page:Qt,viewport:Jt},function(en){return _.createElement("div",nt({},en.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":Nt.id,onClick:en.popup.toggleOnClick,onMouseEnter:en.popup.openOnHover,onMouseLeave:en.popup.closeOnHover}),en.slot.children)})},_r=function(Pt){var Nt=Pt.annotation,Qt=Pt.page,Jt=Pt.viewport,nn=Nt.hasPopup===!1,sn=pn(Nt),_n=hn(Nt),fn=!!(Nt.hasPopup||sn||_n);return _.createElement(hr,{annotation:Nt,hasPopup:nn,ignoreBorder:!0,isRenderable:fn,page:Qt,viewport:Jt},function(en){return _.createElement("div",nt({},en.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":Nt.id,onClick:en.popup.toggleOnClick,onMouseEnter:en.popup.openOnHover,onMouseLeave:en.popup.closeOnHover}),en.slot.children)})},Rr=function(){return _.createElement(dt,{size:16},_.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),_.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),_.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),_.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},kr=function(){return _.createElement(dt,{size:16},_.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),_.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),_.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),_.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),_.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),_.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),_.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),_.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),_.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),_.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Or=function(){return _.createElement(dt,{size:16},_.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),_.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},ss=function(){return _.createElement(dt,{size:16},_.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),_.createElement("path",{d:"M6 4.5L6 0.5"}),_.createElement("path",{d:"M18 4.5L18 0.5"}),_.createElement("path",{d:"M10 4.5L10 0.5"}),_.createElement("path",{d:"M14 4.5L14 0.5"}))},Yr=function(){return _.createElement(dt,{size:16},_.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),_.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),_.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},ds=function(){return _.createElement(dt,{size:16},_.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},hs=function(Pt){var Nt=Pt.annotation,Qt=Pt.childAnnotation,Jt=Pt.page,nn=Pt.viewport,sn=Nt.hasPopup===!1,_n=pn(Nt),fn=hn(Nt),en=!!(Nt.hasPopup||_n||fn),on=Nt.name?Nt.name.toLowerCase():"";return _.createElement(hr,{annotation:Nt,hasPopup:sn,ignoreBorder:!1,isRenderable:en,page:Jt,viewport:nn},function(gn){return _.createElement(_.Fragment,null,_.createElement("div",nt({},gn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":Nt.id,onClick:gn.popup.toggleOnClick,onMouseEnter:gn.popup.openOnHover,onMouseLeave:gn.popup.closeOnHover}),on&&_.createElement("div",{className:"rpv-core__annotation-text-icon"},on==="check"&&_.createElement(at,null),on==="comment"&&_.createElement(Rr,null),on==="help"&&_.createElement(kr,null),on==="insert"&&_.createElement(ds,null),on==="key"&&_.createElement(Or,null),on==="note"&&_.createElement(ss,null),(on==="newparagraph"||on==="paragraph")&&_.createElement(Yr,null)),gn.slot.children),Qt&&Qt.annotationType===s.AnnotationType.Popup&&gn.popup.opened&&_.createElement(sr,{annotation:Qt,page:Jt,viewport:nn}))})},ps=function(Pt){var Nt=Pt.annotation,Qt=Pt.page,Jt=Pt.viewport,nn=Nt.hasPopup===!1,sn=pn(Nt),_n=hn(Nt),fn=!!(Nt.hasPopup||sn||_n);return _.createElement(hr,{annotation:Nt,hasPopup:nn,ignoreBorder:!0,isRenderable:fn,page:Qt,viewport:Jt},function(en){return _.createElement("div",nt({},en.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":Nt.id,onClick:en.popup.toggleOnClick,onMouseEnter:en.popup.openOnHover,onMouseLeave:en.popup.closeOnHover}),en.slot.children)})},Ms=function(Pt){var Nt=Pt.annotations,Qt=Pt.doc,Jt=Pt.outlines,nn=Pt.page,sn=Pt.pageIndex,_n=Pt.plugins,fn=Pt.rotation,en=Pt.scale,on=Pt.onExecuteNamedAction,gn=Pt.onJumpFromLinkAnnotation,$n=Pt.onJumpToDest,Vn=_.useRef(),Ln=nn.getViewport({rotation:fn,scale:en}).clone({dontFlip:!0}),Xn=Nt.filter(function(Kn){return!Kn.parentId});return ot(function(){var Kn=Vn.current;Kn&&_n.forEach(function(Wn){Wn.onAnnotationLayerRender&&Wn.onAnnotationLayerRender({annotations:Xn,container:Kn,pageIndex:sn,rotation:fn,scale:en})})},[]),_.createElement("div",{ref:Vn,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(sn)},Xn.map(function(Kn){var Wn=Nt.find(function(wr){return wr.parentId===Kn.id});switch(Kn.annotationType){case s.AnnotationType.Caret:return _.createElement(Yt,{key:Kn.id,annotation:Kn,page:nn,viewport:Ln});case s.AnnotationType.Circle:return _.createElement(Cn,{key:Kn.id,annotation:Kn,page:nn,viewport:Ln});case s.AnnotationType.FileAttachment:return _.createElement(Hn,{key:Kn.id,annotation:Kn,page:nn,viewport:Ln});case s.AnnotationType.FreeText:return _.createElement(Qn,{key:Kn.id,annotation:Kn,page:nn,viewport:Ln});case s.AnnotationType.Highlight:return _.createElement(Zn,{key:Kn.id,annotation:Kn,childAnnotation:Wn,page:nn,viewport:Ln});case s.AnnotationType.Ink:return _.createElement(Xt,{key:Kn.id,annotation:Kn,page:nn,viewport:Ln});case s.AnnotationType.Line:return _.createElement(jt,{key:Kn.id,annotation:Kn,page:nn,viewport:Ln});case s.AnnotationType.Link:return _.createElement(rr,{key:Kn.id,annotation:Kn,annotationContainerRef:Vn,doc:Qt,outlines:Jt,page:nn,pageIndex:sn,scale:en,viewport:Ln,onExecuteNamedAction:on,onJumpFromLinkAnnotation:gn,onJumpToDest:$n});case s.AnnotationType.Polygon:return _.createElement(er,{key:Kn.id,annotation:Kn,page:nn,viewport:Ln});case s.AnnotationType.Polyline:return _.createElement(qn,{key:Kn.id,annotation:Kn,page:nn,viewport:Ln});case s.AnnotationType.Popup:return _.createElement(sr,{key:Kn.id,annotation:Kn,page:nn,viewport:Ln});case s.AnnotationType.Square:return _.createElement(Ar,{key:Kn.id,annotation:Kn,page:nn,viewport:Ln});case s.AnnotationType.Squiggly:return _.createElement(nr,{key:Kn.id,annotation:Kn,page:nn,viewport:Ln});case s.AnnotationType.Stamp:return _.createElement(ir,{key:Kn.id,annotation:Kn,page:nn,viewport:Ln});case s.AnnotationType.StrikeOut:return _.createElement(_r,{key:Kn.id,annotation:Kn,page:nn,viewport:Ln});case s.AnnotationType.Text:return _.createElement(hs,{key:Kn.id,annotation:Kn,childAnnotation:Wn,page:nn,viewport:Ln});case s.AnnotationType.Underline:return _.createElement(ps,{key:Kn.id,annotation:Kn,page:nn,viewport:Ln});default:return _.createElement(_.Fragment,{key:Kn.id})}}))},Jo=function(Pt){var Nt=Pt.page,Qt=Pt.renderAnnotations,Jt=kt(),nn=_.useState({loading:!0,annotations:[]}),sn=nn[0],_n=nn[1];return _.useEffect(function(){Nt.getAnnotations({intent:"display"}).then(function(fn){Jt.current&&_n({loading:!1,annotations:fn})})},[]),sn.loading?_.createElement(_.Fragment,null):Qt(sn.annotations)},Ws=function(Pt){var Nt=Pt.doc,Qt=Pt.outlines,Jt=Pt.page,nn=Pt.pageIndex,sn=Pt.plugins,_n=Pt.rotation,fn=Pt.scale,en=Pt.onExecuteNamedAction,on=Pt.onJumpFromLinkAnnotation,gn=Pt.onJumpToDest;return _.createElement(Jo,{page:Jt,renderAnnotations:function($n){return _.createElement(Ms,{annotations:$n,doc:Nt,outlines:Qt,page:Jt,pageIndex:nn,plugins:sn,rotation:_n,scale:fn,onExecuteNamedAction:en,onJumpFromLinkAnnotation:on,onJumpToDest:gn})}})},Ns=function(Pt,Nt){var Qt=Pt%Nt;return Qt===0?Pt:Math.floor(Pt-Qt)},$a=function(Pt){var Nt=Pt.canvasLayerRef,Qt=Pt.height,Jt=Pt.page,nn=Pt.pageIndex,sn=Pt.plugins,_n=Pt.rotation,fn=Pt.scale,en=Pt.width,on=Pt.onRenderCanvasCompleted,gn=_.useRef();return ot(function(){var $n=gn.current;$n&&$n.cancel();var Vn=Nt.current;Vn.removeAttribute("data-testid"),sn.forEach(function(Er){Er.onCanvasLayerRender&&Er.onCanvasLayerRender({ele:Vn,pageIndex:nn,rotation:_n,scale:fn,status:s.LayerRenderStatus.PreRender})});var Ln=Jt.getViewport({rotation:_n,scale:fn}),Xn=window.devicePixelRatio||1,Kn=Math.sqrt(16777216/(Ln.width*Ln.height)),Wn=Xn>Kn;Wn?Vn.style.transform="scale(1, 1)":Vn.style.removeProperty("transform");var wr=Math.min(Kn,Xn),gr=function(Er,jr){var Mr,$r;if(Math.floor(Er)===Er)return[Er,1];var Ur=1/Er;if(Ur>jr)return[1,jr];if(Math.floor(Ur)===Ur)return[1,Ur];for(var Vr=Er>1?Ur:Er,ns=0,Xr=1,rs=1,Qr=1;;){var ts=ns+rs,Jr=Xr+Qr;if(Jr>jr)break;Vr<=ts/Jr?(rs=(Mr=[ts,Jr])[0],Qr=Mr[1]):(ns=($r=[ts,Jr])[0],Xr=$r[1])}return Vr<(ns/Xr+rs/Qr)/2?Vr===Er?[ns,Xr]:[Xr,ns]:Vr===Er?[rs,Qr]:[Qr,rs]}(wr,8),yr=gr[0],br=gr[1];Vn.width=Ns(Ln.width*wr,yr),Vn.height=Ns(Ln.height*wr,yr),Vn.style.width="".concat(Ns(Ln.width,br),"px"),Vn.style.height="".concat(Ns(Ln.height,br),"px"),Vn.hidden=!0;var ur=Vn.getContext("2d",{alpha:!1}),Pr=Wn||Xn!==1?[wr,0,0,wr,0,0]:null;return gn.current=Jt.render({canvasContext:ur,transform:Pr,viewport:Ln}),gn.current.promise.then(function(){Vn.hidden=!1,Vn.setAttribute("data-testid","core__canvas-layer-".concat(nn)),sn.forEach(function(Er){Er.onCanvasLayerRender&&Er.onCanvasLayerRender({ele:Vn,pageIndex:nn,rotation:_n,scale:fn,status:s.LayerRenderStatus.DidRender})}),on()},function(){on()}),function(){Vn&&(Vn.width=0,Vn.height=0)}},[]),_.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Qt,"px"),width:"".concat(en,"px")}},_.createElement("canvas",{ref:Nt}))},Ls=function(Pt){var Nt=Pt.height,Qt=Pt.page,Jt=Pt.rotation,nn=Pt.scale,sn=Pt.width,_n=_.useRef();return ot(function(){var fn=_n.current,en=Qt.getViewport({rotation:Jt,scale:nn});Qt.getOperatorList().then(function(on){(function(){var gn=_n.current;gn&&(gn.innerHTML="")})(),new j.SVGGraphics(Qt.commonObjs,Qt.objs).getSVG(on,en).then(function(gn){gn.style.height="".concat(Nt,"px"),gn.style.width="".concat(sn,"px"),fn.appendChild(gn)})})},[]),_.createElement("div",{className:"rpv-core__svg-layer",ref:_n})},Ss=function(Pt){var Nt=Pt.containerRef,Qt=Pt.page,Jt=Pt.pageIndex,nn=Pt.plugins,sn=Pt.rotation,_n=Pt.scale,fn=Pt.onRenderTextCompleted,en=_.useRef(),on=function(){var gn=Nt.current;gn&&([].slice.call(gn.querySelectorAll(".rpv-core__text-layer-text")).forEach(function($n){return gn.removeChild($n)}),[].slice.call(gn.querySelectorAll('br[role="presentation"]')).forEach(function($n){return gn.removeChild($n)}))};return ot(function(){var gn=en.current;gn&&gn.cancel();var $n=Nt.current;if($n){$n.removeAttribute("data-testid");var Vn=Qt.getViewport({rotation:sn,scale:_n});return nn.forEach(function(Ln){Ln.onTextLayerRender&&Ln.onTextLayerRender({ele:$n,pageIndex:Jt,scale:_n,status:s.LayerRenderStatus.PreRender})}),Qt.getTextContent().then(function(Ln){on(),en.current=j.renderTextLayer({container:$n,textContent:Ln,textContentSource:Ln,viewport:Vn}),en.current.promise.then(function(){$n.setAttribute("data-testid","core__text-layer-".concat(Jt)),[].slice.call($n.children).forEach(function(Xn){Xn.classList.contains("rpv-core__text-layer-text--not")||Xn.classList.add("rpv-core__text-layer-text")}),nn.forEach(function(Xn){Xn.onTextLayerRender&&Xn.onTextLayerRender({ele:$n,pageIndex:Jt,scale:_n,status:s.LayerRenderStatus.DidRender})}),fn()},function(){$n.removeAttribute("data-testid"),fn()})}),function(){var Ln;on(),(Ln=en.current)===null||Ln===void 0||Ln.cancel()}}},[]),_.createElement("div",{className:"rpv-core__text-layer",ref:Nt})},ro=function(Pt){var Nt=Pt.doc,Qt=Pt.measureRef,Jt=Pt.outlines,nn=Pt.pageIndex,sn=Pt.pageRotation,_n=Pt.pageSize,fn=Pt.plugins,en=Pt.renderPage,on=Pt.renderQueueKey,gn=Pt.rotation,$n=Pt.scale,Vn=Pt.shouldRender,Ln=Pt.viewMode,Xn=Pt.onExecuteNamedAction,Kn=Pt.onJumpFromLinkAnnotation,Wn=Pt.onJumpToDest,wr=Pt.onRenderCompleted,gr=Pt.onRotatePage,yr=kt(),br=_.useState(null),ur=br[0],Pr=br[1],Er=_.useState(!1),jr=Er[0],Mr=Er[1],$r=_.useState(!1),Ur=$r[0],Vr=$r[1],ns=_.useRef(),Xr=_.useRef(),rs=Math.abs(gn+sn)%180==0,Qr=_n.pageWidth*$n,ts=_n.pageHeight*$n,Jr=rs?Qr:ts,es=rs?ts:Qr,os=(_n.rotation+gn+sn)%360,cs=_.useRef(0),fs=en||function(as){return _.createElement(_.Fragment,null,as.canvasLayer.children,as.textLayer.children,as.annotationLayer.children)};return _.useEffect(function(){Pr(null),Mr(!1),Vr(!1)},[sn,gn,$n]),_.useEffect(function(){Vn&&yr.current&&!ur&&Jn(Nt,nn).then(function(as){yr.current&&(cs.current=on,Pr(as))})},[Vn,ur]),_.useEffect(function(){jr&&Ur&&(on!==cs.current?(Pr(null),Mr(!1),Vr(!1)):wr(nn))},[jr,Ur]),_.createElement("div",{className:st({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":Ln===s.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":Ln===s.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":Ln===s.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(nn),ref:Qt,style:{height:"".concat(es,"px"),width:"".concat(Jr,"px")}},ur?_.createElement(_.Fragment,null,fs({annotationLayer:{attrs:{},children:_.createElement(Ws,{doc:Nt,outlines:Jt,page:ur,pageIndex:nn,plugins:fn,rotation:os,scale:$n,onExecuteNamedAction:Xn,onJumpFromLinkAnnotation:Kn,onJumpToDest:Wn})},canvasLayer:{attrs:{},children:_.createElement($a,{canvasLayerRef:ns,height:es,page:ur,pageIndex:nn,plugins:fn,rotation:os,scale:$n,width:Jr,onRenderCanvasCompleted:function(){yr.current&&Mr(!0)}})},canvasLayerRendered:jr,doc:Nt,height:es,pageIndex:nn,rotation:os,scale:$n,svgLayer:{attrs:{},children:_.createElement(Ls,{height:es,page:ur,rotation:os,scale:$n,width:Jr})},textLayer:{attrs:{},children:_.createElement(Ss,{containerRef:Xr,page:ur,pageIndex:nn,plugins:fn,rotation:os,scale:$n,onRenderTextCompleted:function(){yr.current&&Vr(!0)}})},textLayerRendered:Ur,width:Jr,markRendered:wr,onRotatePage:function(as){return gr(nn,as)}}),fn.map(function(as,us){return as.renderPageLayer?_.createElement(_.Fragment,{key:us},as.renderPageLayer({canvasLayerRef:ns,canvasLayerRendered:jr,doc:Nt,height:es,pageIndex:nn,rotation:os,scale:$n,textLayerRef:Xr,textLayerRendered:Ur,width:Jr})):_.createElement(_.Fragment,{key:us})})):_.createElement(pt,{testId:"core__page-layer-loading-".concat(nn)}))},_l=function(Pt,Nt){var Qt=Nt.rect;return Pt.height!==Qt.height||Pt.width!==Qt.width?Qt:Pt};(function(Pt){Pt.Horizontal="Horizontal",Pt.Vertical="Vertical",Pt.Both="Both"})(tr||(tr={}));var wo=function(Pt){return 1-Math.pow(1-Pt,4)},Vs=1e-4,io={left:0,top:0},Gs={capture:!1,passive:!0},so=function(Pt){var Nt=Pt.elementRef,Qt=Pt.enableSmoothScroll,Jt=Pt.isRtl,nn=Pt.scrollDirection,sn=Pt.onSmoothScroll,_n=_.useState(io),fn=_n[0],en=_n[1],on=_.useState(Nt.current),gn=on[0],$n=on[1],Vn=Jt?-1:1,Ln=_.useRef(nn);Ln.current=nn;var Xn=_.useRef(io),Kn=_.useRef(!0),Wn=_.useCallback(function(){Kn.current=!0,Qt&&en(Xn.current),sn(!1)},[]),wr=_.useCallback(function(){if(gn){switch(Ln.current){case tr.Horizontal:Xn.current={left:Vn*gn.scrollLeft,top:0};break;case tr.Both:Xn.current={left:Vn*gn.scrollLeft,top:gn.scrollTop};break;case tr.Vertical:default:Xn.current={left:0,top:gn.scrollTop}}Qt&&!Kn.current||en(Xn.current)}},[gn]);ot(function(){$n(Nt.current)}),ot(function(){if(gn)return gn.addEventListener("scroll",wr,Gs),function(){gn.removeEventListener("scroll",wr,Gs)}},[gn]);var gr=_.useCallback(function(yr,br){var ur=Nt.current;if(!ur)return Promise.resolve();var Pr={left:0,top:0};switch(Ln.current){case tr.Horizontal:Pr.left=Vn*yr.left;break;case tr.Both:Pr.left=Vn*yr.left,Pr.top=yr.top;break;case tr.Vertical:default:Pr.top=yr.top}return br?(Kn.current=!1,sn(!0),new Promise(function(Er,jr){(function(Mr,$r,Ur,Vr,ns,Xr){ns===void 0&&(ns=function(us){return us}),Xr===void 0&&(Xr=function(){});var rs=0,Qr=0,ts=!1;switch($r){case tr.Horizontal:Qr=Mr.scrollLeft,rs=0;case tr.Both:Qr=Mr.scrollLeft,rs=Mr.scrollTop;break;case tr.Vertical:default:Qr=0,rs=Mr.scrollTop}var Jr=function(){ts||(ts=!0,Mr.scrollLeft=Ur.left,Mr.scrollTop=Ur.top,Xr())};if(Math.abs(rs-Ur.top)<=Vs&&$r===tr.Vertical)Jr();else if(Math.abs(Qr-Ur.left)<=Vs&&$r===tr.Horizontal)Jr();else{var es,os=-1,cs=Qr-Ur.left,fs=rs-Ur.top,as=function(us){os===-1&&(os=us);var vs=us-os,Sr=Math.min(vs/Vr,1),cr=ns(Sr),dr={left:Qr-cs*cr,top:rs-fs*cr};switch($r){case tr.Horizontal:Mr.scrollLeft=dr.left;break;case tr.Both:Mr.scrollLeft=dr.left,Mr.scrollTop=dr.top;break;case tr.Vertical:default:Mr.scrollTop=dr.top}Math.abs(dr.top-Ur.top)<=Vs&&Math.abs(dr.left-Ur.left)<=Vs&&!ts&&(window.cancelAnimationFrame(es),Jr()),vs<Vr?es=window.requestAnimationFrame(as):window.cancelAnimationFrame(es)};es=window.requestAnimationFrame(as)}})(ur,Ln.current,Pr,400,wo,function(){Wn(),Er()})})):new Promise(function(Er,jr){switch(Ln.current){case tr.Horizontal:ur.scrollLeft=Pr.left;break;case tr.Both:ur.scrollLeft=Pr.left,ur.scrollTop=Pr.top;break;case tr.Vertical:default:ur.scrollTop=Pr.top}Er()})},[Nt]);return{scrollOffset:fn,scrollTo:gr}},ws=function(Pt,Nt,Qt){return Math.max(Pt,Math.min(Qt,Nt))},Po=function(Pt,Nt){if(Nt!==s.ViewMode.DualPageWithCover)return 0;if(!function(nn){var sn=nn.length;if(sn===1)return!1;for(var _n=1;_n<sn;_n++)if(nn[_n].height!==nn[0].height||nn[_n].width!==nn[0].width)return!0;return!1}(Pt))return 2*Pt[0].width;var Qt=dn(Pt.slice(1),2).map(function(nn){return nn.length===2?nn[0].width+nn[1].width:nn[0].width}),Jt=[Pt[0].width].concat(Qt);return Math.max.apply(Math,Jt)},yl={left:0,top:0},El={left:0,top:0},Ks={left:0,top:0},Ro={left:0,top:0},Sl={height:0,width:0},bs={left:0,top:0},_s="data-virtual-index",qs=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],Xs=function(Pt){var Nt=Pt.enableSmoothScroll,Qt=Pt.isRtl,Jt=Pt.numberOfItems,nn=Pt.parentRef,sn=Pt.setRenderRange,_n=Pt.sizes,fn=Pt.scrollMode,en=Pt.viewMode,on=_.useState(!1),gn=on[0],$n=on[1],Vn=_.useCallback(function(Sr){return $n(Sr)},[]),Ln=_.useRef(fn);Ln.current=fn;var Xn=_.useRef(en);Xn.current=en;var Kn=fn===s.ScrollMode.Wrapped||en===s.ViewMode.DualPageWithCover||en===s.ViewMode.DualPage?tr.Both:fn===s.ScrollMode.Horizontal?tr.Horizontal:tr.Vertical,Wn=so({elementRef:nn,enableSmoothScroll:Nt,isRtl:Qt,scrollDirection:Kn,onSmoothScroll:Vn}),wr=Wn.scrollOffset,gr=Wn.scrollTo,yr=function(Sr){var cr=Sr.elementRef,dr=_.useState(cr.current),pr=dr[0],or=dr[1],ct=_.useRef(!1),At=_.useReducer(_l,{height:0,width:0}),wt=At[0],Ot=At[1];return ot(function(){cr.current!==pr&&or(cr.current)}),ot(function(){if(pr&&!ct.current){ct.current=!0;var ln=pr.getBoundingClientRect(),An=ln.height,zn=ln.width;Ot({rect:{height:An,width:zn}})}},[pr]),_.useEffect(function(){if(pr){var ln=new ResizeObserver(function(An,zn){An.forEach(function(Tr){if(Tr.target===pr){var zr=Tr.contentRect,Dr=zr.height,mr=zr.width;Ot({rect:{height:Dr,width:mr}})}})});return ln.observe(pr),function(){ln.unobserve(pr)}}},[pr]),wt}({elementRef:nn}),br=_.useRef({scrollOffset:bs,measurements:[]});br.current.scrollOffset=wr;var ur=_.useMemo(function(){return Array(Jt).fill(-1)},[]),Pr=_.useState(ur),Er=Pr[0],jr=Pr[1],Mr=_.useMemo(function(){var Sr=new IntersectionObserver(function(cr){cr.forEach(function(dr){var pr=dr.isIntersecting?dr.intersectionRatio:-1,or=dr.target.getAttribute(_s);if(or){var ct=parseInt(or,10);0<=ct&&ct<Jt&&jr(function(At){return At[ct]=pr,function(wt,Ot,ln){for(var An,zn=0,Tr=Ot.length;zn<Tr;zn++)!An&&zn in Ot||(An||(An=Array.prototype.slice.call(Ot,0,zn)),An[zn]=Ot[zn]);return wt.concat(An||Array.prototype.slice.call(Ot))}([],At)})}})},{threshold:qs});return Sr},[]),$r=_.useMemo(function(){return fn===s.ScrollMode.Page&&en===s.ViewMode.SinglePage?function(Sr,cr,dr){for(var pr=[],or=0;or<Sr;or++){var ct={height:Math.max(cr.height,dr[or].height),width:Math.max(cr.width,dr[or].width)},At=or===0?Ro:pr[or-1].end,wt={left:At.left+ct.width,top:At.top+ct.height};pr[or]={index:or,start:At,size:ct,end:wt,visibility:-1}}return pr}(Jt,yr,_n):en===s.ViewMode.DualPageWithCover?function(Sr,cr,dr,pr){for(var or=[],ct=0,At=0,wt=Ks,Ot=0;Ot<Sr;Ot++){var ln=Ot===0?{height:pr===s.ScrollMode.Page?Math.max(cr.height,dr[Ot].height):dr[Ot].height,width:pr===s.ScrollMode.Page?Math.max(cr.width,dr[Ot].width):dr[Ot].width}:{height:pr===s.ScrollMode.Page?Math.max(cr.height,dr[Ot].height):dr[Ot].height,width:Math.max(cr.width/2,dr[Ot].width)};pr===s.ScrollMode.Page?wt=Ot===0?Ks:{left:Ot%2==0?ln.width:0,top:Math.floor((Ot-1)/2)*ln.height+or[0].end.top}:Ot===0?(wt=Ks,ct=dr[0].height,At=0):Ot%2==1?(wt={left:0,top:ct+=At},At=Ot===Sr-1?dr[Ot].height:Math.max(dr[Ot].height,dr[Ot+1].height)):wt={left:or[Ot-1].end.left,top:ct};var An={left:wt.left+ln.width,top:wt.top+ln.height};or[Ot]={index:Ot,start:wt,size:ln,end:An,visibility:-1}}return or}(Jt,yr,_n,fn):en===s.ViewMode.DualPage?function(Sr,cr,dr,pr){for(var or=[],ct=0,At=0,wt=El,Ot=0;Ot<Sr;Ot++){var ln={height:pr===s.ScrollMode.Page?Math.max(cr.height,dr[Ot].height):dr[Ot].height,width:Math.max(cr.width/2,dr[Ot].width)};pr===s.ScrollMode.Page?wt={left:Ot%2==0?0:ln.width,top:Math.floor(Ot/2)*ln.height}:Ot%2==0?(wt={left:0,top:ct+=At},At=Ot===Sr-1?dr[Ot].height:Math.max(dr[Ot].height,dr[Ot+1].height)):wt={left:or[Ot-1].end.left,top:ct};var An={left:wt.left+ln.width,top:wt.top+ln.height};or[Ot]={index:Ot,start:wt,size:ln,end:An,visibility:-1}}return or}(Jt,yr,_n,fn):function(Sr,cr,dr,pr){for(var or=[],ct=0,At={left:0,top:0},wt=0,Ot=yl,ln=0;ln<Sr;ln++){var An=dr[ln];if(ln===0)ct=An.width,At={left:0,top:0},wt=An.height;else switch(pr){case s.ScrollMode.Wrapped:(ct+=An.width)<cr.width?(Ot={left:or[ln-1].end.left,top:At.top},wt=Math.max(wt,An.height)):(ct=An.width,At={left:(Ot={left:At.left,top:At.top+wt}).left,top:Ot.top},wt=An.height);break;case s.ScrollMode.Horizontal:case s.ScrollMode.Vertical:default:Ot=or[ln-1].end}var zn={left:Ot.left+An.width,top:Ot.top+An.height};or[ln]={index:ln,start:Ot,size:An,end:zn,visibility:-1}}return or}(Jt,yr,_n,fn)},[fn,_n,en,yr]),Ur=$r[Jt-1]?{height:$r[Jt-1].end.top,width:$r[Jt-1].end.left}:Sl;br.current.measurements=$r;var Vr=_.useMemo(function(){var Sr=function(ln,An,zn,Tr){var zr=0;switch(ln){case tr.Horizontal:zr=Tr.left;break;case tr.Vertical:default:zr=Tr.top}var Dr=An.length-1,mr=function(Gr,Cs,Qs,Oo){for(;Gr<=Cs;){var Us=(Gr+Cs)/2|0,po=Oo(Us);if(po<Qs)Gr=Us+1;else{if(!(po>Qs))return Us;Cs=Us-1}}return Gr>0?Gr-1:0}(0,Dr,zr,function(Gr){switch(ln){case tr.Horizontal:return An[Gr].start.left;case tr.Both:case tr.Vertical:default:return An[Gr].start.top}});if(ln===tr.Both)for(var Hr=An[mr].start.top;mr-1>=0&&An[mr-1].start.top===Hr&&An[mr-1].start.left>=Tr.left;)mr--;for(var Wr=mr;Wr<=Dr;){var Br={top:An[Wr].start.top-Tr.top,left:An[Wr].start.left-Tr.left},is={height:zn.height-Br.top,width:zn.width-Br.left};if(ln===tr.Horizontal&&is.width<0||ln===tr.Vertical&&is.height<0||ln===tr.Both&&(is.width<0||is.height<0))break;Wr++}return{start:mr,end:Wr}}(Kn,$r,yr,wr),cr=Sr.start,dr=Sr.end,pr=Er.slice(ws(0,Jt,cr),ws(0,Jt,dr)),or=cr+pr.reduce(function(ln,An,zn,Tr){return An>Tr[ln]?zn:ln},0),ct=or=ws(0,Jt-1,or),At=sn({endPage:dr,numPages:Jt,startPage:cr}),wt=At.startPage,Ot=At.endPage;switch(wt=Math.max(wt,0),Ot=Math.min(Ot,Jt-1),en){case s.ViewMode.DualPageWithCover:or>0&&(ct=or%2==1?or:or-1),wt=wt===0?0:wt%2==1?wt:wt-1,Jt-(Ot=Ot%2==1?Ot-1:Ot)<=2&&(Ot=Jt-1);break;case s.ViewMode.DualPage:ct=or%2==0?or:or-1,wt=wt%2==0?wt:wt-1,Ot=Ot%2==1?Ot:Ot-1;break;case s.ViewMode.SinglePage:default:ct=or}return{startPage:wt,endPage:Ot,maxVisbilityIndex:ct}},[$r,yr,wr,en,Er]),ns=Vr.startPage,Xr=Vr.endPage,rs=Vr.maxVisbilityIndex,Qr=_.useMemo(function(){for(var Sr=[],cr=function(pr){var or=$r[pr],ct=nt(nt({},or),{visibility:Er[pr]!==void 0?Er[pr]:-1,measureRef:function(At){At&&(At.setAttribute(_s,"".concat(pr)),Mr.observe(At))}});Sr.push(ct)},dr=ns;dr<=Xr;dr++)cr(dr);return Sr},[ns,Xr,Er,$r]),ts=_.useCallback(function(Sr,cr){var dr=br.current.measurements[ws(0,Jt-1,Sr)],pr=Ln.current===s.ScrollMode.Page?bs:cr;return dr?gr({left:pr.left+dr.start.left,top:pr.top+dr.start.top},Nt):Promise.resolve()},[gr,Nt]),Jr=_.useCallback(function(Sr,cr){var dr=br.current.measurements,pr=dr[Sr].start,or=dr.find(function(At){return At.start.top-pr.top>1e-12});if(!or)return Promise.resolve();var ct=or.index;switch(Xn.current){case s.ViewMode.DualPage:ct=ct%2==0?ct:ct+1;break;case s.ViewMode.DualPageWithCover:ct=ct%2==1?ct:ct+1}return ts(ct,cr)},[]),es=_.useCallback(function(Sr,cr){for(var dr=br.current.measurements,pr=dr[Sr].start,or=Sr,ct=!1,At=Jt-1;At>=0;At--)if(pr.top-dr[At].start.top>1e-12){ct=!0,or=dr[At].index;break}if(!ct)return Promise.resolve();switch(Xn.current){case s.ViewMode.DualPage:or=or%2==0?or:or-1;break;case s.ViewMode.DualPageWithCover:or=or%2==0?or-1:or}return or===Sr&&(or=Sr-1),ts(or,cr)},[]),os=_.useCallback(function(Sr,cr){if(Xn.current===s.ViewMode.DualPageWithCover||Xn.current===s.ViewMode.DualPage)return Jr(Sr,cr);switch(Ln.current){case s.ScrollMode.Wrapped:return Jr(Sr,cr);case s.ScrollMode.Horizontal:case s.ScrollMode.Vertical:default:return ts(Sr+1,cr)}},[]),cs=_.useCallback(function(Sr,cr){if(Xn.current===s.ViewMode.DualPageWithCover||Xn.current===s.ViewMode.DualPage)return es(Sr,cr);switch(Ln.current){case s.ScrollMode.Wrapped:return es(Sr,cr);case s.ScrollMode.Horizontal:case s.ScrollMode.Vertical:default:return ts(Sr-1,cr)}},[]),fs=_.useCallback(function(){return function(Sr,cr){switch(cr){case s.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(Sr.width,"px")};case s.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(Sr.height,"px"),width:"100%"}}}(Ur,Ln.current)},[Ur]),as=_.useCallback(function(Sr){return function(cr,dr,pr){return pr!==s.ScrollMode.Page?{}:{height:"".concat(dr.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(cr.start.top,"px)")}}(Sr,yr,Ln.current)},[yr]),us=_.useCallback(function(Sr){return function(cr,dr,pr,or,ct){var At,wt,Ot,ln,An,zn,Tr,zr=dr?"right":"left",Dr=dr?-1:1,mr=pr.length,Hr=cr.start.left*Dr,Wr=cr.size,Br=Wr.height,is=Wr.width;if(or===s.ViewMode.DualPageWithCover){var Gr=ct===s.ScrollMode.Page?0:cr.start.top;return cr.index===0||mr%2==0&&cr.index===mr-1?((At={height:"".concat(Br,"px"),minWidth:"".concat(Po(pr,or),"px"),width:"100%"})[zr]=0,At.position="absolute",At.top=0,At.transform="translate(".concat(Hr,"px, ").concat(Gr,"px)"),At):((wt={height:"".concat(Br,"px"),width:"".concat(is,"px")})[zr]=0,wt.position="absolute",wt.top=0,wt.transform="translate(".concat(Hr,"px, ").concat(Gr,"px)"),wt)}if(or===s.ViewMode.DualPage)return(Ot={height:"".concat(Br,"px"),width:"".concat(is,"px")})[zr]=0,Ot.position="absolute",Ot.top=0,Ot.transform="translate(".concat(Hr,"px, ").concat(ct===s.ScrollMode.Page?0:cr.start.top,"px)"),Ot;switch(ct){case s.ScrollMode.Horizontal:return(ln={height:"100%",width:"".concat(is,"px")})[zr]=0,ln.position="absolute",ln.top=0,ln.transform="translateX(".concat(Hr,"px)"),ln;case s.ScrollMode.Page:return(An={height:"".concat(Br,"px"),width:"".concat(is,"px")})[zr]=0,An.position="absolute",An.top=0,An;case s.ScrollMode.Wrapped:return(zn={height:"".concat(Br,"px"),width:"".concat(is,"px")})[zr]=0,zn.position="absolute",zn.top=0,zn.transform="translate(".concat(Hr,"px, ").concat(cr.start.top,"px)"),zn;case s.ScrollMode.Vertical:default:return(Tr={height:"".concat(Br,"px"),width:"100%"})[zr]=0,Tr.position="absolute",Tr.top=0,Tr.transform="translateY(".concat(cr.start.top,"px)"),Tr}}(Sr,Qt,_n,Xn.current,Ln.current)},[Qt,_n]),vs=_.useCallback(function(Sr,cr){var dr=br.current,pr=dr.measurements,or=dr.scrollOffset,ct=pr[ws(0,Jt-1,cr)];if(ct){var At=Ln.current===s.ScrollMode.Page?{left:ct.start.left,top:ct.start.top}:{left:or.left*Sr,top:or.top*Sr};return gr(At,!1)}return Promise.resolve()},[]);return _.useEffect(function(){return function(){Mr.disconnect()}},[]),{boundingClientRect:yr,isSmoothScrolling:gn,startPage:ns,endPage:Xr,maxVisbilityIndex:rs,virtualItems:Qr,getContainerStyles:fs,getItemContainerStyles:as,getItemStyles:us,scrollToItem:ts,scrollToNextItem:os,scrollToPreviousItem:cs,zoom:vs}},Zs=function(Pt,Nt,Qt,Jt,nn,sn){var _n=Qt;switch(!0){case(nn===s.ViewMode.DualPageWithCover&&sn>=3):case(nn===s.ViewMode.DualPage&&sn>=3):_n=2*Qt;break;default:_n=Qt}switch(Jt){case s.SpecialZoomLevel.ActualSize:return 1;case s.SpecialZoomLevel.PageFit:return Math.min((Pt.clientWidth-17)/_n,(Pt.clientHeight-16)/Nt);case s.SpecialZoomLevel.PageWidth:return(Pt.clientWidth-17)/_n}},_i=function(Pt){var Nt,Qt,Jt=Pt.getCurrentPage,nn=(Nt=50,Qt=_.useRef([]),_.useEffect(function(){return function(){Qt.current=[]}},[]),{push:function(on){var gn=Qt.current;gn.length+1>Nt&&gn.shift(),gn.push(on),Qt.current=gn},map:function(on){return Qt.current.map(function(gn){return on(gn)})},pop:function(){var on=Qt.current;if(on.length===0)return null;var gn=on.pop();return Qt.current=on,gn}}),sn=function(on){var gn=_.useRef([]);return _.useEffect(function(){return function(){gn.current=[]}},[]),{dequeue:function(){var $n=gn.current;if($n.length===0)return null;var Vn=$n.shift();return gn.current=$n,Vn||null},enqueue:function($n){var Vn=gn.current;Vn.length+1>on&&Vn.pop(),gn.current=[$n].concat(Vn)},map:function($n){return gn.current.map(function(Vn){return $n(Vn)})}}}(50),_n=function(){var on=sn.dequeue();return on&&nn.push(on),on&&on.pageIndex===Jt()?_n():on},fn=function(){var on=nn.pop();return on&&sn.enqueue(on),on&&on.pageIndex===Jt()?fn():on},en=_.useCallback(function(on){nn.push(on)},[]);return{getNextDestination:_n,getPreviousDestination:fn,markVisitedDestination:en}},Bs=function(Pt){var Nt=[];return Pt.map(function(Qt){Nt=Nt.concat(Qt).concat(function(Jt){var nn=[];return Jt.items&&Jt.items.length>0&&(nn=nn.concat(Bs(Jt.items))),nn}(Qt))}),Nt},Ps={capture:!1,passive:!0},js={height:0,width:0},oo={height:0,width:0},Co=function(Pt){var Nt=Pt.getCurrentPage,Qt=Pt.getCurrentScrollMode,Jt=Pt.jumpToPage,nn=Pt.targetRef,sn=_.useState(s.FullScreenMode.Normal),_n=sn[0],fn=sn[1],en=function(){var Er=_.useState(js),jr=Er[0],Mr=Er[1],$r=Ut(function(){Mr({height:window.innerHeight,width:window.innerWidth})},100);return ot(function(){return window.addEventListener("resize",$r,Ps),function(){window.removeEventListener("resize",$r,Ps)}},[]),jr}(),on=_.useState(oo),gn=on[0],$n=on[1],Vn=_.useRef(oo),Ln=_.useRef(Nt()),Xn=_.useRef(oo),Kn=_.useState(nn.current),Wn=Kn[0],wr=Kn[1],gr=_.useRef();ot(function(){nn.current!==Wn&&wr(nn.current)},[]),ot(function(){if(Wn){var Er=new ResizeObserver(function(jr){jr.forEach(function(Mr){var $r=Mr.target.getBoundingClientRect(),Ur=$r.height,Vr=$r.width;$n({height:Ur,width:Vr})})});return Er.observe(Wn),function(){Er.unobserve(Wn),Er.disconnect()}}},[Wn]);var yr=_.useCallback(function(Er){var jr=St();return jr&&jr!==Er?(fn(s.FullScreenMode.Normal),xt(jr)):Promise.resolve()},[]),br=_.useCallback(function(Er){Er&&mt()&&(wr(Er),yr(Er).then(function(){gr.current=Er,fn(s.FullScreenMode.Entering),function(jr){_t&&jr[Et.RequestFullScreen]()}(Er)}))},[]),ur=_.useCallback(function(){St()&&(fn(s.FullScreenMode.Exitting),xt(document))},[]),Pr=_.useCallback(function(){Wn&&St()!==Wn&&fn(s.FullScreenMode.Exitting)},[Wn]);return _.useEffect(function(){switch(_n){case s.FullScreenMode.Entering:gr.current&&(gr.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),Ln.current=Nt(),Vn.current={height:window.innerHeight,width:window.innerWidth};break;case s.FullScreenMode.Entered:Qt()===s.ScrollMode.Page?Jt(Ln.current).then(function(){fn(s.FullScreenMode.EnteredCompletely)}):fn(s.FullScreenMode.EnteredCompletely);break;case s.FullScreenMode.Exitting:gr.current&&(gr.current.style.backgroundColor="",gr.current=null),Ln.current=Nt();break;case s.FullScreenMode.Exited:fn(s.FullScreenMode.Normal),Qt()===s.ScrollMode.Page&&Jt(Ln.current)}},[_n]),_.useEffect(function(){if(_n!==s.FullScreenMode.Normal)return _n===s.FullScreenMode.Entering&&en.height===gn.height&&en.width===gn.width&&en.height>0&&en.width>0&&(Xn.current.height===0||en.height==Xn.current.height)?(Xn.current={height:window.innerHeight,width:window.innerWidth},void fn(s.FullScreenMode.Entered)):void(_n===s.FullScreenMode.Exitting&&Vn.current.height===en.height&&Vn.current.width===en.width&&en.height>0&&en.width>0&&fn(s.FullScreenMode.Exited))},[_n,en,gn]),_.useEffect(function(){var Er;return Er=Pr,_t&&document.addEventListener(Et.FullScreenChange,Er),function(){(function(jr){_t&&document.removeEventListener(Et.FullScreenChange,jr)})(Pr)}},[Wn]),{enterFullScreenMode:br,exitFullScreenMode:ur,fullScreenMode:_n}},xl={buildPageStyles:function(){return{}},transformSize:function(Pt){return Pt.size}},Rs={left:0,top:0},Al=function(Pt){var Nt=Pt.currentFile,Qt=Pt.defaultScale,Jt=Pt.doc,nn=Pt.enableSmoothScroll,sn=Pt.initialPage,_n=Pt.initialRotation,fn=Pt.initialScale,en=Pt.pageLayout,on=Pt.pageSizes,gn=Pt.plugins,$n=Pt.renderPage,Vn=Pt.scrollMode,Ln=Pt.setRenderRange,Xn=Pt.viewMode,Kn=Pt.viewerState,Wn=Pt.onDocumentLoad,wr=Pt.onOpenFile,gr=Pt.onPageChange,yr=Pt.onRotate,br=Pt.onRotatePage,ur=Pt.onZoom,Pr=Jt.numPages,Er=Jt.loadingTask.docId,jr=_.useContext(tn).l10n,Mr=_.useContext(it),$r=Mr.direction===s.TextDirection.RightToLeft,Ur=_.useRef(),Vr=_.useRef(),ns=_.useState(sn),Xr=ns[0],rs=ns[1],Qr=_.useRef(null),ts=_i({getCurrentPage:function(){return mr.current.pageIndex}}),Jr=_.useState(_n),es=Jr[0],os=Jr[1],cs=Bt(es),fs=_.useState(!1),as=fs[0],us=fs[1],vs=_.useState(new Map),Sr=vs[0],cr=vs[1],dr=_.useState(Vn),pr=dr[0],or=dr[1],ct=Bt(pr),At=_.useState(Xn),wt=At[0],Ot=At[1],ln=Bt(wt),An=function(Gn){var Ir=kt(),Nr=_.useState([]),qr=Nr[0],Kr=Nr[1];return _.useEffect(function(){Gn.getOutline().then(function(Lr){if(Ir.current&&Lr!==null){var ls=Bs(Lr);Kr(ls)}})},[]),qr}(Jt),zn=_.useState(fn),Tr=zn[0],zr=zn[1],Dr=Bt(Tr),mr=_.useRef(Kn),Hr=_.useRef(typeof Qt=="string"?Qt:null),Wr=_.useRef(-1),Br=_.useRef(-1),is=_.useRef(sn),Gr=Co({getCurrentPage:function(){return mr.current.pageIndex},getCurrentScrollMode:function(){return mr.current.scrollMode},jumpToPage:function(Gn){return Ds(Gn)},targetRef:Vr}),Cs=_.useState(-1),Qs=Cs[0],Oo=Cs[1],Us=_.useState(0),po=Us[0],ip=Us[1],ms=Ft({doc:Jt});_.useEffect(function(){return function(){jn.clear(),vr.clear()}},[Er]);var _u=_.useMemo(function(){return Object.assign({},xl,en)},[]),sp=_.useMemo(function(){return Array(Pr).fill(0).map(function(Gn,Ir){var Nr=[on[Ir].pageHeight,on[Ir].pageWidth],qr=Math.abs(es)%180==0?{height:Nr[0],width:Nr[1]}:{height:Nr[1],width:Nr[0]},Kr={height:qr.height*Tr,width:qr.width*Tr};return _u.transformSize({numPages:Pr,pageIndex:Ir,size:Kr})})},[es,Tr]),Zr=Xs({enableSmoothScroll:nn,isRtl:$r,numberOfItems:Pr,parentRef:Vr,scrollMode:pr,setRenderRange:Ln,sizes:sp,viewMode:wt}),ap=Ut(function(){!Hr.current||mr.current.fullScreenMode!==s.FullScreenMode.Normal||sn>0&&is.current===sn||zs(Hr.current)},200);(function(Gn){var Ir=Gn.targetRef,Nr=Gn.onResize;ot(function(){var qr=new ResizeObserver(function(Lr){Lr.forEach(function(ls){Nr(ls.target)})}),Kr=Ir.current;if(Kr)return qr.observe(Kr),function(){qr.unobserve(Kr)}},[])})({targetRef:Vr,onResize:ap});var Is=function(Gn){var Ir=Gn;gn.forEach(function(Nr){Nr.onViewerStateChange&&(Ir=Nr.onViewerStateChange(Ir))}),mr.current=Ir},op=function(){return Vr.current},lp=function(){return mr.current},cp=_.useCallback(function(Gn){ts.markVisitedDestination(Gn)},[]),Pl=_.useCallback(function(Gn){var Ir=Gn.pageIndex,Nr=Gn.bottomOffset,qr=Gn.leftOffset,Kr=Gn.scaleTo,Lr=Vr.current,ls=mr.current;return Lr&&ls?new Promise(function(ks,Ol){Jn(Jt,Ir).then(function(Mo){var Fs=Mo.getViewport({scale:1}),No=0,Tu=(typeof Nr=="function"?Nr(Fs.width,Fs.height):Nr)||0,Lo=(typeof qr=="function"?qr(Fs.width,Fs.height):qr)||0,Js=ls.scale;switch(Kr){case s.SpecialZoomLevel.PageFit:No=0,Lo=0,zs(s.SpecialZoomLevel.PageFit);break;case s.SpecialZoomLevel.PageWidth:Js=Zs(Lr,on[Ir].pageHeight,on[Ir].pageWidth,s.SpecialZoomLevel.PageWidth,Xn,Pr),No=(Fs.height-Tu)*Js,Lo*=Js,zs(Js);break;default:No=(Fs.height-Tu)*Js,Lo*=Js}switch(ls.scrollMode){case s.ScrollMode.Horizontal:Zr.scrollToItem(Ir,{left:Lo,top:0}).then(function(){ks()});break;case s.ScrollMode.Vertical:default:Zr.scrollToItem(Ir,{left:0,top:No}).then(function(){ks()})}})}):Promise.resolve()},[]),vu=_.useCallback(function(Gn){return ts.markVisitedDestination(Gn),Pl(Gn)},[]),up=_.useCallback(function(){var Gn=ts.getNextDestination();return Gn?Pl(Gn):Promise.resolve()},[]),dp=_.useCallback(function(){var Gn=ts.getPreviousDestination();return Gn?Pl(Gn):Promise.resolve()},[]),hp=_.useCallback(function(){return Zr.scrollToNextItem(mr.current.pageIndex,Rs)},[]),Ds=_.useCallback(function(Gn){return 0<=Gn&&Gn<Pr?Zr.scrollToItem(Gn,Rs):Promise.resolve()},[]),fp=_.useCallback(function(){return Zr.scrollToPreviousItem(mr.current.pageIndex,Rs)},[]),yu=_.useCallback(function(Gn){var Ir,Nr;(Ir=Gn.name,Nr=Ir.split(/\./).pop(),Nr?Nr.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(qr){var Kr=new FileReader;Kr.readAsArrayBuffer(Gn),Kr.onload=function(){var Lr=new Uint8Array(Kr.result);qr(Lr)}}).then(function(qr){wr(Gn.name,qr)})},[wr]),bu=_.useCallback(function(Gn){var Ir=Gn===s.RotateDirection.Backward?-90:90,Nr=mr.current.rotation,qr=Nr===360||Nr===-360?Ir:Nr+Ir;ms.markNotRendered(),os(qr),Is(nt(nt({},mr.current),{rotation:qr})),yr({direction:Gn,doc:Jt,rotation:qr})},[]),Rl=_.useCallback(function(Gn,Ir){var Nr=Ir===s.RotateDirection.Backward?-90:90,qr=mr.current.pagesRotation,Kr=(qr.has(Gn)?qr.get(Gn):_n)+Nr,Lr=qr.set(Gn,Kr);cr(Lr),us(function(ls){return!ls}),Is(nt(nt({},mr.current),{pagesRotation:Lr,rotatedPage:Gn})),br({direction:Ir,doc:Jt,pageIndex:Gn,rotation:Kr}),ms.markRendering(Gn),Oo(Gn)},[]),Eu=_.useCallback(function(Gn){Is(nt(nt({},mr.current),{scrollMode:Gn})),or(Gn)},[]),Su=_.useCallback(function(Gn){Is(nt(nt({},mr.current),{viewMode:Gn})),Ot(Gn)},[]),zs=_.useCallback(function(Gn){var Ir=Vr.current,Nr=mr.current.pageIndex;if(!(Nr<0||Nr>=Pr)){var qr=on[Nr].pageHeight,Kr=on[Nr].pageWidth,Lr=Ir?typeof Gn=="string"?Zs(Ir,qr,Kr,Gn,mr.current.viewMode,Pr):Gn:1;Hr.current=typeof Gn=="string"?Gn:null,Lr!==mr.current.scale&&(ip(function(ls){return ls+1}),ms.markNotRendered(),zr(Lr),ur({doc:Jt,scale:Lr}),Is(nt(nt({},mr.current),{scale:Lr})))}},[]),pp=_.useCallback(function(Gn){Gr.enterFullScreenMode(Gn)},[]),gp=_.useCallback(function(){Gr.exitFullScreenMode()},[]);_.useEffect(function(){Is(nt(nt({},mr.current),{fullScreenMode:Gr.fullScreenMode}))},[Gr.fullScreenMode]),_.useEffect(function(){var Gn={enterFullScreenMode:pp,exitFullScreenMode:gp,getPagesContainer:op,getViewerState:lp,jumpToDestination:vu,jumpToNextDestination:up,jumpToPreviousDestination:dp,jumpToNextPage:hp,jumpToPreviousPage:fp,jumpToPage:Ds,openFile:yu,rotate:bu,rotatePage:Rl,setViewerState:Is,switchScrollMode:Eu,switchViewMode:Su,zoom:zs};return gn.forEach(function(Ir){Ir.install&&Ir.install(Gn)}),function(){gn.forEach(function(Ir){Ir.uninstall&&Ir.uninstall(Gn)})}},[Er]),_.useEffect(function(){Wn({doc:Jt,file:Nt}),gn.forEach(function(Gn){Gn.onDocumentLoad&&Gn.onDocumentLoad({doc:Jt,file:Nt})})},[Er]);var Cl,Il,Dl,xu=Zr.boundingClientRect;Cl=function(){sn&&Ds(sn)},Il=xu.height>0&&xu.width>0,Dl=_.useRef(!1),ot(function(){Il&&!Dl.current&&(Dl.current=!0,Cl())},[Cl,Il]),ot(function(){var Gn=mr.current.pageIndex;Gn>-1&&ct!==pr&&Zr.scrollToItem(Gn,Rs).then(function(){Gr.fullScreenMode===s.FullScreenMode.EnteredCompletely&&(nn||ms.markNotRendered(),Wr.current=-1)})},[pr]),ot(function(){var Gn=mr.current.pageIndex;Gn>-1&&cs!==es&&Zr.scrollToItem(Gn,Rs)},[es]),ot(function(){Dr!=0&&Dr!=mr.current.scale&&Zr.zoom(mr.current.scale/Dr,mr.current.pageIndex).then(function(){Gr.fullScreenMode===s.FullScreenMode.EnteredCompletely&&(Br.current=-1)})},[Tr]),ot(function(){if(ln!==mr.current.viewMode){var Gn=Zr.startPage,Ir=Zr.endPage,Nr=Zr.virtualItems;ms.markNotRendered(),ms.setRange(Gn,Ir);for(var qr=function(Lr){var ls=Nr.find(function(ks){return ks.index===Lr});ls&&ms.setVisibility(Lr,ls.visibility)},Kr=Gn;Kr<=Ir;Kr++)qr(Kr);Fl()}},[wt]),ot(function(){var Gn=mr.current.pageIndex;Gn>-1&&ln!==wt&&Zr.scrollToItem(Gn,Rs)},[wt]),ot(function(){var Gn=mr.current.pageIndex;Gn>0&&Gn===sn&&is.current===sn&&Hr.current&&(is.current=-1,zs(Hr.current))},[Xr]),_.useEffect(function(){Zr.isSmoothScrolling||Qr.current!==null&&Qr.current===Xr||(Qr.current=Xr,gr({currentPage:Xr,doc:Jt}))},[Xr,Zr.isSmoothScrolling]),_.useEffect(function(){Gr.fullScreenMode===s.FullScreenMode.Entering&&mr.current.scrollMode===s.ScrollMode.Page&&(Wr.current=mr.current.pageIndex),Gr.fullScreenMode===s.FullScreenMode.EnteredCompletely&&mr.current.scrollMode===s.ScrollMode.Page&&nn&&(Wr.current=-1),Gr.fullScreenMode===s.FullScreenMode.EnteredCompletely&&Hr.current&&(Br.current=mr.current.pageIndex,zs(Hr.current))},[Gr.fullScreenMode]),_.useEffect(function(){if(Gr.fullScreenMode!==s.FullScreenMode.Entering&&Gr.fullScreenMode!==s.FullScreenMode.Exitting&&!Zr.isSmoothScrolling){var Gn=Zr.startPage,Ir=Zr.endPage,Nr=Zr.maxVisbilityIndex,qr=Zr.virtualItems,Kr=Nr,Lr=Gr.fullScreenMode===s.FullScreenMode.Entered||Gr.fullScreenMode===s.FullScreenMode.EnteredCompletely;if(!(Lr&&Kr!==Wr.current&&Wr.current>-1||Lr&&Kr!==Br.current&&Br.current>-1)){rs(Kr),Is(nt(nt({},mr.current),{pageIndex:Kr})),ms.setRange(Gn,Ir);for(var ls=function(Ol){var Mo=qr.find(function(Fs){return Fs.index===Ol});Mo&&ms.setVisibility(Ol,Mo.visibility)},ks=Gn;ks<=Ir;ks++)ls(ks);Fl()}}},[Zr.startPage,Zr.endPage,Zr.isSmoothScrolling,Zr.maxVisbilityIndex,Gr.fullScreenMode,as,es,Tr]);var mp=_.useCallback(function(Gn){ms.markRendered(Gn),Fl()},[po]),Fl=function(){var Gn=ms.getHighestPriorityPage();Gn>-1&&ms.isInRange(Gn)&&(ms.markRendering(Gn),Oo(Gn))},_p=function(Gn){var Ir=Xr-1,Nr=Xr+1;switch(Gn){case"FirstPage":Ds(0);break;case"LastPage":Ds(Pr-1);break;case"NextPage":Nr<Pr&&Ds(Nr);break;case"PrevPage":Ir>=0&&Ds(Ir)}},vp=_.useCallback(function(){var Gn=Zr.virtualItems,Ir=[];switch(wt){case s.ViewMode.DualPage:Ir=dn(Gn,2);break;case s.ViewMode.DualPageWithCover:Gn.length&&(Ir=Gn[0].index===0?[[Gn[0]]].concat(dn(Gn.slice(1),2)):dn(Gn,2));break;case s.ViewMode.SinglePage:default:Ir=dn(Gn,1)}var Nr=jr&&jr.core?jr.core.pageLabel:"Page {{pageIndex}}",qr={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:Ur,style:{height:"100%"}},children:_.createElement(_.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:st({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":pr===s.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":$r,"rpv-core__inner-pages--single":pr===s.ScrollMode.Page,"rpv-core__inner-pages--vertical":pr===s.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":pr===s.ScrollMode.Wrapped}),ref:Vr,style:{height:"100%",position:"relative"}},children:_.createElement("div",{"data-testid":"core__inner-current-page-".concat(Xr),style:Object.assign({"--scale-factor":Tr},Zr.getContainerStyles())},Ir.map(function(Kr){return _.createElement("div",{className:st({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":pr===s.ScrollMode.Page}),style:Zr.getItemContainerStyles(Kr[0]),key:"".concat(Kr[0].index,"-").concat(wt)},Kr.map(function(Lr){var ls=wt===s.ViewMode.DualPageWithCover&&(Lr.index===0||Pr%2==0&&Lr.index===Pr-1);return _.createElement("div",{"aria-label":Nr.replace("{{pageIndex}}","".concat(Lr.index+1)),className:st({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":wt===s.ViewMode.DualPage&&Lr.index%2==0,"rpv-core__inner-page--dual-odd":wt===s.ViewMode.DualPage&&Lr.index%2==1,"rpv-core__inner-page--dual-cover":ls,"rpv-core__inner-page--dual-cover-even":wt===s.ViewMode.DualPageWithCover&&!ls&&Lr.index%2==0,"rpv-core__inner-page--dual-cover-odd":wt===s.ViewMode.DualPageWithCover&&!ls&&Lr.index%2==1,"rpv-core__inner-page--single":wt===s.ViewMode.SinglePage&&pr===s.ScrollMode.Page}),role:"region",key:"".concat(Lr.index,"-").concat(wt),style:Object.assign({},Zr.getItemStyles(Lr),_u.buildPageStyles({numPages:Pr,pageIndex:Lr.index,scrollMode:pr,viewMode:wt}))},_.createElement(ro,{doc:Jt,measureRef:Lr.measureRef,outlines:An,pageIndex:Lr.index,pageRotation:Sr.has(Lr.index)?Sr.get(Lr.index):0,pageSize:on[Lr.index],plugins:gn,renderPage:$n,renderQueueKey:po,rotation:es,scale:Tr,shouldRender:Qs===Lr.index,viewMode:wt,onExecuteNamedAction:_p,onJumpFromLinkAnnotation:cp,onJumpToDest:vu,onRenderCompleted:mp,onRotatePage:Rl}))}))}))}};return gn.forEach(function(Kr){Kr.renderViewer&&(qr=Kr.renderViewer({containerRef:Ur,doc:Jt,pagesContainerRef:Vr,pagesRotation:Sr,pageSizes:on,rotation:es,slot:qr,themeContext:Mr,jumpToPage:Ds,openFile:yu,rotate:bu,rotatePage:Rl,switchScrollMode:Eu,switchViewMode:Su,zoom:zs}))}),qr},[gn,Zr]),Au=_.useCallback(function(Gn){return _.createElement("div",nt({},Gn.attrs,{style:Gn.attrs&&Gn.attrs.style?Gn.attrs.style:{}}),Gn.children,Gn.subSlot&&Au(Gn.subSlot))},[]);return Au(vp())},Do=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],$s=function(Pt){var Nt=Pt.defaultScale,Qt=Pt.doc,Jt=Pt.render,nn=Pt.scrollMode,sn=Pt.viewMode,_n=_.useRef(),fn=_.useState({pageSizes:[],scale:0}),en=fn[0],on=fn[1];return _.useLayoutEffect(function(){var gn=Array(Qt.numPages).fill(0).map(function($n,Vn){return new Promise(function(Ln,Xn){Jn(Qt,Vn).then(function(Kn){var Wn=Kn.getViewport({scale:1});Ln({pageHeight:Wn.height,pageWidth:Wn.width,rotation:Wn.rotation})})})});Promise.all(gn).then(function($n){var Vn=_n.current;if(Vn&&$n.length!==0){var Ln=$n[0].pageWidth,Xn=$n[0].pageHeight,Kn=Vn.parentElement,Wn=(Kn.clientWidth-45)/Ln,wr=(Kn.clientHeight-45)/Xn,gr=Wn;switch(nn){case s.ScrollMode.Horizontal:gr=Math.min(Wn,wr);break;case s.ScrollMode.Vertical:default:gr=Wn}var yr,br,ur=Nt?typeof Nt=="string"?Zs(Kn,Xn,Ln,Nt,sn,Qt.numPages):Nt:(yr=gr,(br=Do.findIndex(function(Pr){return Pr>=yr}))===-1||br===0?yr:Do[br-1]);on({pageSizes:$n,scale:ur})}})},[Qt.loadingTask.docId]),en.pageSizes.length===0||en.scale===0?_.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:_n},_.createElement(pt,null)):Jt(en.pageSizes,en.scale)},gs=function(){},Ys=function(Pt){function Nt(Qt,Jt){var nn=Pt.call(this)||this;return nn.verifyPassword=Qt,nn.passwordStatus=Jt,nn}return et(Nt,Pt),Nt}(gs),ko=function(Pt){var Nt=Pt.passwordStatus,Qt=Pt.renderProtectedView,Jt=Pt.verifyPassword,nn=Pt.onDocumentAskPassword,sn=_.useContext(tn).l10n,_n=_.useState(""),fn=_n[0],en=_n[1],on=_.useContext(it).direction===s.TextDirection.RightToLeft,gn=function(){return Jt(fn)};return _.useEffect(function(){nn&&nn({verifyPassword:Jt})},[]),Qt?Qt({passwordStatus:Nt,verifyPassword:Jt}):_.createElement("div",{className:"rpv-core__asking-password-wrapper"},_.createElement("div",{className:st({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":on})},_.createElement("div",{className:"rpv-core__asking-password-message"},Nt===s.PasswordStatus.RequiredPassword&&sn.core.askingPassword.requirePasswordToOpen,Nt===s.PasswordStatus.WrongPassword&&sn.core.wrongPassword.tryAgain),_.createElement("div",{className:"rpv-core__asking-password-body"},_.createElement("div",{className:st({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!on,"rpv-core__asking-password-input--rtl":on})},_.createElement(vt,{testId:"core__asking-password-input",type:"password",value:fn,onChange:en,onKeyDown:function($n){$n.key==="Enter"&&gn()}})),_.createElement(ut,{onClick:gn},sn.core.askingPassword.submit))))},co=function(Pt){function Nt(Qt){var Jt=Pt.call(this)||this;return Jt.doc=Qt,Jt}return et(Nt,Pt),Nt}(gs),xs=function(Pt){function Nt(Qt){var Jt=Pt.call(this)||this;return Jt.error=Qt,Jt}return et(Nt,Pt),Nt}(gs),uo=function(Pt){function Nt(Qt){var Jt=Pt.call(this)||this;return Jt.percentages=Qt,Jt}return et(Nt,Pt),Nt}(gs),Tl=function(Pt){var Nt=Pt.characterMap,Qt=Pt.file,Jt=Pt.httpHeaders,nn=Pt.render,sn=Pt.renderError,_n=Pt.renderLoader,fn=Pt.renderProtectedView,en=Pt.transformGetDocumentParams,on=Pt.withCredentials,gn=Pt.onDocumentAskPassword,$n=_.useContext(it).direction===s.TextDirection.RightToLeft,Vn=_.useState(new uo(0)),Ln=Vn[0],Xn=Vn[1],Kn=_.useRef(""),Wn=kt();return _.useEffect(function(){Kn.current="",Xn(new uo(0));var wr=new j.PDFWorker({name:"PDFWorker_".concat(Date.now())}),gr=Object.assign({httpHeaders:Jt,withCredentials:on,worker:wr},typeof Qt=="string"?{url:Qt}:{data:Qt},Nt?{cMapUrl:Nt.url,cMapPacked:Nt.isCompressed}:{}),yr=en?en(gr):gr,br=j.getDocument(yr);return br.onPassword=function(ur,Pr){switch(Pr){case j.PasswordResponses.NEED_PASSWORD:Wn.current&&Xn(new Ys(ur,s.PasswordStatus.RequiredPassword));break;case j.PasswordResponses.INCORRECT_PASSWORD:Wn.current&&Xn(new Ys(ur,s.PasswordStatus.WrongPassword))}},br.onProgress=function(ur){var Pr=ur.total>0?Math.min(100,100*ur.loaded/ur.total):100;Wn.current&&Kn.current===""&&Xn(new uo(Pr))},br.promise.then(function(ur){Kn.current=ur.loadingTask.docId,Wn.current&&Xn(new co(ur))},function(ur){return Wn.current&&!wr.destroyed&&Xn(new xs({message:ur.message||"Cannot load document",name:ur.name}))}),function(){br.destroy(),wr.destroy()}},[Qt]),Ln instanceof Ys?_.createElement(ko,{passwordStatus:Ln.passwordStatus,renderProtectedView:fn,verifyPassword:Ln.verifyPassword,onDocumentAskPassword:gn}):Ln instanceof co?nn(Ln.doc):Ln instanceof xs?sn?sn(Ln.error):_.createElement("div",{className:st({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":$n})},_.createElement("div",{className:"rpv-core__doc-error-text"},Ln.error.message)):_.createElement("div",{"data-testid":"core__doc-loading",className:st({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":$n})},_n?_n(Ln.percentages):_.createElement(pt,null))},wl=function(Pt,Nt){var Qt=_.useMemo(function(){return Pt==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":Pt},[]),Jt=_.useState(Qt),nn=Jt[0],sn=Jt[1],_n=Bt(nn);return _.useEffect(function(){if(Pt==="auto"){var fn=window.matchMedia("(prefers-color-scheme: dark)"),en=function(on){sn(on.matches?"dark":"light")};return fn.addEventListener("change",en),function(){return fn.removeEventListener("change",en)}}},[]),_.useEffect(function(){nn!==_n&&Nt&&Nt(nn)},[nn]),_.useEffect(function(){Pt!==nn&&sn(Pt)},[Pt]),{currentTheme:nn,setCurrentTheme:sn}},Es=function(Pt){return{startPage:Pt.startPage-3,endPage:Pt.endPage+3}};s.Button=function(Pt){var Nt=Pt.children,Qt=Pt.testId,Jt=Pt.onClick,nn=_.useContext(it).direction===s.TextDirection.RightToLeft,sn=Qt?{"data-testid":Qt}:{};return _.createElement("button",nt({className:st({"rpv-core__button":!0,"rpv-core__button--rtl":nn}),type:"button",onClick:Jt},sn),Nt)},s.Icon=dt,s.LazyRender=function(Pt){var Nt=Pt.attrs,Qt=Pt.children,Jt=Pt.testId,nn=_.useState(!1),sn=nn[0],_n=nn[1],fn=Jt?nt(nt({},Nt),{"data-testid":Jt}):Nt,en=lt({once:!0,onVisibilityChanged:function(on){on.isVisible&&_n(!0)}});return _.createElement("div",nt({ref:en},fn),sn&&Qt)},s.LocalizationContext=tn,s.Menu=function(Pt){var Nt=Pt.children,Qt=_.useRef(),Jt=_.useRef([]),nn=_.useContext(it).direction===s.TextDirection.RightToLeft,sn=function(fn){if(Qt.current)switch(fn.key){case"Tab":fn.preventDefault();break;case"ArrowDown":fn.preventDefault(),_n(function(en,on){return on+1});break;case"ArrowUp":fn.preventDefault(),_n(function(en,on){return on-1});break;case"End":fn.preventDefault(),_n(function(en,on){return en.length-1});break;case"Home":fn.preventDefault(),_n(function(en,on){return 0})}},_n=function(fn){if(Qt.current){var en=Jt.current,on=en.findIndex(function($n){return $n.getAttribute("tabindex")==="0"}),gn=Math.min(en.length-1,Math.max(0,fn(en,on)));on>=0&&on<=en.length-1&&en[on].setAttribute("tabindex","-1"),en[gn].setAttribute("tabindex","0"),en[gn].focus()}};return ot(function(){var fn=Qt.current;if(fn){var en=function(on){var gn=[];return on.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function($n){if($n instanceof HTMLElement){var Vn=$n.parentElement;(Vn===on||window.getComputedStyle(Vn).display!=="none")&&gn.push($n)}}),gn}(fn);Jt.current=en}},[]),ot(function(){return document.addEventListener("keydown",sn),function(){document.removeEventListener("keydown",sn)}},[]),_.createElement("div",{ref:Qt,"aria-orientation":"vertical",className:st({"rpv-core__menu":!0,"rpv-core__menu--rtl":nn}),role:"menu",tabIndex:0},Nt)},s.MenuDivider=function(){return _.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},s.MenuItem=function(Pt){var Nt=Pt.checked,Qt=Nt!==void 0&&Nt,Jt=Pt.children,nn=Pt.icon,sn=nn===void 0?null:nn,_n=Pt.isDisabled,fn=_n!==void 0&&_n,en=Pt.testId,on=Pt.onClick,gn=_.useContext(it).direction===s.TextDirection.RightToLeft,$n=en?{"data-testid":en}:{};return _.createElement("button",nt({className:st({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":fn,"rpv-core__menu-item--ltr":!gn,"rpv-core__menu-item--rtl":gn}),role:"menuitem",tabIndex:-1,type:"button",onClick:on},$n),_.createElement("div",{className:st({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!gn,"rpv-core__menu-item-icon--rtl":gn})},sn),_.createElement("div",{className:st({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!gn,"rpv-core__menu-item-label--rtl":gn})},Jt),_.createElement("div",{className:st({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!gn,"rpv-core__menu-item-check--rtl":gn})},Qt&&_.createElement(at,null)))},s.MinimalButton=function(Pt){var Nt=Pt.ariaLabel,Qt=Nt===void 0?"":Nt,Jt=Pt.ariaKeyShortcuts,nn=Jt===void 0?"":Jt,sn=Pt.children,_n=Pt.isDisabled,fn=_n!==void 0&&_n,en=Pt.isSelected,on=en!==void 0&&en,gn=Pt.testId,$n=Pt.onClick,Vn=_.useContext(it).direction===s.TextDirection.RightToLeft,Ln=gn?{"data-testid":gn}:{};return _.createElement("button",nt({"aria-label":Qt},nn&&{"aria-keyshortcuts":nn},fn&&{"aria-disabled":!0},{className:st({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":fn,"rpv-core__minimal-button--rtl":Vn,"rpv-core__minimal-button--selected":on}),type:"button",onClick:$n},Ln),sn)},s.Modal=function(Pt){var Nt=Pt.ariaControlsSuffix,Qt=Pt.closeOnClickOutside,Jt=Pt.closeOnEscape,nn=Pt.content,sn=Pt.isOpened,_n=sn!==void 0&&sn,fn=Pt.target,en=Nt||"".concat(Rt());return _.createElement(vn,{target:fn?function(on,gn){return _.createElement("div",{"aria-expanded":gn?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(en)},fn(on,gn))}:null,content:function(on){return _.createElement(qt,null,_.createElement(Ht,{ariaControlsSuffix:en,closeOnClickOutside:Qt,closeOnEscape:Jt,onToggle:on},nn(on)))},isOpened:_n})},s.Popover=function(Pt){var Nt=Pt.ariaHasPopup,Qt=Nt===void 0?"dialog":Nt,Jt=Pt.ariaControlsSuffix,nn=Pt.closeOnClickOutside,sn=Pt.closeOnEscape,_n=Pt.content,fn=Pt.lockScroll,en=fn===void 0||fn,on=Pt.offset,gn=Pt.position,$n=Pt.target,Vn=an(!1),Ln=Vn.opened,Xn=Vn.toggle,Kn=_.useRef(),Wn=_.useMemo(function(){return Jt||"".concat(Rt())},[]);return _.createElement("div",{ref:Kn,"aria-expanded":Ln?"true":"false","aria-haspopup":Qt,"aria-controls":"rpv-core__popver-body-".concat(Wn)},$n(Xn,Ln),Ln&&_.createElement(_.Fragment,null,en&&_.createElement(Rn,{closeOnEscape:sn,onClose:Xn}),_.createElement(bn,{ariaControlsSuffix:Wn,closeOnClickOutside:nn,offset:on,position:gn,targetRef:Kn,onClose:Xn},_n(Xn))))},s.PrimaryButton=ut,s.ProgressBar=function(Pt){var Nt=Pt.progress,Qt=_.useContext(it).direction===s.TextDirection.RightToLeft;return _.createElement("div",{className:st({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Qt})},_.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(Nt,"%")}},Nt,"%"))},s.Separator=function(){return _.createElement("div",{className:"rpv-core__separator"})},s.Spinner=pt,s.Splitter=function(Pt){var Nt=Pt.constrain,Qt=_.useContext(it).direction===s.TextDirection.RightToLeft,Jt=_.useRef(),nn=_.useRef(),sn=_.useRef(),_n=_.useRef(0),fn=_.useRef(0),en=_.useRef(0),on=_.useRef(0),gn={capture:!0},$n=function(Ln){var Xn=Jt.current,Kn=nn.current,Wn=sn.current;if(Xn&&Kn&&Wn){var wr=on.current,gr=Ln.clientX-_n.current,yr=en.current+(Qt?-gr:gr),br=Xn.parentElement.getBoundingClientRect().width,ur=100*yr/br;if(Xn.classList.add("rpv-core__splitter--resizing"),Nt){var Pr=br-yr-wr;if(!Nt({firstHalfPercentage:ur,firstHalfSize:yr,secondHalfPercentage:100*Pr/br,secondHalfSize:Pr}))return}Kn.style.width="".concat(ur,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Kn.classList.add("rpv-core__splitter-sibling--resizing"),Wn.classList.add("rpv-core__splitter-sibling--resizing")}},Vn=function(Ln){var Xn=Jt.current,Kn=nn.current,Wn=sn.current;Xn&&Kn&&Wn&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Xn.classList.remove("rpv-core__splitter--resizing"),Kn.classList.remove("rpv-core__splitter-sibling--resizing"),Wn.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",$n,gn),document.removeEventListener("mouseup",Vn,gn))};return _.useEffect(function(){var Ln=Jt.current;Ln&&(on.current=Ln.getBoundingClientRect().width,nn.current=Ln.previousElementSibling,sn.current=Ln.nextElementSibling)},[]),_.createElement("div",{ref:Jt,className:"rpv-core__splitter",onMouseDown:function(Ln){var Xn=nn.current;Xn&&(_n.current=Ln.clientX,fn.current=Ln.clientY,en.current=Xn.getBoundingClientRect().width,document.addEventListener("mousemove",$n,gn),document.addEventListener("mouseup",Vn,gn))}})},s.TextBox=vt,s.ThemeContext=it,s.Tooltip=function(Pt){var Nt=Pt.ariaControlsSuffix,Qt=Pt.content,Jt=Pt.offset,nn=Pt.position,sn=Pt.target,_n=an(!1),fn=_n.opened,en=_n.toggle,on=_.useRef(),gn=_.useRef(),$n=_.useMemo(function(){return Nt||"".concat(Rt())},[]);Mt(function(){on.current&&document.activeElement&&on.current.contains(document.activeElement)&&Ln()});var Vn=function(){en(s.ToggleStatus.Open)},Ln=function(){en(s.ToggleStatus.Close)};return _.createElement(_.Fragment,null,_.createElement("div",{ref:on,"aria-describedby":"rpv-core__tooltip-body-".concat($n),onBlur:function(Xn){Xn.relatedTarget instanceof HTMLElement&&Xn.currentTarget.parentElement&&Xn.currentTarget.parentElement.contains(Xn.relatedTarget)?gn.current&&(gn.current.style.display="none"):Ln()},onFocus:Vn,onMouseEnter:Vn,onMouseLeave:Ln},sn),fn&&_.createElement(Nn,{ariaControlsSuffix:$n,contentRef:gn,offset:Jt,position:nn,targetRef:on},Qt()))},s.Viewer=function(Pt){var Nt=Pt.characterMap,Qt=Pt.defaultScale,Jt=Pt.enableSmoothScroll,nn=Jt===void 0||Jt,sn=Pt.fileUrl,_n=Pt.httpHeaders,fn=_n===void 0?{}:_n,en=Pt.initialPage,on=en===void 0?0:en,gn=Pt.pageLayout,$n=Pt.initialRotation,Vn=$n===void 0?0:$n,Ln=Pt.localization,Xn=Pt.plugins,Kn=Xn===void 0?[]:Xn,Wn=Pt.renderError,wr=Pt.renderLoader,gr=Pt.renderPage,yr=Pt.renderProtectedView,br=Pt.scrollMode,ur=br===void 0?s.ScrollMode.Vertical:br,Pr=Pt.setRenderRange,Er=Pr===void 0?Es:Pr,jr=Pt.transformGetDocumentParams,Mr=Pt.theme,$r=Mr===void 0?{direction:s.TextDirection.LeftToRight,theme:"light"}:Mr,Ur=Pt.viewMode,Vr=Ur===void 0?s.ViewMode.SinglePage:Ur,ns=Pt.withCredentials,Xr=ns!==void 0&&ns,rs=Pt.onDocumentAskPassword,Qr=Pt.onDocumentLoad,ts=Qr===void 0?function(){}:Qr,Jr=Pt.onPageChange,es=Jr===void 0?function(){}:Jr,os=Pt.onRotate,cs=os===void 0?function(){}:os,fs=Pt.onRotatePage,as=fs===void 0?function(){}:fs,us=Pt.onSwitchTheme,vs=us===void 0?function(){}:us,Sr=Pt.onZoom,cr=Sr===void 0?function(){}:Sr,dr=_.useState({data:sn,name:typeof sn=="string"?sn:"",shouldLoad:!1}),pr=dr[0],or=dr[1],ct=function(Wr,Br){or({data:Br,name:Wr,shouldLoad:!0})},At=_.useState(!1),wt=At[0],Ot=At[1],ln=Bt(pr);_.useEffect(function(){var Wr,Br,is,Gr;Wr=ln.data,Gr=typeof(Br=sn),(is=typeof Wr)=="string"&&Gr==="string"&&Wr===Br||is==="object"&&Gr==="object"&&Wr.length===Br.length&&Wr.every(function(Cs,Qs){return Cs===Br[Qs]})||or({data:sn,name:typeof sn=="string"?sn:"",shouldLoad:wt})},[sn,wt]);var An=lt({onVisibilityChanged:function(Wr){Ot(Wr.isVisible),Wr.isVisible&&or(function(Br){return Object.assign({},Br,{shouldLoad:!0})})}}),zn=typeof $r=="string"?{direction:s.TextDirection.LeftToRight,theme:$r}:$r,Tr=_.useState(Ln||Wt),zr=Tr[0],Dr=Tr[1],mr={l10n:zr,setL10n:Dr},Hr=Object.assign({},{direction:zn.direction},wl(zn.theme||"light",vs));return _.useEffect(function(){Ln&&Dr(Ln)},[Ln]),_.createElement(tn.Provider,{value:mr},_.createElement(it.Provider,{value:Hr},_.createElement("div",{ref:An,className:"rpv-core__viewer rpv-core__viewer--".concat(Hr.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},pr.shouldLoad&&_.createElement(Tl,{characterMap:Nt,file:pr.data,httpHeaders:fn,render:function(Wr){return _.createElement($s,{defaultScale:Qt,doc:Wr,render:function(Br,is){return _.createElement(Al,{currentFile:{data:pr.data,name:pr.name},defaultScale:Qt,doc:Wr,enableSmoothScroll:nn,initialPage:on,initialRotation:Vn,initialScale:is,pageLayout:gn,pageSizes:Br,plugins:Kn,renderPage:gr,scrollMode:ur,setRenderRange:Er,viewMode:Vr,viewerState:{file:pr,fullScreenMode:s.FullScreenMode.Normal,pageIndex:-1,pageHeight:Br[0].pageHeight,pageWidth:Br[0].pageWidth,pagesRotation:new Map,rotation:Vn,scale:is,scrollMode:ur,viewMode:Vr},onDocumentLoad:ts,onOpenFile:ct,onPageChange:es,onRotate:cs,onRotatePage:as,onZoom:cr})},scrollMode:ur,viewMode:Vr})},renderError:Wn,renderLoader:wr,renderProtectedView:yr,transformGetDocumentParams:jr,withCredentials:Xr,onDocumentAskPassword:rs}))))},s.Worker=function(Pt){var Nt=Pt.children,Qt=Pt.workerUrl;return j.GlobalWorkerOptions.workerSrc=Qt,_.createElement(_.Fragment,null,Nt)},s.chunk=dn,s.classNames=st,s.createStore=function(Pt){var Nt=Pt||{},Qt={},Jt=function(sn,_n){var fn;Nt=nt(nt({},Nt),((fn={})[sn]=_n,fn)),(Qt[sn]||[]).forEach(function(en){return en(Nt[sn])})},nn=function(sn){return Nt[sn]};return{subscribe:function(sn,_n){Qt[sn]=(Qt[sn]||[]).concat(_n)},unsubscribe:function(sn,_n){Qt[sn]=(Qt[sn]||[]).filter(function(fn){return fn!==_n})},update:function(sn,_n){Jt(sn,_n)},updateCurrentValue:function(sn,_n){var fn=nn(sn);fn!==void 0&&Jt(sn,_n(fn))},get:function(sn){return nn(sn)}}},s.getDestination=ar,s.getPage=Jn,s.isFullScreenEnabled=mt,s.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},s.useDebounceCallback=Ut,s.useIntersectionObserver=lt,s.useIsMounted=kt,s.useIsomorphicLayoutEffect=ot,s.usePrevious=Bt,s.useRenderQueue=Ft})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=core_min;var libExports=lib.exports;const Constancias=()=>{const[s,e]=reactExports.useState([]),[d,h]=reactExports.useState([]),[g,_]=reactExports.useState(""),[j,$]=reactExports.useState(""),[et,tt]=reactExports.useState([]),[nt,rt]=reactExports.useState(0),[it,st]=reactExports.useState([]),[ot,lt]=reactExports.useState(!1),[dt,at]=reactExports.useState([]);reactExports.useEffect(()=>{ut()},[]);const ut=async()=>{try{const xt=(await getDocs(collection(db,"Cursos"))).docs.map(St=>({id:St.id,...St.data()}));h(xt)}catch(mt){console.error("Error al cargar los cursos:",mt)}},pt=async mt=>{try{const xt=doc(db,"Cursos",mt),Ut=(await getDoc(xt)).data().listas,kt=[];for(const Gt of Ut){const Ft=doc(db,"Listas",Gt),Wt=await getDoc(Ft);Wt.exists&&kt.push(Wt.data().Nombre)}at(kt);let Bt=[];for(const Gt of Ut){const Ft=doc(db,"Listas",Gt),Wt=await getDoc(Ft);Wt.exists&&(Bt=Bt.concat(Wt.data().Alumnos||[]))}const $t=Array.from(new Set(Bt.map(Gt=>Gt.Nombres))).map(Gt=>Bt.find(Ft=>Ft.Nombres===Gt));e($t),st($t.map((Gt,Ft)=>Ft)),lt(!0)}catch(xt){console.error("Error al cargar los estudiantes:",xt)}},vt=mt=>{const xt=mt.target.value,St=mt.target.options[mt.target.selectedIndex].text;_(xt),$(St),xt&&pt(xt)},ht=async()=>{try{const mt=[];await Promise.all(s.map(async xt=>{try{const St=await fetch("/Proyectointegrador/public/plantillareconocimiento.pdf").then(Ft=>Ft.arrayBuffer()),Ut=await PDFDocument.load(St),Bt=Ut.getPages()[0],{width:$t}=Bt.getSize();Bt.drawText(`A: ${xt.Nombres} ${xt.ApellidoP} ${xt.ApellidoM}`,{x:$t/2-100,y:420,size:20,color:rgb(0,0,0)}),Bt.drawText(`Por su participación en el curso: ${j}`,{x:$t/2-150,y:390,size:14,color:rgb(0,0,0)}),Bt.drawText("Agosto de 2024, Puerto Peñasco, Sonora, México.",{x:$t/2-150,y:360,size:14,color:rgb(0,0,0)});const Gt=await Ut.save();mt.push({blob:new Blob([Gt],{type:"application/pdf"}),student:xt})}catch(St){console.error(`Error al generar el PDF para el estudiante: ${xt.Nombres}`,St)}})),tt(mt),rt(0)}catch(mt){console.error("Error al generar los PDFs:",mt),alert("Hubo un error al generar los PDFs.")}},yt=()=>{et.filter((xt,St)=>it.includes(St)).forEach(({blob:xt,student:St})=>{FileSaver_minExports.saveAs(xt,`Constancia_${St.Nombres}_${St.ApellidoP}.pdf`)})},gt=async()=>{try{const mt={cursoId:g,cursoNombre:j,fecha:new Date,estudiantes:[]};it.forEach(kt=>{const Bt=s[kt];mt.estudiantes.push({nombres:Bt.Nombres,apellidoP:Bt.ApellidoP,apellidoM:Bt.ApellidoM})});const xt=doc(db,"Cursos",g),St=await getDoc(xt);if(!St.exists()){alert("Curso no encontrado");return}const Ut=St.data();await updateDoc(xt,{asistencia:[...Ut.asistencia||[],mt]}),alert("Asistencia guardada con éxito"),st([])}catch(mt){console.error("Error al guardar la asistencia:",mt),alert("Hubo un error al guardar la asistencia.")}},ft=()=>{rt(mt=>(mt+1)%et.length)},_t=()=>{rt(mt=>(mt-1+et.length)%et.length)},Et=mt=>{st(xt=>xt.includes(mt)?xt.filter(St=>St!==mt):[...xt,mt])};return jsxRuntimeExports.jsxs("div",{className:"constancias-container",children:[jsxRuntimeExports.jsxs("div",{className:"form-section",children:[jsxRuntimeExports.jsx("h2",{children:"Constancias"}),jsxRuntimeExports.jsx("label",{children:"Seleccionar Curso"}),jsxRuntimeExports.jsxs("select",{onChange:vt,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Seleccione un curso"}),d.map(mt=>jsxRuntimeExports.jsx("option",{value:mt.id,children:mt.cursoNombre},mt.id))]}),jsxRuntimeExports.jsx("button",{onClick:ht,disabled:!g||s.length===0,children:"Generar Constancias"}),jsxRuntimeExports.jsx("button",{onClick:gt,disabled:!g||it.length===0,children:"Guardar Asistencia"}),jsxRuntimeExports.jsx("h3",{children:"Listas asociadas"}),dt.length>0?jsxRuntimeExports.jsx("ul",{children:dt.map((mt,xt)=>jsxRuntimeExports.jsx("li",{children:mt},xt))}):jsxRuntimeExports.jsx("p",{children:"No hay listas asociadas para este curso."}),jsxRuntimeExports.jsx("h3",{children:"Integrantes del curso"}),s.length>0&&jsxRuntimeExports.jsx("div",{className:"students-list",children:jsxRuntimeExports.jsx("ul",{children:s.map((mt,xt)=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:it.includes(xt),onChange:()=>Et(xt)}),`${mt.Nombres} ${mt.ApellidoP} ${mt.ApellidoM}`]},xt))})})]}),et.length>0&&jsxRuntimeExports.jsxs("div",{className:"preview-section",children:[jsxRuntimeExports.jsx("h3",{children:"Vista Previa de las Constancias"}),jsxRuntimeExports.jsxs("div",{className:"buttons",children:[jsxRuntimeExports.jsx("button",{onClick:_t,disabled:et.length<=1,children:"Anterior"}),jsxRuntimeExports.jsx("button",{onClick:ft,disabled:et.length<=1,children:"Siguiente"}),jsxRuntimeExports.jsx("button",{onClick:yt,children:"Descargar Constancias"})]}),jsxRuntimeExports.jsx("div",{className:"pdf-carousel",children:jsxRuntimeExports.jsxs("div",{className:"pdf-preview-item",children:[jsxRuntimeExports.jsxs("div",{className:"student-select",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:it.includes(nt),onChange:()=>Et(nt)}),jsxRuntimeExports.jsx("span",{children:`${s[nt].Nombres} ${s[nt].ApellidoP} ${s[nt].ApellidoM}`})]}),jsxRuntimeExports.jsx("div",{className:"pdf-viewer",children:jsxRuntimeExports.jsx(libExports.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js",children:jsxRuntimeExports.jsx(libExports.Viewer,{fileUrl:URL.createObjectURL(et[nt].blob)})})})]})})]})]})},Reportes=()=>{const[s,e]=reactExports.useState([]),[d,h]=reactExports.useState(""),[g,_]=reactExports.useState(""),[j,$]=reactExports.useState(""),[et,tt]=reactExports.useState([]),[nt,rt]=reactExports.useState([]),[it,st]=reactExports.useState(!1);reactExports.useEffect(()=>{ot()},[]);const ot=async()=>{try{const pt=(await getDocs(collection(db,"Cursos"))).docs.map(vt=>({id:vt.id,...vt.data()}));e(pt)}catch(ut){console.error("Error al cargar los cursos:",ut)}},lt=ut=>{const pt=Array.from(ut.target.files);for(const ht of pt){if(ht.size>5*1024*1024){alert("El tamaño máximo permitido por imagen es 5MB.");return}if(!ht.type.startsWith("image/")){alert("Solo se permiten archivos de imagen.");return}}if(pt.length+nt.length>5){alert("Solo puedes subir un máximo de 5 imágenes.");return}tt([...et,...pt]);const vt=pt.map(ht=>URL.createObjectURL(ht));rt([...nt,...vt])},dt=ut=>{const pt=et.filter((ht,yt)=>yt!==ut),vt=nt.filter((ht,yt)=>yt!==ut);tt(pt),rt(vt)},at=async()=>{if(!d||!g||!j){alert("Por favor, completa todos los campos.");return}st(!0);try{const ut=[];for(const yt of et){const gt=ref(storage,`reportes/${Date.now()}-${yt.name}`);await uploadBytes(gt,yt);const ft=await getDownloadURL(gt);ut.push(ft)}const pt=doc(db,"Cursos",d),vt=await getDoc(pt);if(!vt.exists()){alert("Curso no encontrado");return}const ht=vt.data();await updateDoc(pt,{reportes:[...ht.reportes||[],{comentario:g,calificacion:j,imagenes:ut,fecha:new Date}]}),alert("Reporte guardado con éxito."),_(""),$(""),h(""),tt([]),rt([])}catch(ut){console.error("Error al guardar el reporte:",ut),alert("Hubo un error al guardar el reporte.")}finally{st(!1)}};return jsxRuntimeExports.jsxs("div",{className:"reports-container",children:[jsxRuntimeExports.jsx("h2",{children:"Reportes de Cursos"}),jsxRuntimeExports.jsx("label",{children:"Seleccionar Curso"}),jsxRuntimeExports.jsxs("select",{value:d,onChange:ut=>h(ut.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Seleccione un curso"}),s.map(ut=>jsxRuntimeExports.jsx("option",{value:ut.id,children:ut.cursoNombre||"Sin nombre"},ut.id))]}),jsxRuntimeExports.jsx("label",{children:"Comentario"}),jsxRuntimeExports.jsx("textarea",{value:g,onChange:ut=>_(ut.target.value),placeholder:"Escribe un comentario sobre el curso..."}),jsxRuntimeExports.jsx("label",{children:"Calificación (1-5)"}),jsxRuntimeExports.jsx("input",{type:"number",value:j,onChange:ut=>$(ut.target.value),min:"1",max:"5",placeholder:"Calificación"}),jsxRuntimeExports.jsx("label",{children:"Subir Imágenes (Máximo 5)"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:lt}),jsxRuntimeExports.jsx("div",{className:"preview-container",children:nt.map((ut,pt)=>jsxRuntimeExports.jsxs("div",{className:"preview-item",children:[jsxRuntimeExports.jsx("img",{src:ut,alt:`preview-${pt}`}),jsxRuntimeExports.jsx("button",{onClick:()=>dt(pt),children:"Eliminar"})]},pt))}),jsxRuntimeExports.jsx("button",{onClick:at,disabled:it,children:it?"Guardando...":"Guardar Reporte"})]})};/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function round(s){return s+.5|0}const lim=(s,e,d)=>Math.max(Math.min(s,d),e);function p2b(s){return lim(round(s*2.55),0,255)}function n2b(s){return lim(round(s*255),0,255)}function b2n(s){return lim(round(s/2.55)/100,0,1)}function n2p(s){return lim(round(s*100),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=s=>hex[s&15],h2=s=>hex[(s&240)>>4]+hex[s&15],eq=s=>(s&240)>>4===(s&15),isShort=s=>eq(s.r)&&eq(s.g)&&eq(s.b)&&eq(s.a);function hexParse(s){var e=s.length,d;return s[0]==="#"&&(e===4||e===5?d={r:255&map$1[s[1]]*17,g:255&map$1[s[2]]*17,b:255&map$1[s[3]]*17,a:e===5?map$1[s[4]]*17:255}:(e===7||e===9)&&(d={r:map$1[s[1]]<<4|map$1[s[2]],g:map$1[s[3]]<<4|map$1[s[4]],b:map$1[s[5]]<<4|map$1[s[6]],a:e===9?map$1[s[7]]<<4|map$1[s[8]]:255})),d}const alpha=(s,e)=>s<255?e(s):"";function hexString(s){var e=isShort(s)?h1:h2;return s?"#"+e(s.r)+e(s.g)+e(s.b)+alpha(s.a,e):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(s,e,d){const h=e*Math.min(d,1-d),g=(_,j=(_+s/30)%12)=>d-h*Math.max(Math.min(j-3,9-j,1),-1);return[g(0),g(8),g(4)]}function hsv2rgbn(s,e,d){const h=(g,_=(g+s/60)%6)=>d-d*e*Math.max(Math.min(_,4-_,1),0);return[h(5),h(3),h(1)]}function hwb2rgbn(s,e,d){const h=hsl2rgbn(s,1,.5);let g;for(e+d>1&&(g=1/(e+d),e*=g,d*=g),g=0;g<3;g++)h[g]*=1-e-d,h[g]+=e;return h}function hueValue(s,e,d,h,g){return s===g?(e-d)/h+(e<d?6:0):e===g?(d-s)/h+2:(s-e)/h+4}function rgb2hsl(s){const d=s.r/255,h=s.g/255,g=s.b/255,_=Math.max(d,h,g),j=Math.min(d,h,g),$=(_+j)/2;let et,tt,nt;return _!==j&&(nt=_-j,tt=$>.5?nt/(2-_-j):nt/(_+j),et=hueValue(d,h,g,nt,_),et=et*60+.5),[et|0,tt||0,$]}function calln(s,e,d,h){return(Array.isArray(e)?s(e[0],e[1],e[2]):s(e,d,h)).map(n2b)}function hsl2rgb(s,e,d){return calln(hsl2rgbn,s,e,d)}function hwb2rgb(s,e,d){return calln(hwb2rgbn,s,e,d)}function hsv2rgb(s,e,d){return calln(hsv2rgbn,s,e,d)}function hue(s){return(s%360+360)%360}function hueParse(s){const e=HUE_RE.exec(s);let d=255,h;if(!e)return;e[5]!==h&&(d=e[6]?p2b(+e[5]):n2b(+e[5]));const g=hue(+e[2]),_=+e[3]/100,j=+e[4]/100;return e[1]==="hwb"?h=hwb2rgb(g,_,j):e[1]==="hsv"?h=hsv2rgb(g,_,j):h=hsl2rgb(g,_,j),{r:h[0],g:h[1],b:h[2],a:d}}function rotate(s,e){var d=rgb2hsl(s);d[0]=hue(d[0]+e),d=hsl2rgb(d),s.r=d[0],s.g=d[1],s.b=d[2]}function hslString(s){if(!s)return;const e=rgb2hsl(s),d=e[0],h=n2p(e[1]),g=n2p(e[2]);return s.a<255?`hsla(${d}, ${h}%, ${g}%, ${b2n(s.a)})`:`hsl(${d}, ${h}%, ${g}%)`}const map={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const s={},e=Object.keys(names$1),d=Object.keys(map);let h,g,_,j,$;for(h=0;h<e.length;h++){for(j=$=e[h],g=0;g<d.length;g++)_=d[g],$=$.replace(_,map[_]);_=parseInt(names$1[j],16),s[$]=[_>>16&255,_>>8&255,_&255]}return s}let names;function nameParse(s){names||(names=unpack(),names.transparent=[0,0,0,0]);const e=names[s.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(s){const e=RGB_RE.exec(s);let d=255,h,g,_;if(e){if(e[7]!==h){const j=+e[7];d=e[8]?p2b(j):lim(j*255,0,255)}return h=+e[1],g=+e[3],_=+e[5],h=255&(e[2]?p2b(h):lim(h,0,255)),g=255&(e[4]?p2b(g):lim(g,0,255)),_=255&(e[6]?p2b(_):lim(_,0,255)),{r:h,g,b:_,a:d}}}function rgbString(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${b2n(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const to=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,from=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function interpolate$1(s,e,d){const h=from(b2n(s.r)),g=from(b2n(s.g)),_=from(b2n(s.b));return{r:n2b(to(h+d*(from(b2n(e.r))-h))),g:n2b(to(g+d*(from(b2n(e.g))-g))),b:n2b(to(_+d*(from(b2n(e.b))-_))),a:s.a+d*(e.a-s.a)}}function modHSL(s,e,d){if(s){let h=rgb2hsl(s);h[e]=Math.max(0,Math.min(h[e]+h[e]*d,e===0?360:1)),h=hsl2rgb(h),s.r=h[0],s.g=h[1],s.b=h[2]}}function clone$1(s,e){return s&&Object.assign(e||{},s)}function fromObject(s){var e={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(e={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(e.a=n2b(s[3]))):(e=clone$1(s,{r:0,g:0,b:0,a:1}),e.a=n2b(e.a)),e}function functionParse(s){return s.charAt(0)==="r"?rgbParse(s):hueParse(s)}class Color{constructor(e){if(e instanceof Color)return e;const d=typeof e;let h;d==="object"?h=fromObject(e):d==="string"&&(h=hexParse(e)||nameParse(e)||functionParse(e)),this._rgb=h,this._valid=!!h}get valid(){return this._valid}get rgb(){var e=clone$1(this._rgb);return e&&(e.a=b2n(e.a)),e}set rgb(e){this._rgb=fromObject(e)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(e,d){if(e){const h=this.rgb,g=e.rgb;let _;const j=d===_?.5:d,$=2*j-1,et=h.a-g.a,tt=(($*et===-1?$:($+et)/(1+$*et))+1)/2;_=1-tt,h.r=255&tt*h.r+_*g.r+.5,h.g=255&tt*h.g+_*g.g+.5,h.b=255&tt*h.b+_*g.b+.5,h.a=j*h.a+(1-j)*g.a,this.rgb=h}return this}interpolate(e,d){return e&&(this._rgb=interpolate$1(this._rgb,e._rgb,d)),this}clone(){return new Color(this.rgb)}alpha(e){return this._rgb.a=n2b(e),this}clearer(e){const d=this._rgb;return d.a*=1-e,this}greyscale(){const e=this._rgb,d=round(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=d,this}opaquer(e){const d=this._rgb;return d.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return modHSL(this._rgb,2,e),this}darken(e){return modHSL(this._rgb,2,-e),this}saturate(e){return modHSL(this._rgb,1,e),this}desaturate(e){return modHSL(this._rgb,1,-e),this}rotate(e){return rotate(this._rgb,e),this}}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function noop(){}const uid=(()=>{let s=0;return()=>s++})();function isNullOrUndef(s){return s===null||typeof s>"u"}function isArray(s){if(Array.isArray&&Array.isArray(s))return!0;const e=Object.prototype.toString.call(s);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function isObject(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function isNumberFinite(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function finiteOrDefault(s,e){return isNumberFinite(s)?s:e}function valueOrDefault(s,e){return typeof s>"u"?e:s}const toPercentage=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/e,toDimension=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*e:+s;function callback(s,e,d){if(s&&typeof s.call=="function")return s.apply(d,e)}function each(s,e,d,h){let g,_,j;if(isArray(s))for(_=s.length,g=0;g<_;g++)e.call(d,s[g],g);else if(isObject(s))for(j=Object.keys(s),_=j.length,g=0;g<_;g++)e.call(d,s[j[g]],j[g])}function _elementsEqual(s,e){let d,h,g,_;if(!s||!e||s.length!==e.length)return!1;for(d=0,h=s.length;d<h;++d)if(g=s[d],_=e[d],g.datasetIndex!==_.datasetIndex||g.index!==_.index)return!1;return!0}function clone(s){if(isArray(s))return s.map(clone);if(isObject(s)){const e=Object.create(null),d=Object.keys(s),h=d.length;let g=0;for(;g<h;++g)e[d[g]]=clone(s[d[g]]);return e}return s}function isValidKey(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function _merger(s,e,d,h){if(!isValidKey(s))return;const g=e[s],_=d[s];isObject(g)&&isObject(_)?merge(g,_,h):e[s]=clone(_)}function merge(s,e,d){const h=isArray(e)?e:[e],g=h.length;if(!isObject(s))return s;d=d||{};const _=d.merger||_merger;let j;for(let $=0;$<g;++$){if(j=h[$],!isObject(j))continue;const et=Object.keys(j);for(let tt=0,nt=et.length;tt<nt;++tt)_(et[tt],s,j,d)}return s}function mergeIf(s,e){return merge(s,e,{merger:_mergerIf})}function _mergerIf(s,e,d){if(!isValidKey(s))return;const h=e[s],g=d[s];isObject(h)&&isObject(g)?mergeIf(h,g):Object.prototype.hasOwnProperty.call(e,s)||(e[s]=clone(g))}const keyResolvers={"":s=>s,x:s=>s.x,y:s=>s.y};function _splitKey(s){const e=s.split("."),d=[];let h="";for(const g of e)h+=g,h.endsWith("\\")?h=h.slice(0,-1)+".":(d.push(h),h="");return d}function _getKeyResolver(s){const e=_splitKey(s);return d=>{for(const h of e){if(h==="")break;d=d&&d[h]}return d}}function resolveObjectKey(s,e){return(keyResolvers[e]||(keyResolvers[e]=_getKeyResolver(e)))(s)}function _capitalize(s){return s.charAt(0).toUpperCase()+s.slice(1)}const defined=s=>typeof s<"u",isFunction=s=>typeof s=="function",setsEqual=(s,e)=>{if(s.size!==e.size)return!1;for(const d of s)if(!e.has(d))return!1;return!0};function _isClickEvent(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function almostEquals(s,e,d){return Math.abs(s-e)<d}function niceNum(s){const e=Math.round(s);s=almostEquals(s,e,s/1e3)?e:s;const d=Math.pow(10,Math.floor(log10(s))),h=s/d;return(h<=1?1:h<=2?2:h<=5?5:10)*d}function _factorize(s){const e=[],d=Math.sqrt(s);let h;for(h=1;h<d;h++)s%h===0&&(e.push(h),e.push(s/h));return d===(d|0)&&e.push(d),e.sort((g,_)=>g-_).pop(),e}function isNumber(s){return!isNaN(parseFloat(s))&&isFinite(s)}function almostWhole(s,e){const d=Math.round(s);return d-e<=s&&d+e>=s}function _setMinAndMaxByKey(s,e,d){let h,g,_;for(h=0,g=s.length;h<g;h++)_=s[h][d],isNaN(_)||(e.min=Math.min(e.min,_),e.max=Math.max(e.max,_))}function toRadians(s){return s*(PI/180)}function toDegrees(s){return s*(180/PI)}function _decimalPlaces(s){if(!isNumberFinite(s))return;let e=1,d=0;for(;Math.round(s*e)/e!==s;)e*=10,d++;return d}function getAngleFromPoint(s,e){const d=e.x-s.x,h=e.y-s.y,g=Math.sqrt(d*d+h*h);let _=Math.atan2(h,d);return _<-.5*PI&&(_+=TAU),{angle:_,distance:g}}function distanceBetweenPoints(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function _normalizeAngle(s){return(s%TAU+TAU)%TAU}function _angleBetween(s,e,d,h){const g=_normalizeAngle(s),_=_normalizeAngle(e),j=_normalizeAngle(d),$=_normalizeAngle(_-g),et=_normalizeAngle(j-g),tt=_normalizeAngle(g-_),nt=_normalizeAngle(g-j);return g===_||g===j||h&&_===j||$>et&&tt<nt}function _limitValue(s,e,d){return Math.max(e,Math.min(d,s))}function _int16Range(s){return _limitValue(s,-32768,32767)}function _isBetween(s,e,d,h=1e-6){return s>=Math.min(e,d)-h&&s<=Math.max(e,d)+h}function _lookup(s,e,d){d=d||(j=>s[j]<e);let h=s.length-1,g=0,_;for(;h-g>1;)_=g+h>>1,d(_)?g=_:h=_;return{lo:g,hi:h}}const _lookupByKey=(s,e,d,h)=>_lookup(s,d,h?g=>{const _=s[g][e];return _<d||_===d&&s[g+1][e]===d}:g=>s[g][e]<d),_rlookupByKey=(s,e,d)=>_lookup(s,d,h=>s[h][e]>=d);function _filterBetween(s,e,d){let h=0,g=s.length;for(;h<g&&s[h]<e;)h++;for(;g>h&&s[g-1]>d;)g--;return h>0||g<s.length?s.slice(h,g):s}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(s,e){if(s._chartjs){s._chartjs.listeners.push(e);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),arrayEvents.forEach(d=>{const h="_onData"+_capitalize(d),g=s[d];Object.defineProperty(s,d,{configurable:!0,enumerable:!1,value(..._){const j=g.apply(this,_);return s._chartjs.listeners.forEach($=>{typeof $[h]=="function"&&$[h](..._)}),j}})})}function unlistenArrayEvents(s,e){const d=s._chartjs;if(!d)return;const h=d.listeners,g=h.indexOf(e);g!==-1&&h.splice(g,1),!(h.length>0)&&(arrayEvents.forEach(_=>{delete s[_]}),delete s._chartjs)}function _arrayUnique(s){const e=new Set(s);return e.size===s.length?s:Array.from(e)}const requestAnimFrame=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function throttled(s,e){let d=[],h=!1;return function(...g){d=g,h||(h=!0,requestAnimFrame.call(window,()=>{h=!1,s.apply(e,d)}))}}function debounce(s,e){let d;return function(...h){return e?(clearTimeout(d),d=setTimeout(s,e,h)):s.apply(this,h),e}}const _toLeftRightCenter=s=>s==="start"?"left":s==="end"?"right":"center",_alignStartEnd=(s,e,d)=>s==="start"?e:s==="end"?d:(e+d)/2,_textX=(s,e,d,h)=>s===(h?"left":"right")?d:s==="center"?(e+d)/2:e,atEdge=s=>s===0||s===1,elasticIn=(s,e,d)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-e)*TAU/d)),elasticOut=(s,e,d)=>Math.pow(2,-10*s)*Math.sin((s-e)*TAU/d)+1,effects={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*HALF_PI)+1,easeOutSine:s=>Math.sin(s*HALF_PI),easeInOutSine:s=>-.5*(Math.cos(PI*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>atEdge(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>atEdge(s)?s:elasticIn(s,.075,.3),easeOutElastic:s=>atEdge(s)?s:elasticOut(s,.075,.3),easeInOutElastic(s){return atEdge(s)?s:s<.5?.5*elasticIn(s*2,.1125,.45):.5+.5*elasticOut(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let e=1.70158;return(s/=.5)<1?.5*(s*s*(((e*=1.525)+1)*s-e)):.5*((s-=2)*s*(((e*=1.525)+1)*s+e)+2)},easeInBounce:s=>1-effects.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?effects.easeInBounce(s*2)*.5:effects.easeOutBounce(s*2-1)*.5+.5};function isPatternOrGradient(s){if(s&&typeof s=="object"){const e=s.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function color(s){return isPatternOrGradient(s)?s:new Color(s)}function getHoverColor(s){return isPatternOrGradient(s)?s:new Color(s).saturate(.5).darken(.1).hexString()}const numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),s.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function applyLayoutsDefaults(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(s,e){e=e||{};const d=s+JSON.stringify(e);let h=intlCache.get(d);return h||(h=new Intl.NumberFormat(s,e),intlCache.set(d,h)),h}function formatNumber(s,e,d){return getNumberFormat(e,d).format(s)}const formatters={values(s){return isArray(s)?s:""+s},numeric(s,e,d){if(s===0)return"0";const h=this.chart.options.locale;let g,_=s;if(d.length>1){const tt=Math.max(Math.abs(d[0].value),Math.abs(d[d.length-1].value));(tt<1e-4||tt>1e15)&&(g="scientific"),_=calculateDelta(s,d)}const j=log10(Math.abs(_)),$=isNaN(j)?1:Math.max(Math.min(-1*Math.floor(j),20),0),et={notation:g,minimumFractionDigits:$,maximumFractionDigits:$};return Object.assign(et,this.options.ticks.format),formatNumber(s,h,et)},logarithmic(s,e,d){if(s===0)return"0";const h=d[e].significand||s/Math.pow(10,Math.floor(log10(s)));return[1,2,3,5,10,15].includes(h)||e>.8*d.length?formatters.numeric.call(this,s,e,d):""}};function calculateDelta(s,e){let d=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(d)>=1&&s!==Math.floor(s)&&(d=s-Math.floor(s)),d}var Ticks={formatters};function applyScaleDefaults(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,d)=>d.lineWidth,tickColor:(e,d)=>d.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(s,e){if(!e)return s;const d=e.split(".");for(let h=0,g=d.length;h<g;++h){const _=d[h];s=s[_]||(s[_]=Object.create(null))}return s}function set(s,e,d){return typeof e=="string"?merge(getScope$1(s,e),d):merge(getScope$1(s,""),e)}class Defaults{constructor(e,d){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=h=>h.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(h,g)=>getHoverColor(g.backgroundColor),this.hoverBorderColor=(h,g)=>getHoverColor(g.borderColor),this.hoverColor=(h,g)=>getHoverColor(g.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(d)}set(e,d){return set(this,e,d)}get(e){return getScope$1(this,e)}describe(e,d){return set(descriptors,e,d)}override(e,d){return set(overrides,e,d)}route(e,d,h,g){const _=getScope$1(this,e),j=getScope$1(this,h),$="_"+d;Object.defineProperties(_,{[$]:{value:_[d],writable:!0},[d]:{enumerable:!0,get(){const et=this[$],tt=j[g];return isObject(et)?Object.assign({},tt,et):valueOrDefault(et,tt)},set(et){this[$]=et}}})}apply(e){e.forEach(d=>d(this))}}var defaults=new Defaults({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(s){return!s||isNullOrUndef(s.size)||isNullOrUndef(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function _measureText(s,e,d,h,g){let _=e[g];return _||(_=e[g]=s.measureText(g).width,d.push(g)),_>h&&(h=_),h}function _alignPixel(s,e,d){const h=s.currentDevicePixelRatio,g=d!==0?Math.max(d/2,.5):0;return Math.round((e-g)*h)/h+g}function clearCanvas(s,e){!e&&!s||(e=e||s.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,s.width,s.height),e.restore())}function drawPoint(s,e,d,h){drawPointLegend(s,e,d,h,null)}function drawPointLegend(s,e,d,h,g){let _,j,$,et,tt,nt,rt,it;const st=e.pointStyle,ot=e.rotation,lt=e.radius;let dt=(ot||0)*RAD_PER_DEG;if(st&&typeof st=="object"&&(_=st.toString(),_==="[object HTMLImageElement]"||_==="[object HTMLCanvasElement]")){s.save(),s.translate(d,h),s.rotate(dt),s.drawImage(st,-st.width/2,-st.height/2,st.width,st.height),s.restore();return}if(!(isNaN(lt)||lt<=0)){switch(s.beginPath(),st){default:g?s.ellipse(d,h,g/2,lt,0,0,TAU):s.arc(d,h,lt,0,TAU),s.closePath();break;case"triangle":nt=g?g/2:lt,s.moveTo(d+Math.sin(dt)*nt,h-Math.cos(dt)*lt),dt+=TWO_THIRDS_PI,s.lineTo(d+Math.sin(dt)*nt,h-Math.cos(dt)*lt),dt+=TWO_THIRDS_PI,s.lineTo(d+Math.sin(dt)*nt,h-Math.cos(dt)*lt),s.closePath();break;case"rectRounded":tt=lt*.516,et=lt-tt,j=Math.cos(dt+QUARTER_PI)*et,rt=Math.cos(dt+QUARTER_PI)*(g?g/2-tt:et),$=Math.sin(dt+QUARTER_PI)*et,it=Math.sin(dt+QUARTER_PI)*(g?g/2-tt:et),s.arc(d-rt,h-$,tt,dt-PI,dt-HALF_PI),s.arc(d+it,h-j,tt,dt-HALF_PI,dt),s.arc(d+rt,h+$,tt,dt,dt+HALF_PI),s.arc(d-it,h+j,tt,dt+HALF_PI,dt+PI),s.closePath();break;case"rect":if(!ot){et=Math.SQRT1_2*lt,nt=g?g/2:et,s.rect(d-nt,h-et,2*nt,2*et);break}dt+=QUARTER_PI;case"rectRot":rt=Math.cos(dt)*(g?g/2:lt),j=Math.cos(dt)*lt,$=Math.sin(dt)*lt,it=Math.sin(dt)*(g?g/2:lt),s.moveTo(d-rt,h-$),s.lineTo(d+it,h-j),s.lineTo(d+rt,h+$),s.lineTo(d-it,h+j),s.closePath();break;case"crossRot":dt+=QUARTER_PI;case"cross":rt=Math.cos(dt)*(g?g/2:lt),j=Math.cos(dt)*lt,$=Math.sin(dt)*lt,it=Math.sin(dt)*(g?g/2:lt),s.moveTo(d-rt,h-$),s.lineTo(d+rt,h+$),s.moveTo(d+it,h-j),s.lineTo(d-it,h+j);break;case"star":rt=Math.cos(dt)*(g?g/2:lt),j=Math.cos(dt)*lt,$=Math.sin(dt)*lt,it=Math.sin(dt)*(g?g/2:lt),s.moveTo(d-rt,h-$),s.lineTo(d+rt,h+$),s.moveTo(d+it,h-j),s.lineTo(d-it,h+j),dt+=QUARTER_PI,rt=Math.cos(dt)*(g?g/2:lt),j=Math.cos(dt)*lt,$=Math.sin(dt)*lt,it=Math.sin(dt)*(g?g/2:lt),s.moveTo(d-rt,h-$),s.lineTo(d+rt,h+$),s.moveTo(d+it,h-j),s.lineTo(d-it,h+j);break;case"line":j=g?g/2:Math.cos(dt)*lt,$=Math.sin(dt)*lt,s.moveTo(d-j,h-$),s.lineTo(d+j,h+$);break;case"dash":s.moveTo(d,h),s.lineTo(d+Math.cos(dt)*(g?g/2:lt),h+Math.sin(dt)*lt);break;case!1:s.closePath();break}s.fill(),e.borderWidth>0&&s.stroke()}}function _isPointInArea(s,e,d){return d=d||.5,!e||s&&s.x>e.left-d&&s.x<e.right+d&&s.y>e.top-d&&s.y<e.bottom+d}function clipArea(s,e){s.save(),s.beginPath(),s.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),s.clip()}function unclipArea(s){s.restore()}function setRenderOpts(s,e){e.translation&&s.translate(e.translation[0],e.translation[1]),isNullOrUndef(e.rotation)||s.rotate(e.rotation),e.color&&(s.fillStyle=e.color),e.textAlign&&(s.textAlign=e.textAlign),e.textBaseline&&(s.textBaseline=e.textBaseline)}function decorateText(s,e,d,h,g){if(g.strikethrough||g.underline){const _=s.measureText(h),j=e-_.actualBoundingBoxLeft,$=e+_.actualBoundingBoxRight,et=d-_.actualBoundingBoxAscent,tt=d+_.actualBoundingBoxDescent,nt=g.strikethrough?(et+tt)/2:tt;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=g.decorationWidth||2,s.moveTo(j,nt),s.lineTo($,nt),s.stroke()}}function drawBackdrop(s,e){const d=s.fillStyle;s.fillStyle=e.color,s.fillRect(e.left,e.top,e.width,e.height),s.fillStyle=d}function renderText(s,e,d,h,g,_={}){const j=isArray(e)?e:[e],$=_.strokeWidth>0&&_.strokeColor!=="";let et,tt;for(s.save(),s.font=g.string,setRenderOpts(s,_),et=0;et<j.length;++et)tt=j[et],_.backdrop&&drawBackdrop(s,_.backdrop),$&&(_.strokeColor&&(s.strokeStyle=_.strokeColor),isNullOrUndef(_.strokeWidth)||(s.lineWidth=_.strokeWidth),s.strokeText(tt,d,h,_.maxWidth)),s.fillText(tt,d,h,_.maxWidth),decorateText(s,d,h,tt,_),h+=Number(g.lineHeight);s.restore()}function addRoundedRectPath(s,e){const{x:d,y:h,w:g,h:_,radius:j}=e;s.arc(d+j.topLeft,h+j.topLeft,j.topLeft,1.5*PI,PI,!0),s.lineTo(d,h+_-j.bottomLeft),s.arc(d+j.bottomLeft,h+_-j.bottomLeft,j.bottomLeft,PI,HALF_PI,!0),s.lineTo(d+g-j.bottomRight,h+_),s.arc(d+g-j.bottomRight,h+_-j.bottomRight,j.bottomRight,HALF_PI,0,!0),s.lineTo(d+g,h+j.topRight),s.arc(d+g-j.topRight,h+j.topRight,j.topRight,0,-HALF_PI,!0),s.lineTo(d+j.topLeft,h)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(s,e){const d=(""+s).match(LINE_HEIGHT);if(!d||d[1]==="normal")return e*1.2;switch(s=+d[2],d[3]){case"px":return s;case"%":s/=100;break}return e*s}const numberOrZero=s=>+s||0;function _readValueToProps(s,e){const d={},h=isObject(e),g=h?Object.keys(e):e,_=isObject(s)?h?j=>valueOrDefault(s[j],s[e[j]]):j=>s[j]:()=>s;for(const j of g)d[j]=numberOrZero(_(j));return d}function toTRBL(s){return _readValueToProps(s,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(s){return _readValueToProps(s,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(s){const e=toTRBL(s);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function toFont(s,e){s=s||{},e=e||defaults.font;let d=valueOrDefault(s.size,e.size);typeof d=="string"&&(d=parseInt(d,10));let h=valueOrDefault(s.style,e.style);h&&!(""+h).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+h+'"'),h=void 0);const g={family:valueOrDefault(s.family,e.family),lineHeight:toLineHeight(valueOrDefault(s.lineHeight,e.lineHeight),d),size:d,style:h,weight:valueOrDefault(s.weight,e.weight),string:""};return g.string=toFontString(g),g}function resolve(s,e,d,h){let g,_,j;for(g=0,_=s.length;g<_;++g)if(j=s[g],j!==void 0&&j!==void 0)return j}function _addGrace(s,e,d){const{min:h,max:g}=s,_=toDimension(e,(g-h)/2),j=($,et)=>d&&$===0?0:$+et;return{min:j(h,-Math.abs(_)),max:j(g,_)}}function createContext(s,e){return Object.assign(Object.create(s),e)}function _createResolver(s,e=[""],d,h,g=()=>s[0]){const _=d||s;typeof h>"u"&&(h=_resolve("_fallback",s));const j={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:_,_fallback:h,_getTarget:g,override:$=>_createResolver([$,...s],e,_,h)};return new Proxy(j,{deleteProperty($,et){return delete $[et],delete $._keys,delete s[0][et],!0},get($,et){return _cached($,et,()=>_resolveWithPrefixes(et,e,s,$))},getOwnPropertyDescriptor($,et){return Reflect.getOwnPropertyDescriptor($._scopes[0],et)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has($,et){return getKeysFromAllScopes($).includes(et)},ownKeys($){return getKeysFromAllScopes($)},set($,et,tt){const nt=$._storage||($._storage=g());return $[et]=nt[et]=tt,delete $._keys,!0}})}function _attachContext(s,e,d,h){const g={_cacheable:!1,_proxy:s,_context:e,_subProxy:d,_stack:new Set,_descriptors:_descriptors(s,h),setContext:_=>_attachContext(s,_,d,h),override:_=>_attachContext(s.override(_),e,d,h)};return new Proxy(g,{deleteProperty(_,j){return delete _[j],delete s[j],!0},get(_,j,$){return _cached(_,j,()=>_resolveWithContext(_,j,$))},getOwnPropertyDescriptor(_,j){return _._descriptors.allKeys?Reflect.has(s,j)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,j)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(_,j){return Reflect.has(s,j)},ownKeys(){return Reflect.ownKeys(s)},set(_,j,$){return s[j]=$,delete _[j],!0}})}function _descriptors(s,e={scriptable:!0,indexable:!0}){const{_scriptable:d=e.scriptable,_indexable:h=e.indexable,_allKeys:g=e.allKeys}=s;return{allKeys:g,scriptable:d,indexable:h,isScriptable:isFunction(d)?d:()=>d,isIndexable:isFunction(h)?h:()=>h}}const readKey=(s,e)=>s?s+_capitalize(e):e,needsSubResolver=(s,e)=>isObject(e)&&s!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function _cached(s,e,d){if(Object.prototype.hasOwnProperty.call(s,e)||e==="constructor")return s[e];const h=d();return s[e]=h,h}function _resolveWithContext(s,e,d){const{_proxy:h,_context:g,_subProxy:_,_descriptors:j}=s;let $=h[e];return isFunction($)&&j.isScriptable(e)&&($=_resolveScriptable(e,$,s,d)),isArray($)&&$.length&&($=_resolveArray(e,$,s,j.isIndexable)),needsSubResolver(e,$)&&($=_attachContext($,g,_&&_[e],j)),$}function _resolveScriptable(s,e,d,h){const{_proxy:g,_context:_,_subProxy:j,_stack:$}=d;if($.has(s))throw new Error("Recursion detected: "+Array.from($).join("->")+"->"+s);$.add(s);let et=e(_,j||h);return $.delete(s),needsSubResolver(s,et)&&(et=createSubResolver(g._scopes,g,s,et)),et}function _resolveArray(s,e,d,h){const{_proxy:g,_context:_,_subProxy:j,_descriptors:$}=d;if(typeof _.index<"u"&&h(s))return e[_.index%e.length];if(isObject(e[0])){const et=e,tt=g._scopes.filter(nt=>nt!==et);e=[];for(const nt of et){const rt=createSubResolver(tt,g,s,nt);e.push(_attachContext(rt,_,j&&j[s],$))}}return e}function resolveFallback(s,e,d){return isFunction(s)?s(e,d):s}const getScope=(s,e)=>s===!0?e:typeof s=="string"?resolveObjectKey(e,s):void 0;function addScopes(s,e,d,h,g){for(const _ of e){const j=getScope(d,_);if(j){s.add(j);const $=resolveFallback(j._fallback,d,g);if(typeof $<"u"&&$!==d&&$!==h)return $}else if(j===!1&&typeof h<"u"&&d!==h)return null}return!1}function createSubResolver(s,e,d,h){const g=e._rootScopes,_=resolveFallback(e._fallback,d,h),j=[...s,...g],$=new Set;$.add(h);let et=addScopesFromKey($,j,d,_||d,h);return et===null||typeof _<"u"&&_!==d&&(et=addScopesFromKey($,j,_,et,h),et===null)?!1:_createResolver(Array.from($),[""],g,_,()=>subGetTarget(e,d,h))}function addScopesFromKey(s,e,d,h,g){for(;d;)d=addScopes(s,e,d,h,g);return d}function subGetTarget(s,e,d){const h=s._getTarget();e in h||(h[e]={});const g=h[e];return isArray(g)&&isObject(d)?d:g||{}}function _resolveWithPrefixes(s,e,d,h){let g;for(const _ of e)if(g=_resolve(readKey(_,s),d),typeof g<"u")return needsSubResolver(s,g)?createSubResolver(d,h,s,g):g}function _resolve(s,e){for(const d of e){if(!d)continue;const h=d[s];if(typeof h<"u")return h}}function getKeysFromAllScopes(s){let e=s._keys;return e||(e=s._keys=resolveKeysFromAllScopes(s._scopes)),e}function resolveKeysFromAllScopes(s){const e=new Set;for(const d of s)for(const h of Object.keys(d).filter(g=>!g.startsWith("_")))e.add(h);return Array.from(e)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(s){let e=s.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function parseMaxStyle(s,e,d){let h;return typeof s=="string"?(h=parseInt(s,10),s.indexOf("%")!==-1&&(h=h/100*e.parentNode[d])):h=s,h}const getComputedStyle$1=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function getStyle(s,e){return getComputedStyle$1(s).getPropertyValue(e)}const positions=["top","right","bottom","left"];function getPositionedStyle(s,e,d){const h={};d=d?"-"+d:"";for(let g=0;g<4;g++){const _=positions[g];h[_]=parseFloat(s[e+"-"+_+d])||0}return h.width=h.left+h.right,h.height=h.top+h.bottom,h}const useOffsetPos=(s,e,d)=>(s>0||e>0)&&(!d||!d.shadowRoot);function getCanvasPosition(s,e){const d=s.touches,h=d&&d.length?d[0]:s,{offsetX:g,offsetY:_}=h;let j=!1,$,et;if(useOffsetPos(g,_,s.target))$=g,et=_;else{const tt=e.getBoundingClientRect();$=h.clientX-tt.left,et=h.clientY-tt.top,j=!0}return{x:$,y:et,box:j}}function getRelativePosition(s,e){if("native"in s)return s;const{canvas:d,currentDevicePixelRatio:h}=e,g=getComputedStyle$1(d),_=g.boxSizing==="border-box",j=getPositionedStyle(g,"padding"),$=getPositionedStyle(g,"border","width"),{x:et,y:tt,box:nt}=getCanvasPosition(s,d),rt=j.left+(nt&&$.left),it=j.top+(nt&&$.top);let{width:st,height:ot}=e;return _&&(st-=j.width+$.width,ot-=j.height+$.height),{x:Math.round((et-rt)/st*d.width/h),y:Math.round((tt-it)/ot*d.height/h)}}function getContainerSize(s,e,d){let h,g;if(e===void 0||d===void 0){const _=s&&_getParentNode(s);if(!_)e=s.clientWidth,d=s.clientHeight;else{const j=_.getBoundingClientRect(),$=getComputedStyle$1(_),et=getPositionedStyle($,"border","width"),tt=getPositionedStyle($,"padding");e=j.width-tt.width-et.width,d=j.height-tt.height-et.height,h=parseMaxStyle($.maxWidth,_,"clientWidth"),g=parseMaxStyle($.maxHeight,_,"clientHeight")}}return{width:e,height:d,maxWidth:h||INFINITY,maxHeight:g||INFINITY}}const round1=s=>Math.round(s*10)/10;function getMaximumSize(s,e,d,h){const g=getComputedStyle$1(s),_=getPositionedStyle(g,"margin"),j=parseMaxStyle(g.maxWidth,s,"clientWidth")||INFINITY,$=parseMaxStyle(g.maxHeight,s,"clientHeight")||INFINITY,et=getContainerSize(s,e,d);let{width:tt,height:nt}=et;if(g.boxSizing==="content-box"){const it=getPositionedStyle(g,"border","width"),st=getPositionedStyle(g,"padding");tt-=st.width+it.width,nt-=st.height+it.height}return tt=Math.max(0,tt-_.width),nt=Math.max(0,h?tt/h:nt-_.height),tt=round1(Math.min(tt,j,et.maxWidth)),nt=round1(Math.min(nt,$,et.maxHeight)),tt&&!nt&&(nt=round1(tt/2)),(e!==void 0||d!==void 0)&&h&&et.height&&nt>et.height&&(nt=et.height,tt=round1(Math.floor(nt*h))),{width:tt,height:nt}}function retinaScale(s,e,d){const h=e||1,g=Math.floor(s.height*h),_=Math.floor(s.width*h);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const j=s.canvas;return j.style&&(d||!j.style.height&&!j.style.width)&&(j.style.height=`${s.height}px`,j.style.width=`${s.width}px`),s.currentDevicePixelRatio!==h||j.height!==g||j.width!==_?(s.currentDevicePixelRatio=h,j.height=g,j.width=_,s.ctx.setTransform(h,0,0,h,0,0),!0):!1}const supportsEventListenerOptions=function(){let s=!1;try{const e={get passive(){return s=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return s}();function readUsedSize(s,e){const d=getStyle(s,e),h=d&&d.match(/^(\d+)(\.\d+)?px$/);return h?+h[1]:void 0}const getRightToLeftAdapter=function(s,e){return{x(d){return s+s+e-d},setWidth(d){e=d},textAlign(d){return d==="center"?d:d==="right"?"left":"right"},xPlus(d,h){return d-h},leftForLtr(d,h){return d-h}}},getLeftToRightAdapter=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,e){return s+e},leftForLtr(s,e){return s}}};function getRtlAdapter(s,e,d){return s?getRightToLeftAdapter(e,d):getLeftToRightAdapter()}function overrideTextDirection(s,e){let d,h;(e==="ltr"||e==="rtl")&&(d=s.canvas.style,h=[d.getPropertyValue("direction"),d.getPropertyPriority("direction")],d.setProperty("direction",e,"important"),s.prevTextDirection=h)}function restoreTextDirection(s,e){e!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,d,h,g){const _=d.listeners[g],j=d.duration;_.forEach($=>$({chart:e,initial:d.initial,numSteps:j,currentStep:Math.min(h-d.start,j)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let d=0;this._charts.forEach((h,g)=>{if(!h.running||!h.items.length)return;const _=h.items;let j=_.length-1,$=!1,et;for(;j>=0;--j)et=_[j],et._active?(et._total>h.duration&&(h.duration=et._total),et.tick(e),$=!0):(_[j]=_[_.length-1],_.pop());$&&(g.draw(),this._notify(g,h,e,"progress")),_.length||(h.running=!1,this._notify(g,h,e,"complete"),h.initial=!1),d+=_.length}),this._lastDate=e,d===0&&(this._running=!1)}_getAnims(e){const d=this._charts;let h=d.get(e);return h||(h={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},d.set(e,h)),h}listen(e,d,h){this._getAnims(e).listeners[d].push(h)}add(e,d){!d||!d.length||this._getAnims(e).items.push(...d)}has(e){return this._getAnims(e).items.length>0}start(e){const d=this._charts.get(e);d&&(d.running=!0,d.start=Date.now(),d.duration=d.items.reduce((h,g)=>Math.max(h,g._duration),0),this._refresh())}running(e){if(!this._running)return!1;const d=this._charts.get(e);return!(!d||!d.running||!d.items.length)}stop(e){const d=this._charts.get(e);if(!d||!d.items.length)return;const h=d.items;let g=h.length-1;for(;g>=0;--g)h[g].cancel();d.items=[],this._notify(e,d,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(s,e,d){return d>.5?e:s},color(s,e,d){const h=color(s||transparent),g=h.valid&&color(e||transparent);return g&&g.valid?g.mix(h,d).hexString():e},number(s,e,d){return s+(e-s)*d}};class Animation{constructor(e,d,h,g){const _=d[h];g=resolve([e.to,g,_,e.from]);const j=resolve([e.from,_,g]);this._active=!0,this._fn=e.fn||interpolators[e.type||typeof j],this._easing=effects[e.easing]||effects.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=d,this._prop=h,this._from=j,this._to=g,this._promises=void 0}active(){return this._active}update(e,d,h){if(this._active){this._notify(!1);const g=this._target[this._prop],_=h-this._start,j=this._duration-_;this._start=h,this._duration=Math.floor(Math.max(j,e.duration)),this._total+=_,this._loop=!!e.loop,this._to=resolve([e.to,d,g,e.from]),this._from=resolve([e.from,g,d])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const d=e-this._start,h=this._duration,g=this._prop,_=this._from,j=this._loop,$=this._to;let et;if(this._active=_!==$&&(j||d<h),!this._active){this._target[g]=$,this._notify(!0);return}if(d<0){this._target[g]=_;return}et=d/h%2,et=j&&et>1?2-et:et,et=this._easing(Math.min(1,Math.max(0,et))),this._target[g]=this._fn(_,$,et)}wait(){const e=this._promises||(this._promises=[]);return new Promise((d,h)=>{e.push({res:d,rej:h})})}_notify(e){const d=e?"res":"rej",h=this._promises||[];for(let g=0;g<h.length;g++)h[g][d]()}}class Animations{constructor(e,d){this._chart=e,this._properties=new Map,this.configure(d)}configure(e){if(!isObject(e))return;const d=Object.keys(defaults.animation),h=this._properties;Object.getOwnPropertyNames(e).forEach(g=>{const _=e[g];if(!isObject(_))return;const j={};for(const $ of d)j[$]=_[$];(isArray(_.properties)&&_.properties||[g]).forEach($=>{($===g||!h.has($))&&h.set($,j)})})}_animateOptions(e,d){const h=d.options,g=resolveTargetOptions(e,h);if(!g)return[];const _=this._createAnimations(g,h);return h.$shared&&awaitAll(e.options.$animations,h).then(()=>{e.options=h},()=>{}),_}_createAnimations(e,d){const h=this._properties,g=[],_=e.$animations||(e.$animations={}),j=Object.keys(d),$=Date.now();let et;for(et=j.length-1;et>=0;--et){const tt=j[et];if(tt.charAt(0)==="$")continue;if(tt==="options"){g.push(...this._animateOptions(e,d));continue}const nt=d[tt];let rt=_[tt];const it=h.get(tt);if(rt)if(it&&rt.active()){rt.update(it,nt,$);continue}else rt.cancel();if(!it||!it.duration){e[tt]=nt;continue}_[tt]=rt=new Animation(it,e,tt,nt),g.push(rt)}return g}update(e,d){if(this._properties.size===0){Object.assign(e,d);return}const h=this._createAnimations(e,d);if(h.length)return animator.add(this._chart,h),!0}}function awaitAll(s,e){const d=[],h=Object.keys(e);for(let g=0;g<h.length;g++){const _=s[h[g]];_&&_.active()&&d.push(_.wait())}return Promise.all(d)}function resolveTargetOptions(s,e){if(!e)return;let d=s.options;if(!d){s.options=e;return}return d.$shared&&(s.options=d=Object.assign({},d,{$shared:!1,$animations:{}})),d}function scaleClip(s,e){const d=s&&s.options||{},h=d.reverse,g=d.min===void 0?e:0,_=d.max===void 0?e:0;return{start:h?_:g,end:h?g:_}}function defaultClip(s,e,d){if(d===!1)return!1;const h=scaleClip(s,d),g=scaleClip(e,d);return{top:g.end,right:h.end,bottom:g.start,left:h.start}}function toClip(s){let e,d,h,g;return isObject(s)?(e=s.top,d=s.right,h=s.bottom,g=s.left):e=d=h=g=s,{top:e,right:d,bottom:h,left:g,disabled:s===!1}}function getSortedDatasetIndices(s,e){const d=[],h=s._getSortedDatasetMetas(e);let g,_;for(g=0,_=h.length;g<_;++g)d.push(h[g].index);return d}function applyStack(s,e,d,h={}){const g=s.keys,_=h.mode==="single";let j,$,et,tt;if(e===null)return;let nt=!1;for(j=0,$=g.length;j<$;++j){if(et=+g[j],et===d){if(nt=!0,h.all)continue;break}tt=s.values[et],isNumberFinite(tt)&&(_||e===0||sign(e)===sign(tt))&&(e+=tt)}return!nt&&!h.all?0:e}function convertObjectDataToArray(s,e){const{iScale:d,vScale:h}=e,g=d.axis==="x"?"x":"y",_=h.axis==="x"?"x":"y",j=Object.keys(s),$=new Array(j.length);let et,tt,nt;for(et=0,tt=j.length;et<tt;++et)nt=j[et],$[et]={[g]:nt,[_]:s[nt]};return $}function isStacked(s,e){const d=s&&s.options.stacked;return d||d===void 0&&e.stack!==void 0}function getStackKey(s,e,d){return`${s.id}.${e.id}.${d.stack||d.type}`}function getUserBounds(s){const{min:e,max:d,minDefined:h,maxDefined:g}=s.getUserBounds();return{min:h?e:Number.NEGATIVE_INFINITY,max:g?d:Number.POSITIVE_INFINITY}}function getOrCreateStack(s,e,d){const h=s[e]||(s[e]={});return h[d]||(h[d]={})}function getLastIndexInStack(s,e,d,h){for(const g of e.getMatchingVisibleMetas(h).reverse()){const _=s[g.index];if(d&&_>0||!d&&_<0)return g.index}return null}function updateStacks(s,e){const{chart:d,_cachedMeta:h}=s,g=d._stacks||(d._stacks={}),{iScale:_,vScale:j,index:$}=h,et=_.axis,tt=j.axis,nt=getStackKey(_,j,h),rt=e.length;let it;for(let st=0;st<rt;++st){const ot=e[st],{[et]:lt,[tt]:dt}=ot,at=ot._stacks||(ot._stacks={});it=at[tt]=getOrCreateStack(g,nt,lt),it[$]=dt,it._top=getLastIndexInStack(it,j,!0,h.type),it._bottom=getLastIndexInStack(it,j,!1,h.type);const ut=it._visualValues||(it._visualValues={});ut[$]=dt}}function getFirstScaleId(s,e){const d=s.scales;return Object.keys(d).filter(h=>d[h].axis===e).shift()}function createDatasetContext(s,e){return createContext(s,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function createDataContext(s,e,d){return createContext(s,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:d,index:e,mode:"default",type:"data"})}function clearStacks(s,e){const d=s.controller.index,h=s.vScale&&s.vScale.axis;if(h){e=e||s._parsed;for(const g of e){const _=g._stacks;if(!_||_[h]===void 0||_[h][d]===void 0)return;delete _[h][d],_[h]._visualValues!==void 0&&_[h]._visualValues[d]!==void 0&&delete _[h]._visualValues[d]}}}const isDirectUpdateMode=s=>s==="reset"||s==="none",cloneIfNotShared=(s,e)=>e?s:Object.assign({},s),createStack=(s,e,d)=>s&&!e.hidden&&e._stacked&&{keys:getSortedDatasetIndices(d,!0),values:null};class DatasetController{constructor(e,d){this.chart=e,this._ctx=e.ctx,this.index=d,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=isStacked(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&clearStacks(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,d=this._cachedMeta,h=this.getDataset(),g=(rt,it,st,ot)=>rt==="x"?it:rt==="r"?ot:st,_=d.xAxisID=valueOrDefault(h.xAxisID,getFirstScaleId(e,"x")),j=d.yAxisID=valueOrDefault(h.yAxisID,getFirstScaleId(e,"y")),$=d.rAxisID=valueOrDefault(h.rAxisID,getFirstScaleId(e,"r")),et=d.indexAxis,tt=d.iAxisID=g(et,_,j,$),nt=d.vAxisID=g(et,j,_,$);d.xScale=this.getScaleForId(_),d.yScale=this.getScaleForId(j),d.rScale=this.getScaleForId($),d.iScale=this.getScaleForId(tt),d.vScale=this.getScaleForId(nt)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const d=this._cachedMeta;return e===d.iScale?d.vScale:d.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),e._stacked&&clearStacks(e)}_dataCheck(){const e=this.getDataset(),d=e.data||(e.data=[]),h=this._data;if(isObject(d)){const g=this._cachedMeta;this._data=convertObjectDataToArray(d,g)}else if(h!==d){if(h){unlistenArrayEvents(h,this);const g=this._cachedMeta;clearStacks(g),g._parsed=[]}d&&Object.isExtensible(d)&&listenArrayEvents(d,this),this._syncList=[],this._data=d}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const d=this._cachedMeta,h=this.getDataset();let g=!1;this._dataCheck();const _=d._stacked;d._stacked=isStacked(d.vScale,d),d.stack!==h.stack&&(g=!0,clearStacks(d),d.stack=h.stack),this._resyncElements(e),(g||_!==d._stacked)&&(updateStacks(this,d._parsed),d._stacked=isStacked(d.vScale,d))}configure(){const e=this.chart.config,d=e.datasetScopeKeys(this._type),h=e.getOptionScopes(this.getDataset(),d,!0);this.options=e.createResolver(h,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,d){const{_cachedMeta:h,_data:g}=this,{iScale:_,_stacked:j}=h,$=_.axis;let et=e===0&&d===g.length?!0:h._sorted,tt=e>0&&h._parsed[e-1],nt,rt,it;if(this._parsing===!1)h._parsed=g,h._sorted=!0,it=g;else{isArray(g[e])?it=this.parseArrayData(h,g,e,d):isObject(g[e])?it=this.parseObjectData(h,g,e,d):it=this.parsePrimitiveData(h,g,e,d);const st=()=>rt[$]===null||tt&&rt[$]<tt[$];for(nt=0;nt<d;++nt)h._parsed[nt+e]=rt=it[nt],et&&(st()&&(et=!1),tt=rt);h._sorted=et}j&&updateStacks(this,it)}parsePrimitiveData(e,d,h,g){const{iScale:_,vScale:j}=e,$=_.axis,et=j.axis,tt=_.getLabels(),nt=_===j,rt=new Array(g);let it,st,ot;for(it=0,st=g;it<st;++it)ot=it+h,rt[it]={[$]:nt||_.parse(tt[ot],ot),[et]:j.parse(d[ot],ot)};return rt}parseArrayData(e,d,h,g){const{xScale:_,yScale:j}=e,$=new Array(g);let et,tt,nt,rt;for(et=0,tt=g;et<tt;++et)nt=et+h,rt=d[nt],$[et]={x:_.parse(rt[0],nt),y:j.parse(rt[1],nt)};return $}parseObjectData(e,d,h,g){const{xScale:_,yScale:j}=e,{xAxisKey:$="x",yAxisKey:et="y"}=this._parsing,tt=new Array(g);let nt,rt,it,st;for(nt=0,rt=g;nt<rt;++nt)it=nt+h,st=d[it],tt[nt]={x:_.parse(resolveObjectKey(st,$),it),y:j.parse(resolveObjectKey(st,et),it)};return tt}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,d,h){const g=this.chart,_=this._cachedMeta,j=d[e.axis],$={keys:getSortedDatasetIndices(g,!0),values:d._stacks[e.axis]._visualValues};return applyStack($,j,_.index,{mode:h})}updateRangeFromParsed(e,d,h,g){const _=h[d.axis];let j=_===null?NaN:_;const $=g&&h._stacks[d.axis];g&&$&&(g.values=$,j=applyStack(g,_,this._cachedMeta.index)),e.min=Math.min(e.min,j),e.max=Math.max(e.max,j)}getMinMax(e,d){const h=this._cachedMeta,g=h._parsed,_=h._sorted&&e===h.iScale,j=g.length,$=this._getOtherScale(e),et=createStack(d,h,this.chart),tt={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:nt,max:rt}=getUserBounds($);let it,st;function ot(){st=g[it];const lt=st[$.axis];return!isNumberFinite(st[e.axis])||nt>lt||rt<lt}for(it=0;it<j&&!(!ot()&&(this.updateRangeFromParsed(tt,e,st,et),_));++it);if(_){for(it=j-1;it>=0;--it)if(!ot()){this.updateRangeFromParsed(tt,e,st,et);break}}return tt}getAllParsedValues(e){const d=this._cachedMeta._parsed,h=[];let g,_,j;for(g=0,_=d.length;g<_;++g)j=d[g][e.axis],isNumberFinite(j)&&h.push(j);return h}getMaxOverflow(){return!1}getLabelAndValue(e){const d=this._cachedMeta,h=d.iScale,g=d.vScale,_=this.getParsed(e);return{label:h?""+h.getLabelForValue(_[h.axis]):"",value:g?""+g.getLabelForValue(_[g.axis]):""}}_update(e){const d=this._cachedMeta;this.update(e||"default"),d._clip=toClip(valueOrDefault(this.options.clip,defaultClip(d.xScale,d.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,d=this.chart,h=this._cachedMeta,g=h.data||[],_=d.chartArea,j=[],$=this._drawStart||0,et=this._drawCount||g.length-$,tt=this.options.drawActiveElementsOnTop;let nt;for(h.dataset&&h.dataset.draw(e,_,$,et),nt=$;nt<$+et;++nt){const rt=g[nt];rt.hidden||(rt.active&&tt?j.push(rt):rt.draw(e,_))}for(nt=0;nt<j.length;++nt)j[nt].draw(e,_)}getStyle(e,d){const h=d?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(h):this.resolveDataElementOptions(e||0,h)}getContext(e,d,h){const g=this.getDataset();let _;if(e>=0&&e<this._cachedMeta.data.length){const j=this._cachedMeta.data[e];_=j.$context||(j.$context=createDataContext(this.getContext(),e,j)),_.parsed=this.getParsed(e),_.raw=g.data[e],_.index=_.dataIndex=e}else _=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),_.dataset=g,_.index=_.datasetIndex=this.index;return _.active=!!d,_.mode=h,_}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,d){return this._resolveElementOptions(this.dataElementType.id,d,e)}_resolveElementOptions(e,d="default",h){const g=d==="active",_=this._cachedDataOpts,j=e+"-"+d,$=_[j],et=this.enableOptionSharing&&defined(h);if($)return cloneIfNotShared($,et);const tt=this.chart.config,nt=tt.datasetElementScopeKeys(this._type,e),rt=g?[`${e}Hover`,"hover",e,""]:[e,""],it=tt.getOptionScopes(this.getDataset(),nt),st=Object.keys(defaults.elements[e]),ot=()=>this.getContext(h,g,d),lt=tt.resolveNamedOptions(it,st,ot,rt);return lt.$shared&&(lt.$shared=et,_[j]=Object.freeze(cloneIfNotShared(lt,et))),lt}_resolveAnimations(e,d,h){const g=this.chart,_=this._cachedDataOpts,j=`animation-${d}`,$=_[j];if($)return $;let et;if(g.options.animation!==!1){const nt=this.chart.config,rt=nt.datasetAnimationScopeKeys(this._type,d),it=nt.getOptionScopes(this.getDataset(),rt);et=nt.createResolver(it,this.getContext(e,h,d))}const tt=new Animations(g,et&&et.animations);return et&&et._cacheable&&(_[j]=Object.freeze(tt)),tt}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,d){return!d||isDirectUpdateMode(e)||this.chart._animationsDisabled}_getSharedOptions(e,d){const h=this.resolveDataElementOptions(e,d),g=this._sharedOptions,_=this.getSharedOptions(h),j=this.includeOptions(d,_)||_!==g;return this.updateSharedOptions(_,d,h),{sharedOptions:_,includeOptions:j}}updateElement(e,d,h,g){isDirectUpdateMode(g)?Object.assign(e,h):this._resolveAnimations(d,g).update(e,h)}updateSharedOptions(e,d,h){e&&!isDirectUpdateMode(d)&&this._resolveAnimations(void 0,d).update(e,h)}_setStyle(e,d,h,g){e.active=g;const _=this.getStyle(d,g);this._resolveAnimations(d,h,g).update(e,{options:!g&&this.getSharedOptions(_)||_})}removeHoverStyle(e,d,h){this._setStyle(e,h,"active",!1)}setHoverStyle(e,d,h){this._setStyle(e,h,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const d=this._data,h=this._cachedMeta.data;for(const[$,et,tt]of this._syncList)this[$](et,tt);this._syncList=[];const g=h.length,_=d.length,j=Math.min(_,g);j&&this.parse(0,j),_>g?this._insertElements(g,_-g,e):_<g&&this._removeElements(_,g-_)}_insertElements(e,d,h=!0){const g=this._cachedMeta,_=g.data,j=e+d;let $;const et=tt=>{for(tt.length+=d,$=tt.length-1;$>=j;$--)tt[$]=tt[$-d]};for(et(_),$=e;$<j;++$)_[$]=new this.dataElementType;this._parsing&&et(g._parsed),this.parse(e,d),h&&this.updateElements(_,e,d,"reset")}updateElements(e,d,h,g){}_removeElements(e,d){const h=this._cachedMeta;if(this._parsing){const g=h._parsed.splice(e,d);h._stacked&&clearStacks(h,g)}h.data.splice(e,d)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[d,h,g]=e;this[d](h,g)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,d){d&&this._sync(["_removeElements",e,d]);const h=arguments.length-2;h&&this._sync(["_insertElements",e,h])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}lr(DatasetController,"defaults",{}),lr(DatasetController,"datasetElementType",null),lr(DatasetController,"dataElementType",null);function getAllScaleValues(s,e){if(!s._cache.$bar){const d=s.getMatchingVisibleMetas(e);let h=[];for(let g=0,_=d.length;g<_;g++)h=h.concat(d[g].controller.getAllParsedValues(s));s._cache.$bar=_arrayUnique(h.sort((g,_)=>g-_))}return s._cache.$bar}function computeMinSampleSize(s){const e=s.iScale,d=getAllScaleValues(e,s.type);let h=e._length,g,_,j,$;const et=()=>{j===32767||j===-32768||(defined($)&&(h=Math.min(h,Math.abs(j-$)||h)),$=j)};for(g=0,_=d.length;g<_;++g)j=e.getPixelForValue(d[g]),et();for($=void 0,g=0,_=e.ticks.length;g<_;++g)j=e.getPixelForTick(g),et();return h}function computeFitCategoryTraits(s,e,d,h){const g=d.barThickness;let _,j;return isNullOrUndef(g)?(_=e.min*d.categoryPercentage,j=d.barPercentage):(_=g*h,j=1),{chunk:_/h,ratio:j,start:e.pixels[s]-_/2}}function computeFlexCategoryTraits(s,e,d,h){const g=e.pixels,_=g[s];let j=s>0?g[s-1]:null,$=s<g.length-1?g[s+1]:null;const et=d.categoryPercentage;j===null&&(j=_-($===null?e.end-e.start:$-_)),$===null&&($=_+_-j);const tt=_-(_-Math.min(j,$))/2*et;return{chunk:Math.abs($-j)/2*et/h,ratio:d.barPercentage,start:tt}}function parseFloatBar(s,e,d,h){const g=d.parse(s[0],h),_=d.parse(s[1],h),j=Math.min(g,_),$=Math.max(g,_);let et=j,tt=$;Math.abs(j)>Math.abs($)&&(et=$,tt=j),e[d.axis]=tt,e._custom={barStart:et,barEnd:tt,start:g,end:_,min:j,max:$}}function parseValue(s,e,d,h){return isArray(s)?parseFloatBar(s,e,d,h):e[d.axis]=d.parse(s,h),e}function parseArrayOrPrimitive(s,e,d,h){const g=s.iScale,_=s.vScale,j=g.getLabels(),$=g===_,et=[];let tt,nt,rt,it;for(tt=d,nt=d+h;tt<nt;++tt)it=e[tt],rt={},rt[g.axis]=$||g.parse(j[tt],tt),et.push(parseValue(it,rt,_,tt));return et}function isFloatBar(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function barSign(s,e,d){return s!==0?sign(s):(e.isHorizontal()?1:-1)*(e.min>=d?1:-1)}function borderProps(s){let e,d,h,g,_;return s.horizontal?(e=s.base>s.x,d="left",h="right"):(e=s.base<s.y,d="bottom",h="top"),e?(g="end",_="start"):(g="start",_="end"),{start:d,end:h,reverse:e,top:g,bottom:_}}function setBorderSkipped(s,e,d,h){let g=e.borderSkipped;const _={};if(!g){s.borderSkipped=_;return}if(g===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:j,end:$,reverse:et,top:tt,bottom:nt}=borderProps(s);g==="middle"&&d&&(s.enableBorderRadius=!0,(d._top||0)===h?g=tt:(d._bottom||0)===h?g=nt:(_[parseEdge(nt,j,$,et)]=!0,g=tt)),_[parseEdge(g,j,$,et)]=!0,s.borderSkipped=_}function parseEdge(s,e,d,h){return h?(s=swap(s,e,d),s=startEnd(s,d,e)):s=startEnd(s,e,d),s}function swap(s,e,d){return s===e?d:s===d?e:s}function startEnd(s,e,d){return s==="start"?e:s==="end"?d:s}function setInflateAmount(s,{inflateAmount:e},d){s.inflateAmount=e==="auto"?d===1?.33:0:e}class BarController extends DatasetController{parsePrimitiveData(e,d,h,g){return parseArrayOrPrimitive(e,d,h,g)}parseArrayData(e,d,h,g){return parseArrayOrPrimitive(e,d,h,g)}parseObjectData(e,d,h,g){const{iScale:_,vScale:j}=e,{xAxisKey:$="x",yAxisKey:et="y"}=this._parsing,tt=_.axis==="x"?$:et,nt=j.axis==="x"?$:et,rt=[];let it,st,ot,lt;for(it=h,st=h+g;it<st;++it)lt=d[it],ot={},ot[_.axis]=_.parse(resolveObjectKey(lt,tt),it),rt.push(parseValue(resolveObjectKey(lt,nt),ot,j,it));return rt}updateRangeFromParsed(e,d,h,g){super.updateRangeFromParsed(e,d,h,g);const _=h._custom;_&&d===this._cachedMeta.vScale&&(e.min=Math.min(e.min,_.min),e.max=Math.max(e.max,_.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const d=this._cachedMeta,{iScale:h,vScale:g}=d,_=this.getParsed(e),j=_._custom,$=isFloatBar(j)?"["+j.start+", "+j.end+"]":""+g.getLabelForValue(_[g.axis]);return{label:""+h.getLabelForValue(_[h.axis]),value:$}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const d=this._cachedMeta;this.updateElements(d.data,0,d.data.length,e)}updateElements(e,d,h,g){const _=g==="reset",{index:j,_cachedMeta:{vScale:$}}=this,et=$.getBasePixel(),tt=$.isHorizontal(),nt=this._getRuler(),{sharedOptions:rt,includeOptions:it}=this._getSharedOptions(d,g);for(let st=d;st<d+h;st++){const ot=this.getParsed(st),lt=_||isNullOrUndef(ot[$.axis])?{base:et,head:et}:this._calculateBarValuePixels(st),dt=this._calculateBarIndexPixels(st,nt),at=(ot._stacks||{})[$.axis],ut={horizontal:tt,base:lt.base,enableBorderRadius:!at||isFloatBar(ot._custom)||j===at._top||j===at._bottom,x:tt?lt.head:dt.center,y:tt?dt.center:lt.head,height:tt?dt.size:Math.abs(lt.size),width:tt?Math.abs(lt.size):dt.size};it&&(ut.options=rt||this.resolveDataElementOptions(st,e[st].active?"active":g));const pt=ut.options||e[st].options;setBorderSkipped(ut,pt,at,j),setInflateAmount(ut,pt,nt.ratio),this.updateElement(e[st],st,ut,g)}}_getStacks(e,d){const{iScale:h}=this._cachedMeta,g=h.getMatchingVisibleMetas(this._type).filter(nt=>nt.controller.options.grouped),_=h.options.stacked,j=[],$=this._cachedMeta.controller.getParsed(d),et=$&&$[h.axis],tt=nt=>{const rt=nt._parsed.find(st=>st[h.axis]===et),it=rt&&rt[nt.vScale.axis];if(isNullOrUndef(it)||isNaN(it))return!0};for(const nt of g)if(!(d!==void 0&&tt(nt))&&((_===!1||j.indexOf(nt.stack)===-1||_===void 0&&nt.stack===void 0)&&j.push(nt.stack),nt.index===e))break;return j.length||j.push(void 0),j}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,d,h){const g=this._getStacks(e,h),_=d!==void 0?g.indexOf(d):-1;return _===-1?g.length-1:_}_getRuler(){const e=this.options,d=this._cachedMeta,h=d.iScale,g=[];let _,j;for(_=0,j=d.data.length;_<j;++_)g.push(h.getPixelForValue(this.getParsed(_)[h.axis],_));const $=e.barThickness;return{min:$||computeMinSampleSize(d),pixels:g,start:h._startPixel,end:h._endPixel,stackCount:this._getStackCount(),scale:h,grouped:e.grouped,ratio:$?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:d,_stacked:h,index:g},options:{base:_,minBarLength:j}}=this,$=_||0,et=this.getParsed(e),tt=et._custom,nt=isFloatBar(tt);let rt=et[d.axis],it=0,st=h?this.applyStack(d,et,h):rt,ot,lt;st!==rt&&(it=st-rt,st=rt),nt&&(rt=tt.barStart,st=tt.barEnd-tt.barStart,rt!==0&&sign(rt)!==sign(tt.barEnd)&&(it=0),it+=rt);const dt=!isNullOrUndef(_)&&!nt?_:it;let at=d.getPixelForValue(dt);if(this.chart.getDataVisibility(e)?ot=d.getPixelForValue(it+st):ot=at,lt=ot-at,Math.abs(lt)<j){lt=barSign(lt,d,$)*j,rt===$&&(at-=lt/2);const ut=d.getPixelForDecimal(0),pt=d.getPixelForDecimal(1),vt=Math.min(ut,pt),ht=Math.max(ut,pt);at=Math.max(Math.min(at,ht),vt),ot=at+lt,h&&!nt&&(et._stacks[d.axis]._visualValues[g]=d.getValueForPixel(ot)-d.getValueForPixel(at))}if(at===d.getPixelForValue($)){const ut=sign(lt)*d.getLineWidthForValue($)/2;at+=ut,lt-=ut}return{size:lt,base:at,head:ot,center:ot+lt/2}}_calculateBarIndexPixels(e,d){const h=d.scale,g=this.options,_=g.skipNull,j=valueOrDefault(g.maxBarThickness,1/0);let $,et;if(d.grouped){const tt=_?this._getStackCount(e):d.stackCount,nt=g.barThickness==="flex"?computeFlexCategoryTraits(e,d,g,tt):computeFitCategoryTraits(e,d,g,tt),rt=this._getStackIndex(this.index,this._cachedMeta.stack,_?e:void 0);$=nt.start+nt.chunk*rt+nt.chunk/2,et=Math.min(j,nt.chunk*nt.ratio)}else $=h.getPixelForValue(this.getParsed(e)[h.axis],e),et=Math.min(j,d.min*d.ratio);return{base:$-et/2,head:$+et/2,center:$,size:et}}draw(){const e=this._cachedMeta,d=e.vScale,h=e.data,g=h.length;let _=0;for(;_<g;++_)this.getParsed(_)[d.axis]!==null&&!h[_].hidden&&h[_].draw(this._ctx)}}lr(BarController,"id","bar"),lr(BarController,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),lr(BarController,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function getRatioAndOffset(s,e,d){let h=1,g=1,_=0,j=0;if(e<TAU){const $=s,et=$+e,tt=Math.cos($),nt=Math.sin($),rt=Math.cos(et),it=Math.sin(et),st=(pt,vt,ht)=>_angleBetween(pt,$,et,!0)?1:Math.max(vt,vt*d,ht,ht*d),ot=(pt,vt,ht)=>_angleBetween(pt,$,et,!0)?-1:Math.min(vt,vt*d,ht,ht*d),lt=st(0,tt,rt),dt=st(HALF_PI,nt,it),at=ot(PI,tt,rt),ut=ot(PI+HALF_PI,nt,it);h=(lt-at)/2,g=(dt-ut)/2,_=-(lt+at)/2,j=-(dt+ut)/2}return{ratioX:h,ratioY:g,offsetX:_,offsetY:j}}class DoughnutController extends DatasetController{constructor(e,d){super(e,d),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,d){const h=this.getDataset().data,g=this._cachedMeta;if(this._parsing===!1)g._parsed=h;else{let _=et=>+h[et];if(isObject(h[e])){const{key:et="value"}=this._parsing;_=tt=>+resolveObjectKey(h[tt],et)}let j,$;for(j=e,$=e+d;j<$;++j)g._parsed[j]=_(j)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let e=TAU,d=-TAU;for(let h=0;h<this.chart.data.datasets.length;++h)if(this.chart.isDatasetVisible(h)&&this.chart.getDatasetMeta(h).type===this._type){const g=this.chart.getDatasetMeta(h).controller,_=g._getRotation(),j=g._getCircumference();e=Math.min(e,_),d=Math.max(d,_+j)}return{rotation:e,circumference:d-e}}update(e){const d=this.chart,{chartArea:h}=d,g=this._cachedMeta,_=g.data,j=this.getMaxBorderWidth()+this.getMaxOffset(_)+this.options.spacing,$=Math.max((Math.min(h.width,h.height)-j)/2,0),et=Math.min(toPercentage(this.options.cutout,$),1),tt=this._getRingWeight(this.index),{circumference:nt,rotation:rt}=this._getRotationExtents(),{ratioX:it,ratioY:st,offsetX:ot,offsetY:lt}=getRatioAndOffset(rt,nt,et),dt=(h.width-j)/it,at=(h.height-j)/st,ut=Math.max(Math.min(dt,at)/2,0),pt=toDimension(this.options.radius,ut),vt=Math.max(pt*et,0),ht=(pt-vt)/this._getVisibleDatasetWeightTotal();this.offsetX=ot*pt,this.offsetY=lt*pt,g.total=this.calculateTotal(),this.outerRadius=pt-ht*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ht*tt,0),this.updateElements(_,0,_.length,e)}_circumference(e,d){const h=this.options,g=this._cachedMeta,_=this._getCircumference();return d&&h.animation.animateRotate||!this.chart.getDataVisibility(e)||g._parsed[e]===null||g.data[e].hidden?0:this.calculateCircumference(g._parsed[e]*_/TAU)}updateElements(e,d,h,g){const _=g==="reset",j=this.chart,$=j.chartArea,tt=j.options.animation,nt=($.left+$.right)/2,rt=($.top+$.bottom)/2,it=_&&tt.animateScale,st=it?0:this.innerRadius,ot=it?0:this.outerRadius,{sharedOptions:lt,includeOptions:dt}=this._getSharedOptions(d,g);let at=this._getRotation(),ut;for(ut=0;ut<d;++ut)at+=this._circumference(ut,_);for(ut=d;ut<d+h;++ut){const pt=this._circumference(ut,_),vt=e[ut],ht={x:nt+this.offsetX,y:rt+this.offsetY,startAngle:at,endAngle:at+pt,circumference:pt,outerRadius:ot,innerRadius:st};dt&&(ht.options=lt||this.resolveDataElementOptions(ut,vt.active?"active":g)),at+=pt,this.updateElement(vt,ut,ht,g)}}calculateTotal(){const e=this._cachedMeta,d=e.data;let h=0,g;for(g=0;g<d.length;g++){const _=e._parsed[g];_!==null&&!isNaN(_)&&this.chart.getDataVisibility(g)&&!d[g].hidden&&(h+=Math.abs(_))}return h}calculateCircumference(e){const d=this._cachedMeta.total;return d>0&&!isNaN(e)?TAU*(Math.abs(e)/d):0}getLabelAndValue(e){const d=this._cachedMeta,h=this.chart,g=h.data.labels||[],_=formatNumber(d._parsed[e],h.options.locale);return{label:g[e]||"",value:_}}getMaxBorderWidth(e){let d=0;const h=this.chart;let g,_,j,$,et;if(!e){for(g=0,_=h.data.datasets.length;g<_;++g)if(h.isDatasetVisible(g)){j=h.getDatasetMeta(g),e=j.data,$=j.controller;break}}if(!e)return 0;for(g=0,_=e.length;g<_;++g)et=$.resolveDataElementOptions(g),et.borderAlign!=="inner"&&(d=Math.max(d,et.borderWidth||0,et.hoverBorderWidth||0));return d}getMaxOffset(e){let d=0;for(let h=0,g=e.length;h<g;++h){const _=this.resolveDataElementOptions(h);d=Math.max(d,_.offset||0,_.hoverOffset||0)}return d}_getRingWeightOffset(e){let d=0;for(let h=0;h<e;++h)this.chart.isDatasetVisible(h)&&(d+=this._getRingWeight(h));return d}_getRingWeight(e){return Math.max(valueOrDefault(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}lr(DoughnutController,"id","doughnut"),lr(DoughnutController,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),lr(DoughnutController,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),lr(DoughnutController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const d=e.data;if(d.labels.length&&d.datasets.length){const{labels:{pointStyle:h,color:g}}=e.legend.options;return d.labels.map((_,j)=>{const et=e.getDatasetMeta(0).controller.getStyle(j);return{text:_,fillStyle:et.backgroundColor,strokeStyle:et.borderColor,fontColor:g,lineWidth:et.borderWidth,pointStyle:h,hidden:!e.getDataVisibility(j),index:j}})}return[]}},onClick(e,d,h){h.chart.toggleDataVisibility(d.index),h.chart.update()}}}});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{constructor(e){lr(this,"options");this.options=e||{}}static override(e){Object.assign(DateAdapterBase.prototype,e)}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(s,e,d,h){const{controller:g,data:_,_sorted:j}=s,$=g._cachedMeta.iScale;if($&&e===$.axis&&e!=="r"&&j&&_.length){const et=$._reversePixels?_rlookupByKey:_lookupByKey;if(h){if(g._sharedOptions){const tt=_[0],nt=typeof tt.getRange=="function"&&tt.getRange(e);if(nt){const rt=et(_,e,d-nt),it=et(_,e,d+nt);return{lo:rt.lo,hi:it.hi}}}}else return et(_,e,d)}return{lo:0,hi:_.length-1}}function evaluateInteractionItems(s,e,d,h,g){const _=s.getSortedVisibleDatasetMetas(),j=d[e];for(let $=0,et=_.length;$<et;++$){const{index:tt,data:nt}=_[$],{lo:rt,hi:it}=binarySearch(_[$],e,j,g);for(let st=rt;st<=it;++st){const ot=nt[st];ot.skip||h(ot,tt,st)}}}function getDistanceMetricForAxis(s){const e=s.indexOf("x")!==-1,d=s.indexOf("y")!==-1;return function(h,g){const _=e?Math.abs(h.x-g.x):0,j=d?Math.abs(h.y-g.y):0;return Math.sqrt(Math.pow(_,2)+Math.pow(j,2))}}function getIntersectItems(s,e,d,h,g){const _=[];return!g&&!s.isPointInArea(e)||evaluateInteractionItems(s,d,e,function($,et,tt){!g&&!_isPointInArea($,s.chartArea,0)||$.inRange(e.x,e.y,h)&&_.push({element:$,datasetIndex:et,index:tt})},!0),_}function getNearestRadialItems(s,e,d,h){let g=[];function _(j,$,et){const{startAngle:tt,endAngle:nt}=j.getProps(["startAngle","endAngle"],h),{angle:rt}=getAngleFromPoint(j,{x:e.x,y:e.y});_angleBetween(rt,tt,nt)&&g.push({element:j,datasetIndex:$,index:et})}return evaluateInteractionItems(s,d,e,_),g}function getNearestCartesianItems(s,e,d,h,g,_){let j=[];const $=getDistanceMetricForAxis(d);let et=Number.POSITIVE_INFINITY;function tt(nt,rt,it){const st=nt.inRange(e.x,e.y,g);if(h&&!st)return;const ot=nt.getCenterPoint(g);if(!(!!_||s.isPointInArea(ot))&&!st)return;const dt=$(e,ot);dt<et?(j=[{element:nt,datasetIndex:rt,index:it}],et=dt):dt===et&&j.push({element:nt,datasetIndex:rt,index:it})}return evaluateInteractionItems(s,d,e,tt),j}function getNearestItems(s,e,d,h,g,_){return!_&&!s.isPointInArea(e)?[]:d==="r"&&!h?getNearestRadialItems(s,e,d,g):getNearestCartesianItems(s,e,d,h,g,_)}function getAxisItems(s,e,d,h,g){const _=[],j=d==="x"?"inXRange":"inYRange";let $=!1;return evaluateInteractionItems(s,d,e,(et,tt,nt)=>{et[j]&&et[j](e[d],g)&&(_.push({element:et,datasetIndex:tt,index:nt}),$=$||et.inRange(e.x,e.y,g))}),h&&!$?[]:_}var Interaction={evaluateInteractionItems,modes:{index(s,e,d,h){const g=getRelativePosition(e,s),_=d.axis||"x",j=d.includeInvisible||!1,$=d.intersect?getIntersectItems(s,g,_,h,j):getNearestItems(s,g,_,!1,h,j),et=[];return $.length?(s.getSortedVisibleDatasetMetas().forEach(tt=>{const nt=$[0].index,rt=tt.data[nt];rt&&!rt.skip&&et.push({element:rt,datasetIndex:tt.index,index:nt})}),et):[]},dataset(s,e,d,h){const g=getRelativePosition(e,s),_=d.axis||"xy",j=d.includeInvisible||!1;let $=d.intersect?getIntersectItems(s,g,_,h,j):getNearestItems(s,g,_,!1,h,j);if($.length>0){const et=$[0].datasetIndex,tt=s.getDatasetMeta(et).data;$=[];for(let nt=0;nt<tt.length;++nt)$.push({element:tt[nt],datasetIndex:et,index:nt})}return $},point(s,e,d,h){const g=getRelativePosition(e,s),_=d.axis||"xy",j=d.includeInvisible||!1;return getIntersectItems(s,g,_,h,j)},nearest(s,e,d,h){const g=getRelativePosition(e,s),_=d.axis||"xy",j=d.includeInvisible||!1;return getNearestItems(s,g,_,d.intersect,h,j)},x(s,e,d,h){const g=getRelativePosition(e,s);return getAxisItems(s,g,"x",d.intersect,h)},y(s,e,d,h){const g=getRelativePosition(e,s);return getAxisItems(s,g,"y",d.intersect,h)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(s,e){return s.filter(d=>d.pos===e)}function filterDynamicPositionByAxis(s,e){return s.filter(d=>STATIC_POSITIONS.indexOf(d.pos)===-1&&d.box.axis===e)}function sortByWeight(s,e){return s.sort((d,h)=>{const g=e?h:d,_=e?d:h;return g.weight===_.weight?g.index-_.index:g.weight-_.weight})}function wrapBoxes(s){const e=[];let d,h,g,_,j,$;for(d=0,h=(s||[]).length;d<h;++d)g=s[d],{position:_,options:{stack:j,stackWeight:$=1}}=g,e.push({index:d,box:g,pos:_,horizontal:g.isHorizontal(),weight:g.weight,stack:j&&_+j,stackWeight:$});return e}function buildStacks(s){const e={};for(const d of s){const{stack:h,pos:g,stackWeight:_}=d;if(!h||!STATIC_POSITIONS.includes(g))continue;const j=e[h]||(e[h]={count:0,placed:0,weight:0,size:0});j.count++,j.weight+=_}return e}function setLayoutDims(s,e){const d=buildStacks(s),{vBoxMaxWidth:h,hBoxMaxHeight:g}=e;let _,j,$;for(_=0,j=s.length;_<j;++_){$=s[_];const{fullSize:et}=$.box,tt=d[$.stack],nt=tt&&$.stackWeight/tt.weight;$.horizontal?($.width=nt?nt*h:et&&e.availableWidth,$.height=g):($.width=h,$.height=nt?nt*g:et&&e.availableHeight)}return d}function buildLayoutBoxes(s){const e=wrapBoxes(s),d=sortByWeight(e.filter(tt=>tt.box.fullSize),!0),h=sortByWeight(filterByPosition(e,"left"),!0),g=sortByWeight(filterByPosition(e,"right")),_=sortByWeight(filterByPosition(e,"top"),!0),j=sortByWeight(filterByPosition(e,"bottom")),$=filterDynamicPositionByAxis(e,"x"),et=filterDynamicPositionByAxis(e,"y");return{fullSize:d,leftAndTop:h.concat(_),rightAndBottom:g.concat(et).concat(j).concat($),chartArea:filterByPosition(e,"chartArea"),vertical:h.concat(g).concat(et),horizontal:_.concat(j).concat($)}}function getCombinedMax(s,e,d,h){return Math.max(s[d],e[d])+Math.max(s[h],e[h])}function updateMaxPadding(s,e){s.top=Math.max(s.top,e.top),s.left=Math.max(s.left,e.left),s.bottom=Math.max(s.bottom,e.bottom),s.right=Math.max(s.right,e.right)}function updateDims(s,e,d,h){const{pos:g,box:_}=d,j=s.maxPadding;if(!isObject(g)){d.size&&(s[g]-=d.size);const rt=h[d.stack]||{size:0,count:1};rt.size=Math.max(rt.size,d.horizontal?_.height:_.width),d.size=rt.size/rt.count,s[g]+=d.size}_.getPadding&&updateMaxPadding(j,_.getPadding());const $=Math.max(0,e.outerWidth-getCombinedMax(j,s,"left","right")),et=Math.max(0,e.outerHeight-getCombinedMax(j,s,"top","bottom")),tt=$!==s.w,nt=et!==s.h;return s.w=$,s.h=et,d.horizontal?{same:tt,other:nt}:{same:nt,other:tt}}function handleMaxPadding(s){const e=s.maxPadding;function d(h){const g=Math.max(e[h]-s[h],0);return s[h]+=g,g}s.y+=d("top"),s.x+=d("left"),d("right"),d("bottom")}function getMargins(s,e){const d=e.maxPadding;function h(g){const _={left:0,top:0,right:0,bottom:0};return g.forEach(j=>{_[j]=Math.max(e[j],d[j])}),_}return h(s?["left","right"]:["top","bottom"])}function fitBoxes(s,e,d,h){const g=[];let _,j,$,et,tt,nt;for(_=0,j=s.length,tt=0;_<j;++_){$=s[_],et=$.box,et.update($.width||e.w,$.height||e.h,getMargins($.horizontal,e));const{same:rt,other:it}=updateDims(e,d,$,h);tt|=rt&&g.length,nt=nt||it,et.fullSize||g.push($)}return tt&&fitBoxes(g,e,d,h)||nt}function setBoxDims(s,e,d,h,g){s.top=d,s.left=e,s.right=e+h,s.bottom=d+g,s.width=h,s.height=g}function placeBoxes(s,e,d,h){const g=d.padding;let{x:_,y:j}=e;for(const $ of s){const et=$.box,tt=h[$.stack]||{count:1,placed:0,weight:1},nt=$.stackWeight/tt.weight||1;if($.horizontal){const rt=e.w*nt,it=tt.size||et.height;defined(tt.start)&&(j=tt.start),et.fullSize?setBoxDims(et,g.left,j,d.outerWidth-g.right-g.left,it):setBoxDims(et,e.left+tt.placed,j,rt,it),tt.start=j,tt.placed+=rt,j=et.bottom}else{const rt=e.h*nt,it=tt.size||et.width;defined(tt.start)&&(_=tt.start),et.fullSize?setBoxDims(et,_,g.top,it,d.outerHeight-g.bottom-g.top):setBoxDims(et,_,e.top+tt.placed,it,rt),tt.start=_,tt.placed+=rt,_=et.right}}e.x=_,e.y=j}var layouts={addBox(s,e){s.boxes||(s.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(d){e.draw(d)}}]},s.boxes.push(e)},removeBox(s,e){const d=s.boxes?s.boxes.indexOf(e):-1;d!==-1&&s.boxes.splice(d,1)},configure(s,e,d){e.fullSize=d.fullSize,e.position=d.position,e.weight=d.weight},update(s,e,d,h){if(!s)return;const g=toPadding(s.options.layout.padding),_=Math.max(e-g.width,0),j=Math.max(d-g.height,0),$=buildLayoutBoxes(s.boxes),et=$.vertical,tt=$.horizontal;each(s.boxes,lt=>{typeof lt.beforeLayout=="function"&&lt.beforeLayout()});const nt=et.reduce((lt,dt)=>dt.box.options&&dt.box.options.display===!1?lt:lt+1,0)||1,rt=Object.freeze({outerWidth:e,outerHeight:d,padding:g,availableWidth:_,availableHeight:j,vBoxMaxWidth:_/2/nt,hBoxMaxHeight:j/2}),it=Object.assign({},g);updateMaxPadding(it,toPadding(h));const st=Object.assign({maxPadding:it,w:_,h:j,x:g.left,y:g.top},g),ot=setLayoutDims(et.concat(tt),rt);fitBoxes($.fullSize,st,rt,ot),fitBoxes(et,st,rt,ot),fitBoxes(tt,st,rt,ot)&&fitBoxes(et,st,rt,ot),handleMaxPadding(st),placeBoxes($.leftAndTop,st,rt,ot),st.x+=st.w,st.y+=st.h,placeBoxes($.rightAndBottom,st,rt,ot),s.chartArea={left:st.left,top:st.top,right:st.left+st.w,bottom:st.top+st.h,height:st.h,width:st.w},each($.chartArea,lt=>{const dt=lt.box;Object.assign(dt,s.chartArea),dt.update(st.w,st.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(e,d){}releaseContext(e){return!1}addEventListener(e,d,h){}removeEventListener(e,d,h){}getDevicePixelRatio(){return 1}getMaximumSize(e,d,h,g){return d=Math.max(0,d||e.width),h=h||e.height,{width:d,height:Math.max(0,g?Math.floor(d/g):h)}}isAttached(e){return!0}updateConfig(e){}}class BasicPlatform extends BasePlatform{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=s=>s===null||s==="";function initCanvas(s,e){const d=s.style,h=s.getAttribute("height"),g=s.getAttribute("width");if(s[EXPANDO_KEY]={initial:{height:h,width:g,style:{display:d.display,height:d.height,width:d.width}}},d.display=d.display||"block",d.boxSizing=d.boxSizing||"border-box",isNullOrEmpty(g)){const _=readUsedSize(s,"width");_!==void 0&&(s.width=_)}if(isNullOrEmpty(h))if(s.style.height==="")s.height=s.width/(e||2);else{const _=readUsedSize(s,"height");_!==void 0&&(s.height=_)}return s}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(s,e,d){s&&s.addEventListener(e,d,eventListenerOptions)}function removeListener(s,e,d){s&&s.canvas&&s.canvas.removeEventListener(e,d,eventListenerOptions)}function fromNativeEvent(s,e){const d=EVENT_TYPES[s.type]||s.type,{x:h,y:g}=getRelativePosition(s,e);return{type:d,chart:e,native:s,x:h!==void 0?h:null,y:g!==void 0?g:null}}function nodeListContains(s,e){for(const d of s)if(d===e||d.contains(e))return!0}function createAttachObserver(s,e,d){const h=s.canvas,g=new MutationObserver(_=>{let j=!1;for(const $ of _)j=j||nodeListContains($.addedNodes,h),j=j&&!nodeListContains($.removedNodes,h);j&&d()});return g.observe(document,{childList:!0,subtree:!0}),g}function createDetachObserver(s,e,d){const h=s.canvas,g=new MutationObserver(_=>{let j=!1;for(const $ of _)j=j||nodeListContains($.removedNodes,h),j=j&&!nodeListContains($.addedNodes,h);j&&d()});return g.observe(document,{childList:!0,subtree:!0}),g}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const s=window.devicePixelRatio;s!==oldDevicePixelRatio&&(oldDevicePixelRatio=s,drpListeningCharts.forEach((e,d)=>{d.currentDevicePixelRatio!==s&&e()}))}function listenDevicePixelRatioChanges(s,e){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(s,e)}function unlistenDevicePixelRatioChanges(s){drpListeningCharts.delete(s),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(s,e,d){const h=s.canvas,g=h&&_getParentNode(h);if(!g)return;const _=throttled(($,et)=>{const tt=g.clientWidth;d($,et),tt<g.clientWidth&&d()},window),j=new ResizeObserver($=>{const et=$[0],tt=et.contentRect.width,nt=et.contentRect.height;tt===0&&nt===0||_(tt,nt)});return j.observe(g),listenDevicePixelRatioChanges(s,_),j}function releaseObserver(s,e,d){d&&d.disconnect(),e==="resize"&&unlistenDevicePixelRatioChanges(s)}function createProxyAndListen(s,e,d){const h=s.canvas,g=throttled(_=>{s.ctx!==null&&d(fromNativeEvent(_,s))},s);return addListener(h,e,g),g}class DomPlatform extends BasePlatform{acquireContext(e,d){const h=e&&e.getContext&&e.getContext("2d");return h&&h.canvas===e?(initCanvas(e,d),h):null}releaseContext(e){const d=e.canvas;if(!d[EXPANDO_KEY])return!1;const h=d[EXPANDO_KEY].initial;["height","width"].forEach(_=>{const j=h[_];isNullOrUndef(j)?d.removeAttribute(_):d.setAttribute(_,j)});const g=h.style||{};return Object.keys(g).forEach(_=>{d.style[_]=g[_]}),d.width=d.width,delete d[EXPANDO_KEY],!0}addEventListener(e,d,h){this.removeEventListener(e,d);const g=e.$proxies||(e.$proxies={}),j={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[d]||createProxyAndListen;g[d]=j(e,d,h)}removeEventListener(e,d){const h=e.$proxies||(e.$proxies={}),g=h[d];if(!g)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[d]||removeListener)(e,d,g),h[d]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,d,h,g){return getMaximumSize(e,d,h,g)}isAttached(e){const d=e&&_getParentNode(e);return!!(d&&d.isConnected)}}function _detectPlatform(s){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?BasicPlatform:DomPlatform}var Vo;let Element$1=(Vo=class{constructor(){lr(this,"x");lr(this,"y");lr(this,"active",!1);lr(this,"options");lr(this,"$animations")}tooltipPosition(e){const{x:d,y:h}=this.getProps(["x","y"],e);return{x:d,y:h}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(e,d){const h=this.$animations;if(!d||!h)return this;const g={};return e.forEach(_=>{g[_]=h[_]&&h[_].active()?h[_]._to:this[_]}),g}},lr(Vo,"defaults",{}),lr(Vo,"defaultRoutes"),Vo);function autoSkip(s,e){const d=s.options.ticks,h=determineMaxTicks(s),g=Math.min(d.maxTicksLimit||h,h),_=d.major.enabled?getMajorIndices(e):[],j=_.length,$=_[0],et=_[j-1],tt=[];if(j>g)return skipMajors(e,tt,_,j/g),tt;const nt=calculateSpacing(_,e,g);if(j>0){let rt,it;const st=j>1?Math.round((et-$)/(j-1)):null;for(skip(e,tt,nt,isNullOrUndef(st)?0:$-st,$),rt=0,it=j-1;rt<it;rt++)skip(e,tt,nt,_[rt],_[rt+1]);return skip(e,tt,nt,et,isNullOrUndef(st)?e.length:et+st),tt}return skip(e,tt,nt),tt}function determineMaxTicks(s){const e=s.options.offset,d=s._tickSize(),h=s._length/d+(e?0:1),g=s._maxLength/d;return Math.floor(Math.min(h,g))}function calculateSpacing(s,e,d){const h=getEvenSpacing(s),g=e.length/d;if(!h)return Math.max(g,1);const _=_factorize(h);for(let j=0,$=_.length-1;j<$;j++){const et=_[j];if(et>g)return et}return Math.max(g,1)}function getMajorIndices(s){const e=[];let d,h;for(d=0,h=s.length;d<h;d++)s[d].major&&e.push(d);return e}function skipMajors(s,e,d,h){let g=0,_=d[0],j;for(h=Math.ceil(h),j=0;j<s.length;j++)j===_&&(e.push(s[j]),g++,_=d[g*h])}function skip(s,e,d,h,g){const _=valueOrDefault(h,0),j=Math.min(valueOrDefault(g,s.length),s.length);let $=0,et,tt,nt;for(d=Math.ceil(d),g&&(et=g-h,d=et/Math.floor(et/d)),nt=_;nt<0;)$++,nt=Math.round(_+$*d);for(tt=Math.max(_,0);tt<j;tt++)tt===nt&&(e.push(s[tt]),$++,nt=Math.round(_+$*d))}function getEvenSpacing(s){const e=s.length;let d,h;if(e<2)return!1;for(h=s[0],d=1;d<e;++d)if(s[d]-s[d-1]!==h)return!1;return h}const reverseAlign=s=>s==="left"?"right":s==="right"?"left":s,offsetFromEdge=(s,e,d)=>e==="top"||e==="left"?s[e]+d:s[e]-d,getTicksLimit=(s,e)=>Math.min(e||s,s);function sample(s,e){const d=[],h=s.length/e,g=s.length;let _=0;for(;_<g;_+=h)d.push(s[Math.floor(_)]);return d}function getPixelForGridLine(s,e,d){const h=s.ticks.length,g=Math.min(e,h-1),_=s._startPixel,j=s._endPixel,$=1e-6;let et=s.getPixelForTick(g),tt;if(!(d&&(h===1?tt=Math.max(et-_,j-et):e===0?tt=(s.getPixelForTick(1)-et)/2:tt=(et-s.getPixelForTick(g-1))/2,et+=g<e?tt:-tt,et<_-$||et>j+$)))return et}function garbageCollect(s,e){each(s,d=>{const h=d.gc,g=h.length/2;let _;if(g>e){for(_=0;_<g;++_)delete d.data[h[_]];h.splice(0,g)}})}function getTickMarkLength(s){return s.drawTicks?s.tickLength:0}function getTitleHeight(s,e){if(!s.display)return 0;const d=toFont(s.font,e),h=toPadding(s.padding);return(isArray(s.text)?s.text.length:1)*d.lineHeight+h.height}function createScaleContext(s,e){return createContext(s,{scale:e,type:"scale"})}function createTickContext(s,e,d){return createContext(s,{tick:d,index:e,type:"tick"})}function titleAlign(s,e,d){let h=_toLeftRightCenter(s);return(d&&e!=="right"||!d&&e==="right")&&(h=reverseAlign(h)),h}function titleArgs(s,e,d,h){const{top:g,left:_,bottom:j,right:$,chart:et}=s,{chartArea:tt,scales:nt}=et;let rt=0,it,st,ot;const lt=j-g,dt=$-_;if(s.isHorizontal()){if(st=_alignStartEnd(h,_,$),isObject(d)){const at=Object.keys(d)[0],ut=d[at];ot=nt[at].getPixelForValue(ut)+lt-e}else d==="center"?ot=(tt.bottom+tt.top)/2+lt-e:ot=offsetFromEdge(s,d,e);it=$-_}else{if(isObject(d)){const at=Object.keys(d)[0],ut=d[at];st=nt[at].getPixelForValue(ut)-dt+e}else d==="center"?st=(tt.left+tt.right)/2-dt+e:st=offsetFromEdge(s,d,e);ot=_alignStartEnd(h,j,g),rt=d==="left"?-HALF_PI:HALF_PI}return{titleX:st,titleY:ot,maxWidth:it,rotation:rt}}class Scale extends Element$1{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,d){return e}getUserBounds(){let{_userMin:e,_userMax:d,_suggestedMin:h,_suggestedMax:g}=this;return e=finiteOrDefault(e,Number.POSITIVE_INFINITY),d=finiteOrDefault(d,Number.NEGATIVE_INFINITY),h=finiteOrDefault(h,Number.POSITIVE_INFINITY),g=finiteOrDefault(g,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(e,h),max:finiteOrDefault(d,g),minDefined:isNumberFinite(e),maxDefined:isNumberFinite(d)}}getMinMax(e){let{min:d,max:h,minDefined:g,maxDefined:_}=this.getUserBounds(),j;if(g&&_)return{min:d,max:h};const $=this.getMatchingVisibleMetas();for(let et=0,tt=$.length;et<tt;++et)j=$[et].controller.getMinMax(this,e),g||(d=Math.min(d,j.min)),_||(h=Math.max(h,j.max));return d=_&&d>h?h:d,h=g&&d>h?d:h,{min:finiteOrDefault(d,finiteOrDefault(h,d)),max:finiteOrDefault(h,finiteOrDefault(d,h))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(e,d,h){const{beginAtZero:g,grace:_,ticks:j}=this.options,$=j.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=d,this._margins=h=Object.assign({left:0,right:0,top:0,bottom:0},h),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+h.left+h.right:this.height+h.top+h.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,_,g),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const et=$<this.ticks.length;this._convertTicksToLabels(et?sample(this.ticks,$):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),j.display&&(j.autoSkip||j.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),et&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,d,h;this.isHorizontal()?(d=this.left,h=this.right):(d=this.top,h=this.bottom,e=!e),this._startPixel=d,this._endPixel=h,this._reversePixels=e,this._length=h-d,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),callback(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const d=this.options.ticks;let h,g,_;for(h=0,g=e.length;h<g;h++)_=e[h],_.label=callback(d.callback,[_.value,h,e],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,d=e.ticks,h=getTicksLimit(this.ticks.length,e.ticks.maxTicksLimit),g=d.minRotation||0,_=d.maxRotation;let j=g,$,et,tt;if(!this._isVisible()||!d.display||g>=_||h<=1||!this.isHorizontal()){this.labelRotation=g;return}const nt=this._getLabelSizes(),rt=nt.widest.width,it=nt.highest.height,st=_limitValue(this.chart.width-rt,0,this.maxWidth);$=e.offset?this.maxWidth/h:st/(h-1),rt+6>$&&($=st/(h-(e.offset?.5:1)),et=this.maxHeight-getTickMarkLength(e.grid)-d.padding-getTitleHeight(e.title,this.chart.options.font),tt=Math.sqrt(rt*rt+it*it),j=toDegrees(Math.min(Math.asin(_limitValue((nt.highest.height+6)/$,-1,1)),Math.asin(_limitValue(et/tt,-1,1))-Math.asin(_limitValue(it/tt,-1,1)))),j=Math.max(g,Math.min(_,j))),this.labelRotation=j}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:d,options:{ticks:h,title:g,grid:_}}=this,j=this._isVisible(),$=this.isHorizontal();if(j){const et=getTitleHeight(g,d.options.font);if($?(e.width=this.maxWidth,e.height=getTickMarkLength(_)+et):(e.height=this.maxHeight,e.width=getTickMarkLength(_)+et),h.display&&this.ticks.length){const{first:tt,last:nt,widest:rt,highest:it}=this._getLabelSizes(),st=h.padding*2,ot=toRadians(this.labelRotation),lt=Math.cos(ot),dt=Math.sin(ot);if($){const at=h.mirror?0:dt*rt.width+lt*it.height;e.height=Math.min(this.maxHeight,e.height+at+st)}else{const at=h.mirror?0:lt*rt.width+dt*it.height;e.width=Math.min(this.maxWidth,e.width+at+st)}this._calculatePadding(tt,nt,dt,lt)}}this._handleMargins(),$?(this.width=this._length=d.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=d.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,d,h,g){const{ticks:{align:_,padding:j},position:$}=this.options,et=this.labelRotation!==0,tt=$!=="top"&&this.axis==="x";if(this.isHorizontal()){const nt=this.getPixelForTick(0)-this.left,rt=this.right-this.getPixelForTick(this.ticks.length-1);let it=0,st=0;et?tt?(it=g*e.width,st=h*d.height):(it=h*e.height,st=g*d.width):_==="start"?st=d.width:_==="end"?it=e.width:_!=="inner"&&(it=e.width/2,st=d.width/2),this.paddingLeft=Math.max((it-nt+j)*this.width/(this.width-nt),0),this.paddingRight=Math.max((st-rt+j)*this.width/(this.width-rt),0)}else{let nt=d.height/2,rt=e.height/2;_==="start"?(nt=0,rt=e.height):_==="end"&&(nt=d.height,rt=0),this.paddingTop=nt+j,this.paddingBottom=rt+j}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:d}=this.options;return d==="top"||d==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let d,h;for(d=0,h=e.length;d<h;d++)isNullOrUndef(e[d].label)&&(e.splice(d,1),h--,d--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const d=this.options.ticks.sampleSize;let h=this.ticks;d<h.length&&(h=sample(h,d)),this._labelSizes=e=this._computeLabelSizes(h,h.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,d,h){const{ctx:g,_longestTextCache:_}=this,j=[],$=[],et=Math.floor(d/getTicksLimit(d,h));let tt=0,nt=0,rt,it,st,ot,lt,dt,at,ut,pt,vt,ht;for(rt=0;rt<d;rt+=et){if(ot=e[rt].label,lt=this._resolveTickFontOptions(rt),g.font=dt=lt.string,at=_[dt]=_[dt]||{data:{},gc:[]},ut=lt.lineHeight,pt=vt=0,!isNullOrUndef(ot)&&!isArray(ot))pt=_measureText(g,at.data,at.gc,pt,ot),vt=ut;else if(isArray(ot))for(it=0,st=ot.length;it<st;++it)ht=ot[it],!isNullOrUndef(ht)&&!isArray(ht)&&(pt=_measureText(g,at.data,at.gc,pt,ht),vt+=ut);j.push(pt),$.push(vt),tt=Math.max(pt,tt),nt=Math.max(vt,nt)}garbageCollect(_,d);const yt=j.indexOf(tt),gt=$.indexOf(nt),ft=_t=>({width:j[_t]||0,height:$[_t]||0});return{first:ft(0),last:ft(d-1),widest:ft(yt),highest:ft(gt),widths:j,heights:$}}getLabelForValue(e){return e}getPixelForValue(e,d){return NaN}getValueForPixel(e){}getPixelForTick(e){const d=this.ticks;return e<0||e>d.length-1?null:this.getPixelForValue(d[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const d=this._startPixel+e*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,d,0):d)}getDecimalForPixel(e){const d=(e-this._startPixel)/this._length;return this._reversePixels?1-d:d}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:d}=this;return e<0&&d<0?d:e>0&&d>0?e:0}getContext(e){const d=this.ticks||[];if(e>=0&&e<d.length){const h=d[e];return h.$context||(h.$context=createTickContext(this.getContext(),e,h))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,d=toRadians(this.labelRotation),h=Math.abs(Math.cos(d)),g=Math.abs(Math.sin(d)),_=this._getLabelSizes(),j=e.autoSkipPadding||0,$=_?_.widest.width+j:0,et=_?_.highest.height+j:0;return this.isHorizontal()?et*h>$*g?$/h:et/g:et*g<$*h?et/h:$/g}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const d=this.axis,h=this.chart,g=this.options,{grid:_,position:j,border:$}=g,et=_.offset,tt=this.isHorizontal(),rt=this.ticks.length+(et?1:0),it=getTickMarkLength(_),st=[],ot=$.setContext(this.getContext()),lt=ot.display?ot.width:0,dt=lt/2,at=function(Bt){return _alignPixel(h,Bt,lt)};let ut,pt,vt,ht,yt,gt,ft,_t,Et,mt,xt,St;if(j==="top")ut=at(this.bottom),gt=this.bottom-it,_t=ut-dt,mt=at(e.top)+dt,St=e.bottom;else if(j==="bottom")ut=at(this.top),mt=e.top,St=at(e.bottom)-dt,gt=ut+dt,_t=this.top+it;else if(j==="left")ut=at(this.right),yt=this.right-it,ft=ut-dt,Et=at(e.left)+dt,xt=e.right;else if(j==="right")ut=at(this.left),Et=e.left,xt=at(e.right)-dt,yt=ut+dt,ft=this.left+it;else if(d==="x"){if(j==="center")ut=at((e.top+e.bottom)/2+.5);else if(isObject(j)){const Bt=Object.keys(j)[0],$t=j[Bt];ut=at(this.chart.scales[Bt].getPixelForValue($t))}mt=e.top,St=e.bottom,gt=ut+dt,_t=gt+it}else if(d==="y"){if(j==="center")ut=at((e.left+e.right)/2);else if(isObject(j)){const Bt=Object.keys(j)[0],$t=j[Bt];ut=at(this.chart.scales[Bt].getPixelForValue($t))}yt=ut-dt,ft=yt-it,Et=e.left,xt=e.right}const Ut=valueOrDefault(g.ticks.maxTicksLimit,rt),kt=Math.max(1,Math.ceil(rt/Ut));for(pt=0;pt<rt;pt+=kt){const Bt=this.getContext(pt),$t=_.setContext(Bt),Gt=$.setContext(Bt),Ft=$t.lineWidth,Wt=$t.color,tn=Gt.dash||[],Lt=Gt.dashOffset,Rt=$t.tickWidth,It=$t.tickColor,Mt=$t.tickBorderDash||[],Ht=$t.tickBorderDashOffset;vt=getPixelForGridLine(this,pt,et),vt!==void 0&&(ht=_alignPixel(h,vt,Ft),tt?yt=ft=Et=xt=ht:gt=_t=mt=St=ht,st.push({tx1:yt,ty1:gt,tx2:ft,ty2:_t,x1:Et,y1:mt,x2:xt,y2:St,width:Ft,color:Wt,borderDash:tn,borderDashOffset:Lt,tickWidth:Rt,tickColor:It,tickBorderDash:Mt,tickBorderDashOffset:Ht}))}return this._ticksLength=rt,this._borderValue=ut,st}_computeLabelItems(e){const d=this.axis,h=this.options,{position:g,ticks:_}=h,j=this.isHorizontal(),$=this.ticks,{align:et,crossAlign:tt,padding:nt,mirror:rt}=_,it=getTickMarkLength(h.grid),st=it+nt,ot=rt?-nt:st,lt=-toRadians(this.labelRotation),dt=[];let at,ut,pt,vt,ht,yt,gt,ft,_t,Et,mt,xt,St="middle";if(g==="top")yt=this.bottom-ot,gt=this._getXAxisLabelAlignment();else if(g==="bottom")yt=this.top+ot,gt=this._getXAxisLabelAlignment();else if(g==="left"){const kt=this._getYAxisLabelAlignment(it);gt=kt.textAlign,ht=kt.x}else if(g==="right"){const kt=this._getYAxisLabelAlignment(it);gt=kt.textAlign,ht=kt.x}else if(d==="x"){if(g==="center")yt=(e.top+e.bottom)/2+st;else if(isObject(g)){const kt=Object.keys(g)[0],Bt=g[kt];yt=this.chart.scales[kt].getPixelForValue(Bt)+st}gt=this._getXAxisLabelAlignment()}else if(d==="y"){if(g==="center")ht=(e.left+e.right)/2-st;else if(isObject(g)){const kt=Object.keys(g)[0],Bt=g[kt];ht=this.chart.scales[kt].getPixelForValue(Bt)}gt=this._getYAxisLabelAlignment(it).textAlign}d==="y"&&(et==="start"?St="top":et==="end"&&(St="bottom"));const Ut=this._getLabelSizes();for(at=0,ut=$.length;at<ut;++at){pt=$[at],vt=pt.label;const kt=_.setContext(this.getContext(at));ft=this.getPixelForTick(at)+_.labelOffset,_t=this._resolveTickFontOptions(at),Et=_t.lineHeight,mt=isArray(vt)?vt.length:1;const Bt=mt/2,$t=kt.color,Gt=kt.textStrokeColor,Ft=kt.textStrokeWidth;let Wt=gt;j?(ht=ft,gt==="inner"&&(at===ut-1?Wt=this.options.reverse?"left":"right":at===0?Wt=this.options.reverse?"right":"left":Wt="center"),g==="top"?tt==="near"||lt!==0?xt=-mt*Et+Et/2:tt==="center"?xt=-Ut.highest.height/2-Bt*Et+Et:xt=-Ut.highest.height+Et/2:tt==="near"||lt!==0?xt=Et/2:tt==="center"?xt=Ut.highest.height/2-Bt*Et:xt=Ut.highest.height-mt*Et,rt&&(xt*=-1),lt!==0&&!kt.showLabelBackdrop&&(ht+=Et/2*Math.sin(lt))):(yt=ft,xt=(1-mt)*Et/2);let tn;if(kt.showLabelBackdrop){const Lt=toPadding(kt.backdropPadding),Rt=Ut.heights[at],It=Ut.widths[at];let Mt=xt-Lt.top,Ht=0-Lt.left;switch(St){case"middle":Mt-=Rt/2;break;case"bottom":Mt-=Rt;break}switch(gt){case"center":Ht-=It/2;break;case"right":Ht-=It;break;case"inner":at===ut-1?Ht-=It:at>0&&(Ht-=It/2);break}tn={left:Ht,top:Mt,width:It+Lt.width,height:Rt+Lt.height,color:kt.backdropColor}}dt.push({label:vt,font:_t,textOffset:xt,options:{rotation:lt,color:$t,strokeColor:Gt,strokeWidth:Ft,textAlign:Wt,textBaseline:St,translation:[ht,yt],backdrop:tn}})}return dt}_getXAxisLabelAlignment(){const{position:e,ticks:d}=this.options;if(-toRadians(this.labelRotation))return e==="top"?"left":"right";let g="center";return d.align==="start"?g="left":d.align==="end"?g="right":d.align==="inner"&&(g="inner"),g}_getYAxisLabelAlignment(e){const{position:d,ticks:{crossAlign:h,mirror:g,padding:_}}=this.options,j=this._getLabelSizes(),$=e+_,et=j.widest.width;let tt,nt;return d==="left"?g?(nt=this.right+_,h==="near"?tt="left":h==="center"?(tt="center",nt+=et/2):(tt="right",nt+=et)):(nt=this.right-$,h==="near"?tt="right":h==="center"?(tt="center",nt-=et/2):(tt="left",nt=this.left)):d==="right"?g?(nt=this.left+_,h==="near"?tt="right":h==="center"?(tt="center",nt-=et/2):(tt="left",nt-=et)):(nt=this.left+$,h==="near"?tt="left":h==="center"?(tt="center",nt+=et/2):(tt="right",nt=this.right)):tt="right",{textAlign:tt,x:nt}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,d=this.options.position;if(d==="left"||d==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(d==="top"||d==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:d},left:h,top:g,width:_,height:j}=this;d&&(e.save(),e.fillStyle=d,e.fillRect(h,g,_,j),e.restore())}getLineWidthForValue(e){const d=this.options.grid;if(!this._isVisible()||!d.display)return 0;const g=this.ticks.findIndex(_=>_.value===e);return g>=0?d.setContext(this.getContext(g)).lineWidth:0}drawGrid(e){const d=this.options.grid,h=this.ctx,g=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let _,j;const $=(et,tt,nt)=>{!nt.width||!nt.color||(h.save(),h.lineWidth=nt.width,h.strokeStyle=nt.color,h.setLineDash(nt.borderDash||[]),h.lineDashOffset=nt.borderDashOffset,h.beginPath(),h.moveTo(et.x,et.y),h.lineTo(tt.x,tt.y),h.stroke(),h.restore())};if(d.display)for(_=0,j=g.length;_<j;++_){const et=g[_];d.drawOnChartArea&&$({x:et.x1,y:et.y1},{x:et.x2,y:et.y2},et),d.drawTicks&&$({x:et.tx1,y:et.ty1},{x:et.tx2,y:et.ty2},{color:et.tickColor,width:et.tickWidth,borderDash:et.tickBorderDash,borderDashOffset:et.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:d,options:{border:h,grid:g}}=this,_=h.setContext(this.getContext()),j=h.display?_.width:0;if(!j)return;const $=g.setContext(this.getContext(0)).lineWidth,et=this._borderValue;let tt,nt,rt,it;this.isHorizontal()?(tt=_alignPixel(e,this.left,j)-j/2,nt=_alignPixel(e,this.right,$)+$/2,rt=it=et):(rt=_alignPixel(e,this.top,j)-j/2,it=_alignPixel(e,this.bottom,$)+$/2,tt=nt=et),d.save(),d.lineWidth=_.width,d.strokeStyle=_.color,d.beginPath(),d.moveTo(tt,rt),d.lineTo(nt,it),d.stroke(),d.restore()}drawLabels(e){if(!this.options.ticks.display)return;const h=this.ctx,g=this._computeLabelArea();g&&clipArea(h,g);const _=this.getLabelItems(e);for(const j of _){const $=j.options,et=j.font,tt=j.label,nt=j.textOffset;renderText(h,tt,0,nt,et,$)}g&&unclipArea(h)}drawTitle(){const{ctx:e,options:{position:d,title:h,reverse:g}}=this;if(!h.display)return;const _=toFont(h.font),j=toPadding(h.padding),$=h.align;let et=_.lineHeight/2;d==="bottom"||d==="center"||isObject(d)?(et+=j.bottom,isArray(h.text)&&(et+=_.lineHeight*(h.text.length-1))):et+=j.top;const{titleX:tt,titleY:nt,maxWidth:rt,rotation:it}=titleArgs(this,et,d,$);renderText(e,h.text,0,0,_,{color:h.color,maxWidth:rt,rotation:it,textAlign:titleAlign($,d,g),textBaseline:"middle",translation:[tt,nt]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,d=e.ticks&&e.ticks.z||0,h=valueOrDefault(e.grid&&e.grid.z,-1),g=valueOrDefault(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:d,draw:_=>{this.draw(_)}}]:[{z:h,draw:_=>{this.drawBackground(),this.drawGrid(_),this.drawTitle()}},{z:g,draw:()=>{this.drawBorder()}},{z:d,draw:_=>{this.drawLabels(_)}}]}getMatchingVisibleMetas(e){const d=this.chart.getSortedVisibleDatasetMetas(),h=this.axis+"AxisID",g=[];let _,j;for(_=0,j=d.length;_<j;++_){const $=d[_];$[h]===this.id&&(!e||$.type===e)&&g.push($)}return g}_resolveTickFontOptions(e){const d=this.options.ticks.setContext(this.getContext(e));return toFont(d.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class TypedRegistry{constructor(e,d,h){this.type=e,this.scope=d,this.override=h,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const d=Object.getPrototypeOf(e);let h;isIChartComponent(d)&&(h=this.register(d));const g=this.items,_=e.id,j=this.scope+"."+_;if(!_)throw new Error("class does not have id: "+e);return _ in g||(g[_]=e,registerDefaults(e,j,h),this.override&&defaults.override(e.id,e.overrides)),j}get(e){return this.items[e]}unregister(e){const d=this.items,h=e.id,g=this.scope;h in d&&delete d[h],g&&h in defaults[g]&&(delete defaults[g][h],this.override&&delete overrides[h])}}function registerDefaults(s,e,d){const h=merge(Object.create(null),[d?defaults.get(d):{},defaults.get(e),s.defaults]);defaults.set(e,h),s.defaultRoutes&&routeDefaults(e,s.defaultRoutes),s.descriptors&&defaults.describe(e,s.descriptors)}function routeDefaults(s,e){Object.keys(e).forEach(d=>{const h=d.split("."),g=h.pop(),_=[s].concat(h).join("."),j=e[d].split("."),$=j.pop(),et=j.join(".");defaults.route(_,g,et,$)})}function isIChartComponent(s){return"id"in s&&"defaults"in s}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,d,h){[...d].forEach(g=>{const _=h||this._getRegistryForType(g);h||_.isForType(g)||_===this.plugins&&g.id?this._exec(e,_,g):each(g,j=>{const $=h||this._getRegistryForType(j);this._exec(e,$,j)})})}_exec(e,d,h){const g=_capitalize(e);callback(h["before"+g],[],h),d[e](h),callback(h["after"+g],[],h)}_getRegistryForType(e){for(let d=0;d<this._typedRegistries.length;d++){const h=this._typedRegistries[d];if(h.isForType(e))return h}return this.plugins}_get(e,d,h){const g=d.get(e);if(g===void 0)throw new Error('"'+e+'" is not a registered '+h+".");return g}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(e,d,h,g){d==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const _=g?this._descriptors(e).filter(g):this._descriptors(e),j=this._notify(_,e,d,h);return d==="afterDestroy"&&(this._notify(_,e,"stop"),this._notify(this._init,e,"uninstall")),j}_notify(e,d,h,g){g=g||{};for(const _ of e){const j=_.plugin,$=j[h],et=[d,g,_.options];if(callback($,et,j)===!1&&g.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const d=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),d}_createDescriptors(e,d){const h=e&&e.config,g=valueOrDefault(h.options&&h.options.plugins,{}),_=allPlugins(h);return g===!1&&!d?[]:createDescriptors(e,_,g,d)}_notifyStateChanges(e){const d=this._oldCache||[],h=this._cache,g=(_,j)=>_.filter($=>!j.some(et=>$.plugin.id===et.plugin.id));this._notify(g(d,h),e,"stop"),this._notify(g(h,d),e,"start")}}function allPlugins(s){const e={},d=[],h=Object.keys(registry.plugins.items);for(let _=0;_<h.length;_++)d.push(registry.getPlugin(h[_]));const g=s.plugins||[];for(let _=0;_<g.length;_++){const j=g[_];d.indexOf(j)===-1&&(d.push(j),e[j.id]=!0)}return{plugins:d,localIds:e}}function getOpts(s,e){return!e&&s===!1?null:s===!0?{}:s}function createDescriptors(s,{plugins:e,localIds:d},h,g){const _=[],j=s.getContext();for(const $ of e){const et=$.id,tt=getOpts(h[et],g);tt!==null&&_.push({plugin:$,options:pluginOpts(s.config,{plugin:$,local:d[et]},tt,j)})}return _}function pluginOpts(s,{plugin:e,local:d},h,g){const _=s.pluginScopeKeys(e),j=s.getOptionScopes(h,_);return d&&e.defaults&&j.push(e.defaults),s.createResolver(j,g,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(s,e){const d=defaults.datasets[s]||{};return((e.datasets||{})[s]||{}).indexAxis||e.indexAxis||d.indexAxis||"x"}function getAxisFromDefaultScaleID(s,e){let d=s;return s==="_index_"?d=e:s==="_value_"&&(d=e==="x"?"y":"x"),d}function getDefaultScaleIDFromAxis(s,e){return s===e?"_index_":"_value_"}function idMatchesAxis(s){if(s==="x"||s==="y"||s==="r")return s}function axisFromPosition(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function determineAxis(s,...e){if(idMatchesAxis(s))return s;for(const d of e){const h=d.axis||axisFromPosition(d.position)||s.length>1&&idMatchesAxis(s[0].toLowerCase());if(h)return h}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(s,e,d){if(d[e+"AxisID"]===s)return{axis:e}}function retrieveAxisFromDatasets(s,e){if(e.data&&e.data.datasets){const d=e.data.datasets.filter(h=>h.xAxisID===s||h.yAxisID===s);if(d.length)return getAxisFromDataset(s,"x",d[0])||getAxisFromDataset(s,"y",d[0])}return{}}function mergeScaleConfig(s,e){const d=overrides[s.type]||{scales:{}},h=e.scales||{},g=getIndexAxis(s.type,e),_=Object.create(null);return Object.keys(h).forEach(j=>{const $=h[j];if(!isObject($))return console.error(`Invalid scale configuration for scale: ${j}`);if($._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${j}`);const et=determineAxis(j,$,retrieveAxisFromDatasets(j,s),defaults.scales[$.type]),tt=getDefaultScaleIDFromAxis(et,g),nt=d.scales||{};_[j]=mergeIf(Object.create(null),[{axis:et},$,nt[et],nt[tt]])}),s.data.datasets.forEach(j=>{const $=j.type||s.type,et=j.indexAxis||getIndexAxis($,e),nt=(overrides[$]||{}).scales||{};Object.keys(nt).forEach(rt=>{const it=getAxisFromDefaultScaleID(rt,et),st=j[it+"AxisID"]||it;_[st]=_[st]||Object.create(null),mergeIf(_[st],[{axis:it},h[st],nt[rt]])})}),Object.keys(_).forEach(j=>{const $=_[j];mergeIf($,[defaults.scales[$.type],defaults.scale])}),_}function initOptions(s){const e=s.options||(s.options={});e.plugins=valueOrDefault(e.plugins,{}),e.scales=mergeScaleConfig(s,e)}function initData(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function initConfig(s){return s=s||{},s.data=initData(s.data),initOptions(s),s}const keyCache=new Map,keysCached=new Set;function cachedKeys(s,e){let d=keyCache.get(s);return d||(d=e(),keyCache.set(s,d),keysCached.add(d)),d}const addIfFound=(s,e,d)=>{const h=resolveObjectKey(e,d);h!==void 0&&s.add(h)};class Config{constructor(e){this._config=initConfig(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=initData(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),initOptions(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cachedKeys(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,d){return cachedKeys(`${e}.transition.${d}`,()=>[[`datasets.${e}.transitions.${d}`,`transitions.${d}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,d){return cachedKeys(`${e}-${d}`,()=>[[`datasets.${e}.elements.${d}`,`datasets.${e}`,`elements.${d}`,""]])}pluginScopeKeys(e){const d=e.id,h=this.type;return cachedKeys(`${h}-plugin-${d}`,()=>[[`plugins.${d}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,d){const h=this._scopeCache;let g=h.get(e);return(!g||d)&&(g=new Map,h.set(e,g)),g}getOptionScopes(e,d,h){const{options:g,type:_}=this,j=this._cachedScopes(e,h),$=j.get(d);if($)return $;const et=new Set;d.forEach(nt=>{e&&(et.add(e),nt.forEach(rt=>addIfFound(et,e,rt))),nt.forEach(rt=>addIfFound(et,g,rt)),nt.forEach(rt=>addIfFound(et,overrides[_]||{},rt)),nt.forEach(rt=>addIfFound(et,defaults,rt)),nt.forEach(rt=>addIfFound(et,descriptors,rt))});const tt=Array.from(et);return tt.length===0&&tt.push(Object.create(null)),keysCached.has(d)&&j.set(d,tt),tt}chartOptionScopes(){const{options:e,type:d}=this;return[e,overrides[d]||{},defaults.datasets[d]||{},{type:d},defaults,descriptors]}resolveNamedOptions(e,d,h,g=[""]){const _={$shared:!0},{resolver:j,subPrefixes:$}=getResolver(this._resolverCache,e,g);let et=j;if(needContext(j,d)){_.$shared=!1,h=isFunction(h)?h():h;const tt=this.createResolver(e,h,$);et=_attachContext(j,h,tt)}for(const tt of d)_[tt]=et[tt];return _}createResolver(e,d,h=[""],g){const{resolver:_}=getResolver(this._resolverCache,e,h);return isObject(d)?_attachContext(_,d,void 0,g):_}}function getResolver(s,e,d){let h=s.get(e);h||(h=new Map,s.set(e,h));const g=d.join();let _=h.get(g);return _||(_={resolver:_createResolver(e,d),subPrefixes:d.filter($=>!$.toLowerCase().includes("hover"))},h.set(g,_)),_}const hasFunction=s=>isObject(s)&&Object.getOwnPropertyNames(s).some(e=>isFunction(s[e]));function needContext(s,e){const{isScriptable:d,isIndexable:h}=_descriptors(s);for(const g of e){const _=d(g),j=h(g),$=(j||_)&&s[g];if(_&&(isFunction($)||hasFunction($))||j&&isArray($))return!0}return!1}var version="4.4.6";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(s,e){return s==="top"||s==="bottom"||KNOWN_POSITIONS.indexOf(s)===-1&&e==="x"}function compare2Level(s,e){return function(d,h){return d[s]===h[s]?d[e]-h[e]:d[s]-h[s]}}function onAnimationsComplete(s){const e=s.chart,d=e.options.animation;e.notifyPlugins("afterRender"),callback(d&&d.onComplete,[s],e)}function onAnimationProgress(s){const e=s.chart,d=e.options.animation;callback(d&&d.onProgress,[s],e)}function getCanvas(s){return _isDomSupported()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const instances={},getChart=s=>{const e=getCanvas(s);return Object.values(instances).filter(d=>d.canvas===e).pop()};function moveNumericKeys(s,e,d){const h=Object.keys(s);for(const g of h){const _=+g;if(_>=e){const j=s[g];delete s[g],(d>0||_>e)&&(s[_+d]=j)}}}function determineLastEvent(s,e,d,h){return!d||s.type==="mouseout"?null:h?e:s}function getSizeForArea(s,e,d){return s.options.clip?s[d]:e[d]}function getDatasetArea(s,e){const{xScale:d,yScale:h}=s;return d&&h?{left:getSizeForArea(d,e,"left"),right:getSizeForArea(d,e,"right"),top:getSizeForArea(h,e,"top"),bottom:getSizeForArea(h,e,"bottom")}:e}var Os;let Chart$1=(Os=class{static register(...e){registry.add(...e),invalidatePlugins()}static unregister(...e){registry.remove(...e),invalidatePlugins()}constructor(e,d){const h=this.config=new Config(d),g=getCanvas(e),_=getChart(g);if(_)throw new Error("Canvas is already in use. Chart with ID '"+_.id+"' must be destroyed before the canvas with ID '"+_.canvas.id+"' can be reused.");const j=h.createResolver(h.chartOptionScopes(),this.getContext());this.platform=new(h.platform||_detectPlatform(g)),this.platform.updateConfig(h);const $=this.platform.acquireContext(g,j.aspectRatio),et=$&&$.canvas,tt=et&&et.height,nt=et&&et.width;if(this.id=uid(),this.ctx=$,this.canvas=et,this.width=nt,this.height=tt,this._options=j,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(rt=>this.update(rt),j.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!$||!et){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:d},width:h,height:g,_aspectRatio:_}=this;return isNullOrUndef(e)?d&&_?_:g?h/g:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(e,d){animator.running(this)?this._resizeBeforeDraw={width:e,height:d}:this._resize(e,d)}_resize(e,d){const h=this.options,g=this.canvas,_=h.maintainAspectRatio&&this.aspectRatio,j=this.platform.getMaximumSize(g,e,d,_),$=h.devicePixelRatio||this.platform.getDevicePixelRatio(),et=this.width?"resize":"attach";this.width=j.width,this.height=j.height,this._aspectRatio=this.aspectRatio,retinaScale(this,$,!0)&&(this.notifyPlugins("resize",{size:j}),callback(h.onResize,[this,j],this),this.attached&&this._doResize(et)&&this.render())}ensureScalesHaveIDs(){const d=this.options.scales||{};each(d,(h,g)=>{h.id=g})}buildOrUpdateScales(){const e=this.options,d=e.scales,h=this.scales,g=Object.keys(h).reduce((j,$)=>(j[$]=!1,j),{});let _=[];d&&(_=_.concat(Object.keys(d).map(j=>{const $=d[j],et=determineAxis(j,$),tt=et==="r",nt=et==="x";return{options:$,dposition:tt?"chartArea":nt?"bottom":"left",dtype:tt?"radialLinear":nt?"category":"linear"}}))),each(_,j=>{const $=j.options,et=$.id,tt=determineAxis(et,$),nt=valueOrDefault($.type,j.dtype);($.position===void 0||positionIsHorizontal($.position,tt)!==positionIsHorizontal(j.dposition))&&($.position=j.dposition),g[et]=!0;let rt=null;if(et in h&&h[et].type===nt)rt=h[et];else{const it=registry.getScale(nt);rt=new it({id:et,type:nt,ctx:this.ctx,chart:this}),h[rt.id]=rt}rt.init($,e)}),each(g,(j,$)=>{j||delete h[$]}),each(h,j=>{layouts.configure(this,j,j.options),layouts.addBox(this,j)})}_updateMetasets(){const e=this._metasets,d=this.data.datasets.length,h=e.length;if(e.sort((g,_)=>g.index-_.index),h>d){for(let g=d;g<h;++g)this._destroyDatasetMeta(g);e.splice(d,h-d)}this._sortedMetasets=e.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:d}}=this;e.length>d.length&&delete this._stacks,e.forEach((h,g)=>{d.filter(_=>_===h._dataset).length===0&&this._destroyDatasetMeta(g)})}buildOrUpdateControllers(){const e=[],d=this.data.datasets;let h,g;for(this._removeUnreferencedMetasets(),h=0,g=d.length;h<g;h++){const _=d[h];let j=this.getDatasetMeta(h);const $=_.type||this.config.type;if(j.type&&j.type!==$&&(this._destroyDatasetMeta(h),j=this.getDatasetMeta(h)),j.type=$,j.indexAxis=_.indexAxis||getIndexAxis($,this.options),j.order=_.order||0,j.index=h,j.label=""+_.label,j.visible=this.isDatasetVisible(h),j.controller)j.controller.updateIndex(h),j.controller.linkScales();else{const et=registry.getController($),{datasetElementType:tt,dataElementType:nt}=defaults.datasets[$];Object.assign(et,{dataElementType:registry.getElement(nt),datasetElementType:tt&&registry.getElement(tt)}),j.controller=new et(this,h),e.push(j.controller)}}return this._updateMetasets(),e}_resetElements(){each(this.data.datasets,(e,d)=>{this.getDatasetMeta(d).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const d=this.config;d.update();const h=this._options=d.createResolver(d.chartOptionScopes(),this.getContext()),g=this._animationsDisabled=!h.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const _=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let j=0;for(let tt=0,nt=this.data.datasets.length;tt<nt;tt++){const{controller:rt}=this.getDatasetMeta(tt),it=!g&&_.indexOf(rt)===-1;rt.buildOrUpdateElements(it),j=Math.max(+rt.getMaxOverflow(),j)}j=this._minPadding=h.layout.autoPadding?j:0,this._updateLayout(j),g||each(_,tt=>{tt.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(compare2Level("z","_idx"));const{_active:$,_lastEvent:et}=this;et?this._eventHandler(et,!0):$.length&&this._updateHoverStyles($,$,!0),this.render()}_updateScales(){each(this.scales,e=>{layouts.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,d=new Set(Object.keys(this._listeners)),h=new Set(e.events);(!setsEqual(d,h)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,d=this._getUniformDataChanges()||[];for(const{method:h,start:g,count:_}of d){const j=h==="_removeElements"?-_:_;moveNumericKeys(e,g,j)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const d=this.data.datasets.length,h=_=>new Set(e.filter(j=>j[0]===_).map((j,$)=>$+","+j.splice(1).join(","))),g=h(0);for(let _=1;_<d;_++)if(!setsEqual(g,h(_)))return;return Array.from(g).map(_=>_.split(",")).map(_=>({method:_[1],start:+_[2],count:+_[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,e);const d=this.chartArea,h=d.width<=0||d.height<=0;this._layers=[],each(this.boxes,g=>{h&&g.position==="chartArea"||(g.configure&&g.configure(),this._layers.push(...g._layers()))},this),this._layers.forEach((g,_)=>{g._idx=_}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let d=0,h=this.data.datasets.length;d<h;++d)this.getDatasetMeta(d).controller.configure();for(let d=0,h=this.data.datasets.length;d<h;++d)this._updateDataset(d,isFunction(e)?e({datasetIndex:d}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,d){const h=this.getDatasetMeta(e),g={meta:h,index:e,mode:d,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",g)!==!1&&(h.controller._update(d),g.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",g))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:h,height:g}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(h,g)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const d=this._layers;for(e=0;e<d.length&&d[e].z<=0;++e)d[e].draw(this.chartArea);for(this._drawDatasets();e<d.length;++e)d[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const d=this._sortedMetasets,h=[];let g,_;for(g=0,_=d.length;g<_;++g){const j=d[g];(!e||j.visible)&&h.push(j)}return h}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let d=e.length-1;d>=0;--d)this._drawDataset(e[d]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const d=this.ctx,h=e._clip,g=!h.disabled,_=getDatasetArea(e,this.chartArea),j={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",j)!==!1&&(g&&clipArea(d,{left:h.left===!1?0:_.left-h.left,right:h.right===!1?this.width:_.right+h.right,top:h.top===!1?0:_.top-h.top,bottom:h.bottom===!1?this.height:_.bottom+h.bottom}),e.controller.draw(),g&&unclipArea(d),j.cancelable=!1,this.notifyPlugins("afterDatasetDraw",j))}isPointInArea(e){return _isPointInArea(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,d,h,g){const _=Interaction.modes[d];return typeof _=="function"?_(this,e,h,g):[]}getDatasetMeta(e){const d=this.data.datasets[e],h=this._metasets;let g=h.filter(_=>_&&_._dataset===d).pop();return g||(g={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:d&&d.order||0,index:e,_dataset:d,_parsed:[],_sorted:!1},h.push(g)),g}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const d=this.data.datasets[e];if(!d)return!1;const h=this.getDatasetMeta(e);return typeof h.hidden=="boolean"?!h.hidden:!d.hidden}setDatasetVisibility(e,d){const h=this.getDatasetMeta(e);h.hidden=!d}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,d,h){const g=h?"show":"hide",_=this.getDatasetMeta(e),j=_.controller._resolveAnimations(void 0,g);defined(d)?(_.data[d].hidden=!h,this.update()):(this.setDatasetVisibility(e,h),j.update(_,{visible:h}),this.update($=>$.datasetIndex===e?g:void 0))}hide(e,d){this._updateVisibility(e,d,!1)}show(e,d){this._updateVisibility(e,d,!0)}_destroyDatasetMeta(e){const d=this._metasets[e];d&&d.controller&&d.controller._destroy(),delete this._metasets[e]}_stop(){let e,d;for(this.stop(),animator.remove(this),e=0,d=this.data.datasets.length;e<d;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:d}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),clearCanvas(e,d),this.platform.releaseContext(d),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,d=this.platform,h=(_,j)=>{d.addEventListener(this,_,j),e[_]=j},g=(_,j,$)=>{_.offsetX=j,_.offsetY=$,this._eventHandler(_)};each(this.options.events,_=>h(_,g))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,d=this.platform,h=(et,tt)=>{d.addEventListener(this,et,tt),e[et]=tt},g=(et,tt)=>{e[et]&&(d.removeEventListener(this,et,tt),delete e[et])},_=(et,tt)=>{this.canvas&&this.resize(et,tt)};let j;const $=()=>{g("attach",$),this.attached=!0,this.resize(),h("resize",_),h("detach",j)};j=()=>{this.attached=!1,g("resize",_),this._stop(),this._resize(0,0),h("attach",$)},d.isAttached(this.canvas)?$():j()}unbindEvents(){each(this._listeners,(e,d)=>{this.platform.removeEventListener(this,d,e)}),this._listeners={},each(this._responsiveListeners,(e,d)=>{this.platform.removeEventListener(this,d,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,d,h){const g=h?"set":"remove";let _,j,$,et;for(d==="dataset"&&(_=this.getDatasetMeta(e[0].datasetIndex),_.controller["_"+g+"DatasetHoverStyle"]()),$=0,et=e.length;$<et;++$){j=e[$];const tt=j&&this.getDatasetMeta(j.datasetIndex).controller;tt&&tt[g+"HoverStyle"](j.element,j.datasetIndex,j.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const d=this._active||[],h=e.map(({datasetIndex:_,index:j})=>{const $=this.getDatasetMeta(_);if(!$)throw new Error("No dataset found at index "+_);return{datasetIndex:_,element:$.data[j],index:j}});!_elementsEqual(h,d)&&(this._active=h,this._lastEvent=null,this._updateHoverStyles(h,d))}notifyPlugins(e,d,h){return this._plugins.notify(this,e,d,h)}isPluginEnabled(e){return this._plugins._cache.filter(d=>d.plugin.id===e).length===1}_updateHoverStyles(e,d,h){const g=this.options.hover,_=(et,tt)=>et.filter(nt=>!tt.some(rt=>nt.datasetIndex===rt.datasetIndex&&nt.index===rt.index)),j=_(d,e),$=h?e:_(e,d);j.length&&this.updateHoverStyle(j,g.mode,!1),$.length&&g.mode&&this.updateHoverStyle($,g.mode,!0)}_eventHandler(e,d){const h={event:e,replay:d,cancelable:!0,inChartArea:this.isPointInArea(e)},g=j=>(j.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",h,g)===!1)return;const _=this._handleEvent(e,d,h.inChartArea);return h.cancelable=!1,this.notifyPlugins("afterEvent",h,g),(_||h.changed)&&this.render(),this}_handleEvent(e,d,h){const{_active:g=[],options:_}=this,j=d,$=this._getActiveElements(e,g,h,j),et=_isClickEvent(e),tt=determineLastEvent(e,this._lastEvent,h,et);h&&(this._lastEvent=null,callback(_.onHover,[e,$,this],this),et&&callback(_.onClick,[e,$,this],this));const nt=!_elementsEqual($,g);return(nt||d)&&(this._active=$,this._updateHoverStyles($,g,d)),this._lastEvent=tt,nt}_getActiveElements(e,d,h,g){if(e.type==="mouseout")return[];if(!h)return d;const _=this.options.hover;return this.getElementsAtEventForMode(e,_.mode,_,g)}},lr(Os,"defaults",defaults),lr(Os,"instances",instances),lr(Os,"overrides",overrides),lr(Os,"registry",registry),lr(Os,"version",version),lr(Os,"getChart",getChart),Os);function invalidatePlugins(){return each(Chart$1.instances,s=>s._plugins.invalidate())}function clipArc(s,e,d){const{startAngle:h,pixelMargin:g,x:_,y:j,outerRadius:$,innerRadius:et}=e;let tt=g/$;s.beginPath(),s.arc(_,j,$,h-tt,d+tt),et>g?(tt=g/et,s.arc(_,j,et,d+tt,h-tt,!0)):s.arc(_,j,g,d+HALF_PI,h-HALF_PI),s.closePath(),s.clip()}function toRadiusCorners(s){return _readValueToProps(s,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(s,e,d,h){const g=toRadiusCorners(s.options.borderRadius),_=(d-e)/2,j=Math.min(_,h*e/2),$=et=>{const tt=(d-Math.min(_,et))*h/2;return _limitValue(et,0,Math.min(_,tt))};return{outerStart:$(g.outerStart),outerEnd:$(g.outerEnd),innerStart:_limitValue(g.innerStart,0,j),innerEnd:_limitValue(g.innerEnd,0,j)}}function rThetaToXY(s,e,d,h){return{x:d+s*Math.cos(e),y:h+s*Math.sin(e)}}function pathArc(s,e,d,h,g,_){const{x:j,y:$,startAngle:et,pixelMargin:tt,innerRadius:nt}=e,rt=Math.max(e.outerRadius+h+d-tt,0),it=nt>0?nt+h+d+tt:0;let st=0;const ot=g-et;if(h){const kt=nt>0?nt-h:0,Bt=rt>0?rt-h:0,$t=(kt+Bt)/2,Gt=$t!==0?ot*$t/($t+h):ot;st=(ot-Gt)/2}const lt=Math.max(.001,ot*rt-d/PI)/rt,dt=(ot-lt)/2,at=et+dt+st,ut=g-dt-st,{outerStart:pt,outerEnd:vt,innerStart:ht,innerEnd:yt}=parseBorderRadius$1(e,it,rt,ut-at),gt=rt-pt,ft=rt-vt,_t=at+pt/gt,Et=ut-vt/ft,mt=it+ht,xt=it+yt,St=at+ht/mt,Ut=ut-yt/xt;if(s.beginPath(),_){const kt=(_t+Et)/2;if(s.arc(j,$,rt,_t,kt),s.arc(j,$,rt,kt,Et),vt>0){const Ft=rThetaToXY(ft,Et,j,$);s.arc(Ft.x,Ft.y,vt,Et,ut+HALF_PI)}const Bt=rThetaToXY(xt,ut,j,$);if(s.lineTo(Bt.x,Bt.y),yt>0){const Ft=rThetaToXY(xt,Ut,j,$);s.arc(Ft.x,Ft.y,yt,ut+HALF_PI,Ut+Math.PI)}const $t=(ut-yt/it+(at+ht/it))/2;if(s.arc(j,$,it,ut-yt/it,$t,!0),s.arc(j,$,it,$t,at+ht/it,!0),ht>0){const Ft=rThetaToXY(mt,St,j,$);s.arc(Ft.x,Ft.y,ht,St+Math.PI,at-HALF_PI)}const Gt=rThetaToXY(gt,at,j,$);if(s.lineTo(Gt.x,Gt.y),pt>0){const Ft=rThetaToXY(gt,_t,j,$);s.arc(Ft.x,Ft.y,pt,at-HALF_PI,_t)}}else{s.moveTo(j,$);const kt=Math.cos(_t)*rt+j,Bt=Math.sin(_t)*rt+$;s.lineTo(kt,Bt);const $t=Math.cos(Et)*rt+j,Gt=Math.sin(Et)*rt+$;s.lineTo($t,Gt)}s.closePath()}function drawArc(s,e,d,h,g){const{fullCircles:_,startAngle:j,circumference:$}=e;let et=e.endAngle;if(_){pathArc(s,e,d,h,et,g);for(let tt=0;tt<_;++tt)s.fill();isNaN($)||(et=j+($%TAU||TAU))}return pathArc(s,e,d,h,et,g),s.fill(),et}function drawBorder(s,e,d,h,g){const{fullCircles:_,startAngle:j,circumference:$,options:et}=e,{borderWidth:tt,borderJoinStyle:nt,borderDash:rt,borderDashOffset:it}=et,st=et.borderAlign==="inner";if(!tt)return;s.setLineDash(rt||[]),s.lineDashOffset=it,st?(s.lineWidth=tt*2,s.lineJoin=nt||"round"):(s.lineWidth=tt,s.lineJoin=nt||"bevel");let ot=e.endAngle;if(_){pathArc(s,e,d,h,ot,g);for(let lt=0;lt<_;++lt)s.stroke();isNaN($)||(ot=j+($%TAU||TAU))}st&&clipArc(s,e,ot),_||(pathArc(s,e,d,h,ot,g),s.stroke())}class ArcElement extends Element$1{constructor(d){super();lr(this,"circumference");lr(this,"endAngle");lr(this,"fullCircles");lr(this,"innerRadius");lr(this,"outerRadius");lr(this,"pixelMargin");lr(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,d&&Object.assign(this,d)}inRange(d,h,g){const _=this.getProps(["x","y"],g),{angle:j,distance:$}=getAngleFromPoint(_,{x:d,y:h}),{startAngle:et,endAngle:tt,innerRadius:nt,outerRadius:rt,circumference:it}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],g),st=(this.options.spacing+this.options.borderWidth)/2,ot=valueOrDefault(it,tt-et),lt=_angleBetween(j,et,tt)&&et!==tt,dt=ot>=TAU||lt,at=_isBetween($,nt+st,rt+st);return dt&&at}getCenterPoint(d){const{x:h,y:g,startAngle:_,endAngle:j,innerRadius:$,outerRadius:et}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],d),{offset:tt,spacing:nt}=this.options,rt=(_+j)/2,it=($+et+nt+tt)/2;return{x:h+Math.cos(rt)*it,y:g+Math.sin(rt)*it}}tooltipPosition(d){return this.getCenterPoint(d)}draw(d){const{options:h,circumference:g}=this,_=(h.offset||0)/4,j=(h.spacing||0)/2,$=h.circular;if(this.pixelMargin=h.borderAlign==="inner"?.33:0,this.fullCircles=g>TAU?Math.floor(g/TAU):0,g===0||this.innerRadius<0||this.outerRadius<0)return;d.save();const et=(this.startAngle+this.endAngle)/2;d.translate(Math.cos(et)*_,Math.sin(et)*_);const tt=1-Math.sin(Math.min(PI,g||0)),nt=_*tt;d.fillStyle=h.backgroundColor,d.strokeStyle=h.borderColor,drawArc(d,this,nt,j,$),drawBorder(d,this,nt,j,$),d.restore()}}lr(ArcElement,"id","arc"),lr(ArcElement,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),lr(ArcElement,"defaultRoutes",{backgroundColor:"backgroundColor"}),lr(ArcElement,"descriptors",{_scriptable:!0,_indexable:d=>d!=="borderDash"});function getBarBounds(s,e){const{x:d,y:h,base:g,width:_,height:j}=s.getProps(["x","y","base","width","height"],e);let $,et,tt,nt,rt;return s.horizontal?(rt=j/2,$=Math.min(d,g),et=Math.max(d,g),tt=h-rt,nt=h+rt):(rt=_/2,$=d-rt,et=d+rt,tt=Math.min(h,g),nt=Math.max(h,g)),{left:$,top:tt,right:et,bottom:nt}}function skipOrLimit(s,e,d,h){return s?0:_limitValue(e,d,h)}function parseBorderWidth(s,e,d){const h=s.options.borderWidth,g=s.borderSkipped,_=toTRBL(h);return{t:skipOrLimit(g.top,_.top,0,d),r:skipOrLimit(g.right,_.right,0,e),b:skipOrLimit(g.bottom,_.bottom,0,d),l:skipOrLimit(g.left,_.left,0,e)}}function parseBorderRadius(s,e,d){const{enableBorderRadius:h}=s.getProps(["enableBorderRadius"]),g=s.options.borderRadius,_=toTRBLCorners(g),j=Math.min(e,d),$=s.borderSkipped,et=h||isObject(g);return{topLeft:skipOrLimit(!et||$.top||$.left,_.topLeft,0,j),topRight:skipOrLimit(!et||$.top||$.right,_.topRight,0,j),bottomLeft:skipOrLimit(!et||$.bottom||$.left,_.bottomLeft,0,j),bottomRight:skipOrLimit(!et||$.bottom||$.right,_.bottomRight,0,j)}}function boundingRects(s){const e=getBarBounds(s),d=e.right-e.left,h=e.bottom-e.top,g=parseBorderWidth(s,d/2,h/2),_=parseBorderRadius(s,d/2,h/2);return{outer:{x:e.left,y:e.top,w:d,h,radius:_},inner:{x:e.left+g.l,y:e.top+g.t,w:d-g.l-g.r,h:h-g.t-g.b,radius:{topLeft:Math.max(0,_.topLeft-Math.max(g.t,g.l)),topRight:Math.max(0,_.topRight-Math.max(g.t,g.r)),bottomLeft:Math.max(0,_.bottomLeft-Math.max(g.b,g.l)),bottomRight:Math.max(0,_.bottomRight-Math.max(g.b,g.r))}}}}function inRange(s,e,d,h){const g=e===null,_=d===null,$=s&&!(g&&_)&&getBarBounds(s,h);return $&&(g||_isBetween(e,$.left,$.right))&&(_||_isBetween(d,$.top,$.bottom))}function hasRadius(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function addNormalRectPath(s,e){s.rect(e.x,e.y,e.w,e.h)}function inflateRect(s,e,d={}){const h=s.x!==d.x?-e:0,g=s.y!==d.y?-e:0,_=(s.x+s.w!==d.x+d.w?e:0)-h,j=(s.y+s.h!==d.y+d.h?e:0)-g;return{x:s.x+h,y:s.y+g,w:s.w+_,h:s.h+j,radius:s.radius}}class BarElement extends Element$1{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:d,options:{borderColor:h,backgroundColor:g}}=this,{inner:_,outer:j}=boundingRects(this),$=hasRadius(j.radius)?addRoundedRectPath:addNormalRectPath;e.save(),(j.w!==_.w||j.h!==_.h)&&(e.beginPath(),$(e,inflateRect(j,d,_)),e.clip(),$(e,inflateRect(_,-d,j)),e.fillStyle=h,e.fill("evenodd")),e.beginPath(),$(e,inflateRect(_,d)),e.fillStyle=g,e.fill(),e.restore()}inRange(e,d,h){return inRange(this,e,d,h)}inXRange(e,d){return inRange(this,e,null,d)}inYRange(e,d){return inRange(this,null,e,d)}getCenterPoint(e){const{x:d,y:h,base:g,horizontal:_}=this.getProps(["x","y","base","horizontal"],e);return{x:_?(d+g)/2:d,y:_?h:(h+g)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}lr(BarElement,"id","bar"),lr(BarElement,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),lr(BarElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const getBoxSize=(s,e)=>{let{boxHeight:d=e,boxWidth:h=e}=s;return s.usePointStyle&&(d=Math.min(d,e),h=s.pointStyleWidth||Math.min(h,e)),{boxWidth:h,boxHeight:d,itemHeight:Math.max(e,d)}},itemsEqual=(s,e)=>s!==null&&e!==null&&s.datasetIndex===e.datasetIndex&&s.index===e.index;class Legend extends Element$1{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,d,h){this.maxWidth=e,this.maxHeight=d,this._margins=h,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let d=callback(e.generateLabels,[this.chart],this)||[];e.filter&&(d=d.filter(h=>e.filter(h,this.chart.data))),e.sort&&(d=d.sort((h,g)=>e.sort(h,g,this.chart.data))),this.options.reverse&&d.reverse(),this.legendItems=d}fit(){const{options:e,ctx:d}=this;if(!e.display){this.width=this.height=0;return}const h=e.labels,g=toFont(h.font),_=g.size,j=this._computeTitleHeight(),{boxWidth:$,itemHeight:et}=getBoxSize(h,_);let tt,nt;d.font=g.string,this.isHorizontal()?(tt=this.maxWidth,nt=this._fitRows(j,_,$,et)+10):(nt=this.maxHeight,tt=this._fitCols(j,g,$,et)+10),this.width=Math.min(tt,e.maxWidth||this.maxWidth),this.height=Math.min(nt,e.maxHeight||this.maxHeight)}_fitRows(e,d,h,g){const{ctx:_,maxWidth:j,options:{labels:{padding:$}}}=this,et=this.legendHitBoxes=[],tt=this.lineWidths=[0],nt=g+$;let rt=e;_.textAlign="left",_.textBaseline="middle";let it=-1,st=-nt;return this.legendItems.forEach((ot,lt)=>{const dt=h+d/2+_.measureText(ot.text).width;(lt===0||tt[tt.length-1]+dt+2*$>j)&&(rt+=nt,tt[tt.length-(lt>0?0:1)]=0,st+=nt,it++),et[lt]={left:0,top:st,row:it,width:dt,height:g},tt[tt.length-1]+=dt+$}),rt}_fitCols(e,d,h,g){const{ctx:_,maxHeight:j,options:{labels:{padding:$}}}=this,et=this.legendHitBoxes=[],tt=this.columnSizes=[],nt=j-e;let rt=$,it=0,st=0,ot=0,lt=0;return this.legendItems.forEach((dt,at)=>{const{itemWidth:ut,itemHeight:pt}=calculateItemSize(h,d,_,dt,g);at>0&&st+pt+2*$>nt&&(rt+=it+$,tt.push({width:it,height:st}),ot+=it+$,lt++,it=st=0),et[at]={left:ot,top:st,col:lt,width:ut,height:pt},it=Math.max(it,ut),st+=pt+$}),rt+=it,tt.push({width:it,height:st}),rt}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:d,options:{align:h,labels:{padding:g},rtl:_}}=this,j=getRtlAdapter(_,this.left,this.width);if(this.isHorizontal()){let $=0,et=_alignStartEnd(h,this.left+g,this.right-this.lineWidths[$]);for(const tt of d)$!==tt.row&&($=tt.row,et=_alignStartEnd(h,this.left+g,this.right-this.lineWidths[$])),tt.top+=this.top+e+g,tt.left=j.leftForLtr(j.x(et),tt.width),et+=tt.width+g}else{let $=0,et=_alignStartEnd(h,this.top+e+g,this.bottom-this.columnSizes[$].height);for(const tt of d)tt.col!==$&&($=tt.col,et=_alignStartEnd(h,this.top+e+g,this.bottom-this.columnSizes[$].height)),tt.top=et,tt.left+=this.left+g,tt.left=j.leftForLtr(j.x(tt.left),tt.width),et+=tt.height+g}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;clipArea(e,this),this._draw(),unclipArea(e)}}_draw(){const{options:e,columnSizes:d,lineWidths:h,ctx:g}=this,{align:_,labels:j}=e,$=defaults.color,et=getRtlAdapter(e.rtl,this.left,this.width),tt=toFont(j.font),{padding:nt}=j,rt=tt.size,it=rt/2;let st;this.drawTitle(),g.textAlign=et.textAlign("left"),g.textBaseline="middle",g.lineWidth=.5,g.font=tt.string;const{boxWidth:ot,boxHeight:lt,itemHeight:dt}=getBoxSize(j,rt),at=function(yt,gt,ft){if(isNaN(ot)||ot<=0||isNaN(lt)||lt<0)return;g.save();const _t=valueOrDefault(ft.lineWidth,1);if(g.fillStyle=valueOrDefault(ft.fillStyle,$),g.lineCap=valueOrDefault(ft.lineCap,"butt"),g.lineDashOffset=valueOrDefault(ft.lineDashOffset,0),g.lineJoin=valueOrDefault(ft.lineJoin,"miter"),g.lineWidth=_t,g.strokeStyle=valueOrDefault(ft.strokeStyle,$),g.setLineDash(valueOrDefault(ft.lineDash,[])),j.usePointStyle){const Et={radius:lt*Math.SQRT2/2,pointStyle:ft.pointStyle,rotation:ft.rotation,borderWidth:_t},mt=et.xPlus(yt,ot/2),xt=gt+it;drawPointLegend(g,Et,mt,xt,j.pointStyleWidth&&ot)}else{const Et=gt+Math.max((rt-lt)/2,0),mt=et.leftForLtr(yt,ot),xt=toTRBLCorners(ft.borderRadius);g.beginPath(),Object.values(xt).some(St=>St!==0)?addRoundedRectPath(g,{x:mt,y:Et,w:ot,h:lt,radius:xt}):g.rect(mt,Et,ot,lt),g.fill(),_t!==0&&g.stroke()}g.restore()},ut=function(yt,gt,ft){renderText(g,ft.text,yt,gt+dt/2,tt,{strikethrough:ft.hidden,textAlign:et.textAlign(ft.textAlign)})},pt=this.isHorizontal(),vt=this._computeTitleHeight();pt?st={x:_alignStartEnd(_,this.left+nt,this.right-h[0]),y:this.top+nt+vt,line:0}:st={x:this.left+nt,y:_alignStartEnd(_,this.top+vt+nt,this.bottom-d[0].height),line:0},overrideTextDirection(this.ctx,e.textDirection);const ht=dt+nt;this.legendItems.forEach((yt,gt)=>{g.strokeStyle=yt.fontColor,g.fillStyle=yt.fontColor;const ft=g.measureText(yt.text).width,_t=et.textAlign(yt.textAlign||(yt.textAlign=j.textAlign)),Et=ot+it+ft;let mt=st.x,xt=st.y;et.setWidth(this.width),pt?gt>0&&mt+Et+nt>this.right&&(xt=st.y+=ht,st.line++,mt=st.x=_alignStartEnd(_,this.left+nt,this.right-h[st.line])):gt>0&&xt+ht>this.bottom&&(mt=st.x=mt+d[st.line].width+nt,st.line++,xt=st.y=_alignStartEnd(_,this.top+vt+nt,this.bottom-d[st.line].height));const St=et.x(mt);if(at(St,xt,yt),mt=_textX(_t,mt+ot+it,pt?mt+Et:this.right,e.rtl),ut(et.x(mt),xt,yt),pt)st.x+=Et+nt;else if(typeof yt.text!="string"){const Ut=tt.lineHeight;st.y+=calculateLegendItemHeight(yt,Ut)+nt}else st.y+=ht}),restoreTextDirection(this.ctx,e.textDirection)}drawTitle(){const e=this.options,d=e.title,h=toFont(d.font),g=toPadding(d.padding);if(!d.display)return;const _=getRtlAdapter(e.rtl,this.left,this.width),j=this.ctx,$=d.position,et=h.size/2,tt=g.top+et;let nt,rt=this.left,it=this.width;if(this.isHorizontal())it=Math.max(...this.lineWidths),nt=this.top+tt,rt=_alignStartEnd(e.align,rt,this.right-it);else{const ot=this.columnSizes.reduce((lt,dt)=>Math.max(lt,dt.height),0);nt=tt+_alignStartEnd(e.align,this.top,this.bottom-ot-e.labels.padding-this._computeTitleHeight())}const st=_alignStartEnd($,rt,rt+it);j.textAlign=_.textAlign(_toLeftRightCenter($)),j.textBaseline="middle",j.strokeStyle=d.color,j.fillStyle=d.color,j.font=h.string,renderText(j,d.text,st,nt,h)}_computeTitleHeight(){const e=this.options.title,d=toFont(e.font),h=toPadding(e.padding);return e.display?d.lineHeight+h.height:0}_getLegendItemAt(e,d){let h,g,_;if(_isBetween(e,this.left,this.right)&&_isBetween(d,this.top,this.bottom)){for(_=this.legendHitBoxes,h=0;h<_.length;++h)if(g=_[h],_isBetween(e,g.left,g.left+g.width)&&_isBetween(d,g.top,g.top+g.height))return this.legendItems[h]}return null}handleEvent(e){const d=this.options;if(!isListened(e.type,d))return;const h=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const g=this._hoveredItem,_=itemsEqual(g,h);g&&!_&&callback(d.onLeave,[e,g,this],this),this._hoveredItem=h,h&&!_&&callback(d.onHover,[e,h,this],this)}else h&&callback(d.onClick,[e,h,this],this)}}function calculateItemSize(s,e,d,h,g){const _=calculateItemWidth(h,s,e,d),j=calculateItemHeight(g,h,e.lineHeight);return{itemWidth:_,itemHeight:j}}function calculateItemWidth(s,e,d,h){let g=s.text;return g&&typeof g!="string"&&(g=g.reduce((_,j)=>_.length>j.length?_:j)),e+d.size/2+h.measureText(g).width}function calculateItemHeight(s,e,d){let h=s;return typeof e.text!="string"&&(h=calculateLegendItemHeight(e,d)),h}function calculateLegendItemHeight(s,e){const d=s.text?s.text.length:0;return e*d}function isListened(s,e){return!!((s==="mousemove"||s==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(s==="click"||s==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(s,e,d){const h=s.legend=new Legend({ctx:s.ctx,options:d,chart:s});layouts.configure(s,h,d),layouts.addBox(s,h)},stop(s){layouts.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,e,d){const h=s.legend;layouts.configure(s,h,d),h.options=d},afterUpdate(s){const e=s.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(s,e){e.replay||s.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,e,d){const h=e.datasetIndex,g=d.chart;g.isDatasetVisible(h)?(g.hide(h),e.hidden=!0):(g.show(h),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const e=s.data.datasets,{labels:{usePointStyle:d,pointStyle:h,textAlign:g,color:_,useBorderRadius:j,borderRadius:$}}=s.legend.options;return s._getSortedDatasetMetas().map(et=>{const tt=et.controller.getStyle(d?0:void 0),nt=toPadding(tt.borderWidth);return{text:e[et.index].label,fillStyle:tt.backgroundColor,fontColor:_,hidden:!et.visible,lineCap:tt.borderCapStyle,lineDash:tt.borderDash,lineDashOffset:tt.borderDashOffset,lineJoin:tt.borderJoinStyle,lineWidth:(nt.width+nt.height)/4,strokeStyle:tt.borderColor,pointStyle:h||tt.pointStyle,rotation:tt.rotation,textAlign:g||tt.textAlign,borderRadius:j&&($||tt.borderRadius),datasetIndex:et.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class Title extends Element$1{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,d){const h=this.options;if(this.left=0,this.top=0,!h.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=d;const g=isArray(h.text)?h.text.length:1;this._padding=toPadding(h.padding);const _=g*toFont(h.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=_:this.width=_}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:d,left:h,bottom:g,right:_,options:j}=this,$=j.align;let et=0,tt,nt,rt;return this.isHorizontal()?(nt=_alignStartEnd($,h,_),rt=d+e,tt=_-h):(j.position==="left"?(nt=h+e,rt=_alignStartEnd($,g,d),et=PI*-.5):(nt=_-e,rt=_alignStartEnd($,d,g),et=PI*.5),tt=g-d),{titleX:nt,titleY:rt,maxWidth:tt,rotation:et}}draw(){const e=this.ctx,d=this.options;if(!d.display)return;const h=toFont(d.font),_=h.lineHeight/2+this._padding.top,{titleX:j,titleY:$,maxWidth:et,rotation:tt}=this._drawArgs(_);renderText(e,d.text,0,0,h,{color:d.color,maxWidth:et,rotation:tt,textAlign:_toLeftRightCenter(d.align),textBaseline:"middle",translation:[j,$]})}}function createTitle(s,e){const d=new Title({ctx:s.ctx,options:e,chart:s});layouts.configure(s,d,e),layouts.addBox(s,d),s.titleBlock=d}var plugin_title={id:"title",_element:Title,start(s,e,d){createTitle(s,d)},stop(s){const e=s.titleBlock;layouts.removeBox(s,e),delete s.titleBlock},beforeUpdate(s,e,d){const h=s.titleBlock;layouts.configure(s,h,d),h.options=d},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(s){if(!s.length)return!1;let e,d,h=new Set,g=0,_=0;for(e=0,d=s.length;e<d;++e){const $=s[e].element;if($&&$.hasValue()){const et=$.tooltipPosition();h.add(et.x),g+=et.y,++_}}return _===0||h.size===0?!1:{x:[...h].reduce(($,et)=>$+et)/h.size,y:g/_}},nearest(s,e){if(!s.length)return!1;let d=e.x,h=e.y,g=Number.POSITIVE_INFINITY,_,j,$;for(_=0,j=s.length;_<j;++_){const et=s[_].element;if(et&&et.hasValue()){const tt=et.getCenterPoint(),nt=distanceBetweenPoints(e,tt);nt<g&&(g=nt,$=et)}}if($){const et=$.tooltipPosition();d=et.x,h=et.y}return{x:d,y:h}}};function pushOrConcat(s,e){return e&&(isArray(e)?Array.prototype.push.apply(s,e):s.push(e)),s}function splitNewlines(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function createTooltipItem(s,e){const{element:d,datasetIndex:h,index:g}=e,_=s.getDatasetMeta(h).controller,{label:j,value:$}=_.getLabelAndValue(g);return{chart:s,label:j,parsed:_.getParsed(g),raw:s.data.datasets[h].data[g],formattedValue:$,dataset:_.getDataset(),dataIndex:g,datasetIndex:h,element:d}}function getTooltipSize(s,e){const d=s.chart.ctx,{body:h,footer:g,title:_}=s,{boxWidth:j,boxHeight:$}=e,et=toFont(e.bodyFont),tt=toFont(e.titleFont),nt=toFont(e.footerFont),rt=_.length,it=g.length,st=h.length,ot=toPadding(e.padding);let lt=ot.height,dt=0,at=h.reduce((vt,ht)=>vt+ht.before.length+ht.lines.length+ht.after.length,0);if(at+=s.beforeBody.length+s.afterBody.length,rt&&(lt+=rt*tt.lineHeight+(rt-1)*e.titleSpacing+e.titleMarginBottom),at){const vt=e.displayColors?Math.max($,et.lineHeight):et.lineHeight;lt+=st*vt+(at-st)*et.lineHeight+(at-1)*e.bodySpacing}it&&(lt+=e.footerMarginTop+it*nt.lineHeight+(it-1)*e.footerSpacing);let ut=0;const pt=function(vt){dt=Math.max(dt,d.measureText(vt).width+ut)};return d.save(),d.font=tt.string,each(s.title,pt),d.font=et.string,each(s.beforeBody.concat(s.afterBody),pt),ut=e.displayColors?j+2+e.boxPadding:0,each(h,vt=>{each(vt.before,pt),each(vt.lines,pt),each(vt.after,pt)}),ut=0,d.font=nt.string,each(s.footer,pt),d.restore(),dt+=ot.width,{width:dt,height:lt}}function determineYAlign(s,e){const{y:d,height:h}=e;return d<h/2?"top":d>s.height-h/2?"bottom":"center"}function doesNotFitWithAlign(s,e,d,h){const{x:g,width:_}=h,j=d.caretSize+d.caretPadding;if(s==="left"&&g+_+j>e.width||s==="right"&&g-_-j<0)return!0}function determineXAlign(s,e,d,h){const{x:g,width:_}=d,{width:j,chartArea:{left:$,right:et}}=s;let tt="center";return h==="center"?tt=g<=($+et)/2?"left":"right":g<=_/2?tt="left":g>=j-_/2&&(tt="right"),doesNotFitWithAlign(tt,s,e,d)&&(tt="center"),tt}function determineAlignment(s,e,d){const h=d.yAlign||e.yAlign||determineYAlign(s,d);return{xAlign:d.xAlign||e.xAlign||determineXAlign(s,e,d,h),yAlign:h}}function alignX(s,e){let{x:d,width:h}=s;return e==="right"?d-=h:e==="center"&&(d-=h/2),d}function alignY(s,e,d){let{y:h,height:g}=s;return e==="top"?h+=d:e==="bottom"?h-=g+d:h-=g/2,h}function getBackgroundPoint(s,e,d,h){const{caretSize:g,caretPadding:_,cornerRadius:j}=s,{xAlign:$,yAlign:et}=d,tt=g+_,{topLeft:nt,topRight:rt,bottomLeft:it,bottomRight:st}=toTRBLCorners(j);let ot=alignX(e,$);const lt=alignY(e,et,tt);return et==="center"?$==="left"?ot+=tt:$==="right"&&(ot-=tt):$==="left"?ot-=Math.max(nt,it)+g:$==="right"&&(ot+=Math.max(rt,st)+g),{x:_limitValue(ot,0,h.width-e.width),y:_limitValue(lt,0,h.height-e.height)}}function getAlignedX(s,e,d){const h=toPadding(d.padding);return e==="center"?s.x+s.width/2:e==="right"?s.x+s.width-h.right:s.x+h.left}function getBeforeAfterBodyLines(s){return pushOrConcat([],splitNewlines(s))}function createTooltipContext(s,e,d){return createContext(s,{tooltip:e,tooltipItems:d,type:"tooltip"})}function overrideCallbacks(s,e){const d=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return d?s.override(d):s}const defaultCallbacks={beforeTitle:noop,title(s){if(s.length>0){const e=s[0],d=e.chart.data.labels,h=d?d.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(h>0&&e.dataIndex<h)return d[e.dataIndex]}return""},afterTitle:noop,beforeBody:noop,beforeLabel:noop,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let e=s.dataset.label||"";e&&(e+=": ");const d=s.formattedValue;return isNullOrUndef(d)||(e+=d),e},labelColor(s){const d=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:d.borderColor,backgroundColor:d.backgroundColor,borderWidth:d.borderWidth,borderDash:d.borderDash,borderDashOffset:d.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const d=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:d.pointStyle,rotation:d.rotation}},afterLabel:noop,afterBody:noop,beforeFooter:noop,footer:noop,afterFooter:noop};function invokeCallbackWithFallback(s,e,d,h){const g=s[e].call(d,h);return typeof g>"u"?defaultCallbacks[e].call(d,h):g}class Tooltip extends Element$1{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const d=this.chart,h=this.options.setContext(this.getContext()),g=h.enabled&&d.options.animation&&h.animations,_=new Animations(this.chart,g);return g._cacheable&&(this._cachedAnimations=Object.freeze(_)),_}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,d){const{callbacks:h}=d,g=invokeCallbackWithFallback(h,"beforeTitle",this,e),_=invokeCallbackWithFallback(h,"title",this,e),j=invokeCallbackWithFallback(h,"afterTitle",this,e);let $=[];return $=pushOrConcat($,splitNewlines(g)),$=pushOrConcat($,splitNewlines(_)),$=pushOrConcat($,splitNewlines(j)),$}getBeforeBody(e,d){return getBeforeAfterBodyLines(invokeCallbackWithFallback(d.callbacks,"beforeBody",this,e))}getBody(e,d){const{callbacks:h}=d,g=[];return each(e,_=>{const j={before:[],lines:[],after:[]},$=overrideCallbacks(h,_);pushOrConcat(j.before,splitNewlines(invokeCallbackWithFallback($,"beforeLabel",this,_))),pushOrConcat(j.lines,invokeCallbackWithFallback($,"label",this,_)),pushOrConcat(j.after,splitNewlines(invokeCallbackWithFallback($,"afterLabel",this,_))),g.push(j)}),g}getAfterBody(e,d){return getBeforeAfterBodyLines(invokeCallbackWithFallback(d.callbacks,"afterBody",this,e))}getFooter(e,d){const{callbacks:h}=d,g=invokeCallbackWithFallback(h,"beforeFooter",this,e),_=invokeCallbackWithFallback(h,"footer",this,e),j=invokeCallbackWithFallback(h,"afterFooter",this,e);let $=[];return $=pushOrConcat($,splitNewlines(g)),$=pushOrConcat($,splitNewlines(_)),$=pushOrConcat($,splitNewlines(j)),$}_createItems(e){const d=this._active,h=this.chart.data,g=[],_=[],j=[];let $=[],et,tt;for(et=0,tt=d.length;et<tt;++et)$.push(createTooltipItem(this.chart,d[et]));return e.filter&&($=$.filter((nt,rt,it)=>e.filter(nt,rt,it,h))),e.itemSort&&($=$.sort((nt,rt)=>e.itemSort(nt,rt,h))),each($,nt=>{const rt=overrideCallbacks(e.callbacks,nt);g.push(invokeCallbackWithFallback(rt,"labelColor",this,nt)),_.push(invokeCallbackWithFallback(rt,"labelPointStyle",this,nt)),j.push(invokeCallbackWithFallback(rt,"labelTextColor",this,nt))}),this.labelColors=g,this.labelPointStyles=_,this.labelTextColors=j,this.dataPoints=$,$}update(e,d){const h=this.options.setContext(this.getContext()),g=this._active;let _,j=[];if(!g.length)this.opacity!==0&&(_={opacity:0});else{const $=positioners[h.position].call(this,g,this._eventPosition);j=this._createItems(h),this.title=this.getTitle(j,h),this.beforeBody=this.getBeforeBody(j,h),this.body=this.getBody(j,h),this.afterBody=this.getAfterBody(j,h),this.footer=this.getFooter(j,h);const et=this._size=getTooltipSize(this,h),tt=Object.assign({},$,et),nt=determineAlignment(this.chart,h,tt),rt=getBackgroundPoint(h,tt,nt,this.chart);this.xAlign=nt.xAlign,this.yAlign=nt.yAlign,_={opacity:1,x:rt.x,y:rt.y,width:et.width,height:et.height,caretX:$.x,caretY:$.y}}this._tooltipItems=j,this.$context=void 0,_&&this._resolveAnimations().update(this,_),e&&h.external&&h.external.call(this,{chart:this.chart,tooltip:this,replay:d})}drawCaret(e,d,h,g){const _=this.getCaretPosition(e,h,g);d.lineTo(_.x1,_.y1),d.lineTo(_.x2,_.y2),d.lineTo(_.x3,_.y3)}getCaretPosition(e,d,h){const{xAlign:g,yAlign:_}=this,{caretSize:j,cornerRadius:$}=h,{topLeft:et,topRight:tt,bottomLeft:nt,bottomRight:rt}=toTRBLCorners($),{x:it,y:st}=e,{width:ot,height:lt}=d;let dt,at,ut,pt,vt,ht;return _==="center"?(vt=st+lt/2,g==="left"?(dt=it,at=dt-j,pt=vt+j,ht=vt-j):(dt=it+ot,at=dt+j,pt=vt-j,ht=vt+j),ut=dt):(g==="left"?at=it+Math.max(et,nt)+j:g==="right"?at=it+ot-Math.max(tt,rt)-j:at=this.caretX,_==="top"?(pt=st,vt=pt-j,dt=at-j,ut=at+j):(pt=st+lt,vt=pt+j,dt=at+j,ut=at-j),ht=pt),{x1:dt,x2:at,x3:ut,y1:pt,y2:vt,y3:ht}}drawTitle(e,d,h){const g=this.title,_=g.length;let j,$,et;if(_){const tt=getRtlAdapter(h.rtl,this.x,this.width);for(e.x=getAlignedX(this,h.titleAlign,h),d.textAlign=tt.textAlign(h.titleAlign),d.textBaseline="middle",j=toFont(h.titleFont),$=h.titleSpacing,d.fillStyle=h.titleColor,d.font=j.string,et=0;et<_;++et)d.fillText(g[et],tt.x(e.x),e.y+j.lineHeight/2),e.y+=j.lineHeight+$,et+1===_&&(e.y+=h.titleMarginBottom-$)}}_drawColorBox(e,d,h,g,_){const j=this.labelColors[h],$=this.labelPointStyles[h],{boxHeight:et,boxWidth:tt}=_,nt=toFont(_.bodyFont),rt=getAlignedX(this,"left",_),it=g.x(rt),st=et<nt.lineHeight?(nt.lineHeight-et)/2:0,ot=d.y+st;if(_.usePointStyle){const lt={radius:Math.min(tt,et)/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:1},dt=g.leftForLtr(it,tt)+tt/2,at=ot+et/2;e.strokeStyle=_.multiKeyBackground,e.fillStyle=_.multiKeyBackground,drawPoint(e,lt,dt,at),e.strokeStyle=j.borderColor,e.fillStyle=j.backgroundColor,drawPoint(e,lt,dt,at)}else{e.lineWidth=isObject(j.borderWidth)?Math.max(...Object.values(j.borderWidth)):j.borderWidth||1,e.strokeStyle=j.borderColor,e.setLineDash(j.borderDash||[]),e.lineDashOffset=j.borderDashOffset||0;const lt=g.leftForLtr(it,tt),dt=g.leftForLtr(g.xPlus(it,1),tt-2),at=toTRBLCorners(j.borderRadius);Object.values(at).some(ut=>ut!==0)?(e.beginPath(),e.fillStyle=_.multiKeyBackground,addRoundedRectPath(e,{x:lt,y:ot,w:tt,h:et,radius:at}),e.fill(),e.stroke(),e.fillStyle=j.backgroundColor,e.beginPath(),addRoundedRectPath(e,{x:dt,y:ot+1,w:tt-2,h:et-2,radius:at}),e.fill()):(e.fillStyle=_.multiKeyBackground,e.fillRect(lt,ot,tt,et),e.strokeRect(lt,ot,tt,et),e.fillStyle=j.backgroundColor,e.fillRect(dt,ot+1,tt-2,et-2))}e.fillStyle=this.labelTextColors[h]}drawBody(e,d,h){const{body:g}=this,{bodySpacing:_,bodyAlign:j,displayColors:$,boxHeight:et,boxWidth:tt,boxPadding:nt}=h,rt=toFont(h.bodyFont);let it=rt.lineHeight,st=0;const ot=getRtlAdapter(h.rtl,this.x,this.width),lt=function(ft){d.fillText(ft,ot.x(e.x+st),e.y+it/2),e.y+=it+_},dt=ot.textAlign(j);let at,ut,pt,vt,ht,yt,gt;for(d.textAlign=j,d.textBaseline="middle",d.font=rt.string,e.x=getAlignedX(this,dt,h),d.fillStyle=h.bodyColor,each(this.beforeBody,lt),st=$&&dt!=="right"?j==="center"?tt/2+nt:tt+2+nt:0,vt=0,yt=g.length;vt<yt;++vt){for(at=g[vt],ut=this.labelTextColors[vt],d.fillStyle=ut,each(at.before,lt),pt=at.lines,$&&pt.length&&(this._drawColorBox(d,e,vt,ot,h),it=Math.max(rt.lineHeight,et)),ht=0,gt=pt.length;ht<gt;++ht)lt(pt[ht]),it=rt.lineHeight;each(at.after,lt)}st=0,it=rt.lineHeight,each(this.afterBody,lt),e.y-=_}drawFooter(e,d,h){const g=this.footer,_=g.length;let j,$;if(_){const et=getRtlAdapter(h.rtl,this.x,this.width);for(e.x=getAlignedX(this,h.footerAlign,h),e.y+=h.footerMarginTop,d.textAlign=et.textAlign(h.footerAlign),d.textBaseline="middle",j=toFont(h.footerFont),d.fillStyle=h.footerColor,d.font=j.string,$=0;$<_;++$)d.fillText(g[$],et.x(e.x),e.y+j.lineHeight/2),e.y+=j.lineHeight+h.footerSpacing}}drawBackground(e,d,h,g){const{xAlign:_,yAlign:j}=this,{x:$,y:et}=e,{width:tt,height:nt}=h,{topLeft:rt,topRight:it,bottomLeft:st,bottomRight:ot}=toTRBLCorners(g.cornerRadius);d.fillStyle=g.backgroundColor,d.strokeStyle=g.borderColor,d.lineWidth=g.borderWidth,d.beginPath(),d.moveTo($+rt,et),j==="top"&&this.drawCaret(e,d,h,g),d.lineTo($+tt-it,et),d.quadraticCurveTo($+tt,et,$+tt,et+it),j==="center"&&_==="right"&&this.drawCaret(e,d,h,g),d.lineTo($+tt,et+nt-ot),d.quadraticCurveTo($+tt,et+nt,$+tt-ot,et+nt),j==="bottom"&&this.drawCaret(e,d,h,g),d.lineTo($+st,et+nt),d.quadraticCurveTo($,et+nt,$,et+nt-st),j==="center"&&_==="left"&&this.drawCaret(e,d,h,g),d.lineTo($,et+rt),d.quadraticCurveTo($,et,$+rt,et),d.closePath(),d.fill(),g.borderWidth>0&&d.stroke()}_updateAnimationTarget(e){const d=this.chart,h=this.$animations,g=h&&h.x,_=h&&h.y;if(g||_){const j=positioners[e.position].call(this,this._active,this._eventPosition);if(!j)return;const $=this._size=getTooltipSize(this,e),et=Object.assign({},j,this._size),tt=determineAlignment(d,e,et),nt=getBackgroundPoint(e,et,tt,d);(g._to!==nt.x||_._to!==nt.y)&&(this.xAlign=tt.xAlign,this.yAlign=tt.yAlign,this.width=$.width,this.height=$.height,this.caretX=j.x,this.caretY=j.y,this._resolveAnimations().update(this,nt))}}_willRender(){return!!this.opacity}draw(e){const d=this.options.setContext(this.getContext());let h=this.opacity;if(!h)return;this._updateAnimationTarget(d);const g={width:this.width,height:this.height},_={x:this.x,y:this.y};h=Math.abs(h)<.001?0:h;const j=toPadding(d.padding),$=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;d.enabled&&$&&(e.save(),e.globalAlpha=h,this.drawBackground(_,e,g,d),overrideTextDirection(e,d.textDirection),_.y+=j.top,this.drawTitle(_,e,d),this.drawBody(_,e,d),this.drawFooter(_,e,d),restoreTextDirection(e,d.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,d){const h=this._active,g=e.map(({datasetIndex:$,index:et})=>{const tt=this.chart.getDatasetMeta($);if(!tt)throw new Error("Cannot find a dataset at index "+$);return{datasetIndex:$,element:tt.data[et],index:et}}),_=!_elementsEqual(h,g),j=this._positionChanged(g,d);(_||j)&&(this._active=g,this._eventPosition=d,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,d,h=!0){if(d&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const g=this.options,_=this._active||[],j=this._getActiveElements(e,_,d,h),$=this._positionChanged(j,e),et=d||!_elementsEqual(j,_)||$;return et&&(this._active=j,(g.enabled||g.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,d))),et}_getActiveElements(e,d,h,g){const _=this.options;if(e.type==="mouseout")return[];if(!g)return d.filter($=>this.chart.data.datasets[$.datasetIndex]&&this.chart.getDatasetMeta($.datasetIndex).controller.getParsed($.index)!==void 0);const j=this.chart.getElementsAtEventForMode(e,_.mode,_,h);return _.reverse&&j.reverse(),j}_positionChanged(e,d){const{caretX:h,caretY:g,options:_}=this,j=positioners[_.position].call(this,e,d);return j!==!1&&(h!==j.x||g!==j.y)}}lr(Tooltip,"positioners",positioners);var plugin_tooltip={id:"tooltip",_element:Tooltip,positioners,afterInit(s,e,d){d&&(s.tooltip=new Tooltip({chart:s,options:d}))},beforeUpdate(s,e,d){s.tooltip&&s.tooltip.initialize(d)},reset(s,e,d){s.tooltip&&s.tooltip.initialize(d)},afterDraw(s){const e=s.tooltip;if(e&&e._willRender()){const d={tooltip:e};if(s.notifyPlugins("beforeTooltipDraw",{...d,cancelable:!0})===!1)return;e.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",d)}},afterEvent(s,e){if(s.tooltip){const d=e.replay;s.tooltip.handleEvent(e.event,d,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,e)=>e.bodyFont.size,boxWidth:(s,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const addIfString=(s,e,d,h)=>(typeof e=="string"?(d=s.push(e)-1,h.unshift({index:d,label:e})):isNaN(e)&&(d=null),d);function findOrAddLabel(s,e,d,h){const g=s.indexOf(e);if(g===-1)return addIfString(s,e,d,h);const _=s.lastIndexOf(e);return g!==_?d:g}const validIndex=(s,e)=>s===null?null:_limitValue(Math.round(s),0,e);function _getLabelForValue(s){const e=this.getLabels();return s>=0&&s<e.length?e[s]:s}class CategoryScale extends Scale{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const d=this._addedLabels;if(d.length){const h=this.getLabels();for(const{index:g,label:_}of d)h[g]===_&&h.splice(g,1);this._addedLabels=[]}super.init(e)}parse(e,d){if(isNullOrUndef(e))return null;const h=this.getLabels();return d=isFinite(d)&&h[d]===e?d:findOrAddLabel(h,e,valueOrDefault(d,e),this._addedLabels),validIndex(d,h.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:d}=this.getUserBounds();let{min:h,max:g}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(h=0),d||(g=this.getLabels().length-1)),this.min=h,this.max=g}buildTicks(){const e=this.min,d=this.max,h=this.options.offset,g=[];let _=this.getLabels();_=e===0&&d===_.length-1?_:_.slice(e,d+1),this._valueRange=Math.max(_.length-(h?0:1),1),this._startValue=this.min-(h?.5:0);for(let j=e;j<=d;j++)g.push({value:j});return g}getLabelForValue(e){return _getLabelForValue.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const d=this.ticks;return e<0||e>d.length-1?null:this.getPixelForValue(d[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}lr(CategoryScale,"id","category"),lr(CategoryScale,"defaults",{ticks:{callback:_getLabelForValue}});function generateTicks$1(s,e){const d=[],{bounds:g,step:_,min:j,max:$,precision:et,count:tt,maxTicks:nt,maxDigits:rt,includeBounds:it}=s,st=_||1,ot=nt-1,{min:lt,max:dt}=e,at=!isNullOrUndef(j),ut=!isNullOrUndef($),pt=!isNullOrUndef(tt),vt=(dt-lt)/(rt+1);let ht=niceNum((dt-lt)/ot/st)*st,yt,gt,ft,_t;if(ht<1e-14&&!at&&!ut)return[{value:lt},{value:dt}];_t=Math.ceil(dt/ht)-Math.floor(lt/ht),_t>ot&&(ht=niceNum(_t*ht/ot/st)*st),isNullOrUndef(et)||(yt=Math.pow(10,et),ht=Math.ceil(ht*yt)/yt),g==="ticks"?(gt=Math.floor(lt/ht)*ht,ft=Math.ceil(dt/ht)*ht):(gt=lt,ft=dt),at&&ut&&_&&almostWhole(($-j)/_,ht/1e3)?(_t=Math.round(Math.min(($-j)/ht,nt)),ht=($-j)/_t,gt=j,ft=$):pt?(gt=at?j:gt,ft=ut?$:ft,_t=tt-1,ht=(ft-gt)/_t):(_t=(ft-gt)/ht,almostEquals(_t,Math.round(_t),ht/1e3)?_t=Math.round(_t):_t=Math.ceil(_t));const Et=Math.max(_decimalPlaces(ht),_decimalPlaces(gt));yt=Math.pow(10,isNullOrUndef(et)?Et:et),gt=Math.round(gt*yt)/yt,ft=Math.round(ft*yt)/yt;let mt=0;for(at&&(it&&gt!==j?(d.push({value:j}),gt<j&&mt++,almostEquals(Math.round((gt+mt*ht)*yt)/yt,j,relativeLabelSize(j,vt,s))&&mt++):gt<j&&mt++);mt<_t;++mt){const xt=Math.round((gt+mt*ht)*yt)/yt;if(ut&&xt>$)break;d.push({value:xt})}return ut&&it&&ft!==$?d.length&&almostEquals(d[d.length-1].value,$,relativeLabelSize($,vt,s))?d[d.length-1].value=$:d.push({value:$}):(!ut||ft===$)&&d.push({value:ft}),d}function relativeLabelSize(s,e,{horizontal:d,minRotation:h}){const g=toRadians(h),_=(d?Math.sin(g):Math.cos(g))||.001,j=.75*e*(""+s).length;return Math.min(e/_,j)}class LinearScaleBase extends Scale{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,d){return isNullOrUndef(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:d,maxDefined:h}=this.getUserBounds();let{min:g,max:_}=this;const j=et=>g=d?g:et,$=et=>_=h?_:et;if(e){const et=sign(g),tt=sign(_);et<0&&tt<0?$(0):et>0&&tt>0&&j(0)}if(g===_){let et=_===0?1:Math.abs(_*.05);$(_+et),e||j(g-et)}this.min=g,this.max=_}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:d,stepSize:h}=e,g;return h?(g=Math.ceil(this.max/h)-Math.floor(this.min/h)+1,g>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${h} would result generating up to ${g} ticks. Limiting to 1000.`),g=1e3)):(g=this.computeTickLimit(),d=d||11),d&&(g=Math.min(d,g)),g}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,d=e.ticks;let h=this.getTickLimit();h=Math.max(2,h);const g={maxTicks:h,bounds:e.bounds,min:e.min,max:e.max,precision:d.precision,step:d.stepSize,count:d.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:d.minRotation||0,includeBounds:d.includeBounds!==!1},_=this._range||this,j=generateTicks$1(g,_);return e.bounds==="ticks"&&_setMinAndMaxByKey(j,this,"value"),e.reverse?(j.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),j}configure(){const e=this.ticks;let d=this.min,h=this.max;if(super.configure(),this.options.offset&&e.length){const g=(h-d)/Math.max(e.length-1,1)/2;d-=g,h+=g}this._startValue=d,this._endValue=h,this._valueRange=h-d}getLabelForValue(e){return formatNumber(e,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:e,max:d}=this.getMinMax(!0);this.min=isNumberFinite(e)?e:0,this.max=isNumberFinite(d)?d:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),d=e?this.width:this.height,h=toRadians(this.options.ticks.minRotation),g=(e?Math.sin(h):Math.cos(h))||.001,_=this._resolveTickFontOptions(0);return Math.ceil(d/Math.min(40,_.lineHeight/g))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}lr(LinearScale,"id","linear"),lr(LinearScale,"defaults",{ticks:{callback:Ticks.formatters.numeric}});const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(s,e){return s-e}function parse(s,e){if(isNullOrUndef(e))return null;const d=s._adapter,{parser:h,round:g,isoWeekday:_}=s._parseOpts;let j=e;return typeof h=="function"&&(j=h(j)),isNumberFinite(j)||(j=typeof h=="string"?d.parse(j,h):d.parse(j)),j===null?null:(g&&(j=g==="week"&&(isNumber(_)||_===!0)?d.startOf(j,"isoWeek",_):d.startOf(j,g)),+j)}function determineUnitForAutoTicks(s,e,d,h){const g=UNITS.length;for(let _=UNITS.indexOf(s);_<g-1;++_){const j=INTERVALS[UNITS[_]],$=j.steps?j.steps:Number.MAX_SAFE_INTEGER;if(j.common&&Math.ceil((d-e)/($*j.size))<=h)return UNITS[_]}return UNITS[g-1]}function determineUnitForFormatting(s,e,d,h,g){for(let _=UNITS.length-1;_>=UNITS.indexOf(d);_--){const j=UNITS[_];if(INTERVALS[j].common&&s._adapter.diff(g,h,j)>=e-1)return j}return UNITS[d?UNITS.indexOf(d):0]}function determineMajorUnit(s){for(let e=UNITS.indexOf(s)+1,d=UNITS.length;e<d;++e)if(INTERVALS[UNITS[e]].common)return UNITS[e]}function addTick(s,e,d){if(!d)s[e]=!0;else if(d.length){const{lo:h,hi:g}=_lookup(d,e),_=d[h]>=e?d[h]:d[g];s[_]=!0}}function setMajorTicks(s,e,d,h){const g=s._adapter,_=+g.startOf(e[0].value,h),j=e[e.length-1].value;let $,et;for($=_;$<=j;$=+g.add($,1,h))et=d[$],et>=0&&(e[et].major=!0);return e}function ticksFromTimestamps(s,e,d){const h=[],g={},_=e.length;let j,$;for(j=0;j<_;++j)$=e[j],g[$]=j,h.push({value:$,major:!1});return _===0||!d?h:setMajorTicks(s,h,g,d)}class TimeScale extends Scale{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,d={}){const h=e.time||(e.time={}),g=this._adapter=new adapters._date(e.adapters.date);g.init(d),mergeIf(h.displayFormats,g.formats()),this._parseOpts={parser:h.parser,round:h.round,isoWeekday:h.isoWeekday},super.init(e),this._normalized=d.normalized}parse(e,d){return e===void 0?null:parse(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,d=this._adapter,h=e.time.unit||"day";let{min:g,max:_,minDefined:j,maxDefined:$}=this.getUserBounds();function et(tt){!j&&!isNaN(tt.min)&&(g=Math.min(g,tt.min)),!$&&!isNaN(tt.max)&&(_=Math.max(_,tt.max))}(!j||!$)&&(et(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&et(this.getMinMax(!1))),g=isNumberFinite(g)&&!isNaN(g)?g:+d.startOf(Date.now(),h),_=isNumberFinite(_)&&!isNaN(_)?_:+d.endOf(Date.now(),h)+1,this.min=Math.min(g,_-1),this.max=Math.max(g+1,_)}_getLabelBounds(){const e=this.getLabelTimestamps();let d=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;return e.length&&(d=e[0],h=e[e.length-1]),{min:d,max:h}}buildTicks(){const e=this.options,d=e.time,h=e.ticks,g=h.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&g.length&&(this.min=this._userMin||g[0],this.max=this._userMax||g[g.length-1]);const _=this.min,j=this.max,$=_filterBetween(g,_,j);return this._unit=d.unit||(h.autoSkip?determineUnitForAutoTicks(d.minUnit,this.min,this.max,this._getLabelCapacity(_)):determineUnitForFormatting(this,$.length,d.minUnit,this.min,this.max)),this._majorUnit=!h.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(g),e.reverse&&$.reverse(),ticksFromTimestamps(this,$,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let d=0,h=0,g,_;this.options.offset&&e.length&&(g=this.getDecimalForValue(e[0]),e.length===1?d=1-g:d=(this.getDecimalForValue(e[1])-g)/2,_=this.getDecimalForValue(e[e.length-1]),e.length===1?h=_:h=(_-this.getDecimalForValue(e[e.length-2]))/2);const j=e.length<3?.5:.25;d=_limitValue(d,0,j),h=_limitValue(h,0,j),this._offsets={start:d,end:h,factor:1/(d+1+h)}}_generate(){const e=this._adapter,d=this.min,h=this.max,g=this.options,_=g.time,j=_.unit||determineUnitForAutoTicks(_.minUnit,d,h,this._getLabelCapacity(d)),$=valueOrDefault(g.ticks.stepSize,1),et=j==="week"?_.isoWeekday:!1,tt=isNumber(et)||et===!0,nt={};let rt=d,it,st;if(tt&&(rt=+e.startOf(rt,"isoWeek",et)),rt=+e.startOf(rt,tt?"day":j),e.diff(h,d,j)>1e5*$)throw new Error(d+" and "+h+" are too far apart with stepSize of "+$+" "+j);const ot=g.ticks.source==="data"&&this.getDataTimestamps();for(it=rt,st=0;it<h;it=+e.add(it,$,j),st++)addTick(nt,it,ot);return(it===h||g.bounds==="ticks"||st===1)&&addTick(nt,it,ot),Object.keys(nt).sort(sorter).map(lt=>+lt)}getLabelForValue(e){const d=this._adapter,h=this.options.time;return h.tooltipFormat?d.format(e,h.tooltipFormat):d.format(e,h.displayFormats.datetime)}format(e,d){const g=this.options.time.displayFormats,_=this._unit,j=d||g[_];return this._adapter.format(e,j)}_tickFormatFunction(e,d,h,g){const _=this.options,j=_.ticks.callback;if(j)return callback(j,[e,d,h],this);const $=_.time.displayFormats,et=this._unit,tt=this._majorUnit,nt=et&&$[et],rt=tt&&$[tt],it=h[d],st=tt&&rt&&it&&it.major;return this._adapter.format(e,g||(st?rt:nt))}generateTickLabels(e){let d,h,g;for(d=0,h=e.length;d<h;++d)g=e[d],g.label=this._tickFormatFunction(g.value,d,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const d=this._offsets,h=this.getDecimalForValue(e);return this.getPixelForDecimal((d.start+h)*d.factor)}getValueForPixel(e){const d=this._offsets,h=this.getDecimalForPixel(e)/d.factor-d.end;return this.min+h*(this.max-this.min)}_getLabelSize(e){const d=this.options.ticks,h=this.ctx.measureText(e).width,g=toRadians(this.isHorizontal()?d.maxRotation:d.minRotation),_=Math.cos(g),j=Math.sin(g),$=this._resolveTickFontOptions(0).size;return{w:h*_+$*j,h:h*j+$*_}}_getLabelCapacity(e){const d=this.options.time,h=d.displayFormats,g=h[d.unit]||h.millisecond,_=this._tickFormatFunction(e,0,ticksFromTimestamps(this,[e],this._majorUnit),g),j=this._getLabelSize(_),$=Math.floor(this.isHorizontal()?this.width/j.w:this.height/j.h)-1;return $>0?$:1}getDataTimestamps(){let e=this._cache.data||[],d,h;if(e.length)return e;const g=this.getMatchingVisibleMetas();if(this._normalized&&g.length)return this._cache.data=g[0].controller.getAllParsedValues(this);for(d=0,h=g.length;d<h;++d)e=e.concat(g[d].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let d,h;if(e.length)return e;const g=this.getLabels();for(d=0,h=g.length;d<h;++d)e.push(parse(this,g[d]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _arrayUnique(e.sort(sorter))}}lr(TimeScale,"id","time"),lr(TimeScale,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function interpolate(s,e,d){let h=0,g=s.length-1,_,j,$,et;d?(e>=s[h].pos&&e<=s[g].pos&&({lo:h,hi:g}=_lookupByKey(s,"pos",e)),{pos:_,time:$}=s[h],{pos:j,time:et}=s[g]):(e>=s[h].time&&e<=s[g].time&&({lo:h,hi:g}=_lookupByKey(s,"time",e)),{time:_,pos:$}=s[h],{time:j,pos:et}=s[g]);const tt=j-_;return tt?$+(et-$)*(e-_)/tt:$}class TimeSeriesScale extends TimeScale{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),d=this._table=this.buildLookupTable(e);this._minPos=interpolate(d,this.min),this._tableRange=interpolate(d,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:d,max:h}=this,g=[],_=[];let j,$,et,tt,nt;for(j=0,$=e.length;j<$;++j)tt=e[j],tt>=d&&tt<=h&&g.push(tt);if(g.length<2)return[{time:d,pos:0},{time:h,pos:1}];for(j=0,$=g.length;j<$;++j)nt=g[j+1],et=g[j-1],tt=g[j],Math.round((nt+et)/2)!==tt&&_.push({time:tt,pos:j/($-1)});return _}_generate(){const e=this.min,d=this.max;let h=super.getDataTimestamps();return(!h.includes(e)||!h.length)&&h.splice(0,0,e),(!h.includes(d)||h.length===1)&&h.push(d),h.sort((g,_)=>g-_)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const d=this.getDataTimestamps(),h=this.getLabelTimestamps();return d.length&&h.length?e=this.normalize(d.concat(h)):e=d.length?d:h,e=this._cache.all=e,e}getDecimalForValue(e){return(interpolate(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const d=this._offsets,h=this.getDecimalForPixel(e)/d.factor-d.end;return interpolate(this._table,h*this._tableRange+this._minPos,!0)}}lr(TimeSeriesScale,"id","timeseries"),lr(TimeSeriesScale,"defaults",TimeScale.defaults);const defaultDatasetIdKey="label";function reforwardRef(s,e){typeof s=="function"?s(e):s&&(s.current=e)}function setOptions(s,e){const d=s.options;d&&e&&Object.assign(d,e)}function setLabels(s,e){s.labels=e}function setDatasets(s,e){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:defaultDatasetIdKey;const h=[];s.datasets=e.map(g=>{const _=s.datasets.find(j=>j[d]===g[d]);return!_||!g.data||h.includes(_)?{...g}:(h.push(_),Object.assign(_,g),_)})}function cloneData(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultDatasetIdKey;const d={labels:[],datasets:[]};return setLabels(d,s.labels),setDatasets(d,s.datasets,e),d}function ChartComponent(s,e){const{height:d=150,width:h=300,redraw:g=!1,datasetIdKey:_,type:j,data:$,options:et,plugins:tt=[],fallbackContent:nt,updateMode:rt,...it}=s,st=reactExports.useRef(null),ot=reactExports.useRef(),lt=()=>{st.current&&(ot.current=new Chart$1(st.current,{type:j,data:cloneData($,_),options:et&&{...et},plugins:tt}),reforwardRef(e,ot.current))},dt=()=>{reforwardRef(e,null),ot.current&&(ot.current.destroy(),ot.current=null)};return reactExports.useEffect(()=>{!g&&ot.current&&et&&setOptions(ot.current,et)},[g,et]),reactExports.useEffect(()=>{!g&&ot.current&&setLabels(ot.current.config.data,$.labels)},[g,$.labels]),reactExports.useEffect(()=>{!g&&ot.current&&$.datasets&&setDatasets(ot.current.config.data,$.datasets,_)},[g,$.datasets]),reactExports.useEffect(()=>{ot.current&&(g?(dt(),setTimeout(lt)):ot.current.update(rt))},[g,et,$.labels,$.datasets,rt]),reactExports.useEffect(()=>{ot.current&&(dt(),setTimeout(lt))},[j]),reactExports.useEffect(()=>(lt(),()=>dt()),[]),React.createElement("canvas",Object.assign({ref:st,role:"img",height:d,width:h},it),nt)}const Chart=reactExports.forwardRef(ChartComponent);function createTypedChart(s,e){return Chart$1.register(e),reactExports.forwardRef((d,h)=>React.createElement(Chart,Object.assign({},d,{ref:h,type:s})))}const Bar=createTypedChart("bar",BarController),Doughnut=createTypedChart("doughnut",DoughnutController);Chart$1.register(CategoryScale,LinearScale,BarElement,DoughnutController,plugin_title,plugin_tooltip,plugin_legend,ArcElement);const Graficas=()=>{const[s,e]=reactExports.useState([]),[d,h]=reactExports.useState([]),[g,_]=reactExports.useState({});reactExports.useEffect(()=>{j(),$(),et()},[]);const j=()=>{onSnapshot(collection(db,"Cursos"),st=>{const ot=st.docs.map(lt=>{const dt=lt.data(),at=new Date(dt.fechaInicio),ut=new Date(dt.fechaFin),pt=Math.floor((ut-at)/(1e3*60*60*24));return{...dt,duracion:pt}});e(ot)})},$=()=>{onSnapshot(collection(db,"Reportes"),st=>{const ot=st.docs.map(lt=>lt.data());h(ot)})},et=()=>{onSnapshot(collection(db,"Listas"),st=>{const ot={};st.docs.forEach(lt=>{const at=lt.data().cursoId;ot[at]?ot[at]+=1:ot[at]=1}),_(ot)})},tt=st=>{const ot=d.filter(dt=>dt.cursoId===st),lt=ot.reduce((dt,at)=>dt+(at.calificacion||0),0);return ot.length>0?lt/ot.length:0},nt={labels:s.map(st=>st.cursoNombre),datasets:[{label:"Duración en días",data:s.map(st=>st.duracion||0),backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},rt={labels:s.map(st=>st.cursoNombre),datasets:[{label:"Participación",data:s.map(st=>g[st.id]||0),backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 159, 64, 0.6)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},it={labels:s.map(st=>st.cursoNombre),datasets:[{label:"Calificación Promedio",data:s.map(st=>tt(st.id)),backgroundColor:"rgba(153, 102, 255, 0.6)",borderColor:"rgba(153, 102, 255, 1)",borderWidth:1}]};return jsxRuntimeExports.jsxs("div",{className:"graficas-container",children:[jsxRuntimeExports.jsx("h2",{children:"Gráficas de Cursos"}),jsxRuntimeExports.jsxs("div",{className:"chart-section",children:[jsxRuntimeExports.jsxs("div",{className:"chart-container",children:[jsxRuntimeExports.jsx("h3",{children:"Duración de los Cursos"}),jsxRuntimeExports.jsx(Bar,{data:nt,options:{indexAxis:"y"}})]}),jsxRuntimeExports.jsxs("div",{className:"chart-container",children:[jsxRuntimeExports.jsx("h3",{children:"Participación por Curso"}),jsxRuntimeExports.jsx(Doughnut,{data:rt})]}),jsxRuntimeExports.jsxs("div",{className:"chart-container",children:[jsxRuntimeExports.jsx("h3",{children:"Calificación Promedio"}),jsxRuntimeExports.jsx(Bar,{data:it})]})]})]})};function Cuentas(){const[s,e]=reactExports.useState([]),[d,h]=reactExports.useState(""),[g,_]=reactExports.useState(null),[j,$]=reactExports.useState(!1),[et,tt]=reactExports.useState(null),[nt,rt]=reactExports.useState(!1),[it,st]=reactExports.useState(!0),[ot,lt]=reactExports.useState(""),[dt,at]=reactExports.useState(""),[ut,pt]=reactExports.useState(""),[vt,ht]=reactExports.useState(""),[yt,gt]=reactExports.useState(""),ft=async()=>{try{const Bt=(await getDocs(collection(db,"Usuarios"))).docs.map($t=>({id:$t.id,...$t.data()}));e(Bt)}catch(kt){console.error("Error al cargar los usuarios:",kt)}};reactExports.useEffect(()=>{nt&&ft()},[nt]);const _t=()=>{ot==="admin"&&dt==="admin123"?(rt(!0),st(!1)):alert("Credenciales incorrectas. Inténtalo nuevamente.")},Et=kt=>{_(kt),pt(kt.name||""),ht(kt.email||""),gt(kt.password||"")},mt=async()=>{if(g)try{await updateDoc(doc(db,"Usuarios",g.id),{name:ut,email:vt,password:yt}),ft(),_(null)}catch(kt){console.error("Error al guardar los cambios:",kt)}},xt=async()=>{if(ut&&vt&&yt)try{const kt=doc(db,"Usuarios",vt);if((await getDocs(kt)).exists()){alert("El correo ya está en uso. Usa otro.");return}await setDoc(kt,{name:ut,email:vt,password:yt}),ft(),$(!1),pt(""),ht(""),gt("")}catch(kt){console.error("Error al crear el usuario:",kt),alert("Error al crear el usuario.")}else alert("Por favor completa todos los campos.")},St=async kt=>{if(window.confirm("¿Estás seguro de que deseas eliminar este Usuario?"))try{await deleteDoc(doc(db,"Usuarios",kt)),ft()}catch($t){console.error("Error al eliminar el Usuario:",$t)}},Ut=s.filter(kt=>{var Bt;return(Bt=kt.name)==null?void 0:Bt.toLowerCase().includes(d.toLowerCase())});return jsxRuntimeExports.jsx("div",{className:"courses-container",children:it&&!nt?jsxRuntimeExports.jsx("div",{className:"login-overlay",children:jsxRuntimeExports.jsxs("div",{className:"login-box",children:[jsxRuntimeExports.jsx("h2",{children:"Para acceder necesitas cuenta administrativa"}),jsxRuntimeExports.jsxs("div",{className:"login-form",children:[jsxRuntimeExports.jsxs("div",{className:"form-field",children:[jsxRuntimeExports.jsx("label",{htmlFor:"username",children:"Usuario"}),jsxRuntimeExports.jsx("input",{type:"text",id:"username",value:ot,onChange:kt=>lt(kt.target.value),className:"login-input",placeholder:"Ingresa tu usuario"})]}),jsxRuntimeExports.jsxs("div",{className:"form-field",children:[jsxRuntimeExports.jsx("label",{htmlFor:"password",children:"Contraseña"}),jsxRuntimeExports.jsx("input",{type:"password",id:"password",value:dt,onChange:kt=>at(kt.target.value),className:"login-input",placeholder:"Ingresa tu contraseña"})]}),jsxRuntimeExports.jsx("div",{className:"login-btn-container",children:jsxRuntimeExports.jsx("button",{onClick:_t,className:"login-button",children:"Iniciar sesión"})})]})]})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"courses-left",children:[jsxRuntimeExports.jsxs("div",{className:"header-container",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Buscar usuario...",value:d,onChange:kt=>h(kt.target.value),className:"search-input"}),jsxRuntimeExports.jsxs("button",{onClick:()=>$(!0),className:"add-course-button",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faPlus})," Agregar Usuario"]})]}),jsxRuntimeExports.jsx("div",{className:"courses-section",children:Ut.map(kt=>jsxRuntimeExports.jsxs("div",{className:"course-card",children:[jsxRuntimeExports.jsx("h3",{children:kt.name}),jsxRuntimeExports.jsx("p",{children:kt.email}),jsxRuntimeExports.jsxs("div",{className:"course-actions",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>tt(kt),children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faEye})," Ver"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Et(kt),children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faEdit})," Editar"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>St(kt.id),children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faTrash})," Eliminar"]})]})]},kt.id))})]}),g&&jsxRuntimeExports.jsx("div",{className:"overlay",children:jsxRuntimeExports.jsxs("div",{className:"modal",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faTimesCircle,className:"close-icon",onClick:()=>_(null)}),jsxRuntimeExports.jsx("h2",{children:"Editar Usuario"}),jsxRuntimeExports.jsx("input",{type:"text",value:ut,onChange:kt=>pt(kt.target.value),placeholder:"Nombre"}),jsxRuntimeExports.jsx("input",{type:"email",value:vt,onChange:kt=>ht(kt.target.value),placeholder:"Correo"}),jsxRuntimeExports.jsx("input",{type:"password",value:yt,onChange:kt=>gt(kt.target.value),placeholder:"Contraseña"}),jsxRuntimeExports.jsx("div",{className:"modal-buttons",children:jsxRuntimeExports.jsx("button",{onClick:mt,children:"Guardar Cambios"})})]})}),j&&jsxRuntimeExports.jsx("div",{className:"overlay",children:jsxRuntimeExports.jsxs("div",{className:"modal",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faTimesCircle,className:"close-icon",onClick:()=>$(!1)}),jsxRuntimeExports.jsx("h2",{children:"Crear Usuario"}),jsxRuntimeExports.jsx("input",{type:"text",value:ut,onChange:kt=>pt(kt.target.value),placeholder:"Nombre"}),jsxRuntimeExports.jsx("input",{type:"email",value:vt,onChange:kt=>ht(kt.target.value),placeholder:"Correo"}),jsxRuntimeExports.jsx("input",{type:"password",value:yt,onChange:kt=>gt(kt.target.value),placeholder:"Contraseña"}),jsxRuntimeExports.jsx("div",{className:"modal-buttons",children:jsxRuntimeExports.jsx("button",{onClick:xt,children:"Guardar Usuario"})})]})}),et&&jsxRuntimeExports.jsx("div",{className:"overlay",children:jsxRuntimeExports.jsxs("div",{className:"modal",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faTimesCircle,className:"close-icon",onClick:()=>tt(null)}),jsxRuntimeExports.jsx("h2",{children:"Detalles del Usuario"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Nombre:"})," ",et.name]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Email:"})," ",et.email]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Contraseña:"})," ",et.password]})]})})]})})}function HomePage(){const[s,e]=reactExports.useState(""),[d,h]=reactExports.useState(null);reactExports.useEffect(()=>{const j=localStorage.getItem("Cuentas");j&&h(JSON.parse(j))},[]);const g=j=>{e(j)},_=()=>{window.confirm("¿Estás seguro de que deseas cerrar sesión?")&&(localStorage.removeItem("user"),window.location.href="/")};return jsxRuntimeExports.jsxs("div",{className:"container",children:[jsxRuntimeExports.jsxs("aside",{className:"barra-lateral",children:[jsxRuntimeExports.jsxs("div",{className:"usuario",children:[jsxRuntimeExports.jsx("img",{src:"https://7touchgroup.com/wp-content/uploads/2021/10/conocias-las-caracteristicas-de-un-empresario-exitoso.png",alt:"Avatar de Usuario"}),jsxRuntimeExports.jsx("div",{className:"info-usuario",children:jsxRuntimeExports.jsxs("div",{className:"nombre-email",children:[jsxRuntimeExports.jsx("span",{className:"nombre",children:d?d.name:"Administrador"}),jsxRuntimeExports.jsx("span",{className:"email",children:d?d.email:"admin@gmail.com"})]})})]}),jsxRuntimeExports.jsx("nav",{className:"navegacion",children:jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{onClick:()=>g("Cursos"),children:jsxRuntimeExports.jsxs(Link,{to:"#",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faBook}),jsxRuntimeExports.jsx("span",{children:"Cursos"})]})}),jsxRuntimeExports.jsx("li",{onClick:()=>g("Listas"),children:jsxRuntimeExports.jsxs(Link,{to:"#",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faList}),jsxRuntimeExports.jsx("span",{children:"Listas"})]})}),jsxRuntimeExports.jsx("li",{onClick:()=>g("Asistencias"),children:jsxRuntimeExports.jsxs(Link,{to:"#",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faCheckSquare}),jsxRuntimeExports.jsx("span",{children:"Asistencias"})," "]})}),jsxRuntimeExports.jsx("li",{onClick:()=>g("Personal"),children:jsxRuntimeExports.jsxs(Link,{to:"#",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faCheckSquare}),jsxRuntimeExports.jsx("span",{children:"Personal"})," "]})}),jsxRuntimeExports.jsx("li",{onClick:()=>g("Graficas"),children:jsxRuntimeExports.jsxs(Link,{to:"#",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faChartBar}),jsxRuntimeExports.jsx("span",{children:"Gráficas"})]})}),jsxRuntimeExports.jsx("li",{onClick:()=>g("Reportes"),children:jsxRuntimeExports.jsxs(Link,{to:"#",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faFileAlt}),jsxRuntimeExports.jsx("span",{children:"Reportes"})]})}),jsxRuntimeExports.jsx("li",{onClick:()=>g("Constancias"),children:jsxRuntimeExports.jsxs(Link,{to:"#",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faFileContract}),jsxRuntimeExports.jsx("span",{children:"Constancias"})]})})]})}),jsxRuntimeExports.jsx("div",{className:"linea-settings"}),jsxRuntimeExports.jsx("div",{className:"settings",children:jsxRuntimeExports.jsx("ul",{children:jsxRuntimeExports.jsx("li",{onClick:()=>g("Cuentas"),children:jsxRuntimeExports.jsxs(Link,{to:"#",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faUser}),jsxRuntimeExports.jsx("span",{children:"Cuentas"})]})})})}),jsxRuntimeExports.jsx("div",{className:"settings",children:jsxRuntimeExports.jsxs(Link,{to:"#",onClick:_,children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faSignOutAlt}),jsxRuntimeExports.jsx("span",{children:"Cerrar Sesión"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"content-wrapper",children:[jsxRuntimeExports.jsx("div",{className:"banner",children:jsxRuntimeExports.jsx("h1",{className:"titulo-banner",children:s||"Inicio"})}),jsxRuntimeExports.jsx("main",{className:"main-content",children:jsxRuntimeExports.jsxs("div",{className:"content",children:[s==="Cursos"&&jsxRuntimeExports.jsx(Courses,{}),s==="Listas"&&jsxRuntimeExports.jsx(Lists,{}),s==="Asistencias"&&jsxRuntimeExports.jsx(Asistencia,{})," ",s==="Personal"&&jsxRuntimeExports.jsx(Asistencias,{})," ",s==="Graficas"&&jsxRuntimeExports.jsx(Graficas,{}),s==="Reportes"&&jsxRuntimeExports.jsx(Reportes,{}),s==="Constancias"&&jsxRuntimeExports.jsx(Constancias,{}),s==="Cuentas"&&jsxRuntimeExports.jsx(Cuentas,{})]})})]})]})}function App(){return jsxRuntimeExports.jsxs(BrowserRouter,{basename:"/Proyectointegrador",children:[" ",jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Login,{})})," ",jsxRuntimeExports.jsx(Route,{path:"/home",element:jsxRuntimeExports.jsx(HomePage,{})})," ",jsxRuntimeExports.jsx(Route,{path:"/cursos",element:jsxRuntimeExports.jsx(Courses,{})})," ",jsxRuntimeExports.jsx(Route,{path:"/cuentas",element:jsxRuntimeExports.jsx(Cuentas,{})})," "]})]})}createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
